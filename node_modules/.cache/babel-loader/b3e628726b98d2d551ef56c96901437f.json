{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.default = void 0;\n\nvar _constants = require('../constants');\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nclass Prompt {\n  constructor() {\n    _defineProperty(this, '_entering', void 0);\n\n    _defineProperty(this, '_value', void 0);\n\n    _defineProperty(this, '_onChange', void 0);\n\n    _defineProperty(this, '_onSuccess', void 0);\n\n    _defineProperty(this, '_onCancel', void 0);\n\n    _defineProperty(this, '_offset', void 0);\n\n    _defineProperty(this, '_promptLength', void 0);\n\n    _defineProperty(this, '_selection', void 0);\n\n    _defineProperty(this, '_onResize', () => {\n      this._onChange();\n    }); // Copied from `enter` to satisfy TS\n\n\n    this._entering = true;\n    this._value = '';\n    this._selection = null;\n    this._offset = -1;\n    this._promptLength = 0;\n\n    this._onChange = () => {};\n\n    this._onSuccess = () => {};\n\n    this._onCancel = () => {};\n  }\n\n  enter(onChange, onSuccess, onCancel) {\n    this._entering = true;\n    this._value = '';\n    this._onSuccess = onSuccess;\n    this._onCancel = onCancel;\n    this._selection = null;\n    this._offset = -1;\n    this._promptLength = 0;\n\n    this._onChange = () => onChange(this._value, {\n      max: 10,\n      offset: this._offset\n    });\n\n    this._onChange();\n\n    process.stdout.on('resize', this._onResize);\n  }\n\n  setPromptLength(length) {\n    this._promptLength = length;\n  }\n\n  setPromptSelection(selected) {\n    this._selection = selected;\n  }\n\n  put(key) {\n    switch (key) {\n      case _constants.KEYS.ENTER:\n        this._entering = false;\n\n        this._onSuccess(this._selection || this._value);\n\n        this.abort();\n        break;\n\n      case _constants.KEYS.ESCAPE:\n        this._entering = false;\n\n        this._onCancel(this._value);\n\n        this.abort();\n        break;\n\n      case _constants.KEYS.ARROW_DOWN:\n        this._offset = Math.min(this._offset + 1, this._promptLength - 1);\n\n        this._onChange();\n\n        break;\n\n      case _constants.KEYS.ARROW_UP:\n        this._offset = Math.max(this._offset - 1, -1);\n\n        this._onChange();\n\n        break;\n\n      case _constants.KEYS.ARROW_LEFT:\n      case _constants.KEYS.ARROW_RIGHT:\n        break;\n\n      default:\n        this._value = key === _constants.KEYS.BACKSPACE ? this._value.slice(0, -1) : this._value + key;\n        this._offset = -1;\n        this._selection = null;\n\n        this._onChange();\n\n        break;\n    }\n  }\n\n  abort() {\n    this._entering = false;\n    this._value = '';\n    process.stdout.removeListener('resize', this._onResize);\n  }\n\n  isEntering() {\n    return this._entering;\n  }\n\n}\n\nexports.default = Prompt;","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/jest-watcher/build/lib/Prompt.js"],"names":["Object","defineProperty","exports","value","default","_constants","require","_defineProperty","obj","key","enumerable","configurable","writable","Prompt","constructor","_onChange","_entering","_value","_selection","_offset","_promptLength","_onSuccess","_onCancel","enter","onChange","onSuccess","onCancel","max","offset","process","stdout","on","_onResize","setPromptLength","length","setPromptSelection","selected","put","KEYS","ENTER","abort","ESCAPE","ARROW_DOWN","Math","min","ARROW_UP","ARROW_LEFT","ARROW_RIGHT","BACKSPACE","slice","removeListener","isEntering"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.default = void 0;\n\nvar _constants = require('../constants');\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nclass Prompt {\n  constructor() {\n    _defineProperty(this, '_entering', void 0);\n\n    _defineProperty(this, '_value', void 0);\n\n    _defineProperty(this, '_onChange', void 0);\n\n    _defineProperty(this, '_onSuccess', void 0);\n\n    _defineProperty(this, '_onCancel', void 0);\n\n    _defineProperty(this, '_offset', void 0);\n\n    _defineProperty(this, '_promptLength', void 0);\n\n    _defineProperty(this, '_selection', void 0);\n\n    _defineProperty(this, '_onResize', () => {\n      this._onChange();\n    });\n\n    // Copied from `enter` to satisfy TS\n    this._entering = true;\n    this._value = '';\n    this._selection = null;\n    this._offset = -1;\n    this._promptLength = 0;\n\n    this._onChange = () => {};\n\n    this._onSuccess = () => {};\n\n    this._onCancel = () => {};\n  }\n\n  enter(onChange, onSuccess, onCancel) {\n    this._entering = true;\n    this._value = '';\n    this._onSuccess = onSuccess;\n    this._onCancel = onCancel;\n    this._selection = null;\n    this._offset = -1;\n    this._promptLength = 0;\n\n    this._onChange = () =>\n      onChange(this._value, {\n        max: 10,\n        offset: this._offset\n      });\n\n    this._onChange();\n\n    process.stdout.on('resize', this._onResize);\n  }\n\n  setPromptLength(length) {\n    this._promptLength = length;\n  }\n\n  setPromptSelection(selected) {\n    this._selection = selected;\n  }\n\n  put(key) {\n    switch (key) {\n      case _constants.KEYS.ENTER:\n        this._entering = false;\n\n        this._onSuccess(this._selection || this._value);\n\n        this.abort();\n        break;\n\n      case _constants.KEYS.ESCAPE:\n        this._entering = false;\n\n        this._onCancel(this._value);\n\n        this.abort();\n        break;\n\n      case _constants.KEYS.ARROW_DOWN:\n        this._offset = Math.min(this._offset + 1, this._promptLength - 1);\n\n        this._onChange();\n\n        break;\n\n      case _constants.KEYS.ARROW_UP:\n        this._offset = Math.max(this._offset - 1, -1);\n\n        this._onChange();\n\n        break;\n\n      case _constants.KEYS.ARROW_LEFT:\n      case _constants.KEYS.ARROW_RIGHT:\n        break;\n\n      default:\n        this._value =\n          key === _constants.KEYS.BACKSPACE\n            ? this._value.slice(0, -1)\n            : this._value + key;\n        this._offset = -1;\n        this._selection = null;\n\n        this._onChange();\n\n        break;\n    }\n  }\n\n  abort() {\n    this._entering = false;\n    this._value = '';\n    process.stdout.removeListener('resize', this._onResize);\n  }\n\n  isEntering() {\n    return this._entering;\n  }\n}\n\nexports.default = Prompt;\n"]},"metadata":{},"sourceType":"script"}