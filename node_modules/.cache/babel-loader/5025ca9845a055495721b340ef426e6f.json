{"ast":null,"code":"/**\n  @license\n                                 Apache License\n                         Version 2.0, January 2004\n                      http://www.apache.org/licenses/\n\n TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n 1. Definitions.\n\n    \"License\" shall mean the terms and conditions for use, reproduction,\n    and distribution as defined by Sections 1 through 9 of this document.\n\n    \"Licensor\" shall mean the copyright owner or entity authorized by\n    the copyright owner that is granting the License.\n\n    \"Legal Entity\" shall mean the union of the acting entity and all\n    other entities that control, are controlled by, or are under common\n    control with that entity. For the purposes of this definition,\n    \"control\" means (i) the power, direct or indirect, to cause the\n    direction or management of such entity, whether by contract or\n    otherwise, or (ii) ownership of fifty percent (50%) or more of the\n    outstanding shares, or (iii) beneficial ownership of such entity.\n\n    \"You\" (or \"Your\") shall mean an individual or Legal Entity\n    exercising permissions granted by this License.\n\n    \"Source\" form shall mean the preferred form for making modifications,\n    including but not limited to software source code, documentation\n    source, and configuration files.\n\n    \"Object\" form shall mean any form resulting from mechanical\n    transformation or translation of a Source form, including but\n    not limited to compiled object code, generated documentation,\n    and conversions to other media types.\n\n    \"Work\" shall mean the work of authorship, whether in Source or\n    Object form, made available under the License, as indicated by a\n    copyright notice that is included in or attached to the work\n    (an example is provided in the Appendix below).\n\n    \"Derivative Works\" shall mean any work, whether in Source or Object\n    form, that is based on (or derived from) the Work and for which the\n    editorial revisions, annotations, elaborations, or other modifications\n    represent, as a whole, an original work of authorship. For the purposes\n    of this License, Derivative Works shall not include works that remain\n    separable from, or merely link (or bind by name) to the interfaces of,\n    the Work and Derivative Works thereof.\n\n    \"Contribution\" shall mean any work of authorship, including\n    the original version of the Work and any modifications or additions\n    to that Work or Derivative Works thereof, that is intentionally\n    submitted to Licensor for inclusion in the Work by the copyright owner\n    or by an individual or Legal Entity authorized to submit on behalf of\n    the copyright owner. For the purposes of this definition, \"submitted\"\n    means any form of electronic, verbal, or written communication sent\n    to the Licensor or its representatives, including but not limited to\n    communication on electronic mailing lists, source code control systems,\n    and issue tracking systems that are managed by, or on behalf of, the\n    Licensor for the purpose of discussing and improving the Work, but\n    excluding communication that is conspicuously marked or otherwise\n    designated in writing by the copyright owner as \"Not a Contribution.\"\n\n    \"Contributor\" shall mean Licensor and any individual or Legal Entity\n    on behalf of whom a Contribution has been received by Licensor and\n    subsequently incorporated within the Work.\n\n 2. Grant of Copyright License. Subject to the terms and conditions of\n    this License, each Contributor hereby grants to You a perpetual,\n    worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n    copyright license to reproduce, prepare Derivative Works of,\n    publicly display, publicly perform, sublicense, and distribute the\n    Work and such Derivative Works in Source or Object form.\n\n 3. Grant of Patent License. Subject to the terms and conditions of\n    this License, each Contributor hereby grants to You a perpetual,\n    worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n    (except as stated in this section) patent license to make, have made,\n    use, offer to sell, sell, import, and otherwise transfer the Work,\n    where such license applies only to those patent claims licensable\n    by such Contributor that are necessarily infringed by their\n    Contribution(s) alone or by combination of their Contribution(s)\n    with the Work to which such Contribution(s) was submitted. If You\n    institute patent litigation against any entity (including a\n    cross-claim or counterclaim in a lawsuit) alleging that the Work\n    or a Contribution incorporated within the Work constitutes direct\n    or contributory patent infringement, then any patent licenses\n    granted to You under this License for that Work shall terminate\n    as of the date such litigation is filed.\n\n 4. Redistribution. You may reproduce and distribute copies of the\n    Work or Derivative Works thereof in any medium, with or without\n    modifications, and in Source or Object form, provided that You\n    meet the following conditions:\n\n    (a) You must give any other recipients of the Work or\n        Derivative Works a copy of this License; and\n\n    (b) You must cause any modified files to carry prominent notices\n        stating that You changed the files; and\n\n    (c) You must retain, in the Source form of any Derivative Works\n        that You distribute, all copyright, patent, trademark, and\n        attribution notices from the Source form of the Work,\n        excluding those notices that do not pertain to any part of\n        the Derivative Works; and\n\n    (d) If the Work includes a \"NOTICE\" text file as part of its\n        distribution, then any Derivative Works that You distribute must\n        include a readable copy of the attribution notices contained\n        within such NOTICE file, excluding those notices that do not\n        pertain to any part of the Derivative Works, in at least one\n        of the following places: within a NOTICE text file distributed\n        as part of the Derivative Works; within the Source form or\n        documentation, if provided along with the Derivative Works; or,\n        within a display generated by the Derivative Works, if and\n        wherever such third-party notices normally appear. The contents\n        of the NOTICE file are for informational purposes only and\n        do not modify the License. You may add Your own attribution\n        notices within Derivative Works that You distribute, alongside\n        or as an addendum to the NOTICE text from the Work, provided\n        that such additional attribution notices cannot be construed\n        as modifying the License.\n\n    You may add Your own copyright statement to Your modifications and\n    may provide additional or different license terms and conditions\n    for use, reproduction, or distribution of Your modifications, or\n    for any such Derivative Works as a whole, provided Your use,\n    reproduction, and distribution of the Work otherwise complies with\n    the conditions stated in this License.\n\n 5. Submission of Contributions. Unless You explicitly state otherwise,\n    any Contribution intentionally submitted for inclusion in the Work\n    by You to the Licensor shall be under the terms and conditions of\n    this License, without any additional terms or conditions.\n    Notwithstanding the above, nothing herein shall supersede or modify\n    the terms of any separate license agreement you may have executed\n    with Licensor regarding such Contributions.\n\n 6. Trademarks. This License does not grant permission to use the trade\n    names, trademarks, service marks, or product names of the Licensor,\n    except as required for reasonable and customary use in describing the\n    origin of the Work and reproducing the content of the NOTICE file.\n\n 7. Disclaimer of Warranty. Unless required by applicable law or\n    agreed to in writing, Licensor provides the Work (and each\n    Contributor provides its Contributions) on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n    implied, including, without limitation, any warranties or conditions\n    of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n    PARTICULAR PURPOSE. You are solely responsible for determining the\n    appropriateness of using or redistributing the Work and assume any\n    risks associated with Your exercise of permissions under this License.\n\n 8. Limitation of Liability. In no event and under no legal theory,\n    whether in tort (including negligence), contract, or otherwise,\n    unless required by applicable law (such as deliberate and grossly\n    negligent acts) or agreed to in writing, shall any Contributor be\n    liable to You for damages, including any direct, indirect, special,\n    incidental, or consequential damages of any character arising as a\n    result of this License or out of the use or inability to use the\n    Work (including but not limited to damages for loss of goodwill,\n    work stoppage, computer failure or malfunction, or any and all\n    other commercial damages or losses), even if such Contributor\n    has been advised of the possibility of such damages.\n\n 9. Accepting Warranty or Additional Liability. While redistributing\n    the Work or Derivative Works thereof, You may choose to offer,\n    and charge a fee for, acceptance of support, warranty, indemnity,\n    or other liability obligations and/or rights consistent with this\n    License. However, in accepting such obligations, You may act only\n    on Your own behalf and on Your sole responsibility, not on behalf\n    of any other Contributor, and only if You agree to indemnify,\n    defend, and hold each Contributor harmless for any liability\n    incurred by, or claims asserted against, such Contributor by reason\n    of your accepting any such warranty or additional liability.\n\n END OF TERMS AND CONDITIONS\n\n APPENDIX: How to apply the Apache License to your work.\n\n    To apply the Apache License to your work, attach the following\n    boilerplate notice, with the fields enclosed by brackets \"[]\"\n    replaced with your own identifying information. (Don't include\n    the brackets!)  The text should be enclosed in the appropriate\n    comment syntax for the file format. We also recommend that a\n    file or class name and description of purpose be included on the\n    same \"printed page\" as the copyright notice for easier\n    identification within third-party archives.\n\n Copyright (c) 2015-2018 Google, Inc., Netflix, Inc., Microsoft Corp. and contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n     http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n \n\n **/\n\n/**\n  @license\n                                 Apache License\n                         Version 2.0, January 2004\n                      http://www.apache.org/licenses/\n\n TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n 1. Definitions.\n\n    \"License\" shall mean the terms and conditions for use, reproduction,\n    and distribution as defined by Sections 1 through 9 of this document.\n\n    \"Licensor\" shall mean the copyright owner or entity authorized by\n    the copyright owner that is granting the License.\n\n    \"Legal Entity\" shall mean the union of the acting entity and all\n    other entities that control, are controlled by, or are under common\n    control with that entity. For the purposes of this definition,\n    \"control\" means (i) the power, direct or indirect, to cause the\n    direction or management of such entity, whether by contract or\n    otherwise, or (ii) ownership of fifty percent (50%) or more of the\n    outstanding shares, or (iii) beneficial ownership of such entity.\n\n    \"You\" (or \"Your\") shall mean an individual or Legal Entity\n    exercising permissions granted by this License.\n\n    \"Source\" form shall mean the preferred form for making modifications,\n    including but not limited to software source code, documentation\n    source, and configuration files.\n\n    \"Object\" form shall mean any form resulting from mechanical\n    transformation or translation of a Source form, including but\n    not limited to compiled object code, generated documentation,\n    and conversions to other media types.\n\n    \"Work\" shall mean the work of authorship, whether in Source or\n    Object form, made available under the License, as indicated by a\n    copyright notice that is included in or attached to the work\n    (an example is provided in the Appendix below).\n\n    \"Derivative Works\" shall mean any work, whether in Source or Object\n    form, that is based on (or derived from) the Work and for which the\n    editorial revisions, annotations, elaborations, or other modifications\n    represent, as a whole, an original work of authorship. For the purposes\n    of this License, Derivative Works shall not include works that remain\n    separable from, or merely link (or bind by name) to the interfaces of,\n    the Work and Derivative Works thereof.\n\n    \"Contribution\" shall mean any work of authorship, including\n    the original version of the Work and any modifications or additions\n    to that Work or Derivative Works thereof, that is intentionally\n    submitted to Licensor for inclusion in the Work by the copyright owner\n    or by an individual or Legal Entity authorized to submit on behalf of\n    the copyright owner. For the purposes of this definition, \"submitted\"\n    means any form of electronic, verbal, or written communication sent\n    to the Licensor or its representatives, including but not limited to\n    communication on electronic mailing lists, source code control systems,\n    and issue tracking systems that are managed by, or on behalf of, the\n    Licensor for the purpose of discussing and improving the Work, but\n    excluding communication that is conspicuously marked or otherwise\n    designated in writing by the copyright owner as \"Not a Contribution.\"\n\n    \"Contributor\" shall mean Licensor and any individual or Legal Entity\n    on behalf of whom a Contribution has been received by Licensor and\n    subsequently incorporated within the Work.\n\n 2. Grant of Copyright License. Subject to the terms and conditions of\n    this License, each Contributor hereby grants to You a perpetual,\n    worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n    copyright license to reproduce, prepare Derivative Works of,\n    publicly display, publicly perform, sublicense, and distribute the\n    Work and such Derivative Works in Source or Object form.\n\n 3. Grant of Patent License. Subject to the terms and conditions of\n    this License, each Contributor hereby grants to You a perpetual,\n    worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n    (except as stated in this section) patent license to make, have made,\n    use, offer to sell, sell, import, and otherwise transfer the Work,\n    where such license applies only to those patent claims licensable\n    by such Contributor that are necessarily infringed by their\n    Contribution(s) alone or by combination of their Contribution(s)\n    with the Work to which such Contribution(s) was submitted. If You\n    institute patent litigation against any entity (including a\n    cross-claim or counterclaim in a lawsuit) alleging that the Work\n    or a Contribution incorporated within the Work constitutes direct\n    or contributory patent infringement, then any patent licenses\n    granted to You under this License for that Work shall terminate\n    as of the date such litigation is filed.\n\n 4. Redistribution. You may reproduce and distribute copies of the\n    Work or Derivative Works thereof in any medium, with or without\n    modifications, and in Source or Object form, provided that You\n    meet the following conditions:\n\n    (a) You must give any other recipients of the Work or\n        Derivative Works a copy of this License; and\n\n    (b) You must cause any modified files to carry prominent notices\n        stating that You changed the files; and\n\n    (c) You must retain, in the Source form of any Derivative Works\n        that You distribute, all copyright, patent, trademark, and\n        attribution notices from the Source form of the Work,\n        excluding those notices that do not pertain to any part of\n        the Derivative Works; and\n\n    (d) If the Work includes a \"NOTICE\" text file as part of its\n        distribution, then any Derivative Works that You distribute must\n        include a readable copy of the attribution notices contained\n        within such NOTICE file, excluding those notices that do not\n        pertain to any part of the Derivative Works, in at least one\n        of the following places: within a NOTICE text file distributed\n        as part of the Derivative Works; within the Source form or\n        documentation, if provided along with the Derivative Works; or,\n        within a display generated by the Derivative Works, if and\n        wherever such third-party notices normally appear. The contents\n        of the NOTICE file are for informational purposes only and\n        do not modify the License. You may add Your own attribution\n        notices within Derivative Works that You distribute, alongside\n        or as an addendum to the NOTICE text from the Work, provided\n        that such additional attribution notices cannot be construed\n        as modifying the License.\n\n    You may add Your own copyright statement to Your modifications and\n    may provide additional or different license terms and conditions\n    for use, reproduction, or distribution of Your modifications, or\n    for any such Derivative Works as a whole, provided Your use,\n    reproduction, and distribution of the Work otherwise complies with\n    the conditions stated in this License.\n\n 5. Submission of Contributions. Unless You explicitly state otherwise,\n    any Contribution intentionally submitted for inclusion in the Work\n    by You to the Licensor shall be under the terms and conditions of\n    this License, without any additional terms or conditions.\n    Notwithstanding the above, nothing herein shall supersede or modify\n    the terms of any separate license agreement you may have executed\n    with Licensor regarding such Contributions.\n\n 6. Trademarks. This License does not grant permission to use the trade\n    names, trademarks, service marks, or product names of the Licensor,\n    except as required for reasonable and customary use in describing the\n    origin of the Work and reproducing the content of the NOTICE file.\n\n 7. Disclaimer of Warranty. Unless required by applicable law or\n    agreed to in writing, Licensor provides the Work (and each\n    Contributor provides its Contributions) on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n    implied, including, without limitation, any warranties or conditions\n    of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n    PARTICULAR PURPOSE. You are solely responsible for determining the\n    appropriateness of using or redistributing the Work and assume any\n    risks associated with Your exercise of permissions under this License.\n\n 8. Limitation of Liability. In no event and under no legal theory,\n    whether in tort (including negligence), contract, or otherwise,\n    unless required by applicable law (such as deliberate and grossly\n    negligent acts) or agreed to in writing, shall any Contributor be\n    liable to You for damages, including any direct, indirect, special,\n    incidental, or consequential damages of any character arising as a\n    result of this License or out of the use or inability to use the\n    Work (including but not limited to damages for loss of goodwill,\n    work stoppage, computer failure or malfunction, or any and all\n    other commercial damages or losses), even if such Contributor\n    has been advised of the possibility of such damages.\n\n 9. Accepting Warranty or Additional Liability. While redistributing\n    the Work or Derivative Works thereof, You may choose to offer,\n    and charge a fee for, acceptance of support, warranty, indemnity,\n    or other liability obligations and/or rights consistent with this\n    License. However, in accepting such obligations, You may act only\n    on Your own behalf and on Your sole responsibility, not on behalf\n    of any other Contributor, and only if You agree to indemnify,\n    defend, and hold each Contributor harmless for any liability\n    incurred by, or claims asserted against, such Contributor by reason\n    of your accepting any such warranty or additional liability.\n\n END OF TERMS AND CONDITIONS\n\n APPENDIX: How to apply the Apache License to your work.\n\n    To apply the Apache License to your work, attach the following\n    boilerplate notice, with the fields enclosed by brackets \"[]\"\n    replaced with your own identifying information. (Don't include\n    the brackets!)  The text should be enclosed in the appropriate\n    comment syntax for the file format. We also recommend that a\n    file or class name and description of purpose be included on the\n    same \"printed page\" as the copyright notice for easier\n    identification within third-party archives.\n\n Copyright (c) 2015-2018 Google, Inc., Netflix, Inc., Microsoft Corp. and contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n     http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n \n\n **/\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) : typeof define === 'function' && define.amd ? define('rxjs', ['exports'], factory) : factory(global.rxjs = {});\n})(this, function (exports) {\n  'use strict';\n  /*! *****************************************************************************\r\n  Copyright (c) Microsoft Corporation. All rights reserved.\r\n  Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n  this file except in compliance with the License. You may obtain a copy of the\r\n  License at http://www.apache.org/licenses/LICENSE-2.0\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n  MERCHANTABLITY OR NON-INFRINGEMENT.\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n  and limitations under the License.\r\n  ***************************************************************************** */\n\n  /* global Reflect, Promise */\n\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  function __extends(d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  }\n\n  var __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  function isFunction(x) {\n    return typeof x === 'function';\n  }\n\n  var _enable_super_gross_mode_that_will_cause_bad_things = false;\n  var config = {\n    Promise: undefined,\n\n    set useDeprecatedSynchronousErrorHandling(value) {\n      if (value) {\n        var error = new Error();\n        console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n      } else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n        console.log('RxJS: Back to a better error behavior. Thank you. <3');\n      }\n\n      _enable_super_gross_mode_that_will_cause_bad_things = value;\n    },\n\n    get useDeprecatedSynchronousErrorHandling() {\n      return _enable_super_gross_mode_that_will_cause_bad_things;\n    }\n\n  };\n\n  function hostReportError(err) {\n    setTimeout(function () {\n      throw err;\n    }, 0);\n  }\n\n  var empty = {\n    closed: true,\n    next: function (value) {},\n    error: function (err) {\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        throw err;\n      } else {\n        hostReportError(err);\n      }\n    },\n    complete: function () {}\n  };\n\n  var isArray = function () {\n    return Array.isArray || function (x) {\n      return x && typeof x.length === 'number';\n    };\n  }();\n\n  function isObject(x) {\n    return x !== null && typeof x === 'object';\n  }\n\n  var UnsubscriptionErrorImpl = function () {\n    function UnsubscriptionErrorImpl(errors) {\n      Error.call(this);\n      this.message = errors ? errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) {\n        return i + 1 + \") \" + err.toString();\n      }).join('\\n  ') : '';\n      this.name = 'UnsubscriptionError';\n      this.errors = errors;\n      return this;\n    }\n\n    UnsubscriptionErrorImpl.prototype = Object.create(Error.prototype);\n    return UnsubscriptionErrorImpl;\n  }();\n\n  var UnsubscriptionError = UnsubscriptionErrorImpl;\n\n  var Subscription = function () {\n    function Subscription(unsubscribe) {\n      this.closed = false;\n      this._parentOrParents = null;\n      this._subscriptions = null;\n\n      if (unsubscribe) {\n        this._unsubscribe = unsubscribe;\n      }\n    }\n\n    Subscription.prototype.unsubscribe = function () {\n      var errors;\n\n      if (this.closed) {\n        return;\n      }\n\n      var _a = this,\n          _parentOrParents = _a._parentOrParents,\n          _unsubscribe = _a._unsubscribe,\n          _subscriptions = _a._subscriptions;\n\n      this.closed = true;\n      this._parentOrParents = null;\n      this._subscriptions = null;\n\n      if (_parentOrParents instanceof Subscription) {\n        _parentOrParents.remove(this);\n      } else if (_parentOrParents !== null) {\n        for (var index = 0; index < _parentOrParents.length; ++index) {\n          var parent_1 = _parentOrParents[index];\n          parent_1.remove(this);\n        }\n      }\n\n      if (isFunction(_unsubscribe)) {\n        try {\n          _unsubscribe.call(this);\n        } catch (e) {\n          errors = e instanceof UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n        }\n      }\n\n      if (isArray(_subscriptions)) {\n        var index = -1;\n        var len = _subscriptions.length;\n\n        while (++index < len) {\n          var sub = _subscriptions[index];\n\n          if (isObject(sub)) {\n            try {\n              sub.unsubscribe();\n            } catch (e) {\n              errors = errors || [];\n\n              if (e instanceof UnsubscriptionError) {\n                errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n              } else {\n                errors.push(e);\n              }\n            }\n          }\n        }\n      }\n\n      if (errors) {\n        throw new UnsubscriptionError(errors);\n      }\n    };\n\n    Subscription.prototype.add = function (teardown) {\n      var subscription = teardown;\n\n      if (!teardown) {\n        return Subscription.EMPTY;\n      }\n\n      switch (typeof teardown) {\n        case 'function':\n          subscription = new Subscription(teardown);\n\n        case 'object':\n          if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n            return subscription;\n          } else if (this.closed) {\n            subscription.unsubscribe();\n            return subscription;\n          } else if (!(subscription instanceof Subscription)) {\n            var tmp = subscription;\n            subscription = new Subscription();\n            subscription._subscriptions = [tmp];\n          }\n\n          break;\n\n        default:\n          {\n            throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n          }\n      }\n\n      var _parentOrParents = subscription._parentOrParents;\n\n      if (_parentOrParents === null) {\n        subscription._parentOrParents = this;\n      } else if (_parentOrParents instanceof Subscription) {\n        if (_parentOrParents === this) {\n          return subscription;\n        }\n\n        subscription._parentOrParents = [_parentOrParents, this];\n      } else if (_parentOrParents.indexOf(this) === -1) {\n        _parentOrParents.push(this);\n      } else {\n        return subscription;\n      }\n\n      var subscriptions = this._subscriptions;\n\n      if (subscriptions === null) {\n        this._subscriptions = [subscription];\n      } else {\n        subscriptions.push(subscription);\n      }\n\n      return subscription;\n    };\n\n    Subscription.prototype.remove = function (subscription) {\n      var subscriptions = this._subscriptions;\n\n      if (subscriptions) {\n        var subscriptionIndex = subscriptions.indexOf(subscription);\n\n        if (subscriptionIndex !== -1) {\n          subscriptions.splice(subscriptionIndex, 1);\n        }\n      }\n    };\n\n    Subscription.EMPTY = function (empty) {\n      empty.closed = true;\n      return empty;\n    }(new Subscription());\n\n    return Subscription;\n  }();\n\n  function flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) {\n      return errs.concat(err instanceof UnsubscriptionError ? err.errors : err);\n    }, []);\n  }\n\n  var rxSubscriber = function () {\n    return typeof Symbol === 'function' ? Symbol('rxSubscriber') : '@@rxSubscriber_' + Math.random();\n  }();\n\n  var Subscriber = function (_super) {\n    __extends(Subscriber, _super);\n\n    function Subscriber(destinationOrNext, error, complete) {\n      var _this = _super.call(this) || this;\n\n      _this.syncErrorValue = null;\n      _this.syncErrorThrown = false;\n      _this.syncErrorThrowable = false;\n      _this.isStopped = false;\n\n      switch (arguments.length) {\n        case 0:\n          _this.destination = empty;\n          break;\n\n        case 1:\n          if (!destinationOrNext) {\n            _this.destination = empty;\n            break;\n          }\n\n          if (typeof destinationOrNext === 'object') {\n            if (destinationOrNext instanceof Subscriber) {\n              _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n              _this.destination = destinationOrNext;\n              destinationOrNext.add(_this);\n            } else {\n              _this.syncErrorThrowable = true;\n              _this.destination = new SafeSubscriber(_this, destinationOrNext);\n            }\n\n            break;\n          }\n\n        default:\n          _this.syncErrorThrowable = true;\n          _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n          break;\n      }\n\n      return _this;\n    }\n\n    Subscriber.prototype[rxSubscriber] = function () {\n      return this;\n    };\n\n    Subscriber.create = function (next, error, complete) {\n      var subscriber = new Subscriber(next, error, complete);\n      subscriber.syncErrorThrowable = false;\n      return subscriber;\n    };\n\n    Subscriber.prototype.next = function (value) {\n      if (!this.isStopped) {\n        this._next(value);\n      }\n    };\n\n    Subscriber.prototype.error = function (err) {\n      if (!this.isStopped) {\n        this.isStopped = true;\n\n        this._error(err);\n      }\n    };\n\n    Subscriber.prototype.complete = function () {\n      if (!this.isStopped) {\n        this.isStopped = true;\n\n        this._complete();\n      }\n    };\n\n    Subscriber.prototype.unsubscribe = function () {\n      if (this.closed) {\n        return;\n      }\n\n      this.isStopped = true;\n\n      _super.prototype.unsubscribe.call(this);\n    };\n\n    Subscriber.prototype._next = function (value) {\n      this.destination.next(value);\n    };\n\n    Subscriber.prototype._error = function (err) {\n      this.destination.error(err);\n      this.unsubscribe();\n    };\n\n    Subscriber.prototype._complete = function () {\n      this.destination.complete();\n      this.unsubscribe();\n    };\n\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n      var _parentOrParents = this._parentOrParents;\n      this._parentOrParents = null;\n      this.unsubscribe();\n      this.closed = false;\n      this.isStopped = false;\n      this._parentOrParents = _parentOrParents;\n      return this;\n    };\n\n    return Subscriber;\n  }(Subscription);\n\n  var SafeSubscriber = function (_super) {\n    __extends(SafeSubscriber, _super);\n\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n      var _this = _super.call(this) || this;\n\n      _this._parentSubscriber = _parentSubscriber;\n      var next;\n      var context = _this;\n\n      if (isFunction(observerOrNext)) {\n        next = observerOrNext;\n      } else if (observerOrNext) {\n        next = observerOrNext.next;\n        error = observerOrNext.error;\n        complete = observerOrNext.complete;\n\n        if (observerOrNext !== empty) {\n          context = Object.create(observerOrNext);\n\n          if (isFunction(context.unsubscribe)) {\n            _this.add(context.unsubscribe.bind(context));\n          }\n\n          context.unsubscribe = _this.unsubscribe.bind(_this);\n        }\n      }\n\n      _this._context = context;\n      _this._next = next;\n      _this._error = error;\n      _this._complete = complete;\n      return _this;\n    }\n\n    SafeSubscriber.prototype.next = function (value) {\n      if (!this.isStopped && this._next) {\n        var _parentSubscriber = this._parentSubscriber;\n\n        if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(this._next, value);\n        } else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n          this.unsubscribe();\n        }\n      }\n    };\n\n    SafeSubscriber.prototype.error = function (err) {\n      if (!this.isStopped) {\n        var _parentSubscriber = this._parentSubscriber;\n        var useDeprecatedSynchronousErrorHandling = config.useDeprecatedSynchronousErrorHandling;\n\n        if (this._error) {\n          if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n            this.__tryOrUnsub(this._error, err);\n\n            this.unsubscribe();\n          } else {\n            this.__tryOrSetError(_parentSubscriber, this._error, err);\n\n            this.unsubscribe();\n          }\n        } else if (!_parentSubscriber.syncErrorThrowable) {\n          this.unsubscribe();\n\n          if (useDeprecatedSynchronousErrorHandling) {\n            throw err;\n          }\n\n          hostReportError(err);\n        } else {\n          if (useDeprecatedSynchronousErrorHandling) {\n            _parentSubscriber.syncErrorValue = err;\n            _parentSubscriber.syncErrorThrown = true;\n          } else {\n            hostReportError(err);\n          }\n\n          this.unsubscribe();\n        }\n      }\n    };\n\n    SafeSubscriber.prototype.complete = function () {\n      var _this = this;\n\n      if (!this.isStopped) {\n        var _parentSubscriber = this._parentSubscriber;\n\n        if (this._complete) {\n          var wrappedComplete = function () {\n            return _this._complete.call(_this._context);\n          };\n\n          if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n            this.__tryOrUnsub(wrappedComplete);\n\n            this.unsubscribe();\n          } else {\n            this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n\n            this.unsubscribe();\n          }\n        } else {\n          this.unsubscribe();\n        }\n      }\n    };\n\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n      try {\n        fn.call(this._context, value);\n      } catch (err) {\n        this.unsubscribe();\n\n        if (config.useDeprecatedSynchronousErrorHandling) {\n          throw err;\n        } else {\n          hostReportError(err);\n        }\n      }\n    };\n\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n      if (!config.useDeprecatedSynchronousErrorHandling) {\n        throw new Error('bad call');\n      }\n\n      try {\n        fn.call(this._context, value);\n      } catch (err) {\n        if (config.useDeprecatedSynchronousErrorHandling) {\n          parent.syncErrorValue = err;\n          parent.syncErrorThrown = true;\n          return true;\n        } else {\n          hostReportError(err);\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    SafeSubscriber.prototype._unsubscribe = function () {\n      var _parentSubscriber = this._parentSubscriber;\n      this._context = null;\n      this._parentSubscriber = null;\n\n      _parentSubscriber.unsubscribe();\n    };\n\n    return SafeSubscriber;\n  }(Subscriber);\n\n  function canReportError(observer) {\n    while (observer) {\n      var _a = observer,\n          closed_1 = _a.closed,\n          destination = _a.destination,\n          isStopped = _a.isStopped;\n\n      if (closed_1 || isStopped) {\n        return false;\n      } else if (destination && destination instanceof Subscriber) {\n        observer = destination;\n      } else {\n        observer = null;\n      }\n    }\n\n    return true;\n  }\n\n  function toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n      if (nextOrObserver instanceof Subscriber) {\n        return nextOrObserver;\n      }\n\n      if (nextOrObserver[rxSubscriber]) {\n        return nextOrObserver[rxSubscriber]();\n      }\n    }\n\n    if (!nextOrObserver && !error && !complete) {\n      return new Subscriber(empty);\n    }\n\n    return new Subscriber(nextOrObserver, error, complete);\n  }\n\n  var observable = function () {\n    return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n  }();\n\n  function identity(x) {\n    return x;\n  }\n\n  function pipe() {\n    var fns = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      fns[_i] = arguments[_i];\n    }\n\n    return pipeFromArray(fns);\n  }\n\n  function pipeFromArray(fns) {\n    if (fns.length === 0) {\n      return identity;\n    }\n\n    if (fns.length === 1) {\n      return fns[0];\n    }\n\n    return function piped(input) {\n      return fns.reduce(function (prev, fn) {\n        return fn(prev);\n      }, input);\n    };\n  }\n\n  var Observable = function () {\n    function Observable(subscribe) {\n      this._isScalar = false;\n\n      if (subscribe) {\n        this._subscribe = subscribe;\n      }\n    }\n\n    Observable.prototype.lift = function (operator) {\n      var observable$$1 = new Observable();\n      observable$$1.source = this;\n      observable$$1.operator = operator;\n      return observable$$1;\n    };\n\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n      var operator = this.operator;\n      var sink = toSubscriber(observerOrNext, error, complete);\n\n      if (operator) {\n        sink.add(operator.call(sink, this.source));\n      } else {\n        sink.add(this.source || config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable ? this._subscribe(sink) : this._trySubscribe(sink));\n      }\n\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        if (sink.syncErrorThrowable) {\n          sink.syncErrorThrowable = false;\n\n          if (sink.syncErrorThrown) {\n            throw sink.syncErrorValue;\n          }\n        }\n      }\n\n      return sink;\n    };\n\n    Observable.prototype._trySubscribe = function (sink) {\n      try {\n        return this._subscribe(sink);\n      } catch (err) {\n        if (config.useDeprecatedSynchronousErrorHandling) {\n          sink.syncErrorThrown = true;\n          sink.syncErrorValue = err;\n        }\n\n        if (canReportError(sink)) {\n          sink.error(err);\n        } else {\n          console.warn(err);\n        }\n      }\n    };\n\n    Observable.prototype.forEach = function (next, promiseCtor) {\n      var _this = this;\n\n      promiseCtor = getPromiseCtor(promiseCtor);\n      return new promiseCtor(function (resolve, reject) {\n        var subscription;\n        subscription = _this.subscribe(function (value) {\n          try {\n            next(value);\n          } catch (err) {\n            reject(err);\n\n            if (subscription) {\n              subscription.unsubscribe();\n            }\n          }\n        }, reject, resolve);\n      });\n    };\n\n    Observable.prototype._subscribe = function (subscriber) {\n      var source = this.source;\n      return source && source.subscribe(subscriber);\n    };\n\n    Observable.prototype[observable] = function () {\n      return this;\n    };\n\n    Observable.prototype.pipe = function () {\n      var operations = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        operations[_i] = arguments[_i];\n      }\n\n      if (operations.length === 0) {\n        return this;\n      }\n\n      return pipeFromArray(operations)(this);\n    };\n\n    Observable.prototype.toPromise = function (promiseCtor) {\n      var _this = this;\n\n      promiseCtor = getPromiseCtor(promiseCtor);\n      return new promiseCtor(function (resolve, reject) {\n        var value;\n\n        _this.subscribe(function (x) {\n          return value = x;\n        }, function (err) {\n          return reject(err);\n        }, function () {\n          return resolve(value);\n        });\n      });\n    };\n\n    Observable.create = function (subscribe) {\n      return new Observable(subscribe);\n    };\n\n    return Observable;\n  }();\n\n  function getPromiseCtor(promiseCtor) {\n    if (!promiseCtor) {\n      promiseCtor = config.Promise || Promise;\n    }\n\n    if (!promiseCtor) {\n      throw new Error('no Promise impl found');\n    }\n\n    return promiseCtor;\n  }\n\n  var ObjectUnsubscribedErrorImpl = function () {\n    function ObjectUnsubscribedErrorImpl() {\n      Error.call(this);\n      this.message = 'object unsubscribed';\n      this.name = 'ObjectUnsubscribedError';\n      return this;\n    }\n\n    ObjectUnsubscribedErrorImpl.prototype = Object.create(Error.prototype);\n    return ObjectUnsubscribedErrorImpl;\n  }();\n\n  var ObjectUnsubscribedError = ObjectUnsubscribedErrorImpl;\n\n  var SubjectSubscription = function (_super) {\n    __extends(SubjectSubscription, _super);\n\n    function SubjectSubscription(subject, subscriber) {\n      var _this = _super.call(this) || this;\n\n      _this.subject = subject;\n      _this.subscriber = subscriber;\n      _this.closed = false;\n      return _this;\n    }\n\n    SubjectSubscription.prototype.unsubscribe = function () {\n      if (this.closed) {\n        return;\n      }\n\n      this.closed = true;\n      var subject = this.subject;\n      var observers = subject.observers;\n      this.subject = null;\n\n      if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n        return;\n      }\n\n      var subscriberIndex = observers.indexOf(this.subscriber);\n\n      if (subscriberIndex !== -1) {\n        observers.splice(subscriberIndex, 1);\n      }\n    };\n\n    return SubjectSubscription;\n  }(Subscription);\n\n  var SubjectSubscriber = function (_super) {\n    __extends(SubjectSubscriber, _super);\n\n    function SubjectSubscriber(destination) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.destination = destination;\n      return _this;\n    }\n\n    return SubjectSubscriber;\n  }(Subscriber);\n\n  var Subject = function (_super) {\n    __extends(Subject, _super);\n\n    function Subject() {\n      var _this = _super.call(this) || this;\n\n      _this.observers = [];\n      _this.closed = false;\n      _this.isStopped = false;\n      _this.hasError = false;\n      _this.thrownError = null;\n      return _this;\n    }\n\n    Subject.prototype[rxSubscriber] = function () {\n      return new SubjectSubscriber(this);\n    };\n\n    Subject.prototype.lift = function (operator) {\n      var subject = new AnonymousSubject(this, this);\n      subject.operator = operator;\n      return subject;\n    };\n\n    Subject.prototype.next = function (value) {\n      if (this.closed) {\n        throw new ObjectUnsubscribedError();\n      }\n\n      if (!this.isStopped) {\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n\n        for (var i = 0; i < len; i++) {\n          copy[i].next(value);\n        }\n      }\n    };\n\n    Subject.prototype.error = function (err) {\n      if (this.closed) {\n        throw new ObjectUnsubscribedError();\n      }\n\n      this.hasError = true;\n      this.thrownError = err;\n      this.isStopped = true;\n      var observers = this.observers;\n      var len = observers.length;\n      var copy = observers.slice();\n\n      for (var i = 0; i < len; i++) {\n        copy[i].error(err);\n      }\n\n      this.observers.length = 0;\n    };\n\n    Subject.prototype.complete = function () {\n      if (this.closed) {\n        throw new ObjectUnsubscribedError();\n      }\n\n      this.isStopped = true;\n      var observers = this.observers;\n      var len = observers.length;\n      var copy = observers.slice();\n\n      for (var i = 0; i < len; i++) {\n        copy[i].complete();\n      }\n\n      this.observers.length = 0;\n    };\n\n    Subject.prototype.unsubscribe = function () {\n      this.isStopped = true;\n      this.closed = true;\n      this.observers = null;\n    };\n\n    Subject.prototype._trySubscribe = function (subscriber) {\n      if (this.closed) {\n        throw new ObjectUnsubscribedError();\n      } else {\n        return _super.prototype._trySubscribe.call(this, subscriber);\n      }\n    };\n\n    Subject.prototype._subscribe = function (subscriber) {\n      if (this.closed) {\n        throw new ObjectUnsubscribedError();\n      } else if (this.hasError) {\n        subscriber.error(this.thrownError);\n        return Subscription.EMPTY;\n      } else if (this.isStopped) {\n        subscriber.complete();\n        return Subscription.EMPTY;\n      } else {\n        this.observers.push(subscriber);\n        return new SubjectSubscription(this, subscriber);\n      }\n    };\n\n    Subject.prototype.asObservable = function () {\n      var observable = new Observable();\n      observable.source = this;\n      return observable;\n    };\n\n    Subject.create = function (destination, source) {\n      return new AnonymousSubject(destination, source);\n    };\n\n    return Subject;\n  }(Observable);\n\n  var AnonymousSubject = function (_super) {\n    __extends(AnonymousSubject, _super);\n\n    function AnonymousSubject(destination, source) {\n      var _this = _super.call(this) || this;\n\n      _this.destination = destination;\n      _this.source = source;\n      return _this;\n    }\n\n    AnonymousSubject.prototype.next = function (value) {\n      var destination = this.destination;\n\n      if (destination && destination.next) {\n        destination.next(value);\n      }\n    };\n\n    AnonymousSubject.prototype.error = function (err) {\n      var destination = this.destination;\n\n      if (destination && destination.error) {\n        this.destination.error(err);\n      }\n    };\n\n    AnonymousSubject.prototype.complete = function () {\n      var destination = this.destination;\n\n      if (destination && destination.complete) {\n        this.destination.complete();\n      }\n    };\n\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n      var source = this.source;\n\n      if (source) {\n        return this.source.subscribe(subscriber);\n      } else {\n        return Subscription.EMPTY;\n      }\n    };\n\n    return AnonymousSubject;\n  }(Subject);\n\n  function refCount() {\n    return function refCountOperatorFunction(source) {\n      return source.lift(new RefCountOperator(source));\n    };\n  }\n\n  var RefCountOperator = function () {\n    function RefCountOperator(connectable) {\n      this.connectable = connectable;\n    }\n\n    RefCountOperator.prototype.call = function (subscriber, source) {\n      var connectable = this.connectable;\n      connectable._refCount++;\n      var refCounter = new RefCountSubscriber(subscriber, connectable);\n      var subscription = source.subscribe(refCounter);\n\n      if (!refCounter.closed) {\n        refCounter.connection = connectable.connect();\n      }\n\n      return subscription;\n    };\n\n    return RefCountOperator;\n  }();\n\n  var RefCountSubscriber = function (_super) {\n    __extends(RefCountSubscriber, _super);\n\n    function RefCountSubscriber(destination, connectable) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.connectable = connectable;\n      return _this;\n    }\n\n    RefCountSubscriber.prototype._unsubscribe = function () {\n      var connectable = this.connectable;\n\n      if (!connectable) {\n        this.connection = null;\n        return;\n      }\n\n      this.connectable = null;\n      var refCount = connectable._refCount;\n\n      if (refCount <= 0) {\n        this.connection = null;\n        return;\n      }\n\n      connectable._refCount = refCount - 1;\n\n      if (refCount > 1) {\n        this.connection = null;\n        return;\n      }\n\n      var connection = this.connection;\n      var sharedConnection = connectable._connection;\n      this.connection = null;\n\n      if (sharedConnection && (!connection || sharedConnection === connection)) {\n        sharedConnection.unsubscribe();\n      }\n    };\n\n    return RefCountSubscriber;\n  }(Subscriber);\n\n  var ConnectableObservable = function (_super) {\n    __extends(ConnectableObservable, _super);\n\n    function ConnectableObservable(source, subjectFactory) {\n      var _this = _super.call(this) || this;\n\n      _this.source = source;\n      _this.subjectFactory = subjectFactory;\n      _this._refCount = 0;\n      _this._isComplete = false;\n      return _this;\n    }\n\n    ConnectableObservable.prototype._subscribe = function (subscriber) {\n      return this.getSubject().subscribe(subscriber);\n    };\n\n    ConnectableObservable.prototype.getSubject = function () {\n      var subject = this._subject;\n\n      if (!subject || subject.isStopped) {\n        this._subject = this.subjectFactory();\n      }\n\n      return this._subject;\n    };\n\n    ConnectableObservable.prototype.connect = function () {\n      var connection = this._connection;\n\n      if (!connection) {\n        this._isComplete = false;\n        connection = this._connection = new Subscription();\n        connection.add(this.source.subscribe(new ConnectableSubscriber(this.getSubject(), this)));\n\n        if (connection.closed) {\n          this._connection = null;\n          connection = Subscription.EMPTY;\n        }\n      }\n\n      return connection;\n    };\n\n    ConnectableObservable.prototype.refCount = function () {\n      return refCount()(this);\n    };\n\n    return ConnectableObservable;\n  }(Observable);\n\n  var connectableObservableDescriptor = function () {\n    var connectableProto = ConnectableObservable.prototype;\n    return {\n      operator: {\n        value: null\n      },\n      _refCount: {\n        value: 0,\n        writable: true\n      },\n      _subject: {\n        value: null,\n        writable: true\n      },\n      _connection: {\n        value: null,\n        writable: true\n      },\n      _subscribe: {\n        value: connectableProto._subscribe\n      },\n      _isComplete: {\n        value: connectableProto._isComplete,\n        writable: true\n      },\n      getSubject: {\n        value: connectableProto.getSubject\n      },\n      connect: {\n        value: connectableProto.connect\n      },\n      refCount: {\n        value: connectableProto.refCount\n      }\n    };\n  }();\n\n  var ConnectableSubscriber = function (_super) {\n    __extends(ConnectableSubscriber, _super);\n\n    function ConnectableSubscriber(destination, connectable) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.connectable = connectable;\n      return _this;\n    }\n\n    ConnectableSubscriber.prototype._error = function (err) {\n      this._unsubscribe();\n\n      _super.prototype._error.call(this, err);\n    };\n\n    ConnectableSubscriber.prototype._complete = function () {\n      this.connectable._isComplete = true;\n\n      this._unsubscribe();\n\n      _super.prototype._complete.call(this);\n    };\n\n    ConnectableSubscriber.prototype._unsubscribe = function () {\n      var connectable = this.connectable;\n\n      if (connectable) {\n        this.connectable = null;\n        var connection = connectable._connection;\n        connectable._refCount = 0;\n        connectable._subject = null;\n        connectable._connection = null;\n\n        if (connection) {\n          connection.unsubscribe();\n        }\n      }\n    };\n\n    return ConnectableSubscriber;\n  }(SubjectSubscriber);\n\n  var RefCountSubscriber$1 = function (_super) {\n    __extends(RefCountSubscriber, _super);\n\n    function RefCountSubscriber(destination, connectable) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.connectable = connectable;\n      return _this;\n    }\n\n    RefCountSubscriber.prototype._unsubscribe = function () {\n      var connectable = this.connectable;\n\n      if (!connectable) {\n        this.connection = null;\n        return;\n      }\n\n      this.connectable = null;\n      var refCount$$1 = connectable._refCount;\n\n      if (refCount$$1 <= 0) {\n        this.connection = null;\n        return;\n      }\n\n      connectable._refCount = refCount$$1 - 1;\n\n      if (refCount$$1 > 1) {\n        this.connection = null;\n        return;\n      }\n\n      var connection = this.connection;\n      var sharedConnection = connectable._connection;\n      this.connection = null;\n\n      if (sharedConnection && (!connection || sharedConnection === connection)) {\n        sharedConnection.unsubscribe();\n      }\n    };\n\n    return RefCountSubscriber;\n  }(Subscriber);\n\n  function groupBy(keySelector, elementSelector, durationSelector, subjectSelector) {\n    return function (source) {\n      return source.lift(new GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector));\n    };\n  }\n\n  var GroupByOperator = function () {\n    function GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector) {\n      this.keySelector = keySelector;\n      this.elementSelector = elementSelector;\n      this.durationSelector = durationSelector;\n      this.subjectSelector = subjectSelector;\n    }\n\n    GroupByOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new GroupBySubscriber(subscriber, this.keySelector, this.elementSelector, this.durationSelector, this.subjectSelector));\n    };\n\n    return GroupByOperator;\n  }();\n\n  var GroupBySubscriber = function (_super) {\n    __extends(GroupBySubscriber, _super);\n\n    function GroupBySubscriber(destination, keySelector, elementSelector, durationSelector, subjectSelector) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.keySelector = keySelector;\n      _this.elementSelector = elementSelector;\n      _this.durationSelector = durationSelector;\n      _this.subjectSelector = subjectSelector;\n      _this.groups = null;\n      _this.attemptedToUnsubscribe = false;\n      _this.count = 0;\n      return _this;\n    }\n\n    GroupBySubscriber.prototype._next = function (value) {\n      var key;\n\n      try {\n        key = this.keySelector(value);\n      } catch (err) {\n        this.error(err);\n        return;\n      }\n\n      this._group(value, key);\n    };\n\n    GroupBySubscriber.prototype._group = function (value, key) {\n      var groups = this.groups;\n\n      if (!groups) {\n        groups = this.groups = new Map();\n      }\n\n      var group = groups.get(key);\n      var element;\n\n      if (this.elementSelector) {\n        try {\n          element = this.elementSelector(value);\n        } catch (err) {\n          this.error(err);\n        }\n      } else {\n        element = value;\n      }\n\n      if (!group) {\n        group = this.subjectSelector ? this.subjectSelector() : new Subject();\n        groups.set(key, group);\n        var groupedObservable = new GroupedObservable(key, group, this);\n        this.destination.next(groupedObservable);\n\n        if (this.durationSelector) {\n          var duration = void 0;\n\n          try {\n            duration = this.durationSelector(new GroupedObservable(key, group));\n          } catch (err) {\n            this.error(err);\n            return;\n          }\n\n          this.add(duration.subscribe(new GroupDurationSubscriber(key, group, this)));\n        }\n      }\n\n      if (!group.closed) {\n        group.next(element);\n      }\n    };\n\n    GroupBySubscriber.prototype._error = function (err) {\n      var groups = this.groups;\n\n      if (groups) {\n        groups.forEach(function (group, key) {\n          group.error(err);\n        });\n        groups.clear();\n      }\n\n      this.destination.error(err);\n    };\n\n    GroupBySubscriber.prototype._complete = function () {\n      var groups = this.groups;\n\n      if (groups) {\n        groups.forEach(function (group, key) {\n          group.complete();\n        });\n        groups.clear();\n      }\n\n      this.destination.complete();\n    };\n\n    GroupBySubscriber.prototype.removeGroup = function (key) {\n      this.groups.delete(key);\n    };\n\n    GroupBySubscriber.prototype.unsubscribe = function () {\n      if (!this.closed) {\n        this.attemptedToUnsubscribe = true;\n\n        if (this.count === 0) {\n          _super.prototype.unsubscribe.call(this);\n        }\n      }\n    };\n\n    return GroupBySubscriber;\n  }(Subscriber);\n\n  var GroupDurationSubscriber = function (_super) {\n    __extends(GroupDurationSubscriber, _super);\n\n    function GroupDurationSubscriber(key, group, parent) {\n      var _this = _super.call(this, group) || this;\n\n      _this.key = key;\n      _this.group = group;\n      _this.parent = parent;\n      return _this;\n    }\n\n    GroupDurationSubscriber.prototype._next = function (value) {\n      this.complete();\n    };\n\n    GroupDurationSubscriber.prototype._unsubscribe = function () {\n      var _a = this,\n          parent = _a.parent,\n          key = _a.key;\n\n      this.key = this.parent = null;\n\n      if (parent) {\n        parent.removeGroup(key);\n      }\n    };\n\n    return GroupDurationSubscriber;\n  }(Subscriber);\n\n  var GroupedObservable = function (_super) {\n    __extends(GroupedObservable, _super);\n\n    function GroupedObservable(key, groupSubject, refCountSubscription) {\n      var _this = _super.call(this) || this;\n\n      _this.key = key;\n      _this.groupSubject = groupSubject;\n      _this.refCountSubscription = refCountSubscription;\n      return _this;\n    }\n\n    GroupedObservable.prototype._subscribe = function (subscriber) {\n      var subscription = new Subscription();\n\n      var _a = this,\n          refCountSubscription = _a.refCountSubscription,\n          groupSubject = _a.groupSubject;\n\n      if (refCountSubscription && !refCountSubscription.closed) {\n        subscription.add(new InnerRefCountSubscription(refCountSubscription));\n      }\n\n      subscription.add(groupSubject.subscribe(subscriber));\n      return subscription;\n    };\n\n    return GroupedObservable;\n  }(Observable);\n\n  var InnerRefCountSubscription = function (_super) {\n    __extends(InnerRefCountSubscription, _super);\n\n    function InnerRefCountSubscription(parent) {\n      var _this = _super.call(this) || this;\n\n      _this.parent = parent;\n      parent.count++;\n      return _this;\n    }\n\n    InnerRefCountSubscription.prototype.unsubscribe = function () {\n      var parent = this.parent;\n\n      if (!parent.closed && !this.closed) {\n        _super.prototype.unsubscribe.call(this);\n\n        parent.count -= 1;\n\n        if (parent.count === 0 && parent.attemptedToUnsubscribe) {\n          parent.unsubscribe();\n        }\n      }\n    };\n\n    return InnerRefCountSubscription;\n  }(Subscription);\n\n  var BehaviorSubject = function (_super) {\n    __extends(BehaviorSubject, _super);\n\n    function BehaviorSubject(_value) {\n      var _this = _super.call(this) || this;\n\n      _this._value = _value;\n      return _this;\n    }\n\n    Object.defineProperty(BehaviorSubject.prototype, \"value\", {\n      get: function () {\n        return this.getValue();\n      },\n      enumerable: true,\n      configurable: true\n    });\n\n    BehaviorSubject.prototype._subscribe = function (subscriber) {\n      var subscription = _super.prototype._subscribe.call(this, subscriber);\n\n      if (subscription && !subscription.closed) {\n        subscriber.next(this._value);\n      }\n\n      return subscription;\n    };\n\n    BehaviorSubject.prototype.getValue = function () {\n      if (this.hasError) {\n        throw this.thrownError;\n      } else if (this.closed) {\n        throw new ObjectUnsubscribedError();\n      } else {\n        return this._value;\n      }\n    };\n\n    BehaviorSubject.prototype.next = function (value) {\n      _super.prototype.next.call(this, this._value = value);\n    };\n\n    return BehaviorSubject;\n  }(Subject);\n\n  var Action = function (_super) {\n    __extends(Action, _super);\n\n    function Action(scheduler, work) {\n      return _super.call(this) || this;\n    }\n\n    Action.prototype.schedule = function (state, delay) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n\n      return this;\n    };\n\n    return Action;\n  }(Subscription);\n\n  var AsyncAction = function (_super) {\n    __extends(AsyncAction, _super);\n\n    function AsyncAction(scheduler, work) {\n      var _this = _super.call(this, scheduler, work) || this;\n\n      _this.scheduler = scheduler;\n      _this.work = work;\n      _this.pending = false;\n      return _this;\n    }\n\n    AsyncAction.prototype.schedule = function (state, delay) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n\n      if (this.closed) {\n        return this;\n      }\n\n      this.state = state;\n      var id = this.id;\n      var scheduler = this.scheduler;\n\n      if (id != null) {\n        this.id = this.recycleAsyncId(scheduler, id, delay);\n      }\n\n      this.pending = true;\n      this.delay = delay;\n      this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n      return this;\n    };\n\n    AsyncAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n\n      return setInterval(scheduler.flush.bind(scheduler, this), delay);\n    };\n\n    AsyncAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n\n      if (delay !== null && this.delay === delay && this.pending === false) {\n        return id;\n      }\n\n      clearInterval(id);\n      return undefined;\n    };\n\n    AsyncAction.prototype.execute = function (state, delay) {\n      if (this.closed) {\n        return new Error('executing a cancelled action');\n      }\n\n      this.pending = false;\n\n      var error = this._execute(state, delay);\n\n      if (error) {\n        return error;\n      } else if (this.pending === false && this.id != null) {\n        this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n      }\n    };\n\n    AsyncAction.prototype._execute = function (state, delay) {\n      var errored = false;\n      var errorValue = undefined;\n\n      try {\n        this.work(state);\n      } catch (e) {\n        errored = true;\n        errorValue = !!e && e || new Error(e);\n      }\n\n      if (errored) {\n        this.unsubscribe();\n        return errorValue;\n      }\n    };\n\n    AsyncAction.prototype._unsubscribe = function () {\n      var id = this.id;\n      var scheduler = this.scheduler;\n      var actions = scheduler.actions;\n      var index = actions.indexOf(this);\n      this.work = null;\n      this.state = null;\n      this.pending = false;\n      this.scheduler = null;\n\n      if (index !== -1) {\n        actions.splice(index, 1);\n      }\n\n      if (id != null) {\n        this.id = this.recycleAsyncId(scheduler, id, null);\n      }\n\n      this.delay = null;\n    };\n\n    return AsyncAction;\n  }(Action);\n\n  var QueueAction = function (_super) {\n    __extends(QueueAction, _super);\n\n    function QueueAction(scheduler, work) {\n      var _this = _super.call(this, scheduler, work) || this;\n\n      _this.scheduler = scheduler;\n      _this.work = work;\n      return _this;\n    }\n\n    QueueAction.prototype.schedule = function (state, delay) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n\n      if (delay > 0) {\n        return _super.prototype.schedule.call(this, state, delay);\n      }\n\n      this.delay = delay;\n      this.state = state;\n      this.scheduler.flush(this);\n      return this;\n    };\n\n    QueueAction.prototype.execute = function (state, delay) {\n      return delay > 0 || this.closed ? _super.prototype.execute.call(this, state, delay) : this._execute(state, delay);\n    };\n\n    QueueAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n\n      if (delay !== null && delay > 0 || delay === null && this.delay > 0) {\n        return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n      }\n\n      return scheduler.flush(this);\n    };\n\n    return QueueAction;\n  }(AsyncAction);\n\n  var Scheduler = function () {\n    function Scheduler(SchedulerAction, now) {\n      if (now === void 0) {\n        now = Scheduler.now;\n      }\n\n      this.SchedulerAction = SchedulerAction;\n      this.now = now;\n    }\n\n    Scheduler.prototype.schedule = function (work, delay, state) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n\n      return new this.SchedulerAction(this, work).schedule(state, delay);\n    };\n\n    Scheduler.now = function () {\n      return Date.now();\n    };\n\n    return Scheduler;\n  }();\n\n  var AsyncScheduler = function (_super) {\n    __extends(AsyncScheduler, _super);\n\n    function AsyncScheduler(SchedulerAction, now) {\n      if (now === void 0) {\n        now = Scheduler.now;\n      }\n\n      var _this = _super.call(this, SchedulerAction, function () {\n        if (AsyncScheduler.delegate && AsyncScheduler.delegate !== _this) {\n          return AsyncScheduler.delegate.now();\n        } else {\n          return now();\n        }\n      }) || this;\n\n      _this.actions = [];\n      _this.active = false;\n      _this.scheduled = undefined;\n      return _this;\n    }\n\n    AsyncScheduler.prototype.schedule = function (work, delay, state) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n\n      if (AsyncScheduler.delegate && AsyncScheduler.delegate !== this) {\n        return AsyncScheduler.delegate.schedule(work, delay, state);\n      } else {\n        return _super.prototype.schedule.call(this, work, delay, state);\n      }\n    };\n\n    AsyncScheduler.prototype.flush = function (action) {\n      var actions = this.actions;\n\n      if (this.active) {\n        actions.push(action);\n        return;\n      }\n\n      var error;\n      this.active = true;\n\n      do {\n        if (error = action.execute(action.state, action.delay)) {\n          break;\n        }\n      } while (action = actions.shift());\n\n      this.active = false;\n\n      if (error) {\n        while (action = actions.shift()) {\n          action.unsubscribe();\n        }\n\n        throw error;\n      }\n    };\n\n    return AsyncScheduler;\n  }(Scheduler);\n\n  var QueueScheduler = function (_super) {\n    __extends(QueueScheduler, _super);\n\n    function QueueScheduler() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    return QueueScheduler;\n  }(AsyncScheduler);\n\n  var queue = new QueueScheduler(QueueAction);\n  var EMPTY = new Observable(function (subscriber) {\n    return subscriber.complete();\n  });\n\n  function empty$1(scheduler) {\n    return scheduler ? emptyScheduled(scheduler) : EMPTY;\n  }\n\n  function emptyScheduled(scheduler) {\n    return new Observable(function (subscriber) {\n      return scheduler.schedule(function () {\n        return subscriber.complete();\n      });\n    });\n  }\n\n  function isScheduler(value) {\n    return value && typeof value.schedule === 'function';\n  }\n\n  var subscribeToArray = function (array) {\n    return function (subscriber) {\n      for (var i = 0, len = array.length; i < len && !subscriber.closed; i++) {\n        subscriber.next(array[i]);\n      }\n\n      subscriber.complete();\n    };\n  };\n\n  function scheduleArray(input, scheduler) {\n    return new Observable(function (subscriber) {\n      var sub = new Subscription();\n      var i = 0;\n      sub.add(scheduler.schedule(function () {\n        if (i === input.length) {\n          subscriber.complete();\n          return;\n        }\n\n        subscriber.next(input[i++]);\n\n        if (!subscriber.closed) {\n          sub.add(this.schedule());\n        }\n      }));\n      return sub;\n    });\n  }\n\n  function fromArray(input, scheduler) {\n    if (!scheduler) {\n      return new Observable(subscribeToArray(input));\n    } else {\n      return scheduleArray(input, scheduler);\n    }\n  }\n\n  function of() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    var scheduler = args[args.length - 1];\n\n    if (isScheduler(scheduler)) {\n      args.pop();\n      return scheduleArray(args, scheduler);\n    } else {\n      return fromArray(args);\n    }\n  }\n\n  function throwError(error, scheduler) {\n    if (!scheduler) {\n      return new Observable(function (subscriber) {\n        return subscriber.error(error);\n      });\n    } else {\n      return new Observable(function (subscriber) {\n        return scheduler.schedule(dispatch, 0, {\n          error: error,\n          subscriber: subscriber\n        });\n      });\n    }\n  }\n\n  function dispatch(_a) {\n    var error = _a.error,\n        subscriber = _a.subscriber;\n    subscriber.error(error);\n  }\n\n  (function (NotificationKind) {\n    NotificationKind[\"NEXT\"] = \"N\";\n    NotificationKind[\"ERROR\"] = \"E\";\n    NotificationKind[\"COMPLETE\"] = \"C\";\n  })(exports.NotificationKind || (exports.NotificationKind = {}));\n\n  var Notification = function () {\n    function Notification(kind, value, error) {\n      this.kind = kind;\n      this.value = value;\n      this.error = error;\n      this.hasValue = kind === 'N';\n    }\n\n    Notification.prototype.observe = function (observer) {\n      switch (this.kind) {\n        case 'N':\n          return observer.next && observer.next(this.value);\n\n        case 'E':\n          return observer.error && observer.error(this.error);\n\n        case 'C':\n          return observer.complete && observer.complete();\n      }\n    };\n\n    Notification.prototype.do = function (next, error, complete) {\n      var kind = this.kind;\n\n      switch (kind) {\n        case 'N':\n          return next && next(this.value);\n\n        case 'E':\n          return error && error(this.error);\n\n        case 'C':\n          return complete && complete();\n      }\n    };\n\n    Notification.prototype.accept = function (nextOrObserver, error, complete) {\n      if (nextOrObserver && typeof nextOrObserver.next === 'function') {\n        return this.observe(nextOrObserver);\n      } else {\n        return this.do(nextOrObserver, error, complete);\n      }\n    };\n\n    Notification.prototype.toObservable = function () {\n      var kind = this.kind;\n\n      switch (kind) {\n        case 'N':\n          return of(this.value);\n\n        case 'E':\n          return throwError(this.error);\n\n        case 'C':\n          return empty$1();\n      }\n\n      throw new Error('unexpected notification kind value');\n    };\n\n    Notification.createNext = function (value) {\n      if (typeof value !== 'undefined') {\n        return new Notification('N', value);\n      }\n\n      return Notification.undefinedValueNotification;\n    };\n\n    Notification.createError = function (err) {\n      return new Notification('E', undefined, err);\n    };\n\n    Notification.createComplete = function () {\n      return Notification.completeNotification;\n    };\n\n    Notification.completeNotification = new Notification('C');\n    Notification.undefinedValueNotification = new Notification('N', undefined);\n    return Notification;\n  }();\n\n  function observeOn(scheduler, delay) {\n    if (delay === void 0) {\n      delay = 0;\n    }\n\n    return function observeOnOperatorFunction(source) {\n      return source.lift(new ObserveOnOperator(scheduler, delay));\n    };\n  }\n\n  var ObserveOnOperator = function () {\n    function ObserveOnOperator(scheduler, delay) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n\n      this.scheduler = scheduler;\n      this.delay = delay;\n    }\n\n    ObserveOnOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new ObserveOnSubscriber(subscriber, this.scheduler, this.delay));\n    };\n\n    return ObserveOnOperator;\n  }();\n\n  var ObserveOnSubscriber = function (_super) {\n    __extends(ObserveOnSubscriber, _super);\n\n    function ObserveOnSubscriber(destination, scheduler, delay) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n\n      var _this = _super.call(this, destination) || this;\n\n      _this.scheduler = scheduler;\n      _this.delay = delay;\n      return _this;\n    }\n\n    ObserveOnSubscriber.dispatch = function (arg) {\n      var notification = arg.notification,\n          destination = arg.destination;\n      notification.observe(destination);\n      this.unsubscribe();\n    };\n\n    ObserveOnSubscriber.prototype.scheduleMessage = function (notification) {\n      var destination = this.destination;\n      destination.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch, this.delay, new ObserveOnMessage(notification, this.destination)));\n    };\n\n    ObserveOnSubscriber.prototype._next = function (value) {\n      this.scheduleMessage(Notification.createNext(value));\n    };\n\n    ObserveOnSubscriber.prototype._error = function (err) {\n      this.scheduleMessage(Notification.createError(err));\n      this.unsubscribe();\n    };\n\n    ObserveOnSubscriber.prototype._complete = function () {\n      this.scheduleMessage(Notification.createComplete());\n      this.unsubscribe();\n    };\n\n    return ObserveOnSubscriber;\n  }(Subscriber);\n\n  var ObserveOnMessage = function () {\n    function ObserveOnMessage(notification, destination) {\n      this.notification = notification;\n      this.destination = destination;\n    }\n\n    return ObserveOnMessage;\n  }();\n\n  var ReplaySubject = function (_super) {\n    __extends(ReplaySubject, _super);\n\n    function ReplaySubject(bufferSize, windowTime, scheduler) {\n      if (bufferSize === void 0) {\n        bufferSize = Number.POSITIVE_INFINITY;\n      }\n\n      if (windowTime === void 0) {\n        windowTime = Number.POSITIVE_INFINITY;\n      }\n\n      var _this = _super.call(this) || this;\n\n      _this.scheduler = scheduler;\n      _this._events = [];\n      _this._infiniteTimeWindow = false;\n      _this._bufferSize = bufferSize < 1 ? 1 : bufferSize;\n      _this._windowTime = windowTime < 1 ? 1 : windowTime;\n\n      if (windowTime === Number.POSITIVE_INFINITY) {\n        _this._infiniteTimeWindow = true;\n        _this.next = _this.nextInfiniteTimeWindow;\n      } else {\n        _this.next = _this.nextTimeWindow;\n      }\n\n      return _this;\n    }\n\n    ReplaySubject.prototype.nextInfiniteTimeWindow = function (value) {\n      var _events = this._events;\n\n      _events.push(value);\n\n      if (_events.length > this._bufferSize) {\n        _events.shift();\n      }\n\n      _super.prototype.next.call(this, value);\n    };\n\n    ReplaySubject.prototype.nextTimeWindow = function (value) {\n      this._events.push(new ReplayEvent(this._getNow(), value));\n\n      this._trimBufferThenGetEvents();\n\n      _super.prototype.next.call(this, value);\n    };\n\n    ReplaySubject.prototype._subscribe = function (subscriber) {\n      var _infiniteTimeWindow = this._infiniteTimeWindow;\n\n      var _events = _infiniteTimeWindow ? this._events : this._trimBufferThenGetEvents();\n\n      var scheduler = this.scheduler;\n      var len = _events.length;\n      var subscription;\n\n      if (this.closed) {\n        throw new ObjectUnsubscribedError();\n      } else if (this.isStopped || this.hasError) {\n        subscription = Subscription.EMPTY;\n      } else {\n        this.observers.push(subscriber);\n        subscription = new SubjectSubscription(this, subscriber);\n      }\n\n      if (scheduler) {\n        subscriber.add(subscriber = new ObserveOnSubscriber(subscriber, scheduler));\n      }\n\n      if (_infiniteTimeWindow) {\n        for (var i = 0; i < len && !subscriber.closed; i++) {\n          subscriber.next(_events[i]);\n        }\n      } else {\n        for (var i = 0; i < len && !subscriber.closed; i++) {\n          subscriber.next(_events[i].value);\n        }\n      }\n\n      if (this.hasError) {\n        subscriber.error(this.thrownError);\n      } else if (this.isStopped) {\n        subscriber.complete();\n      }\n\n      return subscription;\n    };\n\n    ReplaySubject.prototype._getNow = function () {\n      return (this.scheduler || queue).now();\n    };\n\n    ReplaySubject.prototype._trimBufferThenGetEvents = function () {\n      var now = this._getNow();\n\n      var _bufferSize = this._bufferSize;\n      var _windowTime = this._windowTime;\n      var _events = this._events;\n      var eventsCount = _events.length;\n      var spliceCount = 0;\n\n      while (spliceCount < eventsCount) {\n        if (now - _events[spliceCount].time < _windowTime) {\n          break;\n        }\n\n        spliceCount++;\n      }\n\n      if (eventsCount > _bufferSize) {\n        spliceCount = Math.max(spliceCount, eventsCount - _bufferSize);\n      }\n\n      if (spliceCount > 0) {\n        _events.splice(0, spliceCount);\n      }\n\n      return _events;\n    };\n\n    return ReplaySubject;\n  }(Subject);\n\n  var ReplayEvent = function () {\n    function ReplayEvent(time, value) {\n      this.time = time;\n      this.value = value;\n    }\n\n    return ReplayEvent;\n  }();\n\n  var AsyncSubject = function (_super) {\n    __extends(AsyncSubject, _super);\n\n    function AsyncSubject() {\n      var _this = _super !== null && _super.apply(this, arguments) || this;\n\n      _this.value = null;\n      _this.hasNext = false;\n      _this.hasCompleted = false;\n      return _this;\n    }\n\n    AsyncSubject.prototype._subscribe = function (subscriber) {\n      if (this.hasError) {\n        subscriber.error(this.thrownError);\n        return Subscription.EMPTY;\n      } else if (this.hasCompleted && this.hasNext) {\n        subscriber.next(this.value);\n        subscriber.complete();\n        return Subscription.EMPTY;\n      }\n\n      return _super.prototype._subscribe.call(this, subscriber);\n    };\n\n    AsyncSubject.prototype.next = function (value) {\n      if (!this.hasCompleted) {\n        this.value = value;\n        this.hasNext = true;\n      }\n    };\n\n    AsyncSubject.prototype.error = function (error) {\n      if (!this.hasCompleted) {\n        _super.prototype.error.call(this, error);\n      }\n    };\n\n    AsyncSubject.prototype.complete = function () {\n      this.hasCompleted = true;\n\n      if (this.hasNext) {\n        _super.prototype.next.call(this, this.value);\n      }\n\n      _super.prototype.complete.call(this);\n    };\n\n    return AsyncSubject;\n  }(Subject);\n\n  var nextHandle = 1;\n\n  var RESOLVED = function () {\n    return Promise.resolve();\n  }();\n\n  var activeHandles = {};\n\n  function findAndClearHandle(handle) {\n    if (handle in activeHandles) {\n      delete activeHandles[handle];\n      return true;\n    }\n\n    return false;\n  }\n\n  var Immediate = {\n    setImmediate: function (cb) {\n      var handle = nextHandle++;\n      activeHandles[handle] = true;\n      RESOLVED.then(function () {\n        return findAndClearHandle(handle) && cb();\n      });\n      return handle;\n    },\n    clearImmediate: function (handle) {\n      findAndClearHandle(handle);\n    }\n  };\n\n  var AsapAction = function (_super) {\n    __extends(AsapAction, _super);\n\n    function AsapAction(scheduler, work) {\n      var _this = _super.call(this, scheduler, work) || this;\n\n      _this.scheduler = scheduler;\n      _this.work = work;\n      return _this;\n    }\n\n    AsapAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n\n      if (delay !== null && delay > 0) {\n        return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n      }\n\n      scheduler.actions.push(this);\n      return scheduler.scheduled || (scheduler.scheduled = Immediate.setImmediate(scheduler.flush.bind(scheduler, null)));\n    };\n\n    AsapAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n\n      if (delay !== null && delay > 0 || delay === null && this.delay > 0) {\n        return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);\n      }\n\n      if (scheduler.actions.length === 0) {\n        Immediate.clearImmediate(id);\n        scheduler.scheduled = undefined;\n      }\n\n      return undefined;\n    };\n\n    return AsapAction;\n  }(AsyncAction);\n\n  var AsapScheduler = function (_super) {\n    __extends(AsapScheduler, _super);\n\n    function AsapScheduler() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    AsapScheduler.prototype.flush = function (action) {\n      this.active = true;\n      this.scheduled = undefined;\n      var actions = this.actions;\n      var error;\n      var index = -1;\n      var count = actions.length;\n      action = action || actions.shift();\n\n      do {\n        if (error = action.execute(action.state, action.delay)) {\n          break;\n        }\n      } while (++index < count && (action = actions.shift()));\n\n      this.active = false;\n\n      if (error) {\n        while (++index < count && (action = actions.shift())) {\n          action.unsubscribe();\n        }\n\n        throw error;\n      }\n    };\n\n    return AsapScheduler;\n  }(AsyncScheduler);\n\n  var asap = new AsapScheduler(AsapAction);\n  var async = new AsyncScheduler(AsyncAction);\n\n  var AnimationFrameAction = function (_super) {\n    __extends(AnimationFrameAction, _super);\n\n    function AnimationFrameAction(scheduler, work) {\n      var _this = _super.call(this, scheduler, work) || this;\n\n      _this.scheduler = scheduler;\n      _this.work = work;\n      return _this;\n    }\n\n    AnimationFrameAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n\n      if (delay !== null && delay > 0) {\n        return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n      }\n\n      scheduler.actions.push(this);\n      return scheduler.scheduled || (scheduler.scheduled = requestAnimationFrame(function () {\n        return scheduler.flush(null);\n      }));\n    };\n\n    AnimationFrameAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n\n      if (delay !== null && delay > 0 || delay === null && this.delay > 0) {\n        return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);\n      }\n\n      if (scheduler.actions.length === 0) {\n        cancelAnimationFrame(id);\n        scheduler.scheduled = undefined;\n      }\n\n      return undefined;\n    };\n\n    return AnimationFrameAction;\n  }(AsyncAction);\n\n  var AnimationFrameScheduler = function (_super) {\n    __extends(AnimationFrameScheduler, _super);\n\n    function AnimationFrameScheduler() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    AnimationFrameScheduler.prototype.flush = function (action) {\n      this.active = true;\n      this.scheduled = undefined;\n      var actions = this.actions;\n      var error;\n      var index = -1;\n      var count = actions.length;\n      action = action || actions.shift();\n\n      do {\n        if (error = action.execute(action.state, action.delay)) {\n          break;\n        }\n      } while (++index < count && (action = actions.shift()));\n\n      this.active = false;\n\n      if (error) {\n        while (++index < count && (action = actions.shift())) {\n          action.unsubscribe();\n        }\n\n        throw error;\n      }\n    };\n\n    return AnimationFrameScheduler;\n  }(AsyncScheduler);\n\n  var animationFrame = new AnimationFrameScheduler(AnimationFrameAction);\n\n  var VirtualTimeScheduler = function (_super) {\n    __extends(VirtualTimeScheduler, _super);\n\n    function VirtualTimeScheduler(SchedulerAction, maxFrames) {\n      if (SchedulerAction === void 0) {\n        SchedulerAction = VirtualAction;\n      }\n\n      if (maxFrames === void 0) {\n        maxFrames = Number.POSITIVE_INFINITY;\n      }\n\n      var _this = _super.call(this, SchedulerAction, function () {\n        return _this.frame;\n      }) || this;\n\n      _this.maxFrames = maxFrames;\n      _this.frame = 0;\n      _this.index = -1;\n      return _this;\n    }\n\n    VirtualTimeScheduler.prototype.flush = function () {\n      var _a = this,\n          actions = _a.actions,\n          maxFrames = _a.maxFrames;\n\n      var error, action;\n\n      while ((action = actions[0]) && action.delay <= maxFrames) {\n        actions.shift();\n        this.frame = action.delay;\n\n        if (error = action.execute(action.state, action.delay)) {\n          break;\n        }\n      }\n\n      if (error) {\n        while (action = actions.shift()) {\n          action.unsubscribe();\n        }\n\n        throw error;\n      }\n    };\n\n    VirtualTimeScheduler.frameTimeFactor = 10;\n    return VirtualTimeScheduler;\n  }(AsyncScheduler);\n\n  var VirtualAction = function (_super) {\n    __extends(VirtualAction, _super);\n\n    function VirtualAction(scheduler, work, index) {\n      if (index === void 0) {\n        index = scheduler.index += 1;\n      }\n\n      var _this = _super.call(this, scheduler, work) || this;\n\n      _this.scheduler = scheduler;\n      _this.work = work;\n      _this.index = index;\n      _this.active = true;\n      _this.index = scheduler.index = index;\n      return _this;\n    }\n\n    VirtualAction.prototype.schedule = function (state, delay) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n\n      if (!this.id) {\n        return _super.prototype.schedule.call(this, state, delay);\n      }\n\n      this.active = false;\n      var action = new VirtualAction(this.scheduler, this.work);\n      this.add(action);\n      return action.schedule(state, delay);\n    };\n\n    VirtualAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n\n      this.delay = scheduler.frame + delay;\n      var actions = scheduler.actions;\n      actions.push(this);\n      actions.sort(VirtualAction.sortActions);\n      return true;\n    };\n\n    VirtualAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n\n      return undefined;\n    };\n\n    VirtualAction.prototype._execute = function (state, delay) {\n      if (this.active === true) {\n        return _super.prototype._execute.call(this, state, delay);\n      }\n    };\n\n    VirtualAction.sortActions = function (a, b) {\n      if (a.delay === b.delay) {\n        if (a.index === b.index) {\n          return 0;\n        } else if (a.index > b.index) {\n          return 1;\n        } else {\n          return -1;\n        }\n      } else if (a.delay > b.delay) {\n        return 1;\n      } else {\n        return -1;\n      }\n    };\n\n    return VirtualAction;\n  }(AsyncAction);\n\n  function noop() {}\n\n  function isObservable(obj) {\n    return !!obj && (obj instanceof Observable || typeof obj.lift === 'function' && typeof obj.subscribe === 'function');\n  }\n\n  var ArgumentOutOfRangeErrorImpl = function () {\n    function ArgumentOutOfRangeErrorImpl() {\n      Error.call(this);\n      this.message = 'argument out of range';\n      this.name = 'ArgumentOutOfRangeError';\n      return this;\n    }\n\n    ArgumentOutOfRangeErrorImpl.prototype = Object.create(Error.prototype);\n    return ArgumentOutOfRangeErrorImpl;\n  }();\n\n  var ArgumentOutOfRangeError = ArgumentOutOfRangeErrorImpl;\n\n  var EmptyErrorImpl = function () {\n    function EmptyErrorImpl() {\n      Error.call(this);\n      this.message = 'no elements in sequence';\n      this.name = 'EmptyError';\n      return this;\n    }\n\n    EmptyErrorImpl.prototype = Object.create(Error.prototype);\n    return EmptyErrorImpl;\n  }();\n\n  var EmptyError = EmptyErrorImpl;\n\n  var TimeoutErrorImpl = function () {\n    function TimeoutErrorImpl() {\n      Error.call(this);\n      this.message = 'Timeout has occurred';\n      this.name = 'TimeoutError';\n      return this;\n    }\n\n    TimeoutErrorImpl.prototype = Object.create(Error.prototype);\n    return TimeoutErrorImpl;\n  }();\n\n  var TimeoutError = TimeoutErrorImpl;\n\n  function map(project, thisArg) {\n    return function mapOperation(source) {\n      if (typeof project !== 'function') {\n        throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n      }\n\n      return source.lift(new MapOperator(project, thisArg));\n    };\n  }\n\n  var MapOperator = function () {\n    function MapOperator(project, thisArg) {\n      this.project = project;\n      this.thisArg = thisArg;\n    }\n\n    MapOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n    };\n\n    return MapOperator;\n  }();\n\n  var MapSubscriber = function (_super) {\n    __extends(MapSubscriber, _super);\n\n    function MapSubscriber(destination, project, thisArg) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.project = project;\n      _this.count = 0;\n      _this.thisArg = thisArg || _this;\n      return _this;\n    }\n\n    MapSubscriber.prototype._next = function (value) {\n      var result;\n\n      try {\n        result = this.project.call(this.thisArg, value, this.count++);\n      } catch (err) {\n        this.destination.error(err);\n        return;\n      }\n\n      this.destination.next(result);\n    };\n\n    return MapSubscriber;\n  }(Subscriber);\n\n  function bindCallback(callbackFunc, resultSelector, scheduler) {\n    if (resultSelector) {\n      if (isScheduler(resultSelector)) {\n        scheduler = resultSelector;\n      } else {\n        return function () {\n          var args = [];\n\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n\n          return bindCallback(callbackFunc, scheduler).apply(void 0, args).pipe(map(function (args) {\n            return isArray(args) ? resultSelector.apply(void 0, args) : resultSelector(args);\n          }));\n        };\n      }\n    }\n\n    return function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      var context = this;\n      var subject;\n      var params = {\n        context: context,\n        subject: subject,\n        callbackFunc: callbackFunc,\n        scheduler: scheduler\n      };\n      return new Observable(function (subscriber) {\n        if (!scheduler) {\n          if (!subject) {\n            subject = new AsyncSubject();\n\n            var handler = function () {\n              var innerArgs = [];\n\n              for (var _i = 0; _i < arguments.length; _i++) {\n                innerArgs[_i] = arguments[_i];\n              }\n\n              subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs);\n              subject.complete();\n            };\n\n            try {\n              callbackFunc.apply(context, args.concat([handler]));\n            } catch (err) {\n              if (canReportError(subject)) {\n                subject.error(err);\n              } else {\n                console.warn(err);\n              }\n            }\n          }\n\n          return subject.subscribe(subscriber);\n        } else {\n          var state = {\n            args: args,\n            subscriber: subscriber,\n            params: params\n          };\n          return scheduler.schedule(dispatch$1, 0, state);\n        }\n      });\n    };\n  }\n\n  function dispatch$1(state) {\n    var _this = this;\n\n    var args = state.args,\n        subscriber = state.subscriber,\n        params = state.params;\n    var callbackFunc = params.callbackFunc,\n        context = params.context,\n        scheduler = params.scheduler;\n    var subject = params.subject;\n\n    if (!subject) {\n      subject = params.subject = new AsyncSubject();\n\n      var handler = function () {\n        var innerArgs = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          innerArgs[_i] = arguments[_i];\n        }\n\n        var value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;\n\n        _this.add(scheduler.schedule(dispatchNext, 0, {\n          value: value,\n          subject: subject\n        }));\n      };\n\n      try {\n        callbackFunc.apply(context, args.concat([handler]));\n      } catch (err) {\n        subject.error(err);\n      }\n    }\n\n    this.add(subject.subscribe(subscriber));\n  }\n\n  function dispatchNext(state) {\n    var value = state.value,\n        subject = state.subject;\n    subject.next(value);\n    subject.complete();\n  }\n\n  function bindNodeCallback(callbackFunc, resultSelector, scheduler) {\n    if (resultSelector) {\n      if (isScheduler(resultSelector)) {\n        scheduler = resultSelector;\n      } else {\n        return function () {\n          var args = [];\n\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n\n          return bindNodeCallback(callbackFunc, scheduler).apply(void 0, args).pipe(map(function (args) {\n            return isArray(args) ? resultSelector.apply(void 0, args) : resultSelector(args);\n          }));\n        };\n      }\n    }\n\n    return function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      var params = {\n        subject: undefined,\n        args: args,\n        callbackFunc: callbackFunc,\n        scheduler: scheduler,\n        context: this\n      };\n      return new Observable(function (subscriber) {\n        var context = params.context;\n        var subject = params.subject;\n\n        if (!scheduler) {\n          if (!subject) {\n            subject = params.subject = new AsyncSubject();\n\n            var handler = function () {\n              var innerArgs = [];\n\n              for (var _i = 0; _i < arguments.length; _i++) {\n                innerArgs[_i] = arguments[_i];\n              }\n\n              var err = innerArgs.shift();\n\n              if (err) {\n                subject.error(err);\n                return;\n              }\n\n              subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs);\n              subject.complete();\n            };\n\n            try {\n              callbackFunc.apply(context, args.concat([handler]));\n            } catch (err) {\n              if (canReportError(subject)) {\n                subject.error(err);\n              } else {\n                console.warn(err);\n              }\n            }\n          }\n\n          return subject.subscribe(subscriber);\n        } else {\n          return scheduler.schedule(dispatch$2, 0, {\n            params: params,\n            subscriber: subscriber,\n            context: context\n          });\n        }\n      });\n    };\n  }\n\n  function dispatch$2(state) {\n    var _this = this;\n\n    var params = state.params,\n        subscriber = state.subscriber,\n        context = state.context;\n    var callbackFunc = params.callbackFunc,\n        args = params.args,\n        scheduler = params.scheduler;\n    var subject = params.subject;\n\n    if (!subject) {\n      subject = params.subject = new AsyncSubject();\n\n      var handler = function () {\n        var innerArgs = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          innerArgs[_i] = arguments[_i];\n        }\n\n        var err = innerArgs.shift();\n\n        if (err) {\n          _this.add(scheduler.schedule(dispatchError$1, 0, {\n            err: err,\n            subject: subject\n          }));\n        } else {\n          var value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;\n\n          _this.add(scheduler.schedule(dispatchNext$1, 0, {\n            value: value,\n            subject: subject\n          }));\n        }\n      };\n\n      try {\n        callbackFunc.apply(context, args.concat([handler]));\n      } catch (err) {\n        this.add(scheduler.schedule(dispatchError$1, 0, {\n          err: err,\n          subject: subject\n        }));\n      }\n    }\n\n    this.add(subject.subscribe(subscriber));\n  }\n\n  function dispatchNext$1(arg) {\n    var value = arg.value,\n        subject = arg.subject;\n    subject.next(value);\n    subject.complete();\n  }\n\n  function dispatchError$1(arg) {\n    var err = arg.err,\n        subject = arg.subject;\n    subject.error(err);\n  }\n\n  var OuterSubscriber = function (_super) {\n    __extends(OuterSubscriber, _super);\n\n    function OuterSubscriber() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    OuterSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n      this.destination.next(innerValue);\n    };\n\n    OuterSubscriber.prototype.notifyError = function (error, innerSub) {\n      this.destination.error(error);\n    };\n\n    OuterSubscriber.prototype.notifyComplete = function (innerSub) {\n      this.destination.complete();\n    };\n\n    return OuterSubscriber;\n  }(Subscriber);\n\n  var InnerSubscriber = function (_super) {\n    __extends(InnerSubscriber, _super);\n\n    function InnerSubscriber(parent, outerValue, outerIndex) {\n      var _this = _super.call(this) || this;\n\n      _this.parent = parent;\n      _this.outerValue = outerValue;\n      _this.outerIndex = outerIndex;\n      _this.index = 0;\n      return _this;\n    }\n\n    InnerSubscriber.prototype._next = function (value) {\n      this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);\n    };\n\n    InnerSubscriber.prototype._error = function (error) {\n      this.parent.notifyError(error, this);\n      this.unsubscribe();\n    };\n\n    InnerSubscriber.prototype._complete = function () {\n      this.parent.notifyComplete(this);\n      this.unsubscribe();\n    };\n\n    return InnerSubscriber;\n  }(Subscriber);\n\n  var subscribeToPromise = function (promise) {\n    return function (subscriber) {\n      promise.then(function (value) {\n        if (!subscriber.closed) {\n          subscriber.next(value);\n          subscriber.complete();\n        }\n      }, function (err) {\n        return subscriber.error(err);\n      }).then(null, hostReportError);\n      return subscriber;\n    };\n  };\n\n  function getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n      return '@@iterator';\n    }\n\n    return Symbol.iterator;\n  }\n\n  var iterator = getSymbolIterator();\n\n  var subscribeToIterable = function (iterable) {\n    return function (subscriber) {\n      var iterator$$1 = iterable[iterator]();\n\n      do {\n        var item = iterator$$1.next();\n\n        if (item.done) {\n          subscriber.complete();\n          break;\n        }\n\n        subscriber.next(item.value);\n\n        if (subscriber.closed) {\n          break;\n        }\n      } while (true);\n\n      if (typeof iterator$$1.return === 'function') {\n        subscriber.add(function () {\n          if (iterator$$1.return) {\n            iterator$$1.return();\n          }\n        });\n      }\n\n      return subscriber;\n    };\n  };\n\n  var subscribeToObservable = function (obj) {\n    return function (subscriber) {\n      var obs = obj[observable]();\n\n      if (typeof obs.subscribe !== 'function') {\n        throw new TypeError('Provided object does not correctly implement Symbol.observable');\n      } else {\n        return obs.subscribe(subscriber);\n      }\n    };\n  };\n\n  var isArrayLike = function (x) {\n    return x && typeof x.length === 'number' && typeof x !== 'function';\n  };\n\n  function isPromise(value) {\n    return !!value && typeof value.subscribe !== 'function' && typeof value.then === 'function';\n  }\n\n  var subscribeTo = function (result) {\n    if (!!result && typeof result[observable] === 'function') {\n      return subscribeToObservable(result);\n    } else if (isArrayLike(result)) {\n      return subscribeToArray(result);\n    } else if (isPromise(result)) {\n      return subscribeToPromise(result);\n    } else if (!!result && typeof result[iterator] === 'function') {\n      return subscribeToIterable(result);\n    } else {\n      var value = isObject(result) ? 'an invalid object' : \"'\" + result + \"'\";\n      var msg = \"You provided \" + value + \" where a stream was expected.\" + ' You can provide an Observable, Promise, Array, or Iterable.';\n      throw new TypeError(msg);\n    }\n  };\n\n  function subscribeToResult(outerSubscriber, result, outerValue, outerIndex, innerSubscriber) {\n    if (innerSubscriber === void 0) {\n      innerSubscriber = new InnerSubscriber(outerSubscriber, outerValue, outerIndex);\n    }\n\n    if (innerSubscriber.closed) {\n      return undefined;\n    }\n\n    if (result instanceof Observable) {\n      return result.subscribe(innerSubscriber);\n    }\n\n    return subscribeTo(result)(innerSubscriber);\n  }\n\n  var NONE = {};\n\n  function combineLatest() {\n    var observables = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      observables[_i] = arguments[_i];\n    }\n\n    var resultSelector = null;\n    var scheduler = null;\n\n    if (isScheduler(observables[observables.length - 1])) {\n      scheduler = observables.pop();\n    }\n\n    if (typeof observables[observables.length - 1] === 'function') {\n      resultSelector = observables.pop();\n    }\n\n    if (observables.length === 1 && isArray(observables[0])) {\n      observables = observables[0];\n    }\n\n    return fromArray(observables, scheduler).lift(new CombineLatestOperator(resultSelector));\n  }\n\n  var CombineLatestOperator = function () {\n    function CombineLatestOperator(resultSelector) {\n      this.resultSelector = resultSelector;\n    }\n\n    CombineLatestOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new CombineLatestSubscriber(subscriber, this.resultSelector));\n    };\n\n    return CombineLatestOperator;\n  }();\n\n  var CombineLatestSubscriber = function (_super) {\n    __extends(CombineLatestSubscriber, _super);\n\n    function CombineLatestSubscriber(destination, resultSelector) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.resultSelector = resultSelector;\n      _this.active = 0;\n      _this.values = [];\n      _this.observables = [];\n      return _this;\n    }\n\n    CombineLatestSubscriber.prototype._next = function (observable) {\n      this.values.push(NONE);\n      this.observables.push(observable);\n    };\n\n    CombineLatestSubscriber.prototype._complete = function () {\n      var observables = this.observables;\n      var len = observables.length;\n\n      if (len === 0) {\n        this.destination.complete();\n      } else {\n        this.active = len;\n        this.toRespond = len;\n\n        for (var i = 0; i < len; i++) {\n          var observable = observables[i];\n          this.add(subscribeToResult(this, observable, observable, i));\n        }\n      }\n    };\n\n    CombineLatestSubscriber.prototype.notifyComplete = function (unused) {\n      if ((this.active -= 1) === 0) {\n        this.destination.complete();\n      }\n    };\n\n    CombineLatestSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n      var values = this.values;\n      var oldVal = values[outerIndex];\n      var toRespond = !this.toRespond ? 0 : oldVal === NONE ? --this.toRespond : this.toRespond;\n      values[outerIndex] = innerValue;\n\n      if (toRespond === 0) {\n        if (this.resultSelector) {\n          this._tryResultSelector(values);\n        } else {\n          this.destination.next(values.slice());\n        }\n      }\n    };\n\n    CombineLatestSubscriber.prototype._tryResultSelector = function (values) {\n      var result;\n\n      try {\n        result = this.resultSelector.apply(this, values);\n      } catch (err) {\n        this.destination.error(err);\n        return;\n      }\n\n      this.destination.next(result);\n    };\n\n    return CombineLatestSubscriber;\n  }(OuterSubscriber);\n\n  function scheduleObservable(input, scheduler) {\n    return new Observable(function (subscriber) {\n      var sub = new Subscription();\n      sub.add(scheduler.schedule(function () {\n        var observable$$1 = input[observable]();\n        sub.add(observable$$1.subscribe({\n          next: function (value) {\n            sub.add(scheduler.schedule(function () {\n              return subscriber.next(value);\n            }));\n          },\n          error: function (err) {\n            sub.add(scheduler.schedule(function () {\n              return subscriber.error(err);\n            }));\n          },\n          complete: function () {\n            sub.add(scheduler.schedule(function () {\n              return subscriber.complete();\n            }));\n          }\n        }));\n      }));\n      return sub;\n    });\n  }\n\n  function schedulePromise(input, scheduler) {\n    return new Observable(function (subscriber) {\n      var sub = new Subscription();\n      sub.add(scheduler.schedule(function () {\n        return input.then(function (value) {\n          sub.add(scheduler.schedule(function () {\n            subscriber.next(value);\n            sub.add(scheduler.schedule(function () {\n              return subscriber.complete();\n            }));\n          }));\n        }, function (err) {\n          sub.add(scheduler.schedule(function () {\n            return subscriber.error(err);\n          }));\n        });\n      }));\n      return sub;\n    });\n  }\n\n  function scheduleIterable(input, scheduler) {\n    if (!input) {\n      throw new Error('Iterable cannot be null');\n    }\n\n    return new Observable(function (subscriber) {\n      var sub = new Subscription();\n      var iterator$$1;\n      sub.add(function () {\n        if (iterator$$1 && typeof iterator$$1.return === 'function') {\n          iterator$$1.return();\n        }\n      });\n      sub.add(scheduler.schedule(function () {\n        iterator$$1 = input[iterator]();\n        sub.add(scheduler.schedule(function () {\n          if (subscriber.closed) {\n            return;\n          }\n\n          var value;\n          var done;\n\n          try {\n            var result = iterator$$1.next();\n            value = result.value;\n            done = result.done;\n          } catch (err) {\n            subscriber.error(err);\n            return;\n          }\n\n          if (done) {\n            subscriber.complete();\n          } else {\n            subscriber.next(value);\n            this.schedule();\n          }\n        }));\n      }));\n      return sub;\n    });\n  }\n\n  function isInteropObservable(input) {\n    return input && typeof input[observable] === 'function';\n  }\n\n  function isIterable(input) {\n    return input && typeof input[iterator] === 'function';\n  }\n\n  function scheduled(input, scheduler) {\n    if (input != null) {\n      if (isInteropObservable(input)) {\n        return scheduleObservable(input, scheduler);\n      } else if (isPromise(input)) {\n        return schedulePromise(input, scheduler);\n      } else if (isArrayLike(input)) {\n        return scheduleArray(input, scheduler);\n      } else if (isIterable(input) || typeof input === 'string') {\n        return scheduleIterable(input, scheduler);\n      }\n    }\n\n    throw new TypeError((input !== null && typeof input || input) + ' is not observable');\n  }\n\n  function from(input, scheduler) {\n    if (!scheduler) {\n      if (input instanceof Observable) {\n        return input;\n      }\n\n      return new Observable(subscribeTo(input));\n    } else {\n      return scheduled(input, scheduler);\n    }\n  }\n\n  function mergeMap(project, resultSelector, concurrent) {\n    if (concurrent === void 0) {\n      concurrent = Number.POSITIVE_INFINITY;\n    }\n\n    if (typeof resultSelector === 'function') {\n      return function (source) {\n        return source.pipe(mergeMap(function (a, i) {\n          return from(project(a, i)).pipe(map(function (b, ii) {\n            return resultSelector(a, b, i, ii);\n          }));\n        }, concurrent));\n      };\n    } else if (typeof resultSelector === 'number') {\n      concurrent = resultSelector;\n    }\n\n    return function (source) {\n      return source.lift(new MergeMapOperator(project, concurrent));\n    };\n  }\n\n  var MergeMapOperator = function () {\n    function MergeMapOperator(project, concurrent) {\n      if (concurrent === void 0) {\n        concurrent = Number.POSITIVE_INFINITY;\n      }\n\n      this.project = project;\n      this.concurrent = concurrent;\n    }\n\n    MergeMapOperator.prototype.call = function (observer, source) {\n      return source.subscribe(new MergeMapSubscriber(observer, this.project, this.concurrent));\n    };\n\n    return MergeMapOperator;\n  }();\n\n  var MergeMapSubscriber = function (_super) {\n    __extends(MergeMapSubscriber, _super);\n\n    function MergeMapSubscriber(destination, project, concurrent) {\n      if (concurrent === void 0) {\n        concurrent = Number.POSITIVE_INFINITY;\n      }\n\n      var _this = _super.call(this, destination) || this;\n\n      _this.project = project;\n      _this.concurrent = concurrent;\n      _this.hasCompleted = false;\n      _this.buffer = [];\n      _this.active = 0;\n      _this.index = 0;\n      return _this;\n    }\n\n    MergeMapSubscriber.prototype._next = function (value) {\n      if (this.active < this.concurrent) {\n        this._tryNext(value);\n      } else {\n        this.buffer.push(value);\n      }\n    };\n\n    MergeMapSubscriber.prototype._tryNext = function (value) {\n      var result;\n      var index = this.index++;\n\n      try {\n        result = this.project(value, index);\n      } catch (err) {\n        this.destination.error(err);\n        return;\n      }\n\n      this.active++;\n\n      this._innerSub(result, value, index);\n    };\n\n    MergeMapSubscriber.prototype._innerSub = function (ish, value, index) {\n      var innerSubscriber = new InnerSubscriber(this, value, index);\n      var destination = this.destination;\n      destination.add(innerSubscriber);\n      var innerSubscription = subscribeToResult(this, ish, undefined, undefined, innerSubscriber);\n\n      if (innerSubscription !== innerSubscriber) {\n        destination.add(innerSubscription);\n      }\n    };\n\n    MergeMapSubscriber.prototype._complete = function () {\n      this.hasCompleted = true;\n\n      if (this.active === 0 && this.buffer.length === 0) {\n        this.destination.complete();\n      }\n\n      this.unsubscribe();\n    };\n\n    MergeMapSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n      this.destination.next(innerValue);\n    };\n\n    MergeMapSubscriber.prototype.notifyComplete = function (innerSub) {\n      var buffer = this.buffer;\n      this.remove(innerSub);\n      this.active--;\n\n      if (buffer.length > 0) {\n        this._next(buffer.shift());\n      } else if (this.active === 0 && this.hasCompleted) {\n        this.destination.complete();\n      }\n    };\n\n    return MergeMapSubscriber;\n  }(OuterSubscriber);\n\n  function mergeAll(concurrent) {\n    if (concurrent === void 0) {\n      concurrent = Number.POSITIVE_INFINITY;\n    }\n\n    return mergeMap(identity, concurrent);\n  }\n\n  function concatAll() {\n    return mergeAll(1);\n  }\n\n  function concat() {\n    var observables = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      observables[_i] = arguments[_i];\n    }\n\n    return concatAll()(of.apply(void 0, observables));\n  }\n\n  function defer(observableFactory) {\n    return new Observable(function (subscriber) {\n      var input;\n\n      try {\n        input = observableFactory();\n      } catch (err) {\n        subscriber.error(err);\n        return undefined;\n      }\n\n      var source = input ? from(input) : empty$1();\n      return source.subscribe(subscriber);\n    });\n  }\n\n  function forkJoin() {\n    var sources = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      sources[_i] = arguments[_i];\n    }\n\n    if (sources.length === 1) {\n      var first_1 = sources[0];\n\n      if (isArray(first_1)) {\n        return forkJoinInternal(first_1, null);\n      }\n\n      if (isObject(first_1) && Object.getPrototypeOf(first_1) === Object.prototype) {\n        var keys = Object.keys(first_1);\n        return forkJoinInternal(keys.map(function (key) {\n          return first_1[key];\n        }), keys);\n      }\n    }\n\n    if (typeof sources[sources.length - 1] === 'function') {\n      var resultSelector_1 = sources.pop();\n      sources = sources.length === 1 && isArray(sources[0]) ? sources[0] : sources;\n      return forkJoinInternal(sources, null).pipe(map(function (args) {\n        return resultSelector_1.apply(void 0, args);\n      }));\n    }\n\n    return forkJoinInternal(sources, null);\n  }\n\n  function forkJoinInternal(sources, keys) {\n    return new Observable(function (subscriber) {\n      var len = sources.length;\n\n      if (len === 0) {\n        subscriber.complete();\n        return;\n      }\n\n      var values = new Array(len);\n      var completed = 0;\n      var emitted = 0;\n\n      var _loop_1 = function (i) {\n        var source = from(sources[i]);\n        var hasValue = false;\n        subscriber.add(source.subscribe({\n          next: function (value) {\n            if (!hasValue) {\n              hasValue = true;\n              emitted++;\n            }\n\n            values[i] = value;\n          },\n          error: function (err) {\n            return subscriber.error(err);\n          },\n          complete: function () {\n            completed++;\n\n            if (completed === len || !hasValue) {\n              if (emitted === len) {\n                subscriber.next(keys ? keys.reduce(function (result, key, i) {\n                  return result[key] = values[i], result;\n                }, {}) : values);\n              }\n\n              subscriber.complete();\n            }\n          }\n        }));\n      };\n\n      for (var i = 0; i < len; i++) {\n        _loop_1(i);\n      }\n    });\n  }\n\n  function fromEvent(target, eventName, options, resultSelector) {\n    if (isFunction(options)) {\n      resultSelector = options;\n      options = undefined;\n    }\n\n    if (resultSelector) {\n      return fromEvent(target, eventName, options).pipe(map(function (args) {\n        return isArray(args) ? resultSelector.apply(void 0, args) : resultSelector(args);\n      }));\n    }\n\n    return new Observable(function (subscriber) {\n      function handler(e) {\n        if (arguments.length > 1) {\n          subscriber.next(Array.prototype.slice.call(arguments));\n        } else {\n          subscriber.next(e);\n        }\n      }\n\n      setupSubscription(target, eventName, handler, subscriber, options);\n    });\n  }\n\n  function setupSubscription(sourceObj, eventName, handler, subscriber, options) {\n    var unsubscribe;\n\n    if (isEventTarget(sourceObj)) {\n      var source_1 = sourceObj;\n      sourceObj.addEventListener(eventName, handler, options);\n\n      unsubscribe = function () {\n        return source_1.removeEventListener(eventName, handler, options);\n      };\n    } else if (isJQueryStyleEventEmitter(sourceObj)) {\n      var source_2 = sourceObj;\n      sourceObj.on(eventName, handler);\n\n      unsubscribe = function () {\n        return source_2.off(eventName, handler);\n      };\n    } else if (isNodeStyleEventEmitter(sourceObj)) {\n      var source_3 = sourceObj;\n      sourceObj.addListener(eventName, handler);\n\n      unsubscribe = function () {\n        return source_3.removeListener(eventName, handler);\n      };\n    } else if (sourceObj && sourceObj.length) {\n      for (var i = 0, len = sourceObj.length; i < len; i++) {\n        setupSubscription(sourceObj[i], eventName, handler, subscriber, options);\n      }\n    } else {\n      throw new TypeError('Invalid event target');\n    }\n\n    subscriber.add(unsubscribe);\n  }\n\n  function isNodeStyleEventEmitter(sourceObj) {\n    return sourceObj && typeof sourceObj.addListener === 'function' && typeof sourceObj.removeListener === 'function';\n  }\n\n  function isJQueryStyleEventEmitter(sourceObj) {\n    return sourceObj && typeof sourceObj.on === 'function' && typeof sourceObj.off === 'function';\n  }\n\n  function isEventTarget(sourceObj) {\n    return sourceObj && typeof sourceObj.addEventListener === 'function' && typeof sourceObj.removeEventListener === 'function';\n  }\n\n  function fromEventPattern(addHandler, removeHandler, resultSelector) {\n    if (resultSelector) {\n      return fromEventPattern(addHandler, removeHandler).pipe(map(function (args) {\n        return isArray(args) ? resultSelector.apply(void 0, args) : resultSelector(args);\n      }));\n    }\n\n    return new Observable(function (subscriber) {\n      var handler = function () {\n        var e = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          e[_i] = arguments[_i];\n        }\n\n        return subscriber.next(e.length === 1 ? e[0] : e);\n      };\n\n      var retValue;\n\n      try {\n        retValue = addHandler(handler);\n      } catch (err) {\n        subscriber.error(err);\n        return undefined;\n      }\n\n      if (!isFunction(removeHandler)) {\n        return undefined;\n      }\n\n      return function () {\n        return removeHandler(handler, retValue);\n      };\n    });\n  }\n\n  function generate(initialStateOrOptions, condition, iterate, resultSelectorOrObservable, scheduler) {\n    var resultSelector;\n    var initialState;\n\n    if (arguments.length == 1) {\n      var options = initialStateOrOptions;\n      initialState = options.initialState;\n      condition = options.condition;\n      iterate = options.iterate;\n      resultSelector = options.resultSelector || identity;\n      scheduler = options.scheduler;\n    } else if (resultSelectorOrObservable === undefined || isScheduler(resultSelectorOrObservable)) {\n      initialState = initialStateOrOptions;\n      resultSelector = identity;\n      scheduler = resultSelectorOrObservable;\n    } else {\n      initialState = initialStateOrOptions;\n      resultSelector = resultSelectorOrObservable;\n    }\n\n    return new Observable(function (subscriber) {\n      var state = initialState;\n\n      if (scheduler) {\n        return scheduler.schedule(dispatch$3, 0, {\n          subscriber: subscriber,\n          iterate: iterate,\n          condition: condition,\n          resultSelector: resultSelector,\n          state: state\n        });\n      }\n\n      do {\n        if (condition) {\n          var conditionResult = void 0;\n\n          try {\n            conditionResult = condition(state);\n          } catch (err) {\n            subscriber.error(err);\n            return undefined;\n          }\n\n          if (!conditionResult) {\n            subscriber.complete();\n            break;\n          }\n        }\n\n        var value = void 0;\n\n        try {\n          value = resultSelector(state);\n        } catch (err) {\n          subscriber.error(err);\n          return undefined;\n        }\n\n        subscriber.next(value);\n\n        if (subscriber.closed) {\n          break;\n        }\n\n        try {\n          state = iterate(state);\n        } catch (err) {\n          subscriber.error(err);\n          return undefined;\n        }\n      } while (true);\n\n      return undefined;\n    });\n  }\n\n  function dispatch$3(state) {\n    var subscriber = state.subscriber,\n        condition = state.condition;\n\n    if (subscriber.closed) {\n      return undefined;\n    }\n\n    if (state.needIterate) {\n      try {\n        state.state = state.iterate(state.state);\n      } catch (err) {\n        subscriber.error(err);\n        return undefined;\n      }\n    } else {\n      state.needIterate = true;\n    }\n\n    if (condition) {\n      var conditionResult = void 0;\n\n      try {\n        conditionResult = condition(state.state);\n      } catch (err) {\n        subscriber.error(err);\n        return undefined;\n      }\n\n      if (!conditionResult) {\n        subscriber.complete();\n        return undefined;\n      }\n\n      if (subscriber.closed) {\n        return undefined;\n      }\n    }\n\n    var value;\n\n    try {\n      value = state.resultSelector(state.state);\n    } catch (err) {\n      subscriber.error(err);\n      return undefined;\n    }\n\n    if (subscriber.closed) {\n      return undefined;\n    }\n\n    subscriber.next(value);\n\n    if (subscriber.closed) {\n      return undefined;\n    }\n\n    return this.schedule(state);\n  }\n\n  function iif(condition, trueResult, falseResult) {\n    if (trueResult === void 0) {\n      trueResult = EMPTY;\n    }\n\n    if (falseResult === void 0) {\n      falseResult = EMPTY;\n    }\n\n    return defer(function () {\n      return condition() ? trueResult : falseResult;\n    });\n  }\n\n  function isNumeric(val) {\n    return !isArray(val) && val - parseFloat(val) + 1 >= 0;\n  }\n\n  function interval(period, scheduler) {\n    if (period === void 0) {\n      period = 0;\n    }\n\n    if (scheduler === void 0) {\n      scheduler = async;\n    }\n\n    if (!isNumeric(period) || period < 0) {\n      period = 0;\n    }\n\n    if (!scheduler || typeof scheduler.schedule !== 'function') {\n      scheduler = async;\n    }\n\n    return new Observable(function (subscriber) {\n      subscriber.add(scheduler.schedule(dispatch$4, period, {\n        subscriber: subscriber,\n        counter: 0,\n        period: period\n      }));\n      return subscriber;\n    });\n  }\n\n  function dispatch$4(state) {\n    var subscriber = state.subscriber,\n        counter = state.counter,\n        period = state.period;\n    subscriber.next(counter);\n    this.schedule({\n      subscriber: subscriber,\n      counter: counter + 1,\n      period: period\n    }, period);\n  }\n\n  function merge() {\n    var observables = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      observables[_i] = arguments[_i];\n    }\n\n    var concurrent = Number.POSITIVE_INFINITY;\n    var scheduler = null;\n    var last = observables[observables.length - 1];\n\n    if (isScheduler(last)) {\n      scheduler = observables.pop();\n\n      if (observables.length > 1 && typeof observables[observables.length - 1] === 'number') {\n        concurrent = observables.pop();\n      }\n    } else if (typeof last === 'number') {\n      concurrent = observables.pop();\n    }\n\n    if (scheduler === null && observables.length === 1 && observables[0] instanceof Observable) {\n      return observables[0];\n    }\n\n    return mergeAll(concurrent)(fromArray(observables, scheduler));\n  }\n\n  var NEVER = new Observable(noop);\n\n  function never() {\n    return NEVER;\n  }\n\n  function onErrorResumeNext() {\n    var sources = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      sources[_i] = arguments[_i];\n    }\n\n    if (sources.length === 0) {\n      return EMPTY;\n    }\n\n    var first = sources[0],\n        remainder = sources.slice(1);\n\n    if (sources.length === 1 && isArray(first)) {\n      return onErrorResumeNext.apply(void 0, first);\n    }\n\n    return new Observable(function (subscriber) {\n      var subNext = function () {\n        return subscriber.add(onErrorResumeNext.apply(void 0, remainder).subscribe(subscriber));\n      };\n\n      return from(first).subscribe({\n        next: function (value) {\n          subscriber.next(value);\n        },\n        error: subNext,\n        complete: subNext\n      });\n    });\n  }\n\n  function pairs(obj, scheduler) {\n    if (!scheduler) {\n      return new Observable(function (subscriber) {\n        var keys = Object.keys(obj);\n\n        for (var i = 0; i < keys.length && !subscriber.closed; i++) {\n          var key = keys[i];\n\n          if (obj.hasOwnProperty(key)) {\n            subscriber.next([key, obj[key]]);\n          }\n        }\n\n        subscriber.complete();\n      });\n    } else {\n      return new Observable(function (subscriber) {\n        var keys = Object.keys(obj);\n        var subscription = new Subscription();\n        subscription.add(scheduler.schedule(dispatch$5, 0, {\n          keys: keys,\n          index: 0,\n          subscriber: subscriber,\n          subscription: subscription,\n          obj: obj\n        }));\n        return subscription;\n      });\n    }\n  }\n\n  function dispatch$5(state) {\n    var keys = state.keys,\n        index = state.index,\n        subscriber = state.subscriber,\n        subscription = state.subscription,\n        obj = state.obj;\n\n    if (!subscriber.closed) {\n      if (index < keys.length) {\n        var key = keys[index];\n        subscriber.next([key, obj[key]]);\n        subscription.add(this.schedule({\n          keys: keys,\n          index: index + 1,\n          subscriber: subscriber,\n          subscription: subscription,\n          obj: obj\n        }));\n      } else {\n        subscriber.complete();\n      }\n    }\n  }\n\n  function not(pred, thisArg) {\n    function notPred() {\n      return !notPred.pred.apply(notPred.thisArg, arguments);\n    }\n\n    notPred.pred = pred;\n    notPred.thisArg = thisArg;\n    return notPred;\n  }\n\n  function filter(predicate, thisArg) {\n    return function filterOperatorFunction(source) {\n      return source.lift(new FilterOperator(predicate, thisArg));\n    };\n  }\n\n  var FilterOperator = function () {\n    function FilterOperator(predicate, thisArg) {\n      this.predicate = predicate;\n      this.thisArg = thisArg;\n    }\n\n    FilterOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));\n    };\n\n    return FilterOperator;\n  }();\n\n  var FilterSubscriber = function (_super) {\n    __extends(FilterSubscriber, _super);\n\n    function FilterSubscriber(destination, predicate, thisArg) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.predicate = predicate;\n      _this.thisArg = thisArg;\n      _this.count = 0;\n      return _this;\n    }\n\n    FilterSubscriber.prototype._next = function (value) {\n      var result;\n\n      try {\n        result = this.predicate.call(this.thisArg, value, this.count++);\n      } catch (err) {\n        this.destination.error(err);\n        return;\n      }\n\n      if (result) {\n        this.destination.next(value);\n      }\n    };\n\n    return FilterSubscriber;\n  }(Subscriber);\n\n  function partition(source, predicate, thisArg) {\n    return [filter(predicate, thisArg)(new Observable(subscribeTo(source))), filter(not(predicate, thisArg))(new Observable(subscribeTo(source)))];\n  }\n\n  function race() {\n    var observables = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      observables[_i] = arguments[_i];\n    }\n\n    if (observables.length === 1) {\n      if (isArray(observables[0])) {\n        observables = observables[0];\n      } else {\n        return observables[0];\n      }\n    }\n\n    return fromArray(observables, undefined).lift(new RaceOperator());\n  }\n\n  var RaceOperator = function () {\n    function RaceOperator() {}\n\n    RaceOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new RaceSubscriber(subscriber));\n    };\n\n    return RaceOperator;\n  }();\n\n  var RaceSubscriber = function (_super) {\n    __extends(RaceSubscriber, _super);\n\n    function RaceSubscriber(destination) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.hasFirst = false;\n      _this.observables = [];\n      _this.subscriptions = [];\n      return _this;\n    }\n\n    RaceSubscriber.prototype._next = function (observable) {\n      this.observables.push(observable);\n    };\n\n    RaceSubscriber.prototype._complete = function () {\n      var observables = this.observables;\n      var len = observables.length;\n\n      if (len === 0) {\n        this.destination.complete();\n      } else {\n        for (var i = 0; i < len && !this.hasFirst; i++) {\n          var observable = observables[i];\n          var subscription = subscribeToResult(this, observable, observable, i);\n\n          if (this.subscriptions) {\n            this.subscriptions.push(subscription);\n          }\n\n          this.add(subscription);\n        }\n\n        this.observables = null;\n      }\n    };\n\n    RaceSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n      if (!this.hasFirst) {\n        this.hasFirst = true;\n\n        for (var i = 0; i < this.subscriptions.length; i++) {\n          if (i !== outerIndex) {\n            var subscription = this.subscriptions[i];\n            subscription.unsubscribe();\n            this.remove(subscription);\n          }\n        }\n\n        this.subscriptions = null;\n      }\n\n      this.destination.next(innerValue);\n    };\n\n    return RaceSubscriber;\n  }(OuterSubscriber);\n\n  function range(start, count, scheduler) {\n    if (start === void 0) {\n      start = 0;\n    }\n\n    return new Observable(function (subscriber) {\n      if (count === undefined) {\n        count = start;\n        start = 0;\n      }\n\n      var index = 0;\n      var current = start;\n\n      if (scheduler) {\n        return scheduler.schedule(dispatch$6, 0, {\n          index: index,\n          count: count,\n          start: start,\n          subscriber: subscriber\n        });\n      } else {\n        do {\n          if (index++ >= count) {\n            subscriber.complete();\n            break;\n          }\n\n          subscriber.next(current++);\n\n          if (subscriber.closed) {\n            break;\n          }\n        } while (true);\n      }\n\n      return undefined;\n    });\n  }\n\n  function dispatch$6(state) {\n    var start = state.start,\n        index = state.index,\n        count = state.count,\n        subscriber = state.subscriber;\n\n    if (index >= count) {\n      subscriber.complete();\n      return;\n    }\n\n    subscriber.next(start);\n\n    if (subscriber.closed) {\n      return;\n    }\n\n    state.index = index + 1;\n    state.start = start + 1;\n    this.schedule(state);\n  }\n\n  function timer(dueTime, periodOrScheduler, scheduler) {\n    if (dueTime === void 0) {\n      dueTime = 0;\n    }\n\n    var period = -1;\n\n    if (isNumeric(periodOrScheduler)) {\n      period = Number(periodOrScheduler) < 1 && 1 || Number(periodOrScheduler);\n    } else if (isScheduler(periodOrScheduler)) {\n      scheduler = periodOrScheduler;\n    }\n\n    if (!isScheduler(scheduler)) {\n      scheduler = async;\n    }\n\n    return new Observable(function (subscriber) {\n      var due = isNumeric(dueTime) ? dueTime : +dueTime - scheduler.now();\n      return scheduler.schedule(dispatch$7, due, {\n        index: 0,\n        period: period,\n        subscriber: subscriber\n      });\n    });\n  }\n\n  function dispatch$7(state) {\n    var index = state.index,\n        period = state.period,\n        subscriber = state.subscriber;\n    subscriber.next(index);\n\n    if (subscriber.closed) {\n      return;\n    } else if (period === -1) {\n      return subscriber.complete();\n    }\n\n    state.index = index + 1;\n    this.schedule(state, period);\n  }\n\n  function using(resourceFactory, observableFactory) {\n    return new Observable(function (subscriber) {\n      var resource;\n\n      try {\n        resource = resourceFactory();\n      } catch (err) {\n        subscriber.error(err);\n        return undefined;\n      }\n\n      var result;\n\n      try {\n        result = observableFactory(resource);\n      } catch (err) {\n        subscriber.error(err);\n        return undefined;\n      }\n\n      var source = result ? from(result) : EMPTY;\n      var subscription = source.subscribe(subscriber);\n      return function () {\n        subscription.unsubscribe();\n\n        if (resource) {\n          resource.unsubscribe();\n        }\n      };\n    });\n  }\n\n  function zip() {\n    var observables = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      observables[_i] = arguments[_i];\n    }\n\n    var resultSelector = observables[observables.length - 1];\n\n    if (typeof resultSelector === 'function') {\n      observables.pop();\n    }\n\n    return fromArray(observables, undefined).lift(new ZipOperator(resultSelector));\n  }\n\n  var ZipOperator = function () {\n    function ZipOperator(resultSelector) {\n      this.resultSelector = resultSelector;\n    }\n\n    ZipOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new ZipSubscriber(subscriber, this.resultSelector));\n    };\n\n    return ZipOperator;\n  }();\n\n  var ZipSubscriber = function (_super) {\n    __extends(ZipSubscriber, _super);\n\n    function ZipSubscriber(destination, resultSelector, values) {\n      if (values === void 0) {\n        values = Object.create(null);\n      }\n\n      var _this = _super.call(this, destination) || this;\n\n      _this.iterators = [];\n      _this.active = 0;\n      _this.resultSelector = typeof resultSelector === 'function' ? resultSelector : null;\n      _this.values = values;\n      return _this;\n    }\n\n    ZipSubscriber.prototype._next = function (value) {\n      var iterators = this.iterators;\n\n      if (isArray(value)) {\n        iterators.push(new StaticArrayIterator(value));\n      } else if (typeof value[iterator] === 'function') {\n        iterators.push(new StaticIterator(value[iterator]()));\n      } else {\n        iterators.push(new ZipBufferIterator(this.destination, this, value));\n      }\n    };\n\n    ZipSubscriber.prototype._complete = function () {\n      var iterators = this.iterators;\n      var len = iterators.length;\n      this.unsubscribe();\n\n      if (len === 0) {\n        this.destination.complete();\n        return;\n      }\n\n      this.active = len;\n\n      for (var i = 0; i < len; i++) {\n        var iterator$$1 = iterators[i];\n\n        if (iterator$$1.stillUnsubscribed) {\n          var destination = this.destination;\n          destination.add(iterator$$1.subscribe(iterator$$1, i));\n        } else {\n          this.active--;\n        }\n      }\n    };\n\n    ZipSubscriber.prototype.notifyInactive = function () {\n      this.active--;\n\n      if (this.active === 0) {\n        this.destination.complete();\n      }\n    };\n\n    ZipSubscriber.prototype.checkIterators = function () {\n      var iterators = this.iterators;\n      var len = iterators.length;\n      var destination = this.destination;\n\n      for (var i = 0; i < len; i++) {\n        var iterator$$1 = iterators[i];\n\n        if (typeof iterator$$1.hasValue === 'function' && !iterator$$1.hasValue()) {\n          return;\n        }\n      }\n\n      var shouldComplete = false;\n      var args = [];\n\n      for (var i = 0; i < len; i++) {\n        var iterator$$1 = iterators[i];\n        var result = iterator$$1.next();\n\n        if (iterator$$1.hasCompleted()) {\n          shouldComplete = true;\n        }\n\n        if (result.done) {\n          destination.complete();\n          return;\n        }\n\n        args.push(result.value);\n      }\n\n      if (this.resultSelector) {\n        this._tryresultSelector(args);\n      } else {\n        destination.next(args);\n      }\n\n      if (shouldComplete) {\n        destination.complete();\n      }\n    };\n\n    ZipSubscriber.prototype._tryresultSelector = function (args) {\n      var result;\n\n      try {\n        result = this.resultSelector.apply(this, args);\n      } catch (err) {\n        this.destination.error(err);\n        return;\n      }\n\n      this.destination.next(result);\n    };\n\n    return ZipSubscriber;\n  }(Subscriber);\n\n  var StaticIterator = function () {\n    function StaticIterator(iterator$$1) {\n      this.iterator = iterator$$1;\n      this.nextResult = iterator$$1.next();\n    }\n\n    StaticIterator.prototype.hasValue = function () {\n      return true;\n    };\n\n    StaticIterator.prototype.next = function () {\n      var result = this.nextResult;\n      this.nextResult = this.iterator.next();\n      return result;\n    };\n\n    StaticIterator.prototype.hasCompleted = function () {\n      var nextResult = this.nextResult;\n      return nextResult && nextResult.done;\n    };\n\n    return StaticIterator;\n  }();\n\n  var StaticArrayIterator = function () {\n    function StaticArrayIterator(array) {\n      this.array = array;\n      this.index = 0;\n      this.length = 0;\n      this.length = array.length;\n    }\n\n    StaticArrayIterator.prototype[iterator] = function () {\n      return this;\n    };\n\n    StaticArrayIterator.prototype.next = function (value) {\n      var i = this.index++;\n      var array = this.array;\n      return i < this.length ? {\n        value: array[i],\n        done: false\n      } : {\n        value: null,\n        done: true\n      };\n    };\n\n    StaticArrayIterator.prototype.hasValue = function () {\n      return this.array.length > this.index;\n    };\n\n    StaticArrayIterator.prototype.hasCompleted = function () {\n      return this.array.length === this.index;\n    };\n\n    return StaticArrayIterator;\n  }();\n\n  var ZipBufferIterator = function (_super) {\n    __extends(ZipBufferIterator, _super);\n\n    function ZipBufferIterator(destination, parent, observable) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.parent = parent;\n      _this.observable = observable;\n      _this.stillUnsubscribed = true;\n      _this.buffer = [];\n      _this.isComplete = false;\n      return _this;\n    }\n\n    ZipBufferIterator.prototype[iterator] = function () {\n      return this;\n    };\n\n    ZipBufferIterator.prototype.next = function () {\n      var buffer = this.buffer;\n\n      if (buffer.length === 0 && this.isComplete) {\n        return {\n          value: null,\n          done: true\n        };\n      } else {\n        return {\n          value: buffer.shift(),\n          done: false\n        };\n      }\n    };\n\n    ZipBufferIterator.prototype.hasValue = function () {\n      return this.buffer.length > 0;\n    };\n\n    ZipBufferIterator.prototype.hasCompleted = function () {\n      return this.buffer.length === 0 && this.isComplete;\n    };\n\n    ZipBufferIterator.prototype.notifyComplete = function () {\n      if (this.buffer.length > 0) {\n        this.isComplete = true;\n        this.parent.notifyInactive();\n      } else {\n        this.destination.complete();\n      }\n    };\n\n    ZipBufferIterator.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n      this.buffer.push(innerValue);\n      this.parent.checkIterators();\n    };\n\n    ZipBufferIterator.prototype.subscribe = function (value, index) {\n      return subscribeToResult(this, this.observable, this, index);\n    };\n\n    return ZipBufferIterator;\n  }(OuterSubscriber);\n\n  function audit(durationSelector) {\n    return function auditOperatorFunction(source) {\n      return source.lift(new AuditOperator(durationSelector));\n    };\n  }\n\n  var AuditOperator = function () {\n    function AuditOperator(durationSelector) {\n      this.durationSelector = durationSelector;\n    }\n\n    AuditOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new AuditSubscriber(subscriber, this.durationSelector));\n    };\n\n    return AuditOperator;\n  }();\n\n  var AuditSubscriber = function (_super) {\n    __extends(AuditSubscriber, _super);\n\n    function AuditSubscriber(destination, durationSelector) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.durationSelector = durationSelector;\n      _this.hasValue = false;\n      return _this;\n    }\n\n    AuditSubscriber.prototype._next = function (value) {\n      this.value = value;\n      this.hasValue = true;\n\n      if (!this.throttled) {\n        var duration = void 0;\n\n        try {\n          var durationSelector = this.durationSelector;\n          duration = durationSelector(value);\n        } catch (err) {\n          return this.destination.error(err);\n        }\n\n        var innerSubscription = subscribeToResult(this, duration);\n\n        if (!innerSubscription || innerSubscription.closed) {\n          this.clearThrottle();\n        } else {\n          this.add(this.throttled = innerSubscription);\n        }\n      }\n    };\n\n    AuditSubscriber.prototype.clearThrottle = function () {\n      var _a = this,\n          value = _a.value,\n          hasValue = _a.hasValue,\n          throttled = _a.throttled;\n\n      if (throttled) {\n        this.remove(throttled);\n        this.throttled = null;\n        throttled.unsubscribe();\n      }\n\n      if (hasValue) {\n        this.value = null;\n        this.hasValue = false;\n        this.destination.next(value);\n      }\n    };\n\n    AuditSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex) {\n      this.clearThrottle();\n    };\n\n    AuditSubscriber.prototype.notifyComplete = function () {\n      this.clearThrottle();\n    };\n\n    return AuditSubscriber;\n  }(OuterSubscriber);\n\n  function auditTime(duration, scheduler) {\n    if (scheduler === void 0) {\n      scheduler = async;\n    }\n\n    return audit(function () {\n      return timer(duration, scheduler);\n    });\n  }\n\n  function buffer(closingNotifier) {\n    return function bufferOperatorFunction(source) {\n      return source.lift(new BufferOperator(closingNotifier));\n    };\n  }\n\n  var BufferOperator = function () {\n    function BufferOperator(closingNotifier) {\n      this.closingNotifier = closingNotifier;\n    }\n\n    BufferOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new BufferSubscriber(subscriber, this.closingNotifier));\n    };\n\n    return BufferOperator;\n  }();\n\n  var BufferSubscriber = function (_super) {\n    __extends(BufferSubscriber, _super);\n\n    function BufferSubscriber(destination, closingNotifier) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.buffer = [];\n\n      _this.add(subscribeToResult(_this, closingNotifier));\n\n      return _this;\n    }\n\n    BufferSubscriber.prototype._next = function (value) {\n      this.buffer.push(value);\n    };\n\n    BufferSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n      var buffer = this.buffer;\n      this.buffer = [];\n      this.destination.next(buffer);\n    };\n\n    return BufferSubscriber;\n  }(OuterSubscriber);\n\n  function bufferCount(bufferSize, startBufferEvery) {\n    if (startBufferEvery === void 0) {\n      startBufferEvery = null;\n    }\n\n    return function bufferCountOperatorFunction(source) {\n      return source.lift(new BufferCountOperator(bufferSize, startBufferEvery));\n    };\n  }\n\n  var BufferCountOperator = function () {\n    function BufferCountOperator(bufferSize, startBufferEvery) {\n      this.bufferSize = bufferSize;\n      this.startBufferEvery = startBufferEvery;\n\n      if (!startBufferEvery || bufferSize === startBufferEvery) {\n        this.subscriberClass = BufferCountSubscriber;\n      } else {\n        this.subscriberClass = BufferSkipCountSubscriber;\n      }\n    }\n\n    BufferCountOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new this.subscriberClass(subscriber, this.bufferSize, this.startBufferEvery));\n    };\n\n    return BufferCountOperator;\n  }();\n\n  var BufferCountSubscriber = function (_super) {\n    __extends(BufferCountSubscriber, _super);\n\n    function BufferCountSubscriber(destination, bufferSize) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.bufferSize = bufferSize;\n      _this.buffer = [];\n      return _this;\n    }\n\n    BufferCountSubscriber.prototype._next = function (value) {\n      var buffer = this.buffer;\n      buffer.push(value);\n\n      if (buffer.length == this.bufferSize) {\n        this.destination.next(buffer);\n        this.buffer = [];\n      }\n    };\n\n    BufferCountSubscriber.prototype._complete = function () {\n      var buffer = this.buffer;\n\n      if (buffer.length > 0) {\n        this.destination.next(buffer);\n      }\n\n      _super.prototype._complete.call(this);\n    };\n\n    return BufferCountSubscriber;\n  }(Subscriber);\n\n  var BufferSkipCountSubscriber = function (_super) {\n    __extends(BufferSkipCountSubscriber, _super);\n\n    function BufferSkipCountSubscriber(destination, bufferSize, startBufferEvery) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.bufferSize = bufferSize;\n      _this.startBufferEvery = startBufferEvery;\n      _this.buffers = [];\n      _this.count = 0;\n      return _this;\n    }\n\n    BufferSkipCountSubscriber.prototype._next = function (value) {\n      var _a = this,\n          bufferSize = _a.bufferSize,\n          startBufferEvery = _a.startBufferEvery,\n          buffers = _a.buffers,\n          count = _a.count;\n\n      this.count++;\n\n      if (count % startBufferEvery === 0) {\n        buffers.push([]);\n      }\n\n      for (var i = buffers.length; i--;) {\n        var buffer = buffers[i];\n        buffer.push(value);\n\n        if (buffer.length === bufferSize) {\n          buffers.splice(i, 1);\n          this.destination.next(buffer);\n        }\n      }\n    };\n\n    BufferSkipCountSubscriber.prototype._complete = function () {\n      var _a = this,\n          buffers = _a.buffers,\n          destination = _a.destination;\n\n      while (buffers.length > 0) {\n        var buffer = buffers.shift();\n\n        if (buffer.length > 0) {\n          destination.next(buffer);\n        }\n      }\n\n      _super.prototype._complete.call(this);\n    };\n\n    return BufferSkipCountSubscriber;\n  }(Subscriber);\n\n  function bufferTime(bufferTimeSpan) {\n    var length = arguments.length;\n    var scheduler = async;\n\n    if (isScheduler(arguments[arguments.length - 1])) {\n      scheduler = arguments[arguments.length - 1];\n      length--;\n    }\n\n    var bufferCreationInterval = null;\n\n    if (length >= 2) {\n      bufferCreationInterval = arguments[1];\n    }\n\n    var maxBufferSize = Number.POSITIVE_INFINITY;\n\n    if (length >= 3) {\n      maxBufferSize = arguments[2];\n    }\n\n    return function bufferTimeOperatorFunction(source) {\n      return source.lift(new BufferTimeOperator(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler));\n    };\n  }\n\n  var BufferTimeOperator = function () {\n    function BufferTimeOperator(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler) {\n      this.bufferTimeSpan = bufferTimeSpan;\n      this.bufferCreationInterval = bufferCreationInterval;\n      this.maxBufferSize = maxBufferSize;\n      this.scheduler = scheduler;\n    }\n\n    BufferTimeOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new BufferTimeSubscriber(subscriber, this.bufferTimeSpan, this.bufferCreationInterval, this.maxBufferSize, this.scheduler));\n    };\n\n    return BufferTimeOperator;\n  }();\n\n  var Context = function () {\n    function Context() {\n      this.buffer = [];\n    }\n\n    return Context;\n  }();\n\n  var BufferTimeSubscriber = function (_super) {\n    __extends(BufferTimeSubscriber, _super);\n\n    function BufferTimeSubscriber(destination, bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.bufferTimeSpan = bufferTimeSpan;\n      _this.bufferCreationInterval = bufferCreationInterval;\n      _this.maxBufferSize = maxBufferSize;\n      _this.scheduler = scheduler;\n      _this.contexts = [];\n\n      var context = _this.openContext();\n\n      _this.timespanOnly = bufferCreationInterval == null || bufferCreationInterval < 0;\n\n      if (_this.timespanOnly) {\n        var timeSpanOnlyState = {\n          subscriber: _this,\n          context: context,\n          bufferTimeSpan: bufferTimeSpan\n        };\n\n        _this.add(context.closeAction = scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));\n      } else {\n        var closeState = {\n          subscriber: _this,\n          context: context\n        };\n        var creationState = {\n          bufferTimeSpan: bufferTimeSpan,\n          bufferCreationInterval: bufferCreationInterval,\n          subscriber: _this,\n          scheduler: scheduler\n        };\n\n        _this.add(context.closeAction = scheduler.schedule(dispatchBufferClose, bufferTimeSpan, closeState));\n\n        _this.add(scheduler.schedule(dispatchBufferCreation, bufferCreationInterval, creationState));\n      }\n\n      return _this;\n    }\n\n    BufferTimeSubscriber.prototype._next = function (value) {\n      var contexts = this.contexts;\n      var len = contexts.length;\n      var filledBufferContext;\n\n      for (var i = 0; i < len; i++) {\n        var context_1 = contexts[i];\n        var buffer = context_1.buffer;\n        buffer.push(value);\n\n        if (buffer.length == this.maxBufferSize) {\n          filledBufferContext = context_1;\n        }\n      }\n\n      if (filledBufferContext) {\n        this.onBufferFull(filledBufferContext);\n      }\n    };\n\n    BufferTimeSubscriber.prototype._error = function (err) {\n      this.contexts.length = 0;\n\n      _super.prototype._error.call(this, err);\n    };\n\n    BufferTimeSubscriber.prototype._complete = function () {\n      var _a = this,\n          contexts = _a.contexts,\n          destination = _a.destination;\n\n      while (contexts.length > 0) {\n        var context_2 = contexts.shift();\n        destination.next(context_2.buffer);\n      }\n\n      _super.prototype._complete.call(this);\n    };\n\n    BufferTimeSubscriber.prototype._unsubscribe = function () {\n      this.contexts = null;\n    };\n\n    BufferTimeSubscriber.prototype.onBufferFull = function (context) {\n      this.closeContext(context);\n      var closeAction = context.closeAction;\n      closeAction.unsubscribe();\n      this.remove(closeAction);\n\n      if (!this.closed && this.timespanOnly) {\n        context = this.openContext();\n        var bufferTimeSpan = this.bufferTimeSpan;\n        var timeSpanOnlyState = {\n          subscriber: this,\n          context: context,\n          bufferTimeSpan: bufferTimeSpan\n        };\n        this.add(context.closeAction = this.scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));\n      }\n    };\n\n    BufferTimeSubscriber.prototype.openContext = function () {\n      var context = new Context();\n      this.contexts.push(context);\n      return context;\n    };\n\n    BufferTimeSubscriber.prototype.closeContext = function (context) {\n      this.destination.next(context.buffer);\n      var contexts = this.contexts;\n      var spliceIndex = contexts ? contexts.indexOf(context) : -1;\n\n      if (spliceIndex >= 0) {\n        contexts.splice(contexts.indexOf(context), 1);\n      }\n    };\n\n    return BufferTimeSubscriber;\n  }(Subscriber);\n\n  function dispatchBufferTimeSpanOnly(state) {\n    var subscriber = state.subscriber;\n    var prevContext = state.context;\n\n    if (prevContext) {\n      subscriber.closeContext(prevContext);\n    }\n\n    if (!subscriber.closed) {\n      state.context = subscriber.openContext();\n      state.context.closeAction = this.schedule(state, state.bufferTimeSpan);\n    }\n  }\n\n  function dispatchBufferCreation(state) {\n    var bufferCreationInterval = state.bufferCreationInterval,\n        bufferTimeSpan = state.bufferTimeSpan,\n        subscriber = state.subscriber,\n        scheduler = state.scheduler;\n    var context = subscriber.openContext();\n    var action = this;\n\n    if (!subscriber.closed) {\n      subscriber.add(context.closeAction = scheduler.schedule(dispatchBufferClose, bufferTimeSpan, {\n        subscriber: subscriber,\n        context: context\n      }));\n      action.schedule(state, bufferCreationInterval);\n    }\n  }\n\n  function dispatchBufferClose(arg) {\n    var subscriber = arg.subscriber,\n        context = arg.context;\n    subscriber.closeContext(context);\n  }\n\n  function bufferToggle(openings, closingSelector) {\n    return function bufferToggleOperatorFunction(source) {\n      return source.lift(new BufferToggleOperator(openings, closingSelector));\n    };\n  }\n\n  var BufferToggleOperator = function () {\n    function BufferToggleOperator(openings, closingSelector) {\n      this.openings = openings;\n      this.closingSelector = closingSelector;\n    }\n\n    BufferToggleOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new BufferToggleSubscriber(subscriber, this.openings, this.closingSelector));\n    };\n\n    return BufferToggleOperator;\n  }();\n\n  var BufferToggleSubscriber = function (_super) {\n    __extends(BufferToggleSubscriber, _super);\n\n    function BufferToggleSubscriber(destination, openings, closingSelector) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.openings = openings;\n      _this.closingSelector = closingSelector;\n      _this.contexts = [];\n\n      _this.add(subscribeToResult(_this, openings));\n\n      return _this;\n    }\n\n    BufferToggleSubscriber.prototype._next = function (value) {\n      var contexts = this.contexts;\n      var len = contexts.length;\n\n      for (var i = 0; i < len; i++) {\n        contexts[i].buffer.push(value);\n      }\n    };\n\n    BufferToggleSubscriber.prototype._error = function (err) {\n      var contexts = this.contexts;\n\n      while (contexts.length > 0) {\n        var context_1 = contexts.shift();\n        context_1.subscription.unsubscribe();\n        context_1.buffer = null;\n        context_1.subscription = null;\n      }\n\n      this.contexts = null;\n\n      _super.prototype._error.call(this, err);\n    };\n\n    BufferToggleSubscriber.prototype._complete = function () {\n      var contexts = this.contexts;\n\n      while (contexts.length > 0) {\n        var context_2 = contexts.shift();\n        this.destination.next(context_2.buffer);\n        context_2.subscription.unsubscribe();\n        context_2.buffer = null;\n        context_2.subscription = null;\n      }\n\n      this.contexts = null;\n\n      _super.prototype._complete.call(this);\n    };\n\n    BufferToggleSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n      outerValue ? this.closeBuffer(outerValue) : this.openBuffer(innerValue);\n    };\n\n    BufferToggleSubscriber.prototype.notifyComplete = function (innerSub) {\n      this.closeBuffer(innerSub.context);\n    };\n\n    BufferToggleSubscriber.prototype.openBuffer = function (value) {\n      try {\n        var closingSelector = this.closingSelector;\n        var closingNotifier = closingSelector.call(this, value);\n\n        if (closingNotifier) {\n          this.trySubscribe(closingNotifier);\n        }\n      } catch (err) {\n        this._error(err);\n      }\n    };\n\n    BufferToggleSubscriber.prototype.closeBuffer = function (context) {\n      var contexts = this.contexts;\n\n      if (contexts && context) {\n        var buffer = context.buffer,\n            subscription = context.subscription;\n        this.destination.next(buffer);\n        contexts.splice(contexts.indexOf(context), 1);\n        this.remove(subscription);\n        subscription.unsubscribe();\n      }\n    };\n\n    BufferToggleSubscriber.prototype.trySubscribe = function (closingNotifier) {\n      var contexts = this.contexts;\n      var buffer = [];\n      var subscription = new Subscription();\n      var context = {\n        buffer: buffer,\n        subscription: subscription\n      };\n      contexts.push(context);\n      var innerSubscription = subscribeToResult(this, closingNotifier, context);\n\n      if (!innerSubscription || innerSubscription.closed) {\n        this.closeBuffer(context);\n      } else {\n        innerSubscription.context = context;\n        this.add(innerSubscription);\n        subscription.add(innerSubscription);\n      }\n    };\n\n    return BufferToggleSubscriber;\n  }(OuterSubscriber);\n\n  function bufferWhen(closingSelector) {\n    return function (source) {\n      return source.lift(new BufferWhenOperator(closingSelector));\n    };\n  }\n\n  var BufferWhenOperator = function () {\n    function BufferWhenOperator(closingSelector) {\n      this.closingSelector = closingSelector;\n    }\n\n    BufferWhenOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new BufferWhenSubscriber(subscriber, this.closingSelector));\n    };\n\n    return BufferWhenOperator;\n  }();\n\n  var BufferWhenSubscriber = function (_super) {\n    __extends(BufferWhenSubscriber, _super);\n\n    function BufferWhenSubscriber(destination, closingSelector) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.closingSelector = closingSelector;\n      _this.subscribing = false;\n\n      _this.openBuffer();\n\n      return _this;\n    }\n\n    BufferWhenSubscriber.prototype._next = function (value) {\n      this.buffer.push(value);\n    };\n\n    BufferWhenSubscriber.prototype._complete = function () {\n      var buffer = this.buffer;\n\n      if (buffer) {\n        this.destination.next(buffer);\n      }\n\n      _super.prototype._complete.call(this);\n    };\n\n    BufferWhenSubscriber.prototype._unsubscribe = function () {\n      this.buffer = null;\n      this.subscribing = false;\n    };\n\n    BufferWhenSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n      this.openBuffer();\n    };\n\n    BufferWhenSubscriber.prototype.notifyComplete = function () {\n      if (this.subscribing) {\n        this.complete();\n      } else {\n        this.openBuffer();\n      }\n    };\n\n    BufferWhenSubscriber.prototype.openBuffer = function () {\n      var closingSubscription = this.closingSubscription;\n\n      if (closingSubscription) {\n        this.remove(closingSubscription);\n        closingSubscription.unsubscribe();\n      }\n\n      var buffer = this.buffer;\n\n      if (this.buffer) {\n        this.destination.next(buffer);\n      }\n\n      this.buffer = [];\n      var closingNotifier;\n\n      try {\n        var closingSelector = this.closingSelector;\n        closingNotifier = closingSelector();\n      } catch (err) {\n        return this.error(err);\n      }\n\n      closingSubscription = new Subscription();\n      this.closingSubscription = closingSubscription;\n      this.add(closingSubscription);\n      this.subscribing = true;\n      closingSubscription.add(subscribeToResult(this, closingNotifier));\n      this.subscribing = false;\n    };\n\n    return BufferWhenSubscriber;\n  }(OuterSubscriber);\n\n  function catchError(selector) {\n    return function catchErrorOperatorFunction(source) {\n      var operator = new CatchOperator(selector);\n      var caught = source.lift(operator);\n      return operator.caught = caught;\n    };\n  }\n\n  var CatchOperator = function () {\n    function CatchOperator(selector) {\n      this.selector = selector;\n    }\n\n    CatchOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new CatchSubscriber(subscriber, this.selector, this.caught));\n    };\n\n    return CatchOperator;\n  }();\n\n  var CatchSubscriber = function (_super) {\n    __extends(CatchSubscriber, _super);\n\n    function CatchSubscriber(destination, selector, caught) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.selector = selector;\n      _this.caught = caught;\n      return _this;\n    }\n\n    CatchSubscriber.prototype.error = function (err) {\n      if (!this.isStopped) {\n        var result = void 0;\n\n        try {\n          result = this.selector(err, this.caught);\n        } catch (err2) {\n          _super.prototype.error.call(this, err2);\n\n          return;\n        }\n\n        this._unsubscribeAndRecycle();\n\n        var innerSubscriber = new InnerSubscriber(this, undefined, undefined);\n        this.add(innerSubscriber);\n        var innerSubscription = subscribeToResult(this, result, undefined, undefined, innerSubscriber);\n\n        if (innerSubscription !== innerSubscriber) {\n          this.add(innerSubscription);\n        }\n      }\n    };\n\n    return CatchSubscriber;\n  }(OuterSubscriber);\n\n  function combineAll(project) {\n    return function (source) {\n      return source.lift(new CombineLatestOperator(project));\n    };\n  }\n\n  function combineLatest$1() {\n    var observables = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      observables[_i] = arguments[_i];\n    }\n\n    var project = null;\n\n    if (typeof observables[observables.length - 1] === 'function') {\n      project = observables.pop();\n    }\n\n    if (observables.length === 1 && isArray(observables[0])) {\n      observables = observables[0].slice();\n    }\n\n    return function (source) {\n      return source.lift.call(from([source].concat(observables)), new CombineLatestOperator(project));\n    };\n  }\n\n  function concat$1() {\n    var observables = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      observables[_i] = arguments[_i];\n    }\n\n    return function (source) {\n      return source.lift.call(concat.apply(void 0, [source].concat(observables)));\n    };\n  }\n\n  function concatMap(project, resultSelector) {\n    return mergeMap(project, resultSelector, 1);\n  }\n\n  function concatMapTo(innerObservable, resultSelector) {\n    return concatMap(function () {\n      return innerObservable;\n    }, resultSelector);\n  }\n\n  function count(predicate) {\n    return function (source) {\n      return source.lift(new CountOperator(predicate, source));\n    };\n  }\n\n  var CountOperator = function () {\n    function CountOperator(predicate, source) {\n      this.predicate = predicate;\n      this.source = source;\n    }\n\n    CountOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new CountSubscriber(subscriber, this.predicate, this.source));\n    };\n\n    return CountOperator;\n  }();\n\n  var CountSubscriber = function (_super) {\n    __extends(CountSubscriber, _super);\n\n    function CountSubscriber(destination, predicate, source) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.predicate = predicate;\n      _this.source = source;\n      _this.count = 0;\n      _this.index = 0;\n      return _this;\n    }\n\n    CountSubscriber.prototype._next = function (value) {\n      if (this.predicate) {\n        this._tryPredicate(value);\n      } else {\n        this.count++;\n      }\n    };\n\n    CountSubscriber.prototype._tryPredicate = function (value) {\n      var result;\n\n      try {\n        result = this.predicate(value, this.index++, this.source);\n      } catch (err) {\n        this.destination.error(err);\n        return;\n      }\n\n      if (result) {\n        this.count++;\n      }\n    };\n\n    CountSubscriber.prototype._complete = function () {\n      this.destination.next(this.count);\n      this.destination.complete();\n    };\n\n    return CountSubscriber;\n  }(Subscriber);\n\n  function debounce(durationSelector) {\n    return function (source) {\n      return source.lift(new DebounceOperator(durationSelector));\n    };\n  }\n\n  var DebounceOperator = function () {\n    function DebounceOperator(durationSelector) {\n      this.durationSelector = durationSelector;\n    }\n\n    DebounceOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new DebounceSubscriber(subscriber, this.durationSelector));\n    };\n\n    return DebounceOperator;\n  }();\n\n  var DebounceSubscriber = function (_super) {\n    __extends(DebounceSubscriber, _super);\n\n    function DebounceSubscriber(destination, durationSelector) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.durationSelector = durationSelector;\n      _this.hasValue = false;\n      _this.durationSubscription = null;\n      return _this;\n    }\n\n    DebounceSubscriber.prototype._next = function (value) {\n      try {\n        var result = this.durationSelector.call(this, value);\n\n        if (result) {\n          this._tryNext(value, result);\n        }\n      } catch (err) {\n        this.destination.error(err);\n      }\n    };\n\n    DebounceSubscriber.prototype._complete = function () {\n      this.emitValue();\n      this.destination.complete();\n    };\n\n    DebounceSubscriber.prototype._tryNext = function (value, duration) {\n      var subscription = this.durationSubscription;\n      this.value = value;\n      this.hasValue = true;\n\n      if (subscription) {\n        subscription.unsubscribe();\n        this.remove(subscription);\n      }\n\n      subscription = subscribeToResult(this, duration);\n\n      if (subscription && !subscription.closed) {\n        this.add(this.durationSubscription = subscription);\n      }\n    };\n\n    DebounceSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n      this.emitValue();\n    };\n\n    DebounceSubscriber.prototype.notifyComplete = function () {\n      this.emitValue();\n    };\n\n    DebounceSubscriber.prototype.emitValue = function () {\n      if (this.hasValue) {\n        var value = this.value;\n        var subscription = this.durationSubscription;\n\n        if (subscription) {\n          this.durationSubscription = null;\n          subscription.unsubscribe();\n          this.remove(subscription);\n        }\n\n        this.value = null;\n        this.hasValue = false;\n\n        _super.prototype._next.call(this, value);\n      }\n    };\n\n    return DebounceSubscriber;\n  }(OuterSubscriber);\n\n  function debounceTime(dueTime, scheduler) {\n    if (scheduler === void 0) {\n      scheduler = async;\n    }\n\n    return function (source) {\n      return source.lift(new DebounceTimeOperator(dueTime, scheduler));\n    };\n  }\n\n  var DebounceTimeOperator = function () {\n    function DebounceTimeOperator(dueTime, scheduler) {\n      this.dueTime = dueTime;\n      this.scheduler = scheduler;\n    }\n\n    DebounceTimeOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new DebounceTimeSubscriber(subscriber, this.dueTime, this.scheduler));\n    };\n\n    return DebounceTimeOperator;\n  }();\n\n  var DebounceTimeSubscriber = function (_super) {\n    __extends(DebounceTimeSubscriber, _super);\n\n    function DebounceTimeSubscriber(destination, dueTime, scheduler) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.dueTime = dueTime;\n      _this.scheduler = scheduler;\n      _this.debouncedSubscription = null;\n      _this.lastValue = null;\n      _this.hasValue = false;\n      return _this;\n    }\n\n    DebounceTimeSubscriber.prototype._next = function (value) {\n      this.clearDebounce();\n      this.lastValue = value;\n      this.hasValue = true;\n      this.add(this.debouncedSubscription = this.scheduler.schedule(dispatchNext$2, this.dueTime, this));\n    };\n\n    DebounceTimeSubscriber.prototype._complete = function () {\n      this.debouncedNext();\n      this.destination.complete();\n    };\n\n    DebounceTimeSubscriber.prototype.debouncedNext = function () {\n      this.clearDebounce();\n\n      if (this.hasValue) {\n        var lastValue = this.lastValue;\n        this.lastValue = null;\n        this.hasValue = false;\n        this.destination.next(lastValue);\n      }\n    };\n\n    DebounceTimeSubscriber.prototype.clearDebounce = function () {\n      var debouncedSubscription = this.debouncedSubscription;\n\n      if (debouncedSubscription !== null) {\n        this.remove(debouncedSubscription);\n        debouncedSubscription.unsubscribe();\n        this.debouncedSubscription = null;\n      }\n    };\n\n    return DebounceTimeSubscriber;\n  }(Subscriber);\n\n  function dispatchNext$2(subscriber) {\n    subscriber.debouncedNext();\n  }\n\n  function defaultIfEmpty(defaultValue) {\n    if (defaultValue === void 0) {\n      defaultValue = null;\n    }\n\n    return function (source) {\n      return source.lift(new DefaultIfEmptyOperator(defaultValue));\n    };\n  }\n\n  var DefaultIfEmptyOperator = function () {\n    function DefaultIfEmptyOperator(defaultValue) {\n      this.defaultValue = defaultValue;\n    }\n\n    DefaultIfEmptyOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new DefaultIfEmptySubscriber(subscriber, this.defaultValue));\n    };\n\n    return DefaultIfEmptyOperator;\n  }();\n\n  var DefaultIfEmptySubscriber = function (_super) {\n    __extends(DefaultIfEmptySubscriber, _super);\n\n    function DefaultIfEmptySubscriber(destination, defaultValue) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.defaultValue = defaultValue;\n      _this.isEmpty = true;\n      return _this;\n    }\n\n    DefaultIfEmptySubscriber.prototype._next = function (value) {\n      this.isEmpty = false;\n      this.destination.next(value);\n    };\n\n    DefaultIfEmptySubscriber.prototype._complete = function () {\n      if (this.isEmpty) {\n        this.destination.next(this.defaultValue);\n      }\n\n      this.destination.complete();\n    };\n\n    return DefaultIfEmptySubscriber;\n  }(Subscriber);\n\n  function isDate(value) {\n    return value instanceof Date && !isNaN(+value);\n  }\n\n  function delay(delay, scheduler) {\n    if (scheduler === void 0) {\n      scheduler = async;\n    }\n\n    var absoluteDelay = isDate(delay);\n    var delayFor = absoluteDelay ? +delay - scheduler.now() : Math.abs(delay);\n    return function (source) {\n      return source.lift(new DelayOperator(delayFor, scheduler));\n    };\n  }\n\n  var DelayOperator = function () {\n    function DelayOperator(delay, scheduler) {\n      this.delay = delay;\n      this.scheduler = scheduler;\n    }\n\n    DelayOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new DelaySubscriber(subscriber, this.delay, this.scheduler));\n    };\n\n    return DelayOperator;\n  }();\n\n  var DelaySubscriber = function (_super) {\n    __extends(DelaySubscriber, _super);\n\n    function DelaySubscriber(destination, delay, scheduler) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.delay = delay;\n      _this.scheduler = scheduler;\n      _this.queue = [];\n      _this.active = false;\n      _this.errored = false;\n      return _this;\n    }\n\n    DelaySubscriber.dispatch = function (state) {\n      var source = state.source;\n      var queue = source.queue;\n      var scheduler = state.scheduler;\n      var destination = state.destination;\n\n      while (queue.length > 0 && queue[0].time - scheduler.now() <= 0) {\n        queue.shift().notification.observe(destination);\n      }\n\n      if (queue.length > 0) {\n        var delay_1 = Math.max(0, queue[0].time - scheduler.now());\n        this.schedule(state, delay_1);\n      } else {\n        this.unsubscribe();\n        source.active = false;\n      }\n    };\n\n    DelaySubscriber.prototype._schedule = function (scheduler) {\n      this.active = true;\n      var destination = this.destination;\n      destination.add(scheduler.schedule(DelaySubscriber.dispatch, this.delay, {\n        source: this,\n        destination: this.destination,\n        scheduler: scheduler\n      }));\n    };\n\n    DelaySubscriber.prototype.scheduleNotification = function (notification) {\n      if (this.errored === true) {\n        return;\n      }\n\n      var scheduler = this.scheduler;\n      var message = new DelayMessage(scheduler.now() + this.delay, notification);\n      this.queue.push(message);\n\n      if (this.active === false) {\n        this._schedule(scheduler);\n      }\n    };\n\n    DelaySubscriber.prototype._next = function (value) {\n      this.scheduleNotification(Notification.createNext(value));\n    };\n\n    DelaySubscriber.prototype._error = function (err) {\n      this.errored = true;\n      this.queue = [];\n      this.destination.error(err);\n      this.unsubscribe();\n    };\n\n    DelaySubscriber.prototype._complete = function () {\n      this.scheduleNotification(Notification.createComplete());\n      this.unsubscribe();\n    };\n\n    return DelaySubscriber;\n  }(Subscriber);\n\n  var DelayMessage = function () {\n    function DelayMessage(time, notification) {\n      this.time = time;\n      this.notification = notification;\n    }\n\n    return DelayMessage;\n  }();\n\n  function delayWhen(delayDurationSelector, subscriptionDelay) {\n    if (subscriptionDelay) {\n      return function (source) {\n        return new SubscriptionDelayObservable(source, subscriptionDelay).lift(new DelayWhenOperator(delayDurationSelector));\n      };\n    }\n\n    return function (source) {\n      return source.lift(new DelayWhenOperator(delayDurationSelector));\n    };\n  }\n\n  var DelayWhenOperator = function () {\n    function DelayWhenOperator(delayDurationSelector) {\n      this.delayDurationSelector = delayDurationSelector;\n    }\n\n    DelayWhenOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new DelayWhenSubscriber(subscriber, this.delayDurationSelector));\n    };\n\n    return DelayWhenOperator;\n  }();\n\n  var DelayWhenSubscriber = function (_super) {\n    __extends(DelayWhenSubscriber, _super);\n\n    function DelayWhenSubscriber(destination, delayDurationSelector) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.delayDurationSelector = delayDurationSelector;\n      _this.completed = false;\n      _this.delayNotifierSubscriptions = [];\n      _this.index = 0;\n      return _this;\n    }\n\n    DelayWhenSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n      this.destination.next(outerValue);\n      this.removeSubscription(innerSub);\n      this.tryComplete();\n    };\n\n    DelayWhenSubscriber.prototype.notifyError = function (error, innerSub) {\n      this._error(error);\n    };\n\n    DelayWhenSubscriber.prototype.notifyComplete = function (innerSub) {\n      var value = this.removeSubscription(innerSub);\n\n      if (value) {\n        this.destination.next(value);\n      }\n\n      this.tryComplete();\n    };\n\n    DelayWhenSubscriber.prototype._next = function (value) {\n      var index = this.index++;\n\n      try {\n        var delayNotifier = this.delayDurationSelector(value, index);\n\n        if (delayNotifier) {\n          this.tryDelay(delayNotifier, value);\n        }\n      } catch (err) {\n        this.destination.error(err);\n      }\n    };\n\n    DelayWhenSubscriber.prototype._complete = function () {\n      this.completed = true;\n      this.tryComplete();\n      this.unsubscribe();\n    };\n\n    DelayWhenSubscriber.prototype.removeSubscription = function (subscription) {\n      subscription.unsubscribe();\n      var subscriptionIdx = this.delayNotifierSubscriptions.indexOf(subscription);\n\n      if (subscriptionIdx !== -1) {\n        this.delayNotifierSubscriptions.splice(subscriptionIdx, 1);\n      }\n\n      return subscription.outerValue;\n    };\n\n    DelayWhenSubscriber.prototype.tryDelay = function (delayNotifier, value) {\n      var notifierSubscription = subscribeToResult(this, delayNotifier, value);\n\n      if (notifierSubscription && !notifierSubscription.closed) {\n        var destination = this.destination;\n        destination.add(notifierSubscription);\n        this.delayNotifierSubscriptions.push(notifierSubscription);\n      }\n    };\n\n    DelayWhenSubscriber.prototype.tryComplete = function () {\n      if (this.completed && this.delayNotifierSubscriptions.length === 0) {\n        this.destination.complete();\n      }\n    };\n\n    return DelayWhenSubscriber;\n  }(OuterSubscriber);\n\n  var SubscriptionDelayObservable = function (_super) {\n    __extends(SubscriptionDelayObservable, _super);\n\n    function SubscriptionDelayObservable(source, subscriptionDelay) {\n      var _this = _super.call(this) || this;\n\n      _this.source = source;\n      _this.subscriptionDelay = subscriptionDelay;\n      return _this;\n    }\n\n    SubscriptionDelayObservable.prototype._subscribe = function (subscriber) {\n      this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(subscriber, this.source));\n    };\n\n    return SubscriptionDelayObservable;\n  }(Observable);\n\n  var SubscriptionDelaySubscriber = function (_super) {\n    __extends(SubscriptionDelaySubscriber, _super);\n\n    function SubscriptionDelaySubscriber(parent, source) {\n      var _this = _super.call(this) || this;\n\n      _this.parent = parent;\n      _this.source = source;\n      _this.sourceSubscribed = false;\n      return _this;\n    }\n\n    SubscriptionDelaySubscriber.prototype._next = function (unused) {\n      this.subscribeToSource();\n    };\n\n    SubscriptionDelaySubscriber.prototype._error = function (err) {\n      this.unsubscribe();\n      this.parent.error(err);\n    };\n\n    SubscriptionDelaySubscriber.prototype._complete = function () {\n      this.unsubscribe();\n      this.subscribeToSource();\n    };\n\n    SubscriptionDelaySubscriber.prototype.subscribeToSource = function () {\n      if (!this.sourceSubscribed) {\n        this.sourceSubscribed = true;\n        this.unsubscribe();\n        this.source.subscribe(this.parent);\n      }\n    };\n\n    return SubscriptionDelaySubscriber;\n  }(Subscriber);\n\n  function dematerialize() {\n    return function dematerializeOperatorFunction(source) {\n      return source.lift(new DeMaterializeOperator());\n    };\n  }\n\n  var DeMaterializeOperator = function () {\n    function DeMaterializeOperator() {}\n\n    DeMaterializeOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new DeMaterializeSubscriber(subscriber));\n    };\n\n    return DeMaterializeOperator;\n  }();\n\n  var DeMaterializeSubscriber = function (_super) {\n    __extends(DeMaterializeSubscriber, _super);\n\n    function DeMaterializeSubscriber(destination) {\n      return _super.call(this, destination) || this;\n    }\n\n    DeMaterializeSubscriber.prototype._next = function (value) {\n      value.observe(this.destination);\n    };\n\n    return DeMaterializeSubscriber;\n  }(Subscriber);\n\n  function distinct(keySelector, flushes) {\n    return function (source) {\n      return source.lift(new DistinctOperator(keySelector, flushes));\n    };\n  }\n\n  var DistinctOperator = function () {\n    function DistinctOperator(keySelector, flushes) {\n      this.keySelector = keySelector;\n      this.flushes = flushes;\n    }\n\n    DistinctOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new DistinctSubscriber(subscriber, this.keySelector, this.flushes));\n    };\n\n    return DistinctOperator;\n  }();\n\n  var DistinctSubscriber = function (_super) {\n    __extends(DistinctSubscriber, _super);\n\n    function DistinctSubscriber(destination, keySelector, flushes) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.keySelector = keySelector;\n      _this.values = new Set();\n\n      if (flushes) {\n        _this.add(subscribeToResult(_this, flushes));\n      }\n\n      return _this;\n    }\n\n    DistinctSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n      this.values.clear();\n    };\n\n    DistinctSubscriber.prototype.notifyError = function (error, innerSub) {\n      this._error(error);\n    };\n\n    DistinctSubscriber.prototype._next = function (value) {\n      if (this.keySelector) {\n        this._useKeySelector(value);\n      } else {\n        this._finalizeNext(value, value);\n      }\n    };\n\n    DistinctSubscriber.prototype._useKeySelector = function (value) {\n      var key;\n      var destination = this.destination;\n\n      try {\n        key = this.keySelector(value);\n      } catch (err) {\n        destination.error(err);\n        return;\n      }\n\n      this._finalizeNext(key, value);\n    };\n\n    DistinctSubscriber.prototype._finalizeNext = function (key, value) {\n      var values = this.values;\n\n      if (!values.has(key)) {\n        values.add(key);\n        this.destination.next(value);\n      }\n    };\n\n    return DistinctSubscriber;\n  }(OuterSubscriber);\n\n  function distinctUntilChanged(compare, keySelector) {\n    return function (source) {\n      return source.lift(new DistinctUntilChangedOperator(compare, keySelector));\n    };\n  }\n\n  var DistinctUntilChangedOperator = function () {\n    function DistinctUntilChangedOperator(compare, keySelector) {\n      this.compare = compare;\n      this.keySelector = keySelector;\n    }\n\n    DistinctUntilChangedOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new DistinctUntilChangedSubscriber(subscriber, this.compare, this.keySelector));\n    };\n\n    return DistinctUntilChangedOperator;\n  }();\n\n  var DistinctUntilChangedSubscriber = function (_super) {\n    __extends(DistinctUntilChangedSubscriber, _super);\n\n    function DistinctUntilChangedSubscriber(destination, compare, keySelector) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.keySelector = keySelector;\n      _this.hasKey = false;\n\n      if (typeof compare === 'function') {\n        _this.compare = compare;\n      }\n\n      return _this;\n    }\n\n    DistinctUntilChangedSubscriber.prototype.compare = function (x, y) {\n      return x === y;\n    };\n\n    DistinctUntilChangedSubscriber.prototype._next = function (value) {\n      var key;\n\n      try {\n        var keySelector = this.keySelector;\n        key = keySelector ? keySelector(value) : value;\n      } catch (err) {\n        return this.destination.error(err);\n      }\n\n      var result = false;\n\n      if (this.hasKey) {\n        try {\n          var compare = this.compare;\n          result = compare(this.key, key);\n        } catch (err) {\n          return this.destination.error(err);\n        }\n      } else {\n        this.hasKey = true;\n      }\n\n      if (!result) {\n        this.key = key;\n        this.destination.next(value);\n      }\n    };\n\n    return DistinctUntilChangedSubscriber;\n  }(Subscriber);\n\n  function distinctUntilKeyChanged(key, compare) {\n    return distinctUntilChanged(function (x, y) {\n      return compare ? compare(x[key], y[key]) : x[key] === y[key];\n    });\n  }\n\n  function throwIfEmpty(errorFactory) {\n    if (errorFactory === void 0) {\n      errorFactory = defaultErrorFactory;\n    }\n\n    return function (source) {\n      return source.lift(new ThrowIfEmptyOperator(errorFactory));\n    };\n  }\n\n  var ThrowIfEmptyOperator = function () {\n    function ThrowIfEmptyOperator(errorFactory) {\n      this.errorFactory = errorFactory;\n    }\n\n    ThrowIfEmptyOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new ThrowIfEmptySubscriber(subscriber, this.errorFactory));\n    };\n\n    return ThrowIfEmptyOperator;\n  }();\n\n  var ThrowIfEmptySubscriber = function (_super) {\n    __extends(ThrowIfEmptySubscriber, _super);\n\n    function ThrowIfEmptySubscriber(destination, errorFactory) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.errorFactory = errorFactory;\n      _this.hasValue = false;\n      return _this;\n    }\n\n    ThrowIfEmptySubscriber.prototype._next = function (value) {\n      this.hasValue = true;\n      this.destination.next(value);\n    };\n\n    ThrowIfEmptySubscriber.prototype._complete = function () {\n      if (!this.hasValue) {\n        var err = void 0;\n\n        try {\n          err = this.errorFactory();\n        } catch (e) {\n          err = e;\n        }\n\n        this.destination.error(err);\n      } else {\n        return this.destination.complete();\n      }\n    };\n\n    return ThrowIfEmptySubscriber;\n  }(Subscriber);\n\n  function defaultErrorFactory() {\n    return new EmptyError();\n  }\n\n  function take(count) {\n    return function (source) {\n      if (count === 0) {\n        return empty$1();\n      } else {\n        return source.lift(new TakeOperator(count));\n      }\n    };\n  }\n\n  var TakeOperator = function () {\n    function TakeOperator(total) {\n      this.total = total;\n\n      if (this.total < 0) {\n        throw new ArgumentOutOfRangeError();\n      }\n    }\n\n    TakeOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new TakeSubscriber(subscriber, this.total));\n    };\n\n    return TakeOperator;\n  }();\n\n  var TakeSubscriber = function (_super) {\n    __extends(TakeSubscriber, _super);\n\n    function TakeSubscriber(destination, total) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.total = total;\n      _this.count = 0;\n      return _this;\n    }\n\n    TakeSubscriber.prototype._next = function (value) {\n      var total = this.total;\n      var count = ++this.count;\n\n      if (count <= total) {\n        this.destination.next(value);\n\n        if (count === total) {\n          this.destination.complete();\n          this.unsubscribe();\n        }\n      }\n    };\n\n    return TakeSubscriber;\n  }(Subscriber);\n\n  function elementAt(index, defaultValue) {\n    if (index < 0) {\n      throw new ArgumentOutOfRangeError();\n    }\n\n    var hasDefaultValue = arguments.length >= 2;\n    return function (source) {\n      return source.pipe(filter(function (v, i) {\n        return i === index;\n      }), take(1), hasDefaultValue ? defaultIfEmpty(defaultValue) : throwIfEmpty(function () {\n        return new ArgumentOutOfRangeError();\n      }));\n    };\n  }\n\n  function endWith() {\n    var array = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      array[_i] = arguments[_i];\n    }\n\n    return function (source) {\n      return concat(source, of.apply(void 0, array));\n    };\n  }\n\n  function every(predicate, thisArg) {\n    return function (source) {\n      return source.lift(new EveryOperator(predicate, thisArg, source));\n    };\n  }\n\n  var EveryOperator = function () {\n    function EveryOperator(predicate, thisArg, source) {\n      this.predicate = predicate;\n      this.thisArg = thisArg;\n      this.source = source;\n    }\n\n    EveryOperator.prototype.call = function (observer, source) {\n      return source.subscribe(new EverySubscriber(observer, this.predicate, this.thisArg, this.source));\n    };\n\n    return EveryOperator;\n  }();\n\n  var EverySubscriber = function (_super) {\n    __extends(EverySubscriber, _super);\n\n    function EverySubscriber(destination, predicate, thisArg, source) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.predicate = predicate;\n      _this.thisArg = thisArg;\n      _this.source = source;\n      _this.index = 0;\n      _this.thisArg = thisArg || _this;\n      return _this;\n    }\n\n    EverySubscriber.prototype.notifyComplete = function (everyValueMatch) {\n      this.destination.next(everyValueMatch);\n      this.destination.complete();\n    };\n\n    EverySubscriber.prototype._next = function (value) {\n      var result = false;\n\n      try {\n        result = this.predicate.call(this.thisArg, value, this.index++, this.source);\n      } catch (err) {\n        this.destination.error(err);\n        return;\n      }\n\n      if (!result) {\n        this.notifyComplete(false);\n      }\n    };\n\n    EverySubscriber.prototype._complete = function () {\n      this.notifyComplete(true);\n    };\n\n    return EverySubscriber;\n  }(Subscriber);\n\n  function exhaust() {\n    return function (source) {\n      return source.lift(new SwitchFirstOperator());\n    };\n  }\n\n  var SwitchFirstOperator = function () {\n    function SwitchFirstOperator() {}\n\n    SwitchFirstOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new SwitchFirstSubscriber(subscriber));\n    };\n\n    return SwitchFirstOperator;\n  }();\n\n  var SwitchFirstSubscriber = function (_super) {\n    __extends(SwitchFirstSubscriber, _super);\n\n    function SwitchFirstSubscriber(destination) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.hasCompleted = false;\n      _this.hasSubscription = false;\n      return _this;\n    }\n\n    SwitchFirstSubscriber.prototype._next = function (value) {\n      if (!this.hasSubscription) {\n        this.hasSubscription = true;\n        this.add(subscribeToResult(this, value));\n      }\n    };\n\n    SwitchFirstSubscriber.prototype._complete = function () {\n      this.hasCompleted = true;\n\n      if (!this.hasSubscription) {\n        this.destination.complete();\n      }\n    };\n\n    SwitchFirstSubscriber.prototype.notifyComplete = function (innerSub) {\n      this.remove(innerSub);\n      this.hasSubscription = false;\n\n      if (this.hasCompleted) {\n        this.destination.complete();\n      }\n    };\n\n    return SwitchFirstSubscriber;\n  }(OuterSubscriber);\n\n  function exhaustMap(project, resultSelector) {\n    if (resultSelector) {\n      return function (source) {\n        return source.pipe(exhaustMap(function (a, i) {\n          return from(project(a, i)).pipe(map(function (b, ii) {\n            return resultSelector(a, b, i, ii);\n          }));\n        }));\n      };\n    }\n\n    return function (source) {\n      return source.lift(new ExhaustMapOperator(project));\n    };\n  }\n\n  var ExhaustMapOperator = function () {\n    function ExhaustMapOperator(project) {\n      this.project = project;\n    }\n\n    ExhaustMapOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new ExhaustMapSubscriber(subscriber, this.project));\n    };\n\n    return ExhaustMapOperator;\n  }();\n\n  var ExhaustMapSubscriber = function (_super) {\n    __extends(ExhaustMapSubscriber, _super);\n\n    function ExhaustMapSubscriber(destination, project) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.project = project;\n      _this.hasSubscription = false;\n      _this.hasCompleted = false;\n      _this.index = 0;\n      return _this;\n    }\n\n    ExhaustMapSubscriber.prototype._next = function (value) {\n      if (!this.hasSubscription) {\n        this.tryNext(value);\n      }\n    };\n\n    ExhaustMapSubscriber.prototype.tryNext = function (value) {\n      var result;\n      var index = this.index++;\n\n      try {\n        result = this.project(value, index);\n      } catch (err) {\n        this.destination.error(err);\n        return;\n      }\n\n      this.hasSubscription = true;\n\n      this._innerSub(result, value, index);\n    };\n\n    ExhaustMapSubscriber.prototype._innerSub = function (result, value, index) {\n      var innerSubscriber = new InnerSubscriber(this, value, index);\n      var destination = this.destination;\n      destination.add(innerSubscriber);\n      var innerSubscription = subscribeToResult(this, result, undefined, undefined, innerSubscriber);\n\n      if (innerSubscription !== innerSubscriber) {\n        destination.add(innerSubscription);\n      }\n    };\n\n    ExhaustMapSubscriber.prototype._complete = function () {\n      this.hasCompleted = true;\n\n      if (!this.hasSubscription) {\n        this.destination.complete();\n      }\n\n      this.unsubscribe();\n    };\n\n    ExhaustMapSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n      this.destination.next(innerValue);\n    };\n\n    ExhaustMapSubscriber.prototype.notifyError = function (err) {\n      this.destination.error(err);\n    };\n\n    ExhaustMapSubscriber.prototype.notifyComplete = function (innerSub) {\n      var destination = this.destination;\n      destination.remove(innerSub);\n      this.hasSubscription = false;\n\n      if (this.hasCompleted) {\n        this.destination.complete();\n      }\n    };\n\n    return ExhaustMapSubscriber;\n  }(OuterSubscriber);\n\n  function expand(project, concurrent, scheduler) {\n    if (concurrent === void 0) {\n      concurrent = Number.POSITIVE_INFINITY;\n    }\n\n    if (scheduler === void 0) {\n      scheduler = undefined;\n    }\n\n    concurrent = (concurrent || 0) < 1 ? Number.POSITIVE_INFINITY : concurrent;\n    return function (source) {\n      return source.lift(new ExpandOperator(project, concurrent, scheduler));\n    };\n  }\n\n  var ExpandOperator = function () {\n    function ExpandOperator(project, concurrent, scheduler) {\n      this.project = project;\n      this.concurrent = concurrent;\n      this.scheduler = scheduler;\n    }\n\n    ExpandOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new ExpandSubscriber(subscriber, this.project, this.concurrent, this.scheduler));\n    };\n\n    return ExpandOperator;\n  }();\n\n  var ExpandSubscriber = function (_super) {\n    __extends(ExpandSubscriber, _super);\n\n    function ExpandSubscriber(destination, project, concurrent, scheduler) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.project = project;\n      _this.concurrent = concurrent;\n      _this.scheduler = scheduler;\n      _this.index = 0;\n      _this.active = 0;\n      _this.hasCompleted = false;\n\n      if (concurrent < Number.POSITIVE_INFINITY) {\n        _this.buffer = [];\n      }\n\n      return _this;\n    }\n\n    ExpandSubscriber.dispatch = function (arg) {\n      var subscriber = arg.subscriber,\n          result = arg.result,\n          value = arg.value,\n          index = arg.index;\n      subscriber.subscribeToProjection(result, value, index);\n    };\n\n    ExpandSubscriber.prototype._next = function (value) {\n      var destination = this.destination;\n\n      if (destination.closed) {\n        this._complete();\n\n        return;\n      }\n\n      var index = this.index++;\n\n      if (this.active < this.concurrent) {\n        destination.next(value);\n\n        try {\n          var project = this.project;\n          var result = project(value, index);\n\n          if (!this.scheduler) {\n            this.subscribeToProjection(result, value, index);\n          } else {\n            var state = {\n              subscriber: this,\n              result: result,\n              value: value,\n              index: index\n            };\n            var destination_1 = this.destination;\n            destination_1.add(this.scheduler.schedule(ExpandSubscriber.dispatch, 0, state));\n          }\n        } catch (e) {\n          destination.error(e);\n        }\n      } else {\n        this.buffer.push(value);\n      }\n    };\n\n    ExpandSubscriber.prototype.subscribeToProjection = function (result, value, index) {\n      this.active++;\n      var destination = this.destination;\n      destination.add(subscribeToResult(this, result, value, index));\n    };\n\n    ExpandSubscriber.prototype._complete = function () {\n      this.hasCompleted = true;\n\n      if (this.hasCompleted && this.active === 0) {\n        this.destination.complete();\n      }\n\n      this.unsubscribe();\n    };\n\n    ExpandSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n      this._next(innerValue);\n    };\n\n    ExpandSubscriber.prototype.notifyComplete = function (innerSub) {\n      var buffer = this.buffer;\n      var destination = this.destination;\n      destination.remove(innerSub);\n      this.active--;\n\n      if (buffer && buffer.length > 0) {\n        this._next(buffer.shift());\n      }\n\n      if (this.hasCompleted && this.active === 0) {\n        this.destination.complete();\n      }\n    };\n\n    return ExpandSubscriber;\n  }(OuterSubscriber);\n\n  function finalize(callback) {\n    return function (source) {\n      return source.lift(new FinallyOperator(callback));\n    };\n  }\n\n  var FinallyOperator = function () {\n    function FinallyOperator(callback) {\n      this.callback = callback;\n    }\n\n    FinallyOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new FinallySubscriber(subscriber, this.callback));\n    };\n\n    return FinallyOperator;\n  }();\n\n  var FinallySubscriber = function (_super) {\n    __extends(FinallySubscriber, _super);\n\n    function FinallySubscriber(destination, callback) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.add(new Subscription(callback));\n\n      return _this;\n    }\n\n    return FinallySubscriber;\n  }(Subscriber);\n\n  function find(predicate, thisArg) {\n    if (typeof predicate !== 'function') {\n      throw new TypeError('predicate is not a function');\n    }\n\n    return function (source) {\n      return source.lift(new FindValueOperator(predicate, source, false, thisArg));\n    };\n  }\n\n  var FindValueOperator = function () {\n    function FindValueOperator(predicate, source, yieldIndex, thisArg) {\n      this.predicate = predicate;\n      this.source = source;\n      this.yieldIndex = yieldIndex;\n      this.thisArg = thisArg;\n    }\n\n    FindValueOperator.prototype.call = function (observer, source) {\n      return source.subscribe(new FindValueSubscriber(observer, this.predicate, this.source, this.yieldIndex, this.thisArg));\n    };\n\n    return FindValueOperator;\n  }();\n\n  var FindValueSubscriber = function (_super) {\n    __extends(FindValueSubscriber, _super);\n\n    function FindValueSubscriber(destination, predicate, source, yieldIndex, thisArg) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.predicate = predicate;\n      _this.source = source;\n      _this.yieldIndex = yieldIndex;\n      _this.thisArg = thisArg;\n      _this.index = 0;\n      return _this;\n    }\n\n    FindValueSubscriber.prototype.notifyComplete = function (value) {\n      var destination = this.destination;\n      destination.next(value);\n      destination.complete();\n      this.unsubscribe();\n    };\n\n    FindValueSubscriber.prototype._next = function (value) {\n      var _a = this,\n          predicate = _a.predicate,\n          thisArg = _a.thisArg;\n\n      var index = this.index++;\n\n      try {\n        var result = predicate.call(thisArg || this, value, index, this.source);\n\n        if (result) {\n          this.notifyComplete(this.yieldIndex ? index : value);\n        }\n      } catch (err) {\n        this.destination.error(err);\n      }\n    };\n\n    FindValueSubscriber.prototype._complete = function () {\n      this.notifyComplete(this.yieldIndex ? -1 : undefined);\n    };\n\n    return FindValueSubscriber;\n  }(Subscriber);\n\n  function findIndex(predicate, thisArg) {\n    return function (source) {\n      return source.lift(new FindValueOperator(predicate, source, true, thisArg));\n    };\n  }\n\n  function first(predicate, defaultValue) {\n    var hasDefaultValue = arguments.length >= 2;\n    return function (source) {\n      return source.pipe(predicate ? filter(function (v, i) {\n        return predicate(v, i, source);\n      }) : identity, take(1), hasDefaultValue ? defaultIfEmpty(defaultValue) : throwIfEmpty(function () {\n        return new EmptyError();\n      }));\n    };\n  }\n\n  function ignoreElements() {\n    return function ignoreElementsOperatorFunction(source) {\n      return source.lift(new IgnoreElementsOperator());\n    };\n  }\n\n  var IgnoreElementsOperator = function () {\n    function IgnoreElementsOperator() {}\n\n    IgnoreElementsOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new IgnoreElementsSubscriber(subscriber));\n    };\n\n    return IgnoreElementsOperator;\n  }();\n\n  var IgnoreElementsSubscriber = function (_super) {\n    __extends(IgnoreElementsSubscriber, _super);\n\n    function IgnoreElementsSubscriber() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    IgnoreElementsSubscriber.prototype._next = function (unused) {};\n\n    return IgnoreElementsSubscriber;\n  }(Subscriber);\n\n  function isEmpty() {\n    return function (source) {\n      return source.lift(new IsEmptyOperator());\n    };\n  }\n\n  var IsEmptyOperator = function () {\n    function IsEmptyOperator() {}\n\n    IsEmptyOperator.prototype.call = function (observer, source) {\n      return source.subscribe(new IsEmptySubscriber(observer));\n    };\n\n    return IsEmptyOperator;\n  }();\n\n  var IsEmptySubscriber = function (_super) {\n    __extends(IsEmptySubscriber, _super);\n\n    function IsEmptySubscriber(destination) {\n      return _super.call(this, destination) || this;\n    }\n\n    IsEmptySubscriber.prototype.notifyComplete = function (isEmpty) {\n      var destination = this.destination;\n      destination.next(isEmpty);\n      destination.complete();\n    };\n\n    IsEmptySubscriber.prototype._next = function (value) {\n      this.notifyComplete(false);\n    };\n\n    IsEmptySubscriber.prototype._complete = function () {\n      this.notifyComplete(true);\n    };\n\n    return IsEmptySubscriber;\n  }(Subscriber);\n\n  function takeLast(count) {\n    return function takeLastOperatorFunction(source) {\n      if (count === 0) {\n        return empty$1();\n      } else {\n        return source.lift(new TakeLastOperator(count));\n      }\n    };\n  }\n\n  var TakeLastOperator = function () {\n    function TakeLastOperator(total) {\n      this.total = total;\n\n      if (this.total < 0) {\n        throw new ArgumentOutOfRangeError();\n      }\n    }\n\n    TakeLastOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new TakeLastSubscriber(subscriber, this.total));\n    };\n\n    return TakeLastOperator;\n  }();\n\n  var TakeLastSubscriber = function (_super) {\n    __extends(TakeLastSubscriber, _super);\n\n    function TakeLastSubscriber(destination, total) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.total = total;\n      _this.ring = new Array();\n      _this.count = 0;\n      return _this;\n    }\n\n    TakeLastSubscriber.prototype._next = function (value) {\n      var ring = this.ring;\n      var total = this.total;\n      var count = this.count++;\n\n      if (ring.length < total) {\n        ring.push(value);\n      } else {\n        var index = count % total;\n        ring[index] = value;\n      }\n    };\n\n    TakeLastSubscriber.prototype._complete = function () {\n      var destination = this.destination;\n      var count = this.count;\n\n      if (count > 0) {\n        var total = this.count >= this.total ? this.total : this.count;\n        var ring = this.ring;\n\n        for (var i = 0; i < total; i++) {\n          var idx = count++ % total;\n          destination.next(ring[idx]);\n        }\n      }\n\n      destination.complete();\n    };\n\n    return TakeLastSubscriber;\n  }(Subscriber);\n\n  function last(predicate, defaultValue) {\n    var hasDefaultValue = arguments.length >= 2;\n    return function (source) {\n      return source.pipe(predicate ? filter(function (v, i) {\n        return predicate(v, i, source);\n      }) : identity, takeLast(1), hasDefaultValue ? defaultIfEmpty(defaultValue) : throwIfEmpty(function () {\n        return new EmptyError();\n      }));\n    };\n  }\n\n  function mapTo(value) {\n    return function (source) {\n      return source.lift(new MapToOperator(value));\n    };\n  }\n\n  var MapToOperator = function () {\n    function MapToOperator(value) {\n      this.value = value;\n    }\n\n    MapToOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new MapToSubscriber(subscriber, this.value));\n    };\n\n    return MapToOperator;\n  }();\n\n  var MapToSubscriber = function (_super) {\n    __extends(MapToSubscriber, _super);\n\n    function MapToSubscriber(destination, value) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.value = value;\n      return _this;\n    }\n\n    MapToSubscriber.prototype._next = function (x) {\n      this.destination.next(this.value);\n    };\n\n    return MapToSubscriber;\n  }(Subscriber);\n\n  function materialize() {\n    return function materializeOperatorFunction(source) {\n      return source.lift(new MaterializeOperator());\n    };\n  }\n\n  var MaterializeOperator = function () {\n    function MaterializeOperator() {}\n\n    MaterializeOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new MaterializeSubscriber(subscriber));\n    };\n\n    return MaterializeOperator;\n  }();\n\n  var MaterializeSubscriber = function (_super) {\n    __extends(MaterializeSubscriber, _super);\n\n    function MaterializeSubscriber(destination) {\n      return _super.call(this, destination) || this;\n    }\n\n    MaterializeSubscriber.prototype._next = function (value) {\n      this.destination.next(Notification.createNext(value));\n    };\n\n    MaterializeSubscriber.prototype._error = function (err) {\n      var destination = this.destination;\n      destination.next(Notification.createError(err));\n      destination.complete();\n    };\n\n    MaterializeSubscriber.prototype._complete = function () {\n      var destination = this.destination;\n      destination.next(Notification.createComplete());\n      destination.complete();\n    };\n\n    return MaterializeSubscriber;\n  }(Subscriber);\n\n  function scan(accumulator, seed) {\n    var hasSeed = false;\n\n    if (arguments.length >= 2) {\n      hasSeed = true;\n    }\n\n    return function scanOperatorFunction(source) {\n      return source.lift(new ScanOperator(accumulator, seed, hasSeed));\n    };\n  }\n\n  var ScanOperator = function () {\n    function ScanOperator(accumulator, seed, hasSeed) {\n      if (hasSeed === void 0) {\n        hasSeed = false;\n      }\n\n      this.accumulator = accumulator;\n      this.seed = seed;\n      this.hasSeed = hasSeed;\n    }\n\n    ScanOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new ScanSubscriber(subscriber, this.accumulator, this.seed, this.hasSeed));\n    };\n\n    return ScanOperator;\n  }();\n\n  var ScanSubscriber = function (_super) {\n    __extends(ScanSubscriber, _super);\n\n    function ScanSubscriber(destination, accumulator, _seed, hasSeed) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.accumulator = accumulator;\n      _this._seed = _seed;\n      _this.hasSeed = hasSeed;\n      _this.index = 0;\n      return _this;\n    }\n\n    Object.defineProperty(ScanSubscriber.prototype, \"seed\", {\n      get: function () {\n        return this._seed;\n      },\n      set: function (value) {\n        this.hasSeed = true;\n        this._seed = value;\n      },\n      enumerable: true,\n      configurable: true\n    });\n\n    ScanSubscriber.prototype._next = function (value) {\n      if (!this.hasSeed) {\n        this.seed = value;\n        this.destination.next(value);\n      } else {\n        return this._tryNext(value);\n      }\n    };\n\n    ScanSubscriber.prototype._tryNext = function (value) {\n      var index = this.index++;\n      var result;\n\n      try {\n        result = this.accumulator(this.seed, value, index);\n      } catch (err) {\n        this.destination.error(err);\n      }\n\n      this.seed = result;\n      this.destination.next(result);\n    };\n\n    return ScanSubscriber;\n  }(Subscriber);\n\n  function reduce(accumulator, seed) {\n    if (arguments.length >= 2) {\n      return function reduceOperatorFunctionWithSeed(source) {\n        return pipe(scan(accumulator, seed), takeLast(1), defaultIfEmpty(seed))(source);\n      };\n    }\n\n    return function reduceOperatorFunction(source) {\n      return pipe(scan(function (acc, value, index) {\n        return accumulator(acc, value, index + 1);\n      }), takeLast(1))(source);\n    };\n  }\n\n  function max(comparer) {\n    var max = typeof comparer === 'function' ? function (x, y) {\n      return comparer(x, y) > 0 ? x : y;\n    } : function (x, y) {\n      return x > y ? x : y;\n    };\n    return reduce(max);\n  }\n\n  function merge$1() {\n    var observables = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      observables[_i] = arguments[_i];\n    }\n\n    return function (source) {\n      return source.lift.call(merge.apply(void 0, [source].concat(observables)));\n    };\n  }\n\n  function mergeMapTo(innerObservable, resultSelector, concurrent) {\n    if (concurrent === void 0) {\n      concurrent = Number.POSITIVE_INFINITY;\n    }\n\n    if (typeof resultSelector === 'function') {\n      return mergeMap(function () {\n        return innerObservable;\n      }, resultSelector, concurrent);\n    }\n\n    if (typeof resultSelector === 'number') {\n      concurrent = resultSelector;\n    }\n\n    return mergeMap(function () {\n      return innerObservable;\n    }, concurrent);\n  }\n\n  function mergeScan(accumulator, seed, concurrent) {\n    if (concurrent === void 0) {\n      concurrent = Number.POSITIVE_INFINITY;\n    }\n\n    return function (source) {\n      return source.lift(new MergeScanOperator(accumulator, seed, concurrent));\n    };\n  }\n\n  var MergeScanOperator = function () {\n    function MergeScanOperator(accumulator, seed, concurrent) {\n      this.accumulator = accumulator;\n      this.seed = seed;\n      this.concurrent = concurrent;\n    }\n\n    MergeScanOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new MergeScanSubscriber(subscriber, this.accumulator, this.seed, this.concurrent));\n    };\n\n    return MergeScanOperator;\n  }();\n\n  var MergeScanSubscriber = function (_super) {\n    __extends(MergeScanSubscriber, _super);\n\n    function MergeScanSubscriber(destination, accumulator, acc, concurrent) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.accumulator = accumulator;\n      _this.acc = acc;\n      _this.concurrent = concurrent;\n      _this.hasValue = false;\n      _this.hasCompleted = false;\n      _this.buffer = [];\n      _this.active = 0;\n      _this.index = 0;\n      return _this;\n    }\n\n    MergeScanSubscriber.prototype._next = function (value) {\n      if (this.active < this.concurrent) {\n        var index = this.index++;\n        var destination = this.destination;\n        var ish = void 0;\n\n        try {\n          var accumulator = this.accumulator;\n          ish = accumulator(this.acc, value, index);\n        } catch (e) {\n          return destination.error(e);\n        }\n\n        this.active++;\n\n        this._innerSub(ish, value, index);\n      } else {\n        this.buffer.push(value);\n      }\n    };\n\n    MergeScanSubscriber.prototype._innerSub = function (ish, value, index) {\n      var innerSubscriber = new InnerSubscriber(this, value, index);\n      var destination = this.destination;\n      destination.add(innerSubscriber);\n      var innerSubscription = subscribeToResult(this, ish, undefined, undefined, innerSubscriber);\n\n      if (innerSubscription !== innerSubscriber) {\n        destination.add(innerSubscription);\n      }\n    };\n\n    MergeScanSubscriber.prototype._complete = function () {\n      this.hasCompleted = true;\n\n      if (this.active === 0 && this.buffer.length === 0) {\n        if (this.hasValue === false) {\n          this.destination.next(this.acc);\n        }\n\n        this.destination.complete();\n      }\n\n      this.unsubscribe();\n    };\n\n    MergeScanSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n      var destination = this.destination;\n      this.acc = innerValue;\n      this.hasValue = true;\n      destination.next(innerValue);\n    };\n\n    MergeScanSubscriber.prototype.notifyComplete = function (innerSub) {\n      var buffer = this.buffer;\n      var destination = this.destination;\n      destination.remove(innerSub);\n      this.active--;\n\n      if (buffer.length > 0) {\n        this._next(buffer.shift());\n      } else if (this.active === 0 && this.hasCompleted) {\n        if (this.hasValue === false) {\n          this.destination.next(this.acc);\n        }\n\n        this.destination.complete();\n      }\n    };\n\n    return MergeScanSubscriber;\n  }(OuterSubscriber);\n\n  function min(comparer) {\n    var min = typeof comparer === 'function' ? function (x, y) {\n      return comparer(x, y) < 0 ? x : y;\n    } : function (x, y) {\n      return x < y ? x : y;\n    };\n    return reduce(min);\n  }\n\n  function multicast(subjectOrSubjectFactory, selector) {\n    return function multicastOperatorFunction(source) {\n      var subjectFactory;\n\n      if (typeof subjectOrSubjectFactory === 'function') {\n        subjectFactory = subjectOrSubjectFactory;\n      } else {\n        subjectFactory = function subjectFactory() {\n          return subjectOrSubjectFactory;\n        };\n      }\n\n      if (typeof selector === 'function') {\n        return source.lift(new MulticastOperator(subjectFactory, selector));\n      }\n\n      var connectable = Object.create(source, connectableObservableDescriptor);\n      connectable.source = source;\n      connectable.subjectFactory = subjectFactory;\n      return connectable;\n    };\n  }\n\n  var MulticastOperator = function () {\n    function MulticastOperator(subjectFactory, selector) {\n      this.subjectFactory = subjectFactory;\n      this.selector = selector;\n    }\n\n    MulticastOperator.prototype.call = function (subscriber, source) {\n      var selector = this.selector;\n      var subject = this.subjectFactory();\n      var subscription = selector(subject).subscribe(subscriber);\n      subscription.add(source.subscribe(subject));\n      return subscription;\n    };\n\n    return MulticastOperator;\n  }();\n\n  function onErrorResumeNext$1() {\n    var nextSources = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      nextSources[_i] = arguments[_i];\n    }\n\n    if (nextSources.length === 1 && isArray(nextSources[0])) {\n      nextSources = nextSources[0];\n    }\n\n    return function (source) {\n      return source.lift(new OnErrorResumeNextOperator(nextSources));\n    };\n  }\n\n  var OnErrorResumeNextOperator = function () {\n    function OnErrorResumeNextOperator(nextSources) {\n      this.nextSources = nextSources;\n    }\n\n    OnErrorResumeNextOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new OnErrorResumeNextSubscriber(subscriber, this.nextSources));\n    };\n\n    return OnErrorResumeNextOperator;\n  }();\n\n  var OnErrorResumeNextSubscriber = function (_super) {\n    __extends(OnErrorResumeNextSubscriber, _super);\n\n    function OnErrorResumeNextSubscriber(destination, nextSources) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.destination = destination;\n      _this.nextSources = nextSources;\n      return _this;\n    }\n\n    OnErrorResumeNextSubscriber.prototype.notifyError = function (error, innerSub) {\n      this.subscribeToNextSource();\n    };\n\n    OnErrorResumeNextSubscriber.prototype.notifyComplete = function (innerSub) {\n      this.subscribeToNextSource();\n    };\n\n    OnErrorResumeNextSubscriber.prototype._error = function (err) {\n      this.subscribeToNextSource();\n      this.unsubscribe();\n    };\n\n    OnErrorResumeNextSubscriber.prototype._complete = function () {\n      this.subscribeToNextSource();\n      this.unsubscribe();\n    };\n\n    OnErrorResumeNextSubscriber.prototype.subscribeToNextSource = function () {\n      var next = this.nextSources.shift();\n\n      if (!!next) {\n        var innerSubscriber = new InnerSubscriber(this, undefined, undefined);\n        var destination = this.destination;\n        destination.add(innerSubscriber);\n        var innerSubscription = subscribeToResult(this, next, undefined, undefined, innerSubscriber);\n\n        if (innerSubscription !== innerSubscriber) {\n          destination.add(innerSubscription);\n        }\n      } else {\n        this.destination.complete();\n      }\n    };\n\n    return OnErrorResumeNextSubscriber;\n  }(OuterSubscriber);\n\n  function pairwise() {\n    return function (source) {\n      return source.lift(new PairwiseOperator());\n    };\n  }\n\n  var PairwiseOperator = function () {\n    function PairwiseOperator() {}\n\n    PairwiseOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new PairwiseSubscriber(subscriber));\n    };\n\n    return PairwiseOperator;\n  }();\n\n  var PairwiseSubscriber = function (_super) {\n    __extends(PairwiseSubscriber, _super);\n\n    function PairwiseSubscriber(destination) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.hasPrev = false;\n      return _this;\n    }\n\n    PairwiseSubscriber.prototype._next = function (value) {\n      var pair;\n\n      if (this.hasPrev) {\n        pair = [this.prev, value];\n      } else {\n        this.hasPrev = true;\n      }\n\n      this.prev = value;\n\n      if (pair) {\n        this.destination.next(pair);\n      }\n    };\n\n    return PairwiseSubscriber;\n  }(Subscriber);\n\n  function partition$1(predicate, thisArg) {\n    return function (source) {\n      return [filter(predicate, thisArg)(source), filter(not(predicate, thisArg))(source)];\n    };\n  }\n\n  function pluck() {\n    var properties = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      properties[_i] = arguments[_i];\n    }\n\n    var length = properties.length;\n\n    if (length === 0) {\n      throw new Error('list of properties cannot be empty.');\n    }\n\n    return function (source) {\n      return map(plucker(properties, length))(source);\n    };\n  }\n\n  function plucker(props, length) {\n    var mapper = function (x) {\n      var currentProp = x;\n\n      for (var i = 0; i < length; i++) {\n        var p = currentProp[props[i]];\n\n        if (typeof p !== 'undefined') {\n          currentProp = p;\n        } else {\n          return undefined;\n        }\n      }\n\n      return currentProp;\n    };\n\n    return mapper;\n  }\n\n  function publish(selector) {\n    return selector ? multicast(function () {\n      return new Subject();\n    }, selector) : multicast(new Subject());\n  }\n\n  function publishBehavior(value) {\n    return function (source) {\n      return multicast(new BehaviorSubject(value))(source);\n    };\n  }\n\n  function publishLast() {\n    return function (source) {\n      return multicast(new AsyncSubject())(source);\n    };\n  }\n\n  function publishReplay(bufferSize, windowTime, selectorOrScheduler, scheduler) {\n    if (selectorOrScheduler && typeof selectorOrScheduler !== 'function') {\n      scheduler = selectorOrScheduler;\n    }\n\n    var selector = typeof selectorOrScheduler === 'function' ? selectorOrScheduler : undefined;\n    var subject = new ReplaySubject(bufferSize, windowTime, scheduler);\n    return function (source) {\n      return multicast(function () {\n        return subject;\n      }, selector)(source);\n    };\n  }\n\n  function race$1() {\n    var observables = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      observables[_i] = arguments[_i];\n    }\n\n    return function raceOperatorFunction(source) {\n      if (observables.length === 1 && isArray(observables[0])) {\n        observables = observables[0];\n      }\n\n      return source.lift.call(race.apply(void 0, [source].concat(observables)));\n    };\n  }\n\n  function repeat(count) {\n    if (count === void 0) {\n      count = -1;\n    }\n\n    return function (source) {\n      if (count === 0) {\n        return empty$1();\n      } else if (count < 0) {\n        return source.lift(new RepeatOperator(-1, source));\n      } else {\n        return source.lift(new RepeatOperator(count - 1, source));\n      }\n    };\n  }\n\n  var RepeatOperator = function () {\n    function RepeatOperator(count, source) {\n      this.count = count;\n      this.source = source;\n    }\n\n    RepeatOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new RepeatSubscriber(subscriber, this.count, this.source));\n    };\n\n    return RepeatOperator;\n  }();\n\n  var RepeatSubscriber = function (_super) {\n    __extends(RepeatSubscriber, _super);\n\n    function RepeatSubscriber(destination, count, source) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.count = count;\n      _this.source = source;\n      return _this;\n    }\n\n    RepeatSubscriber.prototype.complete = function () {\n      if (!this.isStopped) {\n        var _a = this,\n            source = _a.source,\n            count = _a.count;\n\n        if (count === 0) {\n          return _super.prototype.complete.call(this);\n        } else if (count > -1) {\n          this.count = count - 1;\n        }\n\n        source.subscribe(this._unsubscribeAndRecycle());\n      }\n    };\n\n    return RepeatSubscriber;\n  }(Subscriber);\n\n  function repeatWhen(notifier) {\n    return function (source) {\n      return source.lift(new RepeatWhenOperator(notifier));\n    };\n  }\n\n  var RepeatWhenOperator = function () {\n    function RepeatWhenOperator(notifier) {\n      this.notifier = notifier;\n    }\n\n    RepeatWhenOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new RepeatWhenSubscriber(subscriber, this.notifier, source));\n    };\n\n    return RepeatWhenOperator;\n  }();\n\n  var RepeatWhenSubscriber = function (_super) {\n    __extends(RepeatWhenSubscriber, _super);\n\n    function RepeatWhenSubscriber(destination, notifier, source) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.notifier = notifier;\n      _this.source = source;\n      _this.sourceIsBeingSubscribedTo = true;\n      return _this;\n    }\n\n    RepeatWhenSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n      this.sourceIsBeingSubscribedTo = true;\n      this.source.subscribe(this);\n    };\n\n    RepeatWhenSubscriber.prototype.notifyComplete = function (innerSub) {\n      if (this.sourceIsBeingSubscribedTo === false) {\n        return _super.prototype.complete.call(this);\n      }\n    };\n\n    RepeatWhenSubscriber.prototype.complete = function () {\n      this.sourceIsBeingSubscribedTo = false;\n\n      if (!this.isStopped) {\n        if (!this.retries) {\n          this.subscribeToRetries();\n        }\n\n        if (!this.retriesSubscription || this.retriesSubscription.closed) {\n          return _super.prototype.complete.call(this);\n        }\n\n        this._unsubscribeAndRecycle();\n\n        this.notifications.next();\n      }\n    };\n\n    RepeatWhenSubscriber.prototype._unsubscribe = function () {\n      var _a = this,\n          notifications = _a.notifications,\n          retriesSubscription = _a.retriesSubscription;\n\n      if (notifications) {\n        notifications.unsubscribe();\n        this.notifications = null;\n      }\n\n      if (retriesSubscription) {\n        retriesSubscription.unsubscribe();\n        this.retriesSubscription = null;\n      }\n\n      this.retries = null;\n    };\n\n    RepeatWhenSubscriber.prototype._unsubscribeAndRecycle = function () {\n      var _unsubscribe = this._unsubscribe;\n      this._unsubscribe = null;\n\n      _super.prototype._unsubscribeAndRecycle.call(this);\n\n      this._unsubscribe = _unsubscribe;\n      return this;\n    };\n\n    RepeatWhenSubscriber.prototype.subscribeToRetries = function () {\n      this.notifications = new Subject();\n      var retries;\n\n      try {\n        var notifier = this.notifier;\n        retries = notifier(this.notifications);\n      } catch (e) {\n        return _super.prototype.complete.call(this);\n      }\n\n      this.retries = retries;\n      this.retriesSubscription = subscribeToResult(this, retries);\n    };\n\n    return RepeatWhenSubscriber;\n  }(OuterSubscriber);\n\n  function retry(count) {\n    if (count === void 0) {\n      count = -1;\n    }\n\n    return function (source) {\n      return source.lift(new RetryOperator(count, source));\n    };\n  }\n\n  var RetryOperator = function () {\n    function RetryOperator(count, source) {\n      this.count = count;\n      this.source = source;\n    }\n\n    RetryOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new RetrySubscriber(subscriber, this.count, this.source));\n    };\n\n    return RetryOperator;\n  }();\n\n  var RetrySubscriber = function (_super) {\n    __extends(RetrySubscriber, _super);\n\n    function RetrySubscriber(destination, count, source) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.count = count;\n      _this.source = source;\n      return _this;\n    }\n\n    RetrySubscriber.prototype.error = function (err) {\n      if (!this.isStopped) {\n        var _a = this,\n            source = _a.source,\n            count = _a.count;\n\n        if (count === 0) {\n          return _super.prototype.error.call(this, err);\n        } else if (count > -1) {\n          this.count = count - 1;\n        }\n\n        source.subscribe(this._unsubscribeAndRecycle());\n      }\n    };\n\n    return RetrySubscriber;\n  }(Subscriber);\n\n  function retryWhen(notifier) {\n    return function (source) {\n      return source.lift(new RetryWhenOperator(notifier, source));\n    };\n  }\n\n  var RetryWhenOperator = function () {\n    function RetryWhenOperator(notifier, source) {\n      this.notifier = notifier;\n      this.source = source;\n    }\n\n    RetryWhenOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new RetryWhenSubscriber(subscriber, this.notifier, this.source));\n    };\n\n    return RetryWhenOperator;\n  }();\n\n  var RetryWhenSubscriber = function (_super) {\n    __extends(RetryWhenSubscriber, _super);\n\n    function RetryWhenSubscriber(destination, notifier, source) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.notifier = notifier;\n      _this.source = source;\n      return _this;\n    }\n\n    RetryWhenSubscriber.prototype.error = function (err) {\n      if (!this.isStopped) {\n        var errors = this.errors;\n        var retries = this.retries;\n        var retriesSubscription = this.retriesSubscription;\n\n        if (!retries) {\n          errors = new Subject();\n\n          try {\n            var notifier = this.notifier;\n            retries = notifier(errors);\n          } catch (e) {\n            return _super.prototype.error.call(this, e);\n          }\n\n          retriesSubscription = subscribeToResult(this, retries);\n        } else {\n          this.errors = null;\n          this.retriesSubscription = null;\n        }\n\n        this._unsubscribeAndRecycle();\n\n        this.errors = errors;\n        this.retries = retries;\n        this.retriesSubscription = retriesSubscription;\n        errors.next(err);\n      }\n    };\n\n    RetryWhenSubscriber.prototype._unsubscribe = function () {\n      var _a = this,\n          errors = _a.errors,\n          retriesSubscription = _a.retriesSubscription;\n\n      if (errors) {\n        errors.unsubscribe();\n        this.errors = null;\n      }\n\n      if (retriesSubscription) {\n        retriesSubscription.unsubscribe();\n        this.retriesSubscription = null;\n      }\n\n      this.retries = null;\n    };\n\n    RetryWhenSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n      var _unsubscribe = this._unsubscribe;\n      this._unsubscribe = null;\n\n      this._unsubscribeAndRecycle();\n\n      this._unsubscribe = _unsubscribe;\n      this.source.subscribe(this);\n    };\n\n    return RetryWhenSubscriber;\n  }(OuterSubscriber);\n\n  function sample(notifier) {\n    return function (source) {\n      return source.lift(new SampleOperator(notifier));\n    };\n  }\n\n  var SampleOperator = function () {\n    function SampleOperator(notifier) {\n      this.notifier = notifier;\n    }\n\n    SampleOperator.prototype.call = function (subscriber, source) {\n      var sampleSubscriber = new SampleSubscriber(subscriber);\n      var subscription = source.subscribe(sampleSubscriber);\n      subscription.add(subscribeToResult(sampleSubscriber, this.notifier));\n      return subscription;\n    };\n\n    return SampleOperator;\n  }();\n\n  var SampleSubscriber = function (_super) {\n    __extends(SampleSubscriber, _super);\n\n    function SampleSubscriber() {\n      var _this = _super !== null && _super.apply(this, arguments) || this;\n\n      _this.hasValue = false;\n      return _this;\n    }\n\n    SampleSubscriber.prototype._next = function (value) {\n      this.value = value;\n      this.hasValue = true;\n    };\n\n    SampleSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n      this.emitValue();\n    };\n\n    SampleSubscriber.prototype.notifyComplete = function () {\n      this.emitValue();\n    };\n\n    SampleSubscriber.prototype.emitValue = function () {\n      if (this.hasValue) {\n        this.hasValue = false;\n        this.destination.next(this.value);\n      }\n    };\n\n    return SampleSubscriber;\n  }(OuterSubscriber);\n\n  function sampleTime(period, scheduler) {\n    if (scheduler === void 0) {\n      scheduler = async;\n    }\n\n    return function (source) {\n      return source.lift(new SampleTimeOperator(period, scheduler));\n    };\n  }\n\n  var SampleTimeOperator = function () {\n    function SampleTimeOperator(period, scheduler) {\n      this.period = period;\n      this.scheduler = scheduler;\n    }\n\n    SampleTimeOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new SampleTimeSubscriber(subscriber, this.period, this.scheduler));\n    };\n\n    return SampleTimeOperator;\n  }();\n\n  var SampleTimeSubscriber = function (_super) {\n    __extends(SampleTimeSubscriber, _super);\n\n    function SampleTimeSubscriber(destination, period, scheduler) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.period = period;\n      _this.scheduler = scheduler;\n      _this.hasValue = false;\n\n      _this.add(scheduler.schedule(dispatchNotification, period, {\n        subscriber: _this,\n        period: period\n      }));\n\n      return _this;\n    }\n\n    SampleTimeSubscriber.prototype._next = function (value) {\n      this.lastValue = value;\n      this.hasValue = true;\n    };\n\n    SampleTimeSubscriber.prototype.notifyNext = function () {\n      if (this.hasValue) {\n        this.hasValue = false;\n        this.destination.next(this.lastValue);\n      }\n    };\n\n    return SampleTimeSubscriber;\n  }(Subscriber);\n\n  function dispatchNotification(state) {\n    var subscriber = state.subscriber,\n        period = state.period;\n    subscriber.notifyNext();\n    this.schedule(state, period);\n  }\n\n  function sequenceEqual(compareTo, comparator) {\n    return function (source) {\n      return source.lift(new SequenceEqualOperator(compareTo, comparator));\n    };\n  }\n\n  var SequenceEqualOperator = function () {\n    function SequenceEqualOperator(compareTo, comparator) {\n      this.compareTo = compareTo;\n      this.comparator = comparator;\n    }\n\n    SequenceEqualOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new SequenceEqualSubscriber(subscriber, this.compareTo, this.comparator));\n    };\n\n    return SequenceEqualOperator;\n  }();\n\n  var SequenceEqualSubscriber = function (_super) {\n    __extends(SequenceEqualSubscriber, _super);\n\n    function SequenceEqualSubscriber(destination, compareTo, comparator) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.compareTo = compareTo;\n      _this.comparator = comparator;\n      _this._a = [];\n      _this._b = [];\n      _this._oneComplete = false;\n\n      _this.destination.add(compareTo.subscribe(new SequenceEqualCompareToSubscriber(destination, _this)));\n\n      return _this;\n    }\n\n    SequenceEqualSubscriber.prototype._next = function (value) {\n      if (this._oneComplete && this._b.length === 0) {\n        this.emit(false);\n      } else {\n        this._a.push(value);\n\n        this.checkValues();\n      }\n    };\n\n    SequenceEqualSubscriber.prototype._complete = function () {\n      if (this._oneComplete) {\n        this.emit(this._a.length === 0 && this._b.length === 0);\n      } else {\n        this._oneComplete = true;\n      }\n\n      this.unsubscribe();\n    };\n\n    SequenceEqualSubscriber.prototype.checkValues = function () {\n      var _c = this,\n          _a = _c._a,\n          _b = _c._b,\n          comparator = _c.comparator;\n\n      while (_a.length > 0 && _b.length > 0) {\n        var a = _a.shift();\n\n        var b = _b.shift();\n\n        var areEqual = false;\n\n        try {\n          areEqual = comparator ? comparator(a, b) : a === b;\n        } catch (e) {\n          this.destination.error(e);\n        }\n\n        if (!areEqual) {\n          this.emit(false);\n        }\n      }\n    };\n\n    SequenceEqualSubscriber.prototype.emit = function (value) {\n      var destination = this.destination;\n      destination.next(value);\n      destination.complete();\n    };\n\n    SequenceEqualSubscriber.prototype.nextB = function (value) {\n      if (this._oneComplete && this._a.length === 0) {\n        this.emit(false);\n      } else {\n        this._b.push(value);\n\n        this.checkValues();\n      }\n    };\n\n    SequenceEqualSubscriber.prototype.completeB = function () {\n      if (this._oneComplete) {\n        this.emit(this._a.length === 0 && this._b.length === 0);\n      } else {\n        this._oneComplete = true;\n      }\n    };\n\n    return SequenceEqualSubscriber;\n  }(Subscriber);\n\n  var SequenceEqualCompareToSubscriber = function (_super) {\n    __extends(SequenceEqualCompareToSubscriber, _super);\n\n    function SequenceEqualCompareToSubscriber(destination, parent) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.parent = parent;\n      return _this;\n    }\n\n    SequenceEqualCompareToSubscriber.prototype._next = function (value) {\n      this.parent.nextB(value);\n    };\n\n    SequenceEqualCompareToSubscriber.prototype._error = function (err) {\n      this.parent.error(err);\n      this.unsubscribe();\n    };\n\n    SequenceEqualCompareToSubscriber.prototype._complete = function () {\n      this.parent.completeB();\n      this.unsubscribe();\n    };\n\n    return SequenceEqualCompareToSubscriber;\n  }(Subscriber);\n\n  function shareSubjectFactory() {\n    return new Subject();\n  }\n\n  function share() {\n    return function (source) {\n      return refCount()(multicast(shareSubjectFactory)(source));\n    };\n  }\n\n  function shareReplay(configOrBufferSize, windowTime, scheduler) {\n    var config;\n\n    if (configOrBufferSize && typeof configOrBufferSize === 'object') {\n      config = configOrBufferSize;\n    } else {\n      config = {\n        bufferSize: configOrBufferSize,\n        windowTime: windowTime,\n        refCount: false,\n        scheduler: scheduler\n      };\n    }\n\n    return function (source) {\n      return source.lift(shareReplayOperator(config));\n    };\n  }\n\n  function shareReplayOperator(_a) {\n    var _b = _a.bufferSize,\n        bufferSize = _b === void 0 ? Number.POSITIVE_INFINITY : _b,\n        _c = _a.windowTime,\n        windowTime = _c === void 0 ? Number.POSITIVE_INFINITY : _c,\n        useRefCount = _a.refCount,\n        scheduler = _a.scheduler;\n    var subject;\n    var refCount = 0;\n    var subscription;\n    var hasError = false;\n    var isComplete = false;\n    return function shareReplayOperation(source) {\n      refCount++;\n\n      if (!subject || hasError) {\n        hasError = false;\n        subject = new ReplaySubject(bufferSize, windowTime, scheduler);\n        subscription = source.subscribe({\n          next: function (value) {\n            subject.next(value);\n          },\n          error: function (err) {\n            hasError = true;\n            subject.error(err);\n          },\n          complete: function () {\n            isComplete = true;\n            subscription = undefined;\n            subject.complete();\n          }\n        });\n      }\n\n      var innerSub = subject.subscribe(this);\n      this.add(function () {\n        refCount--;\n        innerSub.unsubscribe();\n\n        if (subscription && !isComplete && useRefCount && refCount === 0) {\n          subscription.unsubscribe();\n          subscription = undefined;\n          subject = undefined;\n        }\n      });\n    };\n  }\n\n  function single(predicate) {\n    return function (source) {\n      return source.lift(new SingleOperator(predicate, source));\n    };\n  }\n\n  var SingleOperator = function () {\n    function SingleOperator(predicate, source) {\n      this.predicate = predicate;\n      this.source = source;\n    }\n\n    SingleOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new SingleSubscriber(subscriber, this.predicate, this.source));\n    };\n\n    return SingleOperator;\n  }();\n\n  var SingleSubscriber = function (_super) {\n    __extends(SingleSubscriber, _super);\n\n    function SingleSubscriber(destination, predicate, source) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.predicate = predicate;\n      _this.source = source;\n      _this.seenValue = false;\n      _this.index = 0;\n      return _this;\n    }\n\n    SingleSubscriber.prototype.applySingleValue = function (value) {\n      if (this.seenValue) {\n        this.destination.error('Sequence contains more than one element');\n      } else {\n        this.seenValue = true;\n        this.singleValue = value;\n      }\n    };\n\n    SingleSubscriber.prototype._next = function (value) {\n      var index = this.index++;\n\n      if (this.predicate) {\n        this.tryNext(value, index);\n      } else {\n        this.applySingleValue(value);\n      }\n    };\n\n    SingleSubscriber.prototype.tryNext = function (value, index) {\n      try {\n        if (this.predicate(value, index, this.source)) {\n          this.applySingleValue(value);\n        }\n      } catch (err) {\n        this.destination.error(err);\n      }\n    };\n\n    SingleSubscriber.prototype._complete = function () {\n      var destination = this.destination;\n\n      if (this.index > 0) {\n        destination.next(this.seenValue ? this.singleValue : undefined);\n        destination.complete();\n      } else {\n        destination.error(new EmptyError());\n      }\n    };\n\n    return SingleSubscriber;\n  }(Subscriber);\n\n  function skip(count) {\n    return function (source) {\n      return source.lift(new SkipOperator(count));\n    };\n  }\n\n  var SkipOperator = function () {\n    function SkipOperator(total) {\n      this.total = total;\n    }\n\n    SkipOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new SkipSubscriber(subscriber, this.total));\n    };\n\n    return SkipOperator;\n  }();\n\n  var SkipSubscriber = function (_super) {\n    __extends(SkipSubscriber, _super);\n\n    function SkipSubscriber(destination, total) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.total = total;\n      _this.count = 0;\n      return _this;\n    }\n\n    SkipSubscriber.prototype._next = function (x) {\n      if (++this.count > this.total) {\n        this.destination.next(x);\n      }\n    };\n\n    return SkipSubscriber;\n  }(Subscriber);\n\n  function skipLast(count) {\n    return function (source) {\n      return source.lift(new SkipLastOperator(count));\n    };\n  }\n\n  var SkipLastOperator = function () {\n    function SkipLastOperator(_skipCount) {\n      this._skipCount = _skipCount;\n\n      if (this._skipCount < 0) {\n        throw new ArgumentOutOfRangeError();\n      }\n    }\n\n    SkipLastOperator.prototype.call = function (subscriber, source) {\n      if (this._skipCount === 0) {\n        return source.subscribe(new Subscriber(subscriber));\n      } else {\n        return source.subscribe(new SkipLastSubscriber(subscriber, this._skipCount));\n      }\n    };\n\n    return SkipLastOperator;\n  }();\n\n  var SkipLastSubscriber = function (_super) {\n    __extends(SkipLastSubscriber, _super);\n\n    function SkipLastSubscriber(destination, _skipCount) {\n      var _this = _super.call(this, destination) || this;\n\n      _this._skipCount = _skipCount;\n      _this._count = 0;\n      _this._ring = new Array(_skipCount);\n      return _this;\n    }\n\n    SkipLastSubscriber.prototype._next = function (value) {\n      var skipCount = this._skipCount;\n      var count = this._count++;\n\n      if (count < skipCount) {\n        this._ring[count] = value;\n      } else {\n        var currentIndex = count % skipCount;\n        var ring = this._ring;\n        var oldValue = ring[currentIndex];\n        ring[currentIndex] = value;\n        this.destination.next(oldValue);\n      }\n    };\n\n    return SkipLastSubscriber;\n  }(Subscriber);\n\n  function skipUntil(notifier) {\n    return function (source) {\n      return source.lift(new SkipUntilOperator(notifier));\n    };\n  }\n\n  var SkipUntilOperator = function () {\n    function SkipUntilOperator(notifier) {\n      this.notifier = notifier;\n    }\n\n    SkipUntilOperator.prototype.call = function (destination, source) {\n      return source.subscribe(new SkipUntilSubscriber(destination, this.notifier));\n    };\n\n    return SkipUntilOperator;\n  }();\n\n  var SkipUntilSubscriber = function (_super) {\n    __extends(SkipUntilSubscriber, _super);\n\n    function SkipUntilSubscriber(destination, notifier) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.hasValue = false;\n      var innerSubscriber = new InnerSubscriber(_this, undefined, undefined);\n\n      _this.add(innerSubscriber);\n\n      _this.innerSubscription = innerSubscriber;\n      var innerSubscription = subscribeToResult(_this, notifier, undefined, undefined, innerSubscriber);\n\n      if (innerSubscription !== innerSubscriber) {\n        _this.add(innerSubscription);\n\n        _this.innerSubscription = innerSubscription;\n      }\n\n      return _this;\n    }\n\n    SkipUntilSubscriber.prototype._next = function (value) {\n      if (this.hasValue) {\n        _super.prototype._next.call(this, value);\n      }\n    };\n\n    SkipUntilSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n      this.hasValue = true;\n\n      if (this.innerSubscription) {\n        this.innerSubscription.unsubscribe();\n      }\n    };\n\n    SkipUntilSubscriber.prototype.notifyComplete = function () {};\n\n    return SkipUntilSubscriber;\n  }(OuterSubscriber);\n\n  function skipWhile(predicate) {\n    return function (source) {\n      return source.lift(new SkipWhileOperator(predicate));\n    };\n  }\n\n  var SkipWhileOperator = function () {\n    function SkipWhileOperator(predicate) {\n      this.predicate = predicate;\n    }\n\n    SkipWhileOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new SkipWhileSubscriber(subscriber, this.predicate));\n    };\n\n    return SkipWhileOperator;\n  }();\n\n  var SkipWhileSubscriber = function (_super) {\n    __extends(SkipWhileSubscriber, _super);\n\n    function SkipWhileSubscriber(destination, predicate) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.predicate = predicate;\n      _this.skipping = true;\n      _this.index = 0;\n      return _this;\n    }\n\n    SkipWhileSubscriber.prototype._next = function (value) {\n      var destination = this.destination;\n\n      if (this.skipping) {\n        this.tryCallPredicate(value);\n      }\n\n      if (!this.skipping) {\n        destination.next(value);\n      }\n    };\n\n    SkipWhileSubscriber.prototype.tryCallPredicate = function (value) {\n      try {\n        var result = this.predicate(value, this.index++);\n        this.skipping = Boolean(result);\n      } catch (err) {\n        this.destination.error(err);\n      }\n    };\n\n    return SkipWhileSubscriber;\n  }(Subscriber);\n\n  function startWith() {\n    var array = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      array[_i] = arguments[_i];\n    }\n\n    var scheduler = array[array.length - 1];\n\n    if (isScheduler(scheduler)) {\n      array.pop();\n      return function (source) {\n        return concat(array, source, scheduler);\n      };\n    } else {\n      return function (source) {\n        return concat(array, source);\n      };\n    }\n  }\n\n  var SubscribeOnObservable = function (_super) {\n    __extends(SubscribeOnObservable, _super);\n\n    function SubscribeOnObservable(source, delayTime, scheduler) {\n      if (delayTime === void 0) {\n        delayTime = 0;\n      }\n\n      if (scheduler === void 0) {\n        scheduler = asap;\n      }\n\n      var _this = _super.call(this) || this;\n\n      _this.source = source;\n      _this.delayTime = delayTime;\n      _this.scheduler = scheduler;\n\n      if (!isNumeric(delayTime) || delayTime < 0) {\n        _this.delayTime = 0;\n      }\n\n      if (!scheduler || typeof scheduler.schedule !== 'function') {\n        _this.scheduler = asap;\n      }\n\n      return _this;\n    }\n\n    SubscribeOnObservable.create = function (source, delay, scheduler) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n\n      if (scheduler === void 0) {\n        scheduler = asap;\n      }\n\n      return new SubscribeOnObservable(source, delay, scheduler);\n    };\n\n    SubscribeOnObservable.dispatch = function (arg) {\n      var source = arg.source,\n          subscriber = arg.subscriber;\n      return this.add(source.subscribe(subscriber));\n    };\n\n    SubscribeOnObservable.prototype._subscribe = function (subscriber) {\n      var delay = this.delayTime;\n      var source = this.source;\n      var scheduler = this.scheduler;\n      return scheduler.schedule(SubscribeOnObservable.dispatch, delay, {\n        source: source,\n        subscriber: subscriber\n      });\n    };\n\n    return SubscribeOnObservable;\n  }(Observable);\n\n  function subscribeOn(scheduler, delay) {\n    if (delay === void 0) {\n      delay = 0;\n    }\n\n    return function subscribeOnOperatorFunction(source) {\n      return source.lift(new SubscribeOnOperator(scheduler, delay));\n    };\n  }\n\n  var SubscribeOnOperator = function () {\n    function SubscribeOnOperator(scheduler, delay) {\n      this.scheduler = scheduler;\n      this.delay = delay;\n    }\n\n    SubscribeOnOperator.prototype.call = function (subscriber, source) {\n      return new SubscribeOnObservable(source, this.delay, this.scheduler).subscribe(subscriber);\n    };\n\n    return SubscribeOnOperator;\n  }();\n\n  function switchMap(project, resultSelector) {\n    if (typeof resultSelector === 'function') {\n      return function (source) {\n        return source.pipe(switchMap(function (a, i) {\n          return from(project(a, i)).pipe(map(function (b, ii) {\n            return resultSelector(a, b, i, ii);\n          }));\n        }));\n      };\n    }\n\n    return function (source) {\n      return source.lift(new SwitchMapOperator(project));\n    };\n  }\n\n  var SwitchMapOperator = function () {\n    function SwitchMapOperator(project) {\n      this.project = project;\n    }\n\n    SwitchMapOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new SwitchMapSubscriber(subscriber, this.project));\n    };\n\n    return SwitchMapOperator;\n  }();\n\n  var SwitchMapSubscriber = function (_super) {\n    __extends(SwitchMapSubscriber, _super);\n\n    function SwitchMapSubscriber(destination, project) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.project = project;\n      _this.index = 0;\n      return _this;\n    }\n\n    SwitchMapSubscriber.prototype._next = function (value) {\n      var result;\n      var index = this.index++;\n\n      try {\n        result = this.project(value, index);\n      } catch (error) {\n        this.destination.error(error);\n        return;\n      }\n\n      this._innerSub(result, value, index);\n    };\n\n    SwitchMapSubscriber.prototype._innerSub = function (result, value, index) {\n      var innerSubscription = this.innerSubscription;\n\n      if (innerSubscription) {\n        innerSubscription.unsubscribe();\n      }\n\n      var innerSubscriber = new InnerSubscriber(this, value, index);\n      var destination = this.destination;\n      destination.add(innerSubscriber);\n      this.innerSubscription = subscribeToResult(this, result, undefined, undefined, innerSubscriber);\n\n      if (this.innerSubscription !== innerSubscriber) {\n        destination.add(this.innerSubscription);\n      }\n    };\n\n    SwitchMapSubscriber.prototype._complete = function () {\n      var innerSubscription = this.innerSubscription;\n\n      if (!innerSubscription || innerSubscription.closed) {\n        _super.prototype._complete.call(this);\n      }\n\n      this.unsubscribe();\n    };\n\n    SwitchMapSubscriber.prototype._unsubscribe = function () {\n      this.innerSubscription = null;\n    };\n\n    SwitchMapSubscriber.prototype.notifyComplete = function (innerSub) {\n      var destination = this.destination;\n      destination.remove(innerSub);\n      this.innerSubscription = null;\n\n      if (this.isStopped) {\n        _super.prototype._complete.call(this);\n      }\n    };\n\n    SwitchMapSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n      this.destination.next(innerValue);\n    };\n\n    return SwitchMapSubscriber;\n  }(OuterSubscriber);\n\n  function switchAll() {\n    return switchMap(identity);\n  }\n\n  function switchMapTo(innerObservable, resultSelector) {\n    return resultSelector ? switchMap(function () {\n      return innerObservable;\n    }, resultSelector) : switchMap(function () {\n      return innerObservable;\n    });\n  }\n\n  function takeUntil(notifier) {\n    return function (source) {\n      return source.lift(new TakeUntilOperator(notifier));\n    };\n  }\n\n  var TakeUntilOperator = function () {\n    function TakeUntilOperator(notifier) {\n      this.notifier = notifier;\n    }\n\n    TakeUntilOperator.prototype.call = function (subscriber, source) {\n      var takeUntilSubscriber = new TakeUntilSubscriber(subscriber);\n      var notifierSubscription = subscribeToResult(takeUntilSubscriber, this.notifier);\n\n      if (notifierSubscription && !takeUntilSubscriber.seenValue) {\n        takeUntilSubscriber.add(notifierSubscription);\n        return source.subscribe(takeUntilSubscriber);\n      }\n\n      return takeUntilSubscriber;\n    };\n\n    return TakeUntilOperator;\n  }();\n\n  var TakeUntilSubscriber = function (_super) {\n    __extends(TakeUntilSubscriber, _super);\n\n    function TakeUntilSubscriber(destination) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.seenValue = false;\n      return _this;\n    }\n\n    TakeUntilSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n      this.seenValue = true;\n      this.complete();\n    };\n\n    TakeUntilSubscriber.prototype.notifyComplete = function () {};\n\n    return TakeUntilSubscriber;\n  }(OuterSubscriber);\n\n  function takeWhile(predicate, inclusive) {\n    if (inclusive === void 0) {\n      inclusive = false;\n    }\n\n    return function (source) {\n      return source.lift(new TakeWhileOperator(predicate, inclusive));\n    };\n  }\n\n  var TakeWhileOperator = function () {\n    function TakeWhileOperator(predicate, inclusive) {\n      this.predicate = predicate;\n      this.inclusive = inclusive;\n    }\n\n    TakeWhileOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new TakeWhileSubscriber(subscriber, this.predicate, this.inclusive));\n    };\n\n    return TakeWhileOperator;\n  }();\n\n  var TakeWhileSubscriber = function (_super) {\n    __extends(TakeWhileSubscriber, _super);\n\n    function TakeWhileSubscriber(destination, predicate, inclusive) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.predicate = predicate;\n      _this.inclusive = inclusive;\n      _this.index = 0;\n      return _this;\n    }\n\n    TakeWhileSubscriber.prototype._next = function (value) {\n      var destination = this.destination;\n      var result;\n\n      try {\n        result = this.predicate(value, this.index++);\n      } catch (err) {\n        destination.error(err);\n        return;\n      }\n\n      this.nextOrComplete(value, result);\n    };\n\n    TakeWhileSubscriber.prototype.nextOrComplete = function (value, predicateResult) {\n      var destination = this.destination;\n\n      if (Boolean(predicateResult)) {\n        destination.next(value);\n      } else {\n        if (this.inclusive) {\n          destination.next(value);\n        }\n\n        destination.complete();\n      }\n    };\n\n    return TakeWhileSubscriber;\n  }(Subscriber);\n\n  function tap(nextOrObserver, error, complete) {\n    return function tapOperatorFunction(source) {\n      return source.lift(new DoOperator(nextOrObserver, error, complete));\n    };\n  }\n\n  var DoOperator = function () {\n    function DoOperator(nextOrObserver, error, complete) {\n      this.nextOrObserver = nextOrObserver;\n      this.error = error;\n      this.complete = complete;\n    }\n\n    DoOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new TapSubscriber(subscriber, this.nextOrObserver, this.error, this.complete));\n    };\n\n    return DoOperator;\n  }();\n\n  var TapSubscriber = function (_super) {\n    __extends(TapSubscriber, _super);\n\n    function TapSubscriber(destination, observerOrNext, error, complete) {\n      var _this = _super.call(this, destination) || this;\n\n      _this._tapNext = noop;\n      _this._tapError = noop;\n      _this._tapComplete = noop;\n      _this._tapError = error || noop;\n      _this._tapComplete = complete || noop;\n\n      if (isFunction(observerOrNext)) {\n        _this._context = _this;\n        _this._tapNext = observerOrNext;\n      } else if (observerOrNext) {\n        _this._context = observerOrNext;\n        _this._tapNext = observerOrNext.next || noop;\n        _this._tapError = observerOrNext.error || noop;\n        _this._tapComplete = observerOrNext.complete || noop;\n      }\n\n      return _this;\n    }\n\n    TapSubscriber.prototype._next = function (value) {\n      try {\n        this._tapNext.call(this._context, value);\n      } catch (err) {\n        this.destination.error(err);\n        return;\n      }\n\n      this.destination.next(value);\n    };\n\n    TapSubscriber.prototype._error = function (err) {\n      try {\n        this._tapError.call(this._context, err);\n      } catch (err) {\n        this.destination.error(err);\n        return;\n      }\n\n      this.destination.error(err);\n    };\n\n    TapSubscriber.prototype._complete = function () {\n      try {\n        this._tapComplete.call(this._context);\n      } catch (err) {\n        this.destination.error(err);\n        return;\n      }\n\n      return this.destination.complete();\n    };\n\n    return TapSubscriber;\n  }(Subscriber);\n\n  var defaultThrottleConfig = {\n    leading: true,\n    trailing: false\n  };\n\n  function throttle(durationSelector, config) {\n    if (config === void 0) {\n      config = defaultThrottleConfig;\n    }\n\n    return function (source) {\n      return source.lift(new ThrottleOperator(durationSelector, config.leading, config.trailing));\n    };\n  }\n\n  var ThrottleOperator = function () {\n    function ThrottleOperator(durationSelector, leading, trailing) {\n      this.durationSelector = durationSelector;\n      this.leading = leading;\n      this.trailing = trailing;\n    }\n\n    ThrottleOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new ThrottleSubscriber(subscriber, this.durationSelector, this.leading, this.trailing));\n    };\n\n    return ThrottleOperator;\n  }();\n\n  var ThrottleSubscriber = function (_super) {\n    __extends(ThrottleSubscriber, _super);\n\n    function ThrottleSubscriber(destination, durationSelector, _leading, _trailing) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.destination = destination;\n      _this.durationSelector = durationSelector;\n      _this._leading = _leading;\n      _this._trailing = _trailing;\n      _this._hasValue = false;\n      return _this;\n    }\n\n    ThrottleSubscriber.prototype._next = function (value) {\n      this._hasValue = true;\n      this._sendValue = value;\n\n      if (!this._throttled) {\n        if (this._leading) {\n          this.send();\n        } else {\n          this.throttle(value);\n        }\n      }\n    };\n\n    ThrottleSubscriber.prototype.send = function () {\n      var _a = this,\n          _hasValue = _a._hasValue,\n          _sendValue = _a._sendValue;\n\n      if (_hasValue) {\n        this.destination.next(_sendValue);\n        this.throttle(_sendValue);\n      }\n\n      this._hasValue = false;\n      this._sendValue = null;\n    };\n\n    ThrottleSubscriber.prototype.throttle = function (value) {\n      var duration = this.tryDurationSelector(value);\n\n      if (!!duration) {\n        this.add(this._throttled = subscribeToResult(this, duration));\n      }\n    };\n\n    ThrottleSubscriber.prototype.tryDurationSelector = function (value) {\n      try {\n        return this.durationSelector(value);\n      } catch (err) {\n        this.destination.error(err);\n        return null;\n      }\n    };\n\n    ThrottleSubscriber.prototype.throttlingDone = function () {\n      var _a = this,\n          _throttled = _a._throttled,\n          _trailing = _a._trailing;\n\n      if (_throttled) {\n        _throttled.unsubscribe();\n      }\n\n      this._throttled = null;\n\n      if (_trailing) {\n        this.send();\n      }\n    };\n\n    ThrottleSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n      this.throttlingDone();\n    };\n\n    ThrottleSubscriber.prototype.notifyComplete = function () {\n      this.throttlingDone();\n    };\n\n    return ThrottleSubscriber;\n  }(OuterSubscriber);\n\n  function throttleTime(duration, scheduler, config) {\n    if (scheduler === void 0) {\n      scheduler = async;\n    }\n\n    if (config === void 0) {\n      config = defaultThrottleConfig;\n    }\n\n    return function (source) {\n      return source.lift(new ThrottleTimeOperator(duration, scheduler, config.leading, config.trailing));\n    };\n  }\n\n  var ThrottleTimeOperator = function () {\n    function ThrottleTimeOperator(duration, scheduler, leading, trailing) {\n      this.duration = duration;\n      this.scheduler = scheduler;\n      this.leading = leading;\n      this.trailing = trailing;\n    }\n\n    ThrottleTimeOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new ThrottleTimeSubscriber(subscriber, this.duration, this.scheduler, this.leading, this.trailing));\n    };\n\n    return ThrottleTimeOperator;\n  }();\n\n  var ThrottleTimeSubscriber = function (_super) {\n    __extends(ThrottleTimeSubscriber, _super);\n\n    function ThrottleTimeSubscriber(destination, duration, scheduler, leading, trailing) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.duration = duration;\n      _this.scheduler = scheduler;\n      _this.leading = leading;\n      _this.trailing = trailing;\n      _this._hasTrailingValue = false;\n      _this._trailingValue = null;\n      return _this;\n    }\n\n    ThrottleTimeSubscriber.prototype._next = function (value) {\n      if (this.throttled) {\n        if (this.trailing) {\n          this._trailingValue = value;\n          this._hasTrailingValue = true;\n        }\n      } else {\n        this.add(this.throttled = this.scheduler.schedule(dispatchNext$3, this.duration, {\n          subscriber: this\n        }));\n\n        if (this.leading) {\n          this.destination.next(value);\n        } else if (this.trailing) {\n          this._trailingValue = value;\n          this._hasTrailingValue = true;\n        }\n      }\n    };\n\n    ThrottleTimeSubscriber.prototype._complete = function () {\n      if (this._hasTrailingValue) {\n        this.destination.next(this._trailingValue);\n        this.destination.complete();\n      } else {\n        this.destination.complete();\n      }\n    };\n\n    ThrottleTimeSubscriber.prototype.clearThrottle = function () {\n      var throttled = this.throttled;\n\n      if (throttled) {\n        if (this.trailing && this._hasTrailingValue) {\n          this.destination.next(this._trailingValue);\n          this._trailingValue = null;\n          this._hasTrailingValue = false;\n        }\n\n        throttled.unsubscribe();\n        this.remove(throttled);\n        this.throttled = null;\n      }\n    };\n\n    return ThrottleTimeSubscriber;\n  }(Subscriber);\n\n  function dispatchNext$3(arg) {\n    var subscriber = arg.subscriber;\n    subscriber.clearThrottle();\n  }\n\n  function timeInterval(scheduler) {\n    if (scheduler === void 0) {\n      scheduler = async;\n    }\n\n    return function (source) {\n      return defer(function () {\n        return source.pipe(scan(function (_a, value) {\n          var current = _a.current;\n          return {\n            value: value,\n            current: scheduler.now(),\n            last: current\n          };\n        }, {\n          current: scheduler.now(),\n          value: undefined,\n          last: undefined\n        }), map(function (_a) {\n          var current = _a.current,\n              last = _a.last,\n              value = _a.value;\n          return new TimeInterval(value, current - last);\n        }));\n      });\n    };\n  }\n\n  var TimeInterval = function () {\n    function TimeInterval(value, interval) {\n      this.value = value;\n      this.interval = interval;\n    }\n\n    return TimeInterval;\n  }();\n\n  function timeoutWith(due, withObservable, scheduler) {\n    if (scheduler === void 0) {\n      scheduler = async;\n    }\n\n    return function (source) {\n      var absoluteTimeout = isDate(due);\n      var waitFor = absoluteTimeout ? +due - scheduler.now() : Math.abs(due);\n      return source.lift(new TimeoutWithOperator(waitFor, absoluteTimeout, withObservable, scheduler));\n    };\n  }\n\n  var TimeoutWithOperator = function () {\n    function TimeoutWithOperator(waitFor, absoluteTimeout, withObservable, scheduler) {\n      this.waitFor = waitFor;\n      this.absoluteTimeout = absoluteTimeout;\n      this.withObservable = withObservable;\n      this.scheduler = scheduler;\n    }\n\n    TimeoutWithOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new TimeoutWithSubscriber(subscriber, this.absoluteTimeout, this.waitFor, this.withObservable, this.scheduler));\n    };\n\n    return TimeoutWithOperator;\n  }();\n\n  var TimeoutWithSubscriber = function (_super) {\n    __extends(TimeoutWithSubscriber, _super);\n\n    function TimeoutWithSubscriber(destination, absoluteTimeout, waitFor, withObservable, scheduler) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.absoluteTimeout = absoluteTimeout;\n      _this.waitFor = waitFor;\n      _this.withObservable = withObservable;\n      _this.scheduler = scheduler;\n      _this.action = null;\n\n      _this.scheduleTimeout();\n\n      return _this;\n    }\n\n    TimeoutWithSubscriber.dispatchTimeout = function (subscriber) {\n      var withObservable = subscriber.withObservable;\n\n      subscriber._unsubscribeAndRecycle();\n\n      subscriber.add(subscribeToResult(subscriber, withObservable));\n    };\n\n    TimeoutWithSubscriber.prototype.scheduleTimeout = function () {\n      var action = this.action;\n\n      if (action) {\n        this.action = action.schedule(this, this.waitFor);\n      } else {\n        this.add(this.action = this.scheduler.schedule(TimeoutWithSubscriber.dispatchTimeout, this.waitFor, this));\n      }\n    };\n\n    TimeoutWithSubscriber.prototype._next = function (value) {\n      if (!this.absoluteTimeout) {\n        this.scheduleTimeout();\n      }\n\n      _super.prototype._next.call(this, value);\n    };\n\n    TimeoutWithSubscriber.prototype._unsubscribe = function () {\n      this.action = null;\n      this.scheduler = null;\n      this.withObservable = null;\n    };\n\n    return TimeoutWithSubscriber;\n  }(OuterSubscriber);\n\n  function timeout(due, scheduler) {\n    if (scheduler === void 0) {\n      scheduler = async;\n    }\n\n    return timeoutWith(due, throwError(new TimeoutError()), scheduler);\n  }\n\n  function timestamp(scheduler) {\n    if (scheduler === void 0) {\n      scheduler = async;\n    }\n\n    return map(function (value) {\n      return new Timestamp(value, scheduler.now());\n    });\n  }\n\n  var Timestamp = function () {\n    function Timestamp(value, timestamp) {\n      this.value = value;\n      this.timestamp = timestamp;\n    }\n\n    return Timestamp;\n  }();\n\n  function toArrayReducer(arr, item, index) {\n    if (index === 0) {\n      return [item];\n    }\n\n    arr.push(item);\n    return arr;\n  }\n\n  function toArray() {\n    return reduce(toArrayReducer, []);\n  }\n\n  function window$1(windowBoundaries) {\n    return function windowOperatorFunction(source) {\n      return source.lift(new WindowOperator(windowBoundaries));\n    };\n  }\n\n  var WindowOperator = function () {\n    function WindowOperator(windowBoundaries) {\n      this.windowBoundaries = windowBoundaries;\n    }\n\n    WindowOperator.prototype.call = function (subscriber, source) {\n      var windowSubscriber = new WindowSubscriber(subscriber);\n      var sourceSubscription = source.subscribe(windowSubscriber);\n\n      if (!sourceSubscription.closed) {\n        windowSubscriber.add(subscribeToResult(windowSubscriber, this.windowBoundaries));\n      }\n\n      return sourceSubscription;\n    };\n\n    return WindowOperator;\n  }();\n\n  var WindowSubscriber = function (_super) {\n    __extends(WindowSubscriber, _super);\n\n    function WindowSubscriber(destination) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.window = new Subject();\n      destination.next(_this.window);\n      return _this;\n    }\n\n    WindowSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n      this.openWindow();\n    };\n\n    WindowSubscriber.prototype.notifyError = function (error, innerSub) {\n      this._error(error);\n    };\n\n    WindowSubscriber.prototype.notifyComplete = function (innerSub) {\n      this._complete();\n    };\n\n    WindowSubscriber.prototype._next = function (value) {\n      this.window.next(value);\n    };\n\n    WindowSubscriber.prototype._error = function (err) {\n      this.window.error(err);\n      this.destination.error(err);\n    };\n\n    WindowSubscriber.prototype._complete = function () {\n      this.window.complete();\n      this.destination.complete();\n    };\n\n    WindowSubscriber.prototype._unsubscribe = function () {\n      this.window = null;\n    };\n\n    WindowSubscriber.prototype.openWindow = function () {\n      var prevWindow = this.window;\n\n      if (prevWindow) {\n        prevWindow.complete();\n      }\n\n      var destination = this.destination;\n      var newWindow = this.window = new Subject();\n      destination.next(newWindow);\n    };\n\n    return WindowSubscriber;\n  }(OuterSubscriber);\n\n  function windowCount(windowSize, startWindowEvery) {\n    if (startWindowEvery === void 0) {\n      startWindowEvery = 0;\n    }\n\n    return function windowCountOperatorFunction(source) {\n      return source.lift(new WindowCountOperator(windowSize, startWindowEvery));\n    };\n  }\n\n  var WindowCountOperator = function () {\n    function WindowCountOperator(windowSize, startWindowEvery) {\n      this.windowSize = windowSize;\n      this.startWindowEvery = startWindowEvery;\n    }\n\n    WindowCountOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new WindowCountSubscriber(subscriber, this.windowSize, this.startWindowEvery));\n    };\n\n    return WindowCountOperator;\n  }();\n\n  var WindowCountSubscriber = function (_super) {\n    __extends(WindowCountSubscriber, _super);\n\n    function WindowCountSubscriber(destination, windowSize, startWindowEvery) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.destination = destination;\n      _this.windowSize = windowSize;\n      _this.startWindowEvery = startWindowEvery;\n      _this.windows = [new Subject()];\n      _this.count = 0;\n      destination.next(_this.windows[0]);\n      return _this;\n    }\n\n    WindowCountSubscriber.prototype._next = function (value) {\n      var startWindowEvery = this.startWindowEvery > 0 ? this.startWindowEvery : this.windowSize;\n      var destination = this.destination;\n      var windowSize = this.windowSize;\n      var windows = this.windows;\n      var len = windows.length;\n\n      for (var i = 0; i < len && !this.closed; i++) {\n        windows[i].next(value);\n      }\n\n      var c = this.count - windowSize + 1;\n\n      if (c >= 0 && c % startWindowEvery === 0 && !this.closed) {\n        windows.shift().complete();\n      }\n\n      if (++this.count % startWindowEvery === 0 && !this.closed) {\n        var window_1 = new Subject();\n        windows.push(window_1);\n        destination.next(window_1);\n      }\n    };\n\n    WindowCountSubscriber.prototype._error = function (err) {\n      var windows = this.windows;\n\n      if (windows) {\n        while (windows.length > 0 && !this.closed) {\n          windows.shift().error(err);\n        }\n      }\n\n      this.destination.error(err);\n    };\n\n    WindowCountSubscriber.prototype._complete = function () {\n      var windows = this.windows;\n\n      if (windows) {\n        while (windows.length > 0 && !this.closed) {\n          windows.shift().complete();\n        }\n      }\n\n      this.destination.complete();\n    };\n\n    WindowCountSubscriber.prototype._unsubscribe = function () {\n      this.count = 0;\n      this.windows = null;\n    };\n\n    return WindowCountSubscriber;\n  }(Subscriber);\n\n  function windowTime(windowTimeSpan) {\n    var scheduler = async;\n    var windowCreationInterval = null;\n    var maxWindowSize = Number.POSITIVE_INFINITY;\n\n    if (isScheduler(arguments[3])) {\n      scheduler = arguments[3];\n    }\n\n    if (isScheduler(arguments[2])) {\n      scheduler = arguments[2];\n    } else if (isNumeric(arguments[2])) {\n      maxWindowSize = arguments[2];\n    }\n\n    if (isScheduler(arguments[1])) {\n      scheduler = arguments[1];\n    } else if (isNumeric(arguments[1])) {\n      windowCreationInterval = arguments[1];\n    }\n\n    return function windowTimeOperatorFunction(source) {\n      return source.lift(new WindowTimeOperator(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler));\n    };\n  }\n\n  var WindowTimeOperator = function () {\n    function WindowTimeOperator(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler) {\n      this.windowTimeSpan = windowTimeSpan;\n      this.windowCreationInterval = windowCreationInterval;\n      this.maxWindowSize = maxWindowSize;\n      this.scheduler = scheduler;\n    }\n\n    WindowTimeOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new WindowTimeSubscriber(subscriber, this.windowTimeSpan, this.windowCreationInterval, this.maxWindowSize, this.scheduler));\n    };\n\n    return WindowTimeOperator;\n  }();\n\n  var CountedSubject = function (_super) {\n    __extends(CountedSubject, _super);\n\n    function CountedSubject() {\n      var _this = _super !== null && _super.apply(this, arguments) || this;\n\n      _this._numberOfNextedValues = 0;\n      return _this;\n    }\n\n    CountedSubject.prototype.next = function (value) {\n      this._numberOfNextedValues++;\n\n      _super.prototype.next.call(this, value);\n    };\n\n    Object.defineProperty(CountedSubject.prototype, \"numberOfNextedValues\", {\n      get: function () {\n        return this._numberOfNextedValues;\n      },\n      enumerable: true,\n      configurable: true\n    });\n    return CountedSubject;\n  }(Subject);\n\n  var WindowTimeSubscriber = function (_super) {\n    __extends(WindowTimeSubscriber, _super);\n\n    function WindowTimeSubscriber(destination, windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.destination = destination;\n      _this.windowTimeSpan = windowTimeSpan;\n      _this.windowCreationInterval = windowCreationInterval;\n      _this.maxWindowSize = maxWindowSize;\n      _this.scheduler = scheduler;\n      _this.windows = [];\n\n      var window = _this.openWindow();\n\n      if (windowCreationInterval !== null && windowCreationInterval >= 0) {\n        var closeState = {\n          subscriber: _this,\n          window: window,\n          context: null\n        };\n        var creationState = {\n          windowTimeSpan: windowTimeSpan,\n          windowCreationInterval: windowCreationInterval,\n          subscriber: _this,\n          scheduler: scheduler\n        };\n\n        _this.add(scheduler.schedule(dispatchWindowClose, windowTimeSpan, closeState));\n\n        _this.add(scheduler.schedule(dispatchWindowCreation, windowCreationInterval, creationState));\n      } else {\n        var timeSpanOnlyState = {\n          subscriber: _this,\n          window: window,\n          windowTimeSpan: windowTimeSpan\n        };\n\n        _this.add(scheduler.schedule(dispatchWindowTimeSpanOnly, windowTimeSpan, timeSpanOnlyState));\n      }\n\n      return _this;\n    }\n\n    WindowTimeSubscriber.prototype._next = function (value) {\n      var windows = this.windows;\n      var len = windows.length;\n\n      for (var i = 0; i < len; i++) {\n        var window_1 = windows[i];\n\n        if (!window_1.closed) {\n          window_1.next(value);\n\n          if (window_1.numberOfNextedValues >= this.maxWindowSize) {\n            this.closeWindow(window_1);\n          }\n        }\n      }\n    };\n\n    WindowTimeSubscriber.prototype._error = function (err) {\n      var windows = this.windows;\n\n      while (windows.length > 0) {\n        windows.shift().error(err);\n      }\n\n      this.destination.error(err);\n    };\n\n    WindowTimeSubscriber.prototype._complete = function () {\n      var windows = this.windows;\n\n      while (windows.length > 0) {\n        var window_2 = windows.shift();\n\n        if (!window_2.closed) {\n          window_2.complete();\n        }\n      }\n\n      this.destination.complete();\n    };\n\n    WindowTimeSubscriber.prototype.openWindow = function () {\n      var window = new CountedSubject();\n      this.windows.push(window);\n      var destination = this.destination;\n      destination.next(window);\n      return window;\n    };\n\n    WindowTimeSubscriber.prototype.closeWindow = function (window) {\n      window.complete();\n      var windows = this.windows;\n      windows.splice(windows.indexOf(window), 1);\n    };\n\n    return WindowTimeSubscriber;\n  }(Subscriber);\n\n  function dispatchWindowTimeSpanOnly(state) {\n    var subscriber = state.subscriber,\n        windowTimeSpan = state.windowTimeSpan,\n        window = state.window;\n\n    if (window) {\n      subscriber.closeWindow(window);\n    }\n\n    state.window = subscriber.openWindow();\n    this.schedule(state, windowTimeSpan);\n  }\n\n  function dispatchWindowCreation(state) {\n    var windowTimeSpan = state.windowTimeSpan,\n        subscriber = state.subscriber,\n        scheduler = state.scheduler,\n        windowCreationInterval = state.windowCreationInterval;\n    var window = subscriber.openWindow();\n    var action = this;\n    var context = {\n      action: action,\n      subscription: null\n    };\n    var timeSpanState = {\n      subscriber: subscriber,\n      window: window,\n      context: context\n    };\n    context.subscription = scheduler.schedule(dispatchWindowClose, windowTimeSpan, timeSpanState);\n    action.add(context.subscription);\n    action.schedule(state, windowCreationInterval);\n  }\n\n  function dispatchWindowClose(state) {\n    var subscriber = state.subscriber,\n        window = state.window,\n        context = state.context;\n\n    if (context && context.action && context.subscription) {\n      context.action.remove(context.subscription);\n    }\n\n    subscriber.closeWindow(window);\n  }\n\n  function windowToggle(openings, closingSelector) {\n    return function (source) {\n      return source.lift(new WindowToggleOperator(openings, closingSelector));\n    };\n  }\n\n  var WindowToggleOperator = function () {\n    function WindowToggleOperator(openings, closingSelector) {\n      this.openings = openings;\n      this.closingSelector = closingSelector;\n    }\n\n    WindowToggleOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new WindowToggleSubscriber(subscriber, this.openings, this.closingSelector));\n    };\n\n    return WindowToggleOperator;\n  }();\n\n  var WindowToggleSubscriber = function (_super) {\n    __extends(WindowToggleSubscriber, _super);\n\n    function WindowToggleSubscriber(destination, openings, closingSelector) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.openings = openings;\n      _this.closingSelector = closingSelector;\n      _this.contexts = [];\n\n      _this.add(_this.openSubscription = subscribeToResult(_this, openings, openings));\n\n      return _this;\n    }\n\n    WindowToggleSubscriber.prototype._next = function (value) {\n      var contexts = this.contexts;\n\n      if (contexts) {\n        var len = contexts.length;\n\n        for (var i = 0; i < len; i++) {\n          contexts[i].window.next(value);\n        }\n      }\n    };\n\n    WindowToggleSubscriber.prototype._error = function (err) {\n      var contexts = this.contexts;\n      this.contexts = null;\n\n      if (contexts) {\n        var len = contexts.length;\n        var index = -1;\n\n        while (++index < len) {\n          var context_1 = contexts[index];\n          context_1.window.error(err);\n          context_1.subscription.unsubscribe();\n        }\n      }\n\n      _super.prototype._error.call(this, err);\n    };\n\n    WindowToggleSubscriber.prototype._complete = function () {\n      var contexts = this.contexts;\n      this.contexts = null;\n\n      if (contexts) {\n        var len = contexts.length;\n        var index = -1;\n\n        while (++index < len) {\n          var context_2 = contexts[index];\n          context_2.window.complete();\n          context_2.subscription.unsubscribe();\n        }\n      }\n\n      _super.prototype._complete.call(this);\n    };\n\n    WindowToggleSubscriber.prototype._unsubscribe = function () {\n      var contexts = this.contexts;\n      this.contexts = null;\n\n      if (contexts) {\n        var len = contexts.length;\n        var index = -1;\n\n        while (++index < len) {\n          var context_3 = contexts[index];\n          context_3.window.unsubscribe();\n          context_3.subscription.unsubscribe();\n        }\n      }\n    };\n\n    WindowToggleSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n      if (outerValue === this.openings) {\n        var closingNotifier = void 0;\n\n        try {\n          var closingSelector = this.closingSelector;\n          closingNotifier = closingSelector(innerValue);\n        } catch (e) {\n          return this.error(e);\n        }\n\n        var window_1 = new Subject();\n        var subscription = new Subscription();\n        var context_4 = {\n          window: window_1,\n          subscription: subscription\n        };\n        this.contexts.push(context_4);\n        var innerSubscription = subscribeToResult(this, closingNotifier, context_4);\n\n        if (innerSubscription.closed) {\n          this.closeWindow(this.contexts.length - 1);\n        } else {\n          innerSubscription.context = context_4;\n          subscription.add(innerSubscription);\n        }\n\n        this.destination.next(window_1);\n      } else {\n        this.closeWindow(this.contexts.indexOf(outerValue));\n      }\n    };\n\n    WindowToggleSubscriber.prototype.notifyError = function (err) {\n      this.error(err);\n    };\n\n    WindowToggleSubscriber.prototype.notifyComplete = function (inner) {\n      if (inner !== this.openSubscription) {\n        this.closeWindow(this.contexts.indexOf(inner.context));\n      }\n    };\n\n    WindowToggleSubscriber.prototype.closeWindow = function (index) {\n      if (index === -1) {\n        return;\n      }\n\n      var contexts = this.contexts;\n      var context = contexts[index];\n      var window = context.window,\n          subscription = context.subscription;\n      contexts.splice(index, 1);\n      window.complete();\n      subscription.unsubscribe();\n    };\n\n    return WindowToggleSubscriber;\n  }(OuterSubscriber);\n\n  function windowWhen(closingSelector) {\n    return function windowWhenOperatorFunction(source) {\n      return source.lift(new WindowOperator$1(closingSelector));\n    };\n  }\n\n  var WindowOperator$1 = function () {\n    function WindowOperator(closingSelector) {\n      this.closingSelector = closingSelector;\n    }\n\n    WindowOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new WindowSubscriber$1(subscriber, this.closingSelector));\n    };\n\n    return WindowOperator;\n  }();\n\n  var WindowSubscriber$1 = function (_super) {\n    __extends(WindowSubscriber, _super);\n\n    function WindowSubscriber(destination, closingSelector) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.destination = destination;\n      _this.closingSelector = closingSelector;\n\n      _this.openWindow();\n\n      return _this;\n    }\n\n    WindowSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n      this.openWindow(innerSub);\n    };\n\n    WindowSubscriber.prototype.notifyError = function (error, innerSub) {\n      this._error(error);\n    };\n\n    WindowSubscriber.prototype.notifyComplete = function (innerSub) {\n      this.openWindow(innerSub);\n    };\n\n    WindowSubscriber.prototype._next = function (value) {\n      this.window.next(value);\n    };\n\n    WindowSubscriber.prototype._error = function (err) {\n      this.window.error(err);\n      this.destination.error(err);\n      this.unsubscribeClosingNotification();\n    };\n\n    WindowSubscriber.prototype._complete = function () {\n      this.window.complete();\n      this.destination.complete();\n      this.unsubscribeClosingNotification();\n    };\n\n    WindowSubscriber.prototype.unsubscribeClosingNotification = function () {\n      if (this.closingNotification) {\n        this.closingNotification.unsubscribe();\n      }\n    };\n\n    WindowSubscriber.prototype.openWindow = function (innerSub) {\n      if (innerSub === void 0) {\n        innerSub = null;\n      }\n\n      if (innerSub) {\n        this.remove(innerSub);\n        innerSub.unsubscribe();\n      }\n\n      var prevWindow = this.window;\n\n      if (prevWindow) {\n        prevWindow.complete();\n      }\n\n      var window = this.window = new Subject();\n      this.destination.next(window);\n      var closingNotifier;\n\n      try {\n        var closingSelector = this.closingSelector;\n        closingNotifier = closingSelector();\n      } catch (e) {\n        this.destination.error(e);\n        this.window.error(e);\n        return;\n      }\n\n      this.add(this.closingNotification = subscribeToResult(this, closingNotifier));\n    };\n\n    return WindowSubscriber;\n  }(OuterSubscriber);\n\n  function withLatestFrom() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    return function (source) {\n      var project;\n\n      if (typeof args[args.length - 1] === 'function') {\n        project = args.pop();\n      }\n\n      var observables = args;\n      return source.lift(new WithLatestFromOperator(observables, project));\n    };\n  }\n\n  var WithLatestFromOperator = function () {\n    function WithLatestFromOperator(observables, project) {\n      this.observables = observables;\n      this.project = project;\n    }\n\n    WithLatestFromOperator.prototype.call = function (subscriber, source) {\n      return source.subscribe(new WithLatestFromSubscriber(subscriber, this.observables, this.project));\n    };\n\n    return WithLatestFromOperator;\n  }();\n\n  var WithLatestFromSubscriber = function (_super) {\n    __extends(WithLatestFromSubscriber, _super);\n\n    function WithLatestFromSubscriber(destination, observables, project) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.observables = observables;\n      _this.project = project;\n      _this.toRespond = [];\n      var len = observables.length;\n      _this.values = new Array(len);\n\n      for (var i = 0; i < len; i++) {\n        _this.toRespond.push(i);\n      }\n\n      for (var i = 0; i < len; i++) {\n        var observable = observables[i];\n\n        _this.add(subscribeToResult(_this, observable, observable, i));\n      }\n\n      return _this;\n    }\n\n    WithLatestFromSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n      this.values[outerIndex] = innerValue;\n      var toRespond = this.toRespond;\n\n      if (toRespond.length > 0) {\n        var found = toRespond.indexOf(outerIndex);\n\n        if (found !== -1) {\n          toRespond.splice(found, 1);\n        }\n      }\n    };\n\n    WithLatestFromSubscriber.prototype.notifyComplete = function () {};\n\n    WithLatestFromSubscriber.prototype._next = function (value) {\n      if (this.toRespond.length === 0) {\n        var args = [value].concat(this.values);\n\n        if (this.project) {\n          this._tryProject(args);\n        } else {\n          this.destination.next(args);\n        }\n      }\n    };\n\n    WithLatestFromSubscriber.prototype._tryProject = function (args) {\n      var result;\n\n      try {\n        result = this.project.apply(this, args);\n      } catch (err) {\n        this.destination.error(err);\n        return;\n      }\n\n      this.destination.next(result);\n    };\n\n    return WithLatestFromSubscriber;\n  }(OuterSubscriber);\n\n  function zip$1() {\n    var observables = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      observables[_i] = arguments[_i];\n    }\n\n    return function zipOperatorFunction(source) {\n      return source.lift.call(zip.apply(void 0, [source].concat(observables)));\n    };\n  }\n\n  function zipAll(project) {\n    return function (source) {\n      return source.lift(new ZipOperator(project));\n    };\n  }\n\n  var _operators = /*#__PURE__*/Object.freeze({\n    audit: audit,\n    auditTime: auditTime,\n    buffer: buffer,\n    bufferCount: bufferCount,\n    bufferTime: bufferTime,\n    bufferToggle: bufferToggle,\n    bufferWhen: bufferWhen,\n    catchError: catchError,\n    combineAll: combineAll,\n    combineLatest: combineLatest$1,\n    concat: concat$1,\n    concatAll: concatAll,\n    concatMap: concatMap,\n    concatMapTo: concatMapTo,\n    count: count,\n    debounce: debounce,\n    debounceTime: debounceTime,\n    defaultIfEmpty: defaultIfEmpty,\n    delay: delay,\n    delayWhen: delayWhen,\n    dematerialize: dematerialize,\n    distinct: distinct,\n    distinctUntilChanged: distinctUntilChanged,\n    distinctUntilKeyChanged: distinctUntilKeyChanged,\n    elementAt: elementAt,\n    endWith: endWith,\n    every: every,\n    exhaust: exhaust,\n    exhaustMap: exhaustMap,\n    expand: expand,\n    filter: filter,\n    finalize: finalize,\n    find: find,\n    findIndex: findIndex,\n    first: first,\n    groupBy: groupBy,\n    ignoreElements: ignoreElements,\n    isEmpty: isEmpty,\n    last: last,\n    map: map,\n    mapTo: mapTo,\n    materialize: materialize,\n    max: max,\n    merge: merge$1,\n    mergeAll: mergeAll,\n    mergeMap: mergeMap,\n    flatMap: mergeMap,\n    mergeMapTo: mergeMapTo,\n    mergeScan: mergeScan,\n    min: min,\n    multicast: multicast,\n    observeOn: observeOn,\n    onErrorResumeNext: onErrorResumeNext$1,\n    pairwise: pairwise,\n    partition: partition$1,\n    pluck: pluck,\n    publish: publish,\n    publishBehavior: publishBehavior,\n    publishLast: publishLast,\n    publishReplay: publishReplay,\n    race: race$1,\n    reduce: reduce,\n    repeat: repeat,\n    repeatWhen: repeatWhen,\n    retry: retry,\n    retryWhen: retryWhen,\n    refCount: refCount,\n    sample: sample,\n    sampleTime: sampleTime,\n    scan: scan,\n    sequenceEqual: sequenceEqual,\n    share: share,\n    shareReplay: shareReplay,\n    single: single,\n    skip: skip,\n    skipLast: skipLast,\n    skipUntil: skipUntil,\n    skipWhile: skipWhile,\n    startWith: startWith,\n    subscribeOn: subscribeOn,\n    switchAll: switchAll,\n    switchMap: switchMap,\n    switchMapTo: switchMapTo,\n    take: take,\n    takeLast: takeLast,\n    takeUntil: takeUntil,\n    takeWhile: takeWhile,\n    tap: tap,\n    throttle: throttle,\n    throttleTime: throttleTime,\n    throwIfEmpty: throwIfEmpty,\n    timeInterval: timeInterval,\n    timeout: timeout,\n    timeoutWith: timeoutWith,\n    timestamp: timestamp,\n    toArray: toArray,\n    window: window$1,\n    windowCount: windowCount,\n    windowTime: windowTime,\n    windowToggle: windowToggle,\n    windowWhen: windowWhen,\n    withLatestFrom: withLatestFrom,\n    zip: zip$1,\n    zipAll: zipAll\n  });\n\n  var SubscriptionLog = function () {\n    function SubscriptionLog(subscribedFrame, unsubscribedFrame) {\n      if (unsubscribedFrame === void 0) {\n        unsubscribedFrame = Number.POSITIVE_INFINITY;\n      }\n\n      this.subscribedFrame = subscribedFrame;\n      this.unsubscribedFrame = unsubscribedFrame;\n    }\n\n    return SubscriptionLog;\n  }();\n\n  var SubscriptionLoggable = function () {\n    function SubscriptionLoggable() {\n      this.subscriptions = [];\n    }\n\n    SubscriptionLoggable.prototype.logSubscribedFrame = function () {\n      this.subscriptions.push(new SubscriptionLog(this.scheduler.now()));\n      return this.subscriptions.length - 1;\n    };\n\n    SubscriptionLoggable.prototype.logUnsubscribedFrame = function (index) {\n      var subscriptionLogs = this.subscriptions;\n      var oldSubscriptionLog = subscriptionLogs[index];\n      subscriptionLogs[index] = new SubscriptionLog(oldSubscriptionLog.subscribedFrame, this.scheduler.now());\n    };\n\n    return SubscriptionLoggable;\n  }();\n\n  function applyMixins(derivedCtor, baseCtors) {\n    for (var i = 0, len = baseCtors.length; i < len; i++) {\n      var baseCtor = baseCtors[i];\n      var propertyKeys = Object.getOwnPropertyNames(baseCtor.prototype);\n\n      for (var j = 0, len2 = propertyKeys.length; j < len2; j++) {\n        var name_1 = propertyKeys[j];\n        derivedCtor.prototype[name_1] = baseCtor.prototype[name_1];\n      }\n    }\n  }\n\n  var ColdObservable = function (_super) {\n    __extends(ColdObservable, _super);\n\n    function ColdObservable(messages, scheduler) {\n      var _this = _super.call(this, function (subscriber) {\n        var observable = this;\n        var index = observable.logSubscribedFrame();\n        var subscription = new Subscription();\n        subscription.add(new Subscription(function () {\n          observable.logUnsubscribedFrame(index);\n        }));\n        observable.scheduleMessages(subscriber);\n        return subscription;\n      }) || this;\n\n      _this.messages = messages;\n      _this.subscriptions = [];\n      _this.scheduler = scheduler;\n      return _this;\n    }\n\n    ColdObservable.prototype.scheduleMessages = function (subscriber) {\n      var messagesLength = this.messages.length;\n\n      for (var i = 0; i < messagesLength; i++) {\n        var message = this.messages[i];\n        subscriber.add(this.scheduler.schedule(function (_a) {\n          var message = _a.message,\n              subscriber = _a.subscriber;\n          message.notification.observe(subscriber);\n        }, message.frame, {\n          message: message,\n          subscriber: subscriber\n        }));\n      }\n    };\n\n    return ColdObservable;\n  }(Observable);\n\n  applyMixins(ColdObservable, [SubscriptionLoggable]);\n\n  var HotObservable = function (_super) {\n    __extends(HotObservable, _super);\n\n    function HotObservable(messages, scheduler) {\n      var _this = _super.call(this) || this;\n\n      _this.messages = messages;\n      _this.subscriptions = [];\n      _this.scheduler = scheduler;\n      return _this;\n    }\n\n    HotObservable.prototype._subscribe = function (subscriber) {\n      var subject = this;\n      var index = subject.logSubscribedFrame();\n      var subscription = new Subscription();\n      subscription.add(new Subscription(function () {\n        subject.logUnsubscribedFrame(index);\n      }));\n      subscription.add(_super.prototype._subscribe.call(this, subscriber));\n      return subscription;\n    };\n\n    HotObservable.prototype.setup = function () {\n      var subject = this;\n      var messagesLength = subject.messages.length;\n\n      for (var i = 0; i < messagesLength; i++) {\n        (function () {\n          var message = subject.messages[i];\n          subject.scheduler.schedule(function () {\n            message.notification.observe(subject);\n          }, message.frame);\n        })();\n      }\n    };\n\n    return HotObservable;\n  }(Subject);\n\n  applyMixins(HotObservable, [SubscriptionLoggable]);\n  var defaultMaxFrame = 750;\n\n  var TestScheduler = function (_super) {\n    __extends(TestScheduler, _super);\n\n    function TestScheduler(assertDeepEqual) {\n      var _this = _super.call(this, VirtualAction, defaultMaxFrame) || this;\n\n      _this.assertDeepEqual = assertDeepEqual;\n      _this.hotObservables = [];\n      _this.coldObservables = [];\n      _this.flushTests = [];\n      _this.runMode = false;\n      return _this;\n    }\n\n    TestScheduler.prototype.createTime = function (marbles) {\n      var indexOf = marbles.indexOf('|');\n\n      if (indexOf === -1) {\n        throw new Error('marble diagram for time should have a completion marker \"|\"');\n      }\n\n      return indexOf * TestScheduler.frameTimeFactor;\n    };\n\n    TestScheduler.prototype.createColdObservable = function (marbles, values, error) {\n      if (marbles.indexOf('^') !== -1) {\n        throw new Error('cold observable cannot have subscription offset \"^\"');\n      }\n\n      if (marbles.indexOf('!') !== -1) {\n        throw new Error('cold observable cannot have unsubscription marker \"!\"');\n      }\n\n      var messages = TestScheduler.parseMarbles(marbles, values, error, undefined, this.runMode);\n      var cold = new ColdObservable(messages, this);\n      this.coldObservables.push(cold);\n      return cold;\n    };\n\n    TestScheduler.prototype.createHotObservable = function (marbles, values, error) {\n      if (marbles.indexOf('!') !== -1) {\n        throw new Error('hot observable cannot have unsubscription marker \"!\"');\n      }\n\n      var messages = TestScheduler.parseMarbles(marbles, values, error, undefined, this.runMode);\n      var subject = new HotObservable(messages, this);\n      this.hotObservables.push(subject);\n      return subject;\n    };\n\n    TestScheduler.prototype.materializeInnerObservable = function (observable, outerFrame) {\n      var _this = this;\n\n      var messages = [];\n      observable.subscribe(function (value) {\n        messages.push({\n          frame: _this.frame - outerFrame,\n          notification: Notification.createNext(value)\n        });\n      }, function (err) {\n        messages.push({\n          frame: _this.frame - outerFrame,\n          notification: Notification.createError(err)\n        });\n      }, function () {\n        messages.push({\n          frame: _this.frame - outerFrame,\n          notification: Notification.createComplete()\n        });\n      });\n      return messages;\n    };\n\n    TestScheduler.prototype.expectObservable = function (observable, subscriptionMarbles) {\n      var _this = this;\n\n      if (subscriptionMarbles === void 0) {\n        subscriptionMarbles = null;\n      }\n\n      var actual = [];\n      var flushTest = {\n        actual: actual,\n        ready: false\n      };\n      var subscriptionParsed = TestScheduler.parseMarblesAsSubscriptions(subscriptionMarbles, this.runMode);\n      var subscriptionFrame = subscriptionParsed.subscribedFrame === Number.POSITIVE_INFINITY ? 0 : subscriptionParsed.subscribedFrame;\n      var unsubscriptionFrame = subscriptionParsed.unsubscribedFrame;\n      var subscription;\n      this.schedule(function () {\n        subscription = observable.subscribe(function (x) {\n          var value = x;\n\n          if (x instanceof Observable) {\n            value = _this.materializeInnerObservable(value, _this.frame);\n          }\n\n          actual.push({\n            frame: _this.frame,\n            notification: Notification.createNext(value)\n          });\n        }, function (err) {\n          actual.push({\n            frame: _this.frame,\n            notification: Notification.createError(err)\n          });\n        }, function () {\n          actual.push({\n            frame: _this.frame,\n            notification: Notification.createComplete()\n          });\n        });\n      }, subscriptionFrame);\n\n      if (unsubscriptionFrame !== Number.POSITIVE_INFINITY) {\n        this.schedule(function () {\n          return subscription.unsubscribe();\n        }, unsubscriptionFrame);\n      }\n\n      this.flushTests.push(flushTest);\n      var runMode = this.runMode;\n      return {\n        toBe: function (marbles, values, errorValue) {\n          flushTest.ready = true;\n          flushTest.expected = TestScheduler.parseMarbles(marbles, values, errorValue, true, runMode);\n        }\n      };\n    };\n\n    TestScheduler.prototype.expectSubscriptions = function (actualSubscriptionLogs) {\n      var flushTest = {\n        actual: actualSubscriptionLogs,\n        ready: false\n      };\n      this.flushTests.push(flushTest);\n      var runMode = this.runMode;\n      return {\n        toBe: function (marbles) {\n          var marblesArray = typeof marbles === 'string' ? [marbles] : marbles;\n          flushTest.ready = true;\n          flushTest.expected = marblesArray.map(function (marbles) {\n            return TestScheduler.parseMarblesAsSubscriptions(marbles, runMode);\n          });\n        }\n      };\n    };\n\n    TestScheduler.prototype.flush = function () {\n      var _this = this;\n\n      var hotObservables = this.hotObservables;\n\n      while (hotObservables.length > 0) {\n        hotObservables.shift().setup();\n      }\n\n      _super.prototype.flush.call(this);\n\n      this.flushTests = this.flushTests.filter(function (test) {\n        if (test.ready) {\n          _this.assertDeepEqual(test.actual, test.expected);\n\n          return false;\n        }\n\n        return true;\n      });\n    };\n\n    TestScheduler.parseMarblesAsSubscriptions = function (marbles, runMode) {\n      var _this = this;\n\n      if (runMode === void 0) {\n        runMode = false;\n      }\n\n      if (typeof marbles !== 'string') {\n        return new SubscriptionLog(Number.POSITIVE_INFINITY);\n      }\n\n      var len = marbles.length;\n      var groupStart = -1;\n      var subscriptionFrame = Number.POSITIVE_INFINITY;\n      var unsubscriptionFrame = Number.POSITIVE_INFINITY;\n      var frame = 0;\n\n      var _loop_1 = function (i) {\n        var nextFrame = frame;\n\n        var advanceFrameBy = function (count) {\n          nextFrame += count * _this.frameTimeFactor;\n        };\n\n        var c = marbles[i];\n\n        switch (c) {\n          case ' ':\n            if (!runMode) {\n              advanceFrameBy(1);\n            }\n\n            break;\n\n          case '-':\n            advanceFrameBy(1);\n            break;\n\n          case '(':\n            groupStart = frame;\n            advanceFrameBy(1);\n            break;\n\n          case ')':\n            groupStart = -1;\n            advanceFrameBy(1);\n            break;\n\n          case '^':\n            if (subscriptionFrame !== Number.POSITIVE_INFINITY) {\n              throw new Error('found a second subscription point \\'^\\' in a ' + 'subscription marble diagram. There can only be one.');\n            }\n\n            subscriptionFrame = groupStart > -1 ? groupStart : frame;\n            advanceFrameBy(1);\n            break;\n\n          case '!':\n            if (unsubscriptionFrame !== Number.POSITIVE_INFINITY) {\n              throw new Error('found a second subscription point \\'^\\' in a ' + 'subscription marble diagram. There can only be one.');\n            }\n\n            unsubscriptionFrame = groupStart > -1 ? groupStart : frame;\n            break;\n\n          default:\n            if (runMode && c.match(/^[0-9]$/)) {\n              if (i === 0 || marbles[i - 1] === ' ') {\n                var buffer = marbles.slice(i);\n                var match = buffer.match(/^([0-9]+(?:\\.[0-9]+)?)(ms|s|m) /);\n\n                if (match) {\n                  i += match[0].length - 1;\n                  var duration = parseFloat(match[1]);\n                  var unit = match[2];\n                  var durationInMs = void 0;\n\n                  switch (unit) {\n                    case 'ms':\n                      durationInMs = duration;\n                      break;\n\n                    case 's':\n                      durationInMs = duration * 1000;\n                      break;\n\n                    case 'm':\n                      durationInMs = duration * 1000 * 60;\n                      break;\n\n                    default:\n                      break;\n                  }\n\n                  advanceFrameBy(durationInMs / this_1.frameTimeFactor);\n                  break;\n                }\n              }\n            }\n\n            throw new Error('there can only be \\'^\\' and \\'!\\' markers in a ' + 'subscription marble diagram. Found instead \\'' + c + '\\'.');\n        }\n\n        frame = nextFrame;\n        out_i_1 = i;\n      };\n\n      var this_1 = this,\n          out_i_1;\n\n      for (var i = 0; i < len; i++) {\n        _loop_1(i);\n\n        i = out_i_1;\n      }\n\n      if (unsubscriptionFrame < 0) {\n        return new SubscriptionLog(subscriptionFrame);\n      } else {\n        return new SubscriptionLog(subscriptionFrame, unsubscriptionFrame);\n      }\n    };\n\n    TestScheduler.parseMarbles = function (marbles, values, errorValue, materializeInnerObservables, runMode) {\n      var _this = this;\n\n      if (materializeInnerObservables === void 0) {\n        materializeInnerObservables = false;\n      }\n\n      if (runMode === void 0) {\n        runMode = false;\n      }\n\n      if (marbles.indexOf('!') !== -1) {\n        throw new Error('conventional marble diagrams cannot have the ' + 'unsubscription marker \"!\"');\n      }\n\n      var len = marbles.length;\n      var testMessages = [];\n      var subIndex = runMode ? marbles.replace(/^[ ]+/, '').indexOf('^') : marbles.indexOf('^');\n      var frame = subIndex === -1 ? 0 : subIndex * -this.frameTimeFactor;\n      var getValue = typeof values !== 'object' ? function (x) {\n        return x;\n      } : function (x) {\n        if (materializeInnerObservables && values[x] instanceof ColdObservable) {\n          return values[x].messages;\n        }\n\n        return values[x];\n      };\n      var groupStart = -1;\n\n      var _loop_2 = function (i) {\n        var nextFrame = frame;\n\n        var advanceFrameBy = function (count) {\n          nextFrame += count * _this.frameTimeFactor;\n        };\n\n        var notification = void 0;\n        var c = marbles[i];\n\n        switch (c) {\n          case ' ':\n            if (!runMode) {\n              advanceFrameBy(1);\n            }\n\n            break;\n\n          case '-':\n            advanceFrameBy(1);\n            break;\n\n          case '(':\n            groupStart = frame;\n            advanceFrameBy(1);\n            break;\n\n          case ')':\n            groupStart = -1;\n            advanceFrameBy(1);\n            break;\n\n          case '|':\n            notification = Notification.createComplete();\n            advanceFrameBy(1);\n            break;\n\n          case '^':\n            advanceFrameBy(1);\n            break;\n\n          case '#':\n            notification = Notification.createError(errorValue || 'error');\n            advanceFrameBy(1);\n            break;\n\n          default:\n            if (runMode && c.match(/^[0-9]$/)) {\n              if (i === 0 || marbles[i - 1] === ' ') {\n                var buffer = marbles.slice(i);\n                var match = buffer.match(/^([0-9]+(?:\\.[0-9]+)?)(ms|s|m) /);\n\n                if (match) {\n                  i += match[0].length - 1;\n                  var duration = parseFloat(match[1]);\n                  var unit = match[2];\n                  var durationInMs = void 0;\n\n                  switch (unit) {\n                    case 'ms':\n                      durationInMs = duration;\n                      break;\n\n                    case 's':\n                      durationInMs = duration * 1000;\n                      break;\n\n                    case 'm':\n                      durationInMs = duration * 1000 * 60;\n                      break;\n\n                    default:\n                      break;\n                  }\n\n                  advanceFrameBy(durationInMs / this_2.frameTimeFactor);\n                  break;\n                }\n              }\n            }\n\n            notification = Notification.createNext(getValue(c));\n            advanceFrameBy(1);\n            break;\n        }\n\n        if (notification) {\n          testMessages.push({\n            frame: groupStart > -1 ? groupStart : frame,\n            notification: notification\n          });\n        }\n\n        frame = nextFrame;\n        out_i_2 = i;\n      };\n\n      var this_2 = this,\n          out_i_2;\n\n      for (var i = 0; i < len; i++) {\n        _loop_2(i);\n\n        i = out_i_2;\n      }\n\n      return testMessages;\n    };\n\n    TestScheduler.prototype.run = function (callback) {\n      var prevFrameTimeFactor = TestScheduler.frameTimeFactor;\n      var prevMaxFrames = this.maxFrames;\n      TestScheduler.frameTimeFactor = 1;\n      this.maxFrames = Number.POSITIVE_INFINITY;\n      this.runMode = true;\n      AsyncScheduler.delegate = this;\n      var helpers = {\n        cold: this.createColdObservable.bind(this),\n        hot: this.createHotObservable.bind(this),\n        flush: this.flush.bind(this),\n        expectObservable: this.expectObservable.bind(this),\n        expectSubscriptions: this.expectSubscriptions.bind(this)\n      };\n\n      try {\n        var ret = callback(helpers);\n        this.flush();\n        return ret;\n      } finally {\n        TestScheduler.frameTimeFactor = prevFrameTimeFactor;\n        this.maxFrames = prevMaxFrames;\n        this.runMode = false;\n        AsyncScheduler.delegate = undefined;\n      }\n    };\n\n    return TestScheduler;\n  }(VirtualTimeScheduler);\n\n  var _testing = /*#__PURE__*/Object.freeze({\n    TestScheduler: TestScheduler\n  });\n\n  var __window = typeof window !== 'undefined' && window;\n\n  var __self = typeof self !== 'undefined' && typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope && self;\n\n  var __global = typeof global !== 'undefined' && global;\n\n  var _root = __window || __global || __self;\n\n  (function () {\n    if (!_root) {\n      throw new Error('RxJS could not find any global context (window, self, global)');\n    }\n  })();\n\n  function getCORSRequest() {\n    if (_root.XMLHttpRequest) {\n      return new _root.XMLHttpRequest();\n    } else if (!!_root.XDomainRequest) {\n      return new _root.XDomainRequest();\n    } else {\n      throw new Error('CORS is not supported by your browser');\n    }\n  }\n\n  function getXMLHttpRequest() {\n    if (_root.XMLHttpRequest) {\n      return new _root.XMLHttpRequest();\n    } else {\n      var progId = void 0;\n\n      try {\n        var progIds = ['Msxml2.XMLHTTP', 'Microsoft.XMLHTTP', 'Msxml2.XMLHTTP.4.0'];\n\n        for (var i = 0; i < 3; i++) {\n          try {\n            progId = progIds[i];\n\n            if (new _root.ActiveXObject(progId)) {\n              break;\n            }\n          } catch (e) {}\n        }\n\n        return new _root.ActiveXObject(progId);\n      } catch (e) {\n        throw new Error('XMLHttpRequest is not supported by your browser');\n      }\n    }\n  }\n\n  function ajaxGet(url, headers) {\n    if (headers === void 0) {\n      headers = null;\n    }\n\n    return new AjaxObservable({\n      method: 'GET',\n      url: url,\n      headers: headers\n    });\n  }\n\n  function ajaxPost(url, body, headers) {\n    return new AjaxObservable({\n      method: 'POST',\n      url: url,\n      body: body,\n      headers: headers\n    });\n  }\n\n  function ajaxDelete(url, headers) {\n    return new AjaxObservable({\n      method: 'DELETE',\n      url: url,\n      headers: headers\n    });\n  }\n\n  function ajaxPut(url, body, headers) {\n    return new AjaxObservable({\n      method: 'PUT',\n      url: url,\n      body: body,\n      headers: headers\n    });\n  }\n\n  function ajaxPatch(url, body, headers) {\n    return new AjaxObservable({\n      method: 'PATCH',\n      url: url,\n      body: body,\n      headers: headers\n    });\n  }\n\n  var mapResponse = map(function (x, index) {\n    return x.response;\n  });\n\n  function ajaxGetJSON(url, headers) {\n    return mapResponse(new AjaxObservable({\n      method: 'GET',\n      url: url,\n      responseType: 'json',\n      headers: headers\n    }));\n  }\n\n  var AjaxObservable = function (_super) {\n    __extends(AjaxObservable, _super);\n\n    function AjaxObservable(urlOrRequest) {\n      var _this = _super.call(this) || this;\n\n      var request = {\n        async: true,\n        createXHR: function () {\n          return this.crossDomain ? getCORSRequest() : getXMLHttpRequest();\n        },\n        crossDomain: true,\n        withCredentials: false,\n        headers: {},\n        method: 'GET',\n        responseType: 'json',\n        timeout: 0\n      };\n\n      if (typeof urlOrRequest === 'string') {\n        request.url = urlOrRequest;\n      } else {\n        for (var prop in urlOrRequest) {\n          if (urlOrRequest.hasOwnProperty(prop)) {\n            request[prop] = urlOrRequest[prop];\n          }\n        }\n      }\n\n      _this.request = request;\n      return _this;\n    }\n\n    AjaxObservable.prototype._subscribe = function (subscriber) {\n      return new AjaxSubscriber(subscriber, this.request);\n    };\n\n    AjaxObservable.create = function () {\n      var create = function (urlOrRequest) {\n        return new AjaxObservable(urlOrRequest);\n      };\n\n      create.get = ajaxGet;\n      create.post = ajaxPost;\n      create.delete = ajaxDelete;\n      create.put = ajaxPut;\n      create.patch = ajaxPatch;\n      create.getJSON = ajaxGetJSON;\n      return create;\n    }();\n\n    return AjaxObservable;\n  }(Observable);\n\n  var AjaxSubscriber = function (_super) {\n    __extends(AjaxSubscriber, _super);\n\n    function AjaxSubscriber(destination, request) {\n      var _this = _super.call(this, destination) || this;\n\n      _this.request = request;\n      _this.done = false;\n      var headers = request.headers = request.headers || {};\n\n      if (!request.crossDomain && !_this.getHeader(headers, 'X-Requested-With')) {\n        headers['X-Requested-With'] = 'XMLHttpRequest';\n      }\n\n      var contentTypeHeader = _this.getHeader(headers, 'Content-Type');\n\n      if (!contentTypeHeader && !(_root.FormData && request.body instanceof _root.FormData) && typeof request.body !== 'undefined') {\n        headers['Content-Type'] = 'application/x-www-form-urlencoded; charset=UTF-8';\n      }\n\n      request.body = _this.serializeBody(request.body, _this.getHeader(request.headers, 'Content-Type'));\n\n      _this.send();\n\n      return _this;\n    }\n\n    AjaxSubscriber.prototype.next = function (e) {\n      this.done = true;\n\n      var _a = this,\n          xhr = _a.xhr,\n          request = _a.request,\n          destination = _a.destination;\n\n      var result;\n\n      try {\n        result = new AjaxResponse(e, xhr, request);\n      } catch (err) {\n        return destination.error(err);\n      }\n\n      destination.next(result);\n    };\n\n    AjaxSubscriber.prototype.send = function () {\n      var _a = this,\n          request = _a.request,\n          _b = _a.request,\n          user = _b.user,\n          method = _b.method,\n          url = _b.url,\n          async = _b.async,\n          password = _b.password,\n          headers = _b.headers,\n          body = _b.body;\n\n      try {\n        var xhr = this.xhr = request.createXHR();\n        this.setupEvents(xhr, request);\n\n        if (user) {\n          xhr.open(method, url, async, user, password);\n        } else {\n          xhr.open(method, url, async);\n        }\n\n        if (async) {\n          xhr.timeout = request.timeout;\n          xhr.responseType = request.responseType;\n        }\n\n        if ('withCredentials' in xhr) {\n          xhr.withCredentials = !!request.withCredentials;\n        }\n\n        this.setHeaders(xhr, headers);\n\n        if (body) {\n          xhr.send(body);\n        } else {\n          xhr.send();\n        }\n      } catch (err) {\n        this.error(err);\n      }\n    };\n\n    AjaxSubscriber.prototype.serializeBody = function (body, contentType) {\n      if (!body || typeof body === 'string') {\n        return body;\n      } else if (_root.FormData && body instanceof _root.FormData) {\n        return body;\n      }\n\n      if (contentType) {\n        var splitIndex = contentType.indexOf(';');\n\n        if (splitIndex !== -1) {\n          contentType = contentType.substring(0, splitIndex);\n        }\n      }\n\n      switch (contentType) {\n        case 'application/x-www-form-urlencoded':\n          return Object.keys(body).map(function (key) {\n            return encodeURIComponent(key) + \"=\" + encodeURIComponent(body[key]);\n          }).join('&');\n\n        case 'application/json':\n          return JSON.stringify(body);\n\n        default:\n          return body;\n      }\n    };\n\n    AjaxSubscriber.prototype.setHeaders = function (xhr, headers) {\n      for (var key in headers) {\n        if (headers.hasOwnProperty(key)) {\n          xhr.setRequestHeader(key, headers[key]);\n        }\n      }\n    };\n\n    AjaxSubscriber.prototype.getHeader = function (headers, headerName) {\n      for (var key in headers) {\n        if (key.toLowerCase() === headerName.toLowerCase()) {\n          return headers[key];\n        }\n      }\n\n      return undefined;\n    };\n\n    AjaxSubscriber.prototype.setupEvents = function (xhr, request) {\n      var progressSubscriber = request.progressSubscriber;\n\n      function xhrTimeout(e) {\n        var _a = xhrTimeout,\n            subscriber = _a.subscriber,\n            progressSubscriber = _a.progressSubscriber,\n            request = _a.request;\n\n        if (progressSubscriber) {\n          progressSubscriber.error(e);\n        }\n\n        var error;\n\n        try {\n          error = new AjaxTimeoutError(this, request);\n        } catch (err) {\n          error = err;\n        }\n\n        subscriber.error(error);\n      }\n\n      xhr.ontimeout = xhrTimeout;\n      xhrTimeout.request = request;\n      xhrTimeout.subscriber = this;\n      xhrTimeout.progressSubscriber = progressSubscriber;\n\n      if (xhr.upload && 'withCredentials' in xhr) {\n        if (progressSubscriber) {\n          var xhrProgress_1;\n\n          xhrProgress_1 = function (e) {\n            var progressSubscriber = xhrProgress_1.progressSubscriber;\n            progressSubscriber.next(e);\n          };\n\n          if (_root.XDomainRequest) {\n            xhr.onprogress = xhrProgress_1;\n          } else {\n            xhr.upload.onprogress = xhrProgress_1;\n          }\n\n          xhrProgress_1.progressSubscriber = progressSubscriber;\n        }\n\n        var xhrError_1;\n\n        xhrError_1 = function (e) {\n          var _a = xhrError_1,\n              progressSubscriber = _a.progressSubscriber,\n              subscriber = _a.subscriber,\n              request = _a.request;\n\n          if (progressSubscriber) {\n            progressSubscriber.error(e);\n          }\n\n          var error;\n\n          try {\n            error = new AjaxError('ajax error', this, request);\n          } catch (err) {\n            error = err;\n          }\n\n          subscriber.error(error);\n        };\n\n        xhr.onerror = xhrError_1;\n        xhrError_1.request = request;\n        xhrError_1.subscriber = this;\n        xhrError_1.progressSubscriber = progressSubscriber;\n      }\n\n      function xhrReadyStateChange(e) {\n        return;\n      }\n\n      xhr.onreadystatechange = xhrReadyStateChange;\n      xhrReadyStateChange.subscriber = this;\n      xhrReadyStateChange.progressSubscriber = progressSubscriber;\n      xhrReadyStateChange.request = request;\n\n      function xhrLoad(e) {\n        var _a = xhrLoad,\n            subscriber = _a.subscriber,\n            progressSubscriber = _a.progressSubscriber,\n            request = _a.request;\n\n        if (this.readyState === 4) {\n          var status_1 = this.status === 1223 ? 204 : this.status;\n          var response = this.responseType === 'text' ? this.response || this.responseText : this.response;\n\n          if (status_1 === 0) {\n            status_1 = response ? 200 : 0;\n          }\n\n          if (status_1 < 400) {\n            if (progressSubscriber) {\n              progressSubscriber.complete();\n            }\n\n            subscriber.next(e);\n            subscriber.complete();\n          } else {\n            if (progressSubscriber) {\n              progressSubscriber.error(e);\n            }\n\n            var error = void 0;\n\n            try {\n              error = new AjaxError('ajax error ' + status_1, this, request);\n            } catch (err) {\n              error = err;\n            }\n\n            subscriber.error(error);\n          }\n        }\n      }\n\n      xhr.onload = xhrLoad;\n      xhrLoad.subscriber = this;\n      xhrLoad.progressSubscriber = progressSubscriber;\n      xhrLoad.request = request;\n    };\n\n    AjaxSubscriber.prototype.unsubscribe = function () {\n      var _a = this,\n          done = _a.done,\n          xhr = _a.xhr;\n\n      if (!done && xhr && xhr.readyState !== 4 && typeof xhr.abort === 'function') {\n        xhr.abort();\n      }\n\n      _super.prototype.unsubscribe.call(this);\n    };\n\n    return AjaxSubscriber;\n  }(Subscriber);\n\n  var AjaxResponse = function () {\n    function AjaxResponse(originalEvent, xhr, request) {\n      this.originalEvent = originalEvent;\n      this.xhr = xhr;\n      this.request = request;\n      this.status = xhr.status;\n      this.responseType = xhr.responseType || request.responseType;\n      this.response = parseXhrResponse(this.responseType, xhr);\n    }\n\n    return AjaxResponse;\n  }();\n\n  var AjaxErrorImpl = function () {\n    function AjaxErrorImpl(message, xhr, request) {\n      Error.call(this);\n      this.message = message;\n      this.name = 'AjaxError';\n      this.xhr = xhr;\n      this.request = request;\n      this.status = xhr.status;\n      this.responseType = xhr.responseType || request.responseType;\n      this.response = parseXhrResponse(this.responseType, xhr);\n      return this;\n    }\n\n    AjaxErrorImpl.prototype = Object.create(Error.prototype);\n    return AjaxErrorImpl;\n  }();\n\n  var AjaxError = AjaxErrorImpl;\n\n  function parseJson(xhr) {\n    if ('response' in xhr) {\n      return xhr.responseType ? xhr.response : JSON.parse(xhr.response || xhr.responseText || 'null');\n    } else {\n      return JSON.parse(xhr.responseText || 'null');\n    }\n  }\n\n  function parseXhrResponse(responseType, xhr) {\n    switch (responseType) {\n      case 'json':\n        return parseJson(xhr);\n\n      case 'xml':\n        return xhr.responseXML;\n\n      case 'text':\n      default:\n        return 'response' in xhr ? xhr.response : xhr.responseText;\n    }\n  }\n\n  function AjaxTimeoutErrorImpl(xhr, request) {\n    AjaxError.call(this, 'ajax timeout', xhr, request);\n    this.name = 'AjaxTimeoutError';\n    return this;\n  }\n\n  var AjaxTimeoutError = AjaxTimeoutErrorImpl;\n\n  var ajax = function () {\n    return AjaxObservable.create;\n  }();\n\n  var _ajax = /*#__PURE__*/Object.freeze({\n    ajax: ajax,\n    AjaxResponse: AjaxResponse,\n    AjaxError: AjaxError,\n    AjaxTimeoutError: AjaxTimeoutError\n  });\n\n  var DEFAULT_WEBSOCKET_CONFIG = {\n    url: '',\n    deserializer: function (e) {\n      return JSON.parse(e.data);\n    },\n    serializer: function (value) {\n      return JSON.stringify(value);\n    }\n  };\n  var WEBSOCKETSUBJECT_INVALID_ERROR_OBJECT = 'WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }';\n\n  var WebSocketSubject = function (_super) {\n    __extends(WebSocketSubject, _super);\n\n    function WebSocketSubject(urlConfigOrSource, destination) {\n      var _this = _super.call(this) || this;\n\n      if (urlConfigOrSource instanceof Observable) {\n        _this.destination = destination;\n        _this.source = urlConfigOrSource;\n      } else {\n        var config = _this._config = __assign({}, DEFAULT_WEBSOCKET_CONFIG);\n\n        _this._output = new Subject();\n\n        if (typeof urlConfigOrSource === 'string') {\n          config.url = urlConfigOrSource;\n        } else {\n          for (var key in urlConfigOrSource) {\n            if (urlConfigOrSource.hasOwnProperty(key)) {\n              config[key] = urlConfigOrSource[key];\n            }\n          }\n        }\n\n        if (!config.WebSocketCtor && WebSocket) {\n          config.WebSocketCtor = WebSocket;\n        } else if (!config.WebSocketCtor) {\n          throw new Error('no WebSocket constructor can be found');\n        }\n\n        _this.destination = new ReplaySubject();\n      }\n\n      return _this;\n    }\n\n    WebSocketSubject.prototype.lift = function (operator) {\n      var sock = new WebSocketSubject(this._config, this.destination);\n      sock.operator = operator;\n      sock.source = this;\n      return sock;\n    };\n\n    WebSocketSubject.prototype._resetState = function () {\n      this._socket = null;\n\n      if (!this.source) {\n        this.destination = new ReplaySubject();\n      }\n\n      this._output = new Subject();\n    };\n\n    WebSocketSubject.prototype.multiplex = function (subMsg, unsubMsg, messageFilter) {\n      var self = this;\n      return new Observable(function (observer) {\n        try {\n          self.next(subMsg());\n        } catch (err) {\n          observer.error(err);\n        }\n\n        var subscription = self.subscribe(function (x) {\n          try {\n            if (messageFilter(x)) {\n              observer.next(x);\n            }\n          } catch (err) {\n            observer.error(err);\n          }\n        }, function (err) {\n          return observer.error(err);\n        }, function () {\n          return observer.complete();\n        });\n        return function () {\n          try {\n            self.next(unsubMsg());\n          } catch (err) {\n            observer.error(err);\n          }\n\n          subscription.unsubscribe();\n        };\n      });\n    };\n\n    WebSocketSubject.prototype._connectSocket = function () {\n      var _this = this;\n\n      var _a = this._config,\n          WebSocketCtor = _a.WebSocketCtor,\n          protocol = _a.protocol,\n          url = _a.url,\n          binaryType = _a.binaryType;\n      var observer = this._output;\n      var socket = null;\n\n      try {\n        socket = protocol ? new WebSocketCtor(url, protocol) : new WebSocketCtor(url);\n        this._socket = socket;\n\n        if (binaryType) {\n          this._socket.binaryType = binaryType;\n        }\n      } catch (e) {\n        observer.error(e);\n        return;\n      }\n\n      var subscription = new Subscription(function () {\n        _this._socket = null;\n\n        if (socket && socket.readyState === 1) {\n          socket.close();\n        }\n      });\n\n      socket.onopen = function (e) {\n        var _socket = _this._socket;\n\n        if (!_socket) {\n          socket.close();\n\n          _this._resetState();\n\n          return;\n        }\n\n        var openObserver = _this._config.openObserver;\n\n        if (openObserver) {\n          openObserver.next(e);\n        }\n\n        var queue = _this.destination;\n        _this.destination = Subscriber.create(function (x) {\n          if (socket.readyState === 1) {\n            try {\n              var serializer = _this._config.serializer;\n              socket.send(serializer(x));\n            } catch (e) {\n              _this.destination.error(e);\n            }\n          }\n        }, function (e) {\n          var closingObserver = _this._config.closingObserver;\n\n          if (closingObserver) {\n            closingObserver.next(undefined);\n          }\n\n          if (e && e.code) {\n            socket.close(e.code, e.reason);\n          } else {\n            observer.error(new TypeError(WEBSOCKETSUBJECT_INVALID_ERROR_OBJECT));\n          }\n\n          _this._resetState();\n        }, function () {\n          var closingObserver = _this._config.closingObserver;\n\n          if (closingObserver) {\n            closingObserver.next(undefined);\n          }\n\n          socket.close();\n\n          _this._resetState();\n        });\n\n        if (queue && queue instanceof ReplaySubject) {\n          subscription.add(queue.subscribe(_this.destination));\n        }\n      };\n\n      socket.onerror = function (e) {\n        _this._resetState();\n\n        observer.error(e);\n      };\n\n      socket.onclose = function (e) {\n        _this._resetState();\n\n        var closeObserver = _this._config.closeObserver;\n\n        if (closeObserver) {\n          closeObserver.next(e);\n        }\n\n        if (e.wasClean) {\n          observer.complete();\n        } else {\n          observer.error(e);\n        }\n      };\n\n      socket.onmessage = function (e) {\n        try {\n          var deserializer = _this._config.deserializer;\n          observer.next(deserializer(e));\n        } catch (err) {\n          observer.error(err);\n        }\n      };\n    };\n\n    WebSocketSubject.prototype._subscribe = function (subscriber) {\n      var _this = this;\n\n      var source = this.source;\n\n      if (source) {\n        return source.subscribe(subscriber);\n      }\n\n      if (!this._socket) {\n        this._connectSocket();\n      }\n\n      this._output.subscribe(subscriber);\n\n      subscriber.add(function () {\n        var _socket = _this._socket;\n\n        if (_this._output.observers.length === 0) {\n          if (_socket && _socket.readyState === 1) {\n            _socket.close();\n          }\n\n          _this._resetState();\n        }\n      });\n      return subscriber;\n    };\n\n    WebSocketSubject.prototype.unsubscribe = function () {\n      var _socket = this._socket;\n\n      if (_socket && _socket.readyState === 1) {\n        _socket.close();\n      }\n\n      this._resetState();\n\n      _super.prototype.unsubscribe.call(this);\n    };\n\n    return WebSocketSubject;\n  }(AnonymousSubject);\n\n  function webSocket(urlConfigOrSource) {\n    return new WebSocketSubject(urlConfigOrSource);\n  }\n\n  var _webSocket = /*#__PURE__*/Object.freeze({\n    webSocket: webSocket,\n    WebSocketSubject: WebSocketSubject\n  });\n\n  function fromFetch(input, init) {\n    return new Observable(function (subscriber) {\n      var controller = new AbortController();\n      var signal = controller.signal;\n      var abortable = true;\n      var unsubscribed = false;\n      var subscription = new Subscription();\n      subscription.add(function () {\n        unsubscribed = true;\n\n        if (abortable) {\n          controller.abort();\n        }\n      });\n      var perSubscriberInit;\n\n      if (init) {\n        if (init.signal) {\n          if (init.signal.aborted) {\n            controller.abort();\n          } else {\n            var outerSignal_1 = init.signal;\n\n            var outerSignalHandler_1 = function () {\n              if (!signal.aborted) {\n                controller.abort();\n              }\n            };\n\n            outerSignal_1.addEventListener('abort', outerSignalHandler_1);\n            subscription.add(function () {\n              return outerSignal_1.removeEventListener('abort', outerSignalHandler_1);\n            });\n          }\n        }\n\n        perSubscriberInit = __assign({}, init, {\n          signal: signal\n        });\n      } else {\n        perSubscriberInit = {\n          signal: signal\n        };\n      }\n\n      fetch(input, perSubscriberInit).then(function (response) {\n        abortable = false;\n        subscriber.next(response);\n        subscriber.complete();\n      }).catch(function (err) {\n        abortable = false;\n\n        if (!unsubscribed) {\n          subscriber.error(err);\n        }\n      });\n      return subscription;\n    });\n  }\n\n  var _fetch = /*#__PURE__*/Object.freeze({\n    fromFetch: fromFetch\n  });\n\n  var operators = _operators;\n  var testing = _testing;\n  var ajax$1 = _ajax;\n  var webSocket$1 = _webSocket;\n  var fetch$1 = _fetch;\n  exports.operators = operators;\n  exports.testing = testing;\n  exports.ajax = ajax$1;\n  exports.webSocket = webSocket$1;\n  exports.fetch = fetch$1;\n  exports.Observable = Observable;\n  exports.ConnectableObservable = ConnectableObservable;\n  exports.GroupedObservable = GroupedObservable;\n  exports.observable = observable;\n  exports.Subject = Subject;\n  exports.BehaviorSubject = BehaviorSubject;\n  exports.ReplaySubject = ReplaySubject;\n  exports.AsyncSubject = AsyncSubject;\n  exports.asapScheduler = asap;\n  exports.asyncScheduler = async;\n  exports.queueScheduler = queue;\n  exports.animationFrameScheduler = animationFrame;\n  exports.VirtualTimeScheduler = VirtualTimeScheduler;\n  exports.VirtualAction = VirtualAction;\n  exports.Scheduler = Scheduler;\n  exports.Subscription = Subscription;\n  exports.Subscriber = Subscriber;\n  exports.Notification = Notification;\n  exports.pipe = pipe;\n  exports.noop = noop;\n  exports.identity = identity;\n  exports.isObservable = isObservable;\n  exports.ArgumentOutOfRangeError = ArgumentOutOfRangeError;\n  exports.EmptyError = EmptyError;\n  exports.ObjectUnsubscribedError = ObjectUnsubscribedError;\n  exports.UnsubscriptionError = UnsubscriptionError;\n  exports.TimeoutError = TimeoutError;\n  exports.bindCallback = bindCallback;\n  exports.bindNodeCallback = bindNodeCallback;\n  exports.combineLatest = combineLatest;\n  exports.concat = concat;\n  exports.defer = defer;\n  exports.empty = empty$1;\n  exports.forkJoin = forkJoin;\n  exports.from = from;\n  exports.fromEvent = fromEvent;\n  exports.fromEventPattern = fromEventPattern;\n  exports.generate = generate;\n  exports.iif = iif;\n  exports.interval = interval;\n  exports.merge = merge;\n  exports.never = never;\n  exports.of = of;\n  exports.onErrorResumeNext = onErrorResumeNext;\n  exports.pairs = pairs;\n  exports.partition = partition;\n  exports.race = race;\n  exports.range = range;\n  exports.throwError = throwError;\n  exports.timer = timer;\n  exports.using = using;\n  exports.zip = zip;\n  exports.scheduled = scheduled;\n  exports.EMPTY = EMPTY;\n  exports.NEVER = NEVER;\n  exports.config = config;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","map":{"version":3,"sources":["../dist/esm5_for_rollup/internal/Subscription.js","../dist/esm5_for_rollup/internal/Subscriber.js","../dist/esm5_for_rollup/internal/util/canReportError.js","../dist/esm5_for_rollup/internal/util/toSubscriber.js","../dist/esm5_for_rollup/internal/util/identity.js","../dist/esm5_for_rollup/internal/util/pipe.js","../dist/esm5_for_rollup/internal/Observable.js","../dist/esm5_for_rollup/internal/util/ObjectUnsubscribedError.js","../dist/esm5_for_rollup/internal/SubjectSubscription.js","../dist/esm5_for_rollup/internal/Subject.js","../dist/esm5_for_rollup/internal/operators/refCount.js","../dist/esm5_for_rollup/internal/observable/ConnectableObservable.js","../dist/esm5_for_rollup/internal/operators/groupBy.js","../dist/esm5_for_rollup/internal/BehaviorSubject.js","../dist/esm5_for_rollup/internal/scheduler/Action.js","../dist/esm5_for_rollup/internal/scheduler/AsyncAction.js","../dist/esm5_for_rollup/internal/scheduler/QueueAction.js","../dist/esm5_for_rollup/internal/Scheduler.js","../dist/esm5_for_rollup/internal/scheduler/AsyncScheduler.js","../dist/esm5_for_rollup/internal/scheduler/QueueScheduler.js","../dist/esm5_for_rollup/internal/scheduler/queue.js","../dist/esm5_for_rollup/internal/observable/empty.js","../dist/esm5_for_rollup/internal/util/isScheduler.js","../dist/esm5_for_rollup/internal/util/subscribeToArray.js","../dist/esm5_for_rollup/internal/scheduled/scheduleArray.js","../dist/esm5_for_rollup/internal/observable/fromArray.js","../dist/esm5_for_rollup/internal/observable/of.js","../dist/esm5_for_rollup/internal/observable/throwError.js","../dist/esm5_for_rollup/internal/Notification.js","../dist/esm5_for_rollup/internal/operators/observeOn.js","../dist/esm5_for_rollup/internal/ReplaySubject.js","../dist/esm5_for_rollup/internal/AsyncSubject.js","../dist/esm5_for_rollup/internal/util/Immediate.js","../dist/esm5_for_rollup/internal/scheduler/AsapAction.js","../dist/esm5_for_rollup/internal/scheduler/AsapScheduler.js","../dist/esm5_for_rollup/internal/scheduler/asap.js","../dist/esm5_for_rollup/internal/scheduler/async.js","../dist/esm5_for_rollup/internal/scheduler/AnimationFrameAction.js","../dist/esm5_for_rollup/internal/scheduler/AnimationFrameScheduler.js","../dist/esm5_for_rollup/internal/scheduler/animationFrame.js","../dist/esm5_for_rollup/internal/scheduler/VirtualTimeScheduler.js","../dist/esm5_for_rollup/internal/util/noop.js","../dist/esm5_for_rollup/internal/util/isObservable.js","../dist/esm5_for_rollup/internal/util/ArgumentOutOfRangeError.js","../dist/esm5_for_rollup/internal/util/EmptyError.js","../dist/esm5_for_rollup/internal/util/TimeoutError.js","../dist/esm5_for_rollup/internal/operators/map.js","../dist/esm5_for_rollup/internal/observable/bindCallback.js","../dist/esm5_for_rollup/internal/observable/bindNodeCallback.js","../dist/esm5_for_rollup/internal/OuterSubscriber.js","../dist/esm5_for_rollup/internal/InnerSubscriber.js","../dist/esm5_for_rollup/internal/util/subscribeToPromise.js","../dist/esm5_for_rollup/internal/symbol/iterator.js","../dist/esm5_for_rollup/internal/util/subscribeToIterable.js","../dist/esm5_for_rollup/internal/util/subscribeToObservable.js","../dist/esm5_for_rollup/internal/util/isArrayLike.js","../dist/esm5_for_rollup/internal/util/isPromise.js","../dist/esm5_for_rollup/internal/util/subscribeTo.js","../dist/esm5_for_rollup/internal/util/subscribeToResult.js","../dist/esm5_for_rollup/internal/observable/combineLatest.js","../dist/esm5_for_rollup/internal/scheduled/scheduleObservable.js","../dist/esm5_for_rollup/internal/scheduled/schedulePromise.js","../dist/esm5_for_rollup/internal/scheduled/scheduleIterable.js","../dist/esm5_for_rollup/internal/util/isInteropObservable.js","../dist/esm5_for_rollup/internal/util/isIterable.js","../dist/esm5_for_rollup/internal/scheduled/scheduled.js","../dist/esm5_for_rollup/internal/observable/from.js","../dist/esm5_for_rollup/internal/operators/mergeMap.js","../dist/esm5_for_rollup/internal/operators/mergeAll.js","../dist/esm5_for_rollup/internal/operators/concatAll.js","../dist/esm5_for_rollup/internal/observable/concat.js","../dist/esm5_for_rollup/internal/observable/defer.js","../dist/esm5_for_rollup/internal/observable/forkJoin.js","../dist/esm5_for_rollup/internal/observable/fromEvent.js","../dist/esm5_for_rollup/internal/observable/fromEventPattern.js","../dist/esm5_for_rollup/internal/observable/generate.js","../dist/esm5_for_rollup/internal/observable/iif.js","../dist/esm5_for_rollup/internal/util/isNumeric.js","../dist/esm5_for_rollup/internal/observable/interval.js","../dist/esm5_for_rollup/internal/observable/merge.js","../dist/esm5_for_rollup/internal/observable/never.js","../dist/esm5_for_rollup/internal/observable/onErrorResumeNext.js","../dist/esm5_for_rollup/internal/observable/pairs.js","../dist/esm5_for_rollup/internal/util/not.js","../dist/esm5_for_rollup/internal/operators/filter.js","../dist/esm5_for_rollup/internal/observable/partition.js","../dist/esm5_for_rollup/internal/observable/race.js","../dist/esm5_for_rollup/internal/observable/range.js","../dist/esm5_for_rollup/internal/observable/timer.js","../dist/esm5_for_rollup/internal/observable/using.js","../dist/esm5_for_rollup/internal/observable/zip.js","../dist/esm5_for_rollup/internal/operators/audit.js","../dist/esm5_for_rollup/internal/operators/auditTime.js","../dist/esm5_for_rollup/internal/operators/buffer.js","../dist/esm5_for_rollup/internal/operators/bufferCount.js","../dist/esm5_for_rollup/internal/operators/bufferTime.js","../dist/esm5_for_rollup/internal/operators/bufferToggle.js","../dist/esm5_for_rollup/internal/operators/bufferWhen.js","../dist/esm5_for_rollup/internal/operators/catchError.js","../dist/esm5_for_rollup/internal/operators/combineAll.js","../dist/esm5_for_rollup/internal/operators/combineLatest.js","../dist/esm5_for_rollup/internal/operators/concat.js","../dist/esm5_for_rollup/internal/operators/concatMap.js","../dist/esm5_for_rollup/internal/operators/concatMapTo.js","../dist/esm5_for_rollup/internal/operators/count.js","../dist/esm5_for_rollup/internal/operators/debounce.js","../dist/esm5_for_rollup/internal/operators/debounceTime.js","../dist/esm5_for_rollup/internal/operators/defaultIfEmpty.js","../dist/esm5_for_rollup/internal/util/isDate.js","../dist/esm5_for_rollup/internal/operators/delay.js","../dist/esm5_for_rollup/internal/operators/delayWhen.js","../dist/esm5_for_rollup/internal/operators/dematerialize.js","../dist/esm5_for_rollup/internal/operators/distinct.js","../dist/esm5_for_rollup/internal/operators/distinctUntilChanged.js","../dist/esm5_for_rollup/internal/operators/distinctUntilKeyChanged.js","../dist/esm5_for_rollup/internal/operators/throwIfEmpty.js","../dist/esm5_for_rollup/internal/operators/take.js","../dist/esm5_for_rollup/internal/operators/elementAt.js","../dist/esm5_for_rollup/internal/operators/endWith.js","../dist/esm5_for_rollup/internal/operators/every.js","../dist/esm5_for_rollup/internal/operators/exhaust.js","../dist/esm5_for_rollup/internal/operators/exhaustMap.js","../dist/esm5_for_rollup/internal/operators/expand.js","../dist/esm5_for_rollup/internal/operators/finalize.js","../dist/esm5_for_rollup/internal/operators/find.js","../dist/esm5_for_rollup/internal/operators/findIndex.js","../dist/esm5_for_rollup/internal/operators/first.js","../dist/esm5_for_rollup/internal/operators/ignoreElements.js","../dist/esm5_for_rollup/internal/operators/isEmpty.js","../dist/esm5_for_rollup/internal/operators/takeLast.js","../dist/esm5_for_rollup/internal/operators/last.js","../dist/esm5_for_rollup/internal/operators/mapTo.js","../dist/esm5_for_rollup/internal/operators/materialize.js","../dist/esm5_for_rollup/internal/operators/scan.js","../dist/esm5_for_rollup/internal/operators/reduce.js","../dist/esm5_for_rollup/internal/operators/max.js","../dist/esm5_for_rollup/internal/operators/merge.js","../dist/esm5_for_rollup/internal/operators/mergeMapTo.js","../dist/esm5_for_rollup/internal/operators/mergeScan.js","../dist/esm5_for_rollup/internal/operators/min.js","../dist/esm5_for_rollup/internal/operators/multicast.js","../dist/esm5_for_rollup/internal/operators/onErrorResumeNext.js","../dist/esm5_for_rollup/internal/operators/pairwise.js","../dist/esm5_for_rollup/internal/operators/partition.js","../dist/esm5_for_rollup/internal/operators/pluck.js","../dist/esm5_for_rollup/internal/operators/publish.js","../dist/esm5_for_rollup/internal/operators/publishBehavior.js","../dist/esm5_for_rollup/internal/operators/publishLast.js","../dist/esm5_for_rollup/internal/operators/publishReplay.js","../dist/esm5_for_rollup/internal/operators/race.js","../dist/esm5_for_rollup/internal/operators/repeat.js","../dist/esm5_for_rollup/internal/operators/repeatWhen.js","../dist/esm5_for_rollup/internal/operators/retry.js","../dist/esm5_for_rollup/internal/operators/retryWhen.js","../dist/esm5_for_rollup/internal/operators/sample.js","../dist/esm5_for_rollup/internal/operators/sampleTime.js","../dist/esm5_for_rollup/internal/operators/sequenceEqual.js","../dist/esm5_for_rollup/internal/operators/share.js","../dist/esm5_for_rollup/internal/operators/shareReplay.js","../dist/esm5_for_rollup/internal/operators/single.js","../dist/esm5_for_rollup/internal/operators/skip.js","../dist/esm5_for_rollup/internal/operators/skipLast.js","../dist/esm5_for_rollup/internal/operators/skipUntil.js","../dist/esm5_for_rollup/internal/operators/skipWhile.js","../dist/esm5_for_rollup/internal/operators/startWith.js","../dist/esm5_for_rollup/internal/observable/SubscribeOnObservable.js","../dist/esm5_for_rollup/internal/operators/subscribeOn.js","../dist/esm5_for_rollup/internal/operators/switchMap.js","../dist/esm5_for_rollup/internal/operators/switchAll.js","../dist/esm5_for_rollup/internal/operators/switchMapTo.js","../dist/esm5_for_rollup/internal/operators/takeUntil.js","../dist/esm5_for_rollup/internal/operators/takeWhile.js","../dist/esm5_for_rollup/internal/operators/tap.js","../dist/esm5_for_rollup/internal/operators/throttle.js","../dist/esm5_for_rollup/internal/operators/throttleTime.js","../dist/esm5_for_rollup/internal/operators/timeInterval.js","../dist/esm5_for_rollup/internal/operators/timeoutWith.js","../dist/esm5_for_rollup/internal/operators/timeout.js","../dist/esm5_for_rollup/internal/operators/timestamp.js","../dist/esm5_for_rollup/internal/operators/toArray.js","../dist/esm5_for_rollup/internal/operators/window.js","../dist/esm5_for_rollup/internal/operators/windowCount.js","../dist/esm5_for_rollup/internal/operators/windowTime.js","../dist/esm5_for_rollup/internal/operators/windowToggle.js","../dist/esm5_for_rollup/internal/operators/windowWhen.js","../dist/esm5_for_rollup/internal/operators/withLatestFrom.js","../dist/esm5_for_rollup/internal/operators/zip.js","../dist/esm5_for_rollup/internal/operators/zipAll.js","../dist/esm5_for_rollup/internal/testing/SubscriptionLog.js","../dist/esm5_for_rollup/internal/testing/SubscriptionLoggable.js","../dist/esm5_for_rollup/internal/util/applyMixins.js","../dist/esm5_for_rollup/internal/testing/ColdObservable.js","../dist/esm5_for_rollup/internal/testing/HotObservable.js","../dist/esm5_for_rollup/internal/testing/TestScheduler.js","../dist/esm5_for_rollup/internal/util/root.js","../dist/esm5_for_rollup/internal/observable/dom/AjaxObservable.js","../dist/esm5_for_rollup/internal/observable/dom/ajax.js","../dist/esm5_for_rollup/internal/observable/dom/WebSocketSubject.js","../dist/esm5_for_rollup/internal/observable/dom/webSocket.js","../dist/esm5_for_rollup/internal/observable/dom/fetch.js","../dist/esm5_for_rollup/internal/umd.js"],"names":["rxSubscriberSymbol","observable","Symbol_observable","tslib_1.__extends","RefCountSubscriber","refCount","empty","NotificationKind","dispatch","dispatchError","dispatchNext","iterator","combineLatest","concat","merge","onErrorResumeNext","partition","window","WindowSubscriber","root","webSocket"],"mappings":"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","sourcesContent":["import { isArray } from './util/isArray';\nimport { isObject } from './util/isObject';\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nvar Subscription = (function () {\n    function Subscription(unsubscribe) {\n        this.closed = false;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (unsubscribe) {\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        var _a = this, _parentOrParents = _a._parentOrParents, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this.closed = true;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (_parentOrParents instanceof Subscription) {\n            _parentOrParents.remove(this);\n        }\n        else if (_parentOrParents !== null) {\n            for (var index = 0; index < _parentOrParents.length; ++index) {\n                var parent_1 = _parentOrParents[index];\n                parent_1.remove(this);\n            }\n        }\n        if (isFunction(_unsubscribe)) {\n            try {\n                _unsubscribe.call(this);\n            }\n            catch (e) {\n                errors = e instanceof UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n            }\n        }\n        if (isArray(_subscriptions)) {\n            var index = -1;\n            var len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject(sub)) {\n                    try {\n                        sub.unsubscribe();\n                    }\n                    catch (e) {\n                        errors = errors || [];\n                        if (e instanceof UnsubscriptionError) {\n                            errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n                        }\n                        else {\n                            errors.push(e);\n                        }\n                    }\n                }\n            }\n        }\n        if (errors) {\n            throw new UnsubscriptionError(errors);\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var subscription = teardown;\n        if (!teardown) {\n            return Subscription.EMPTY;\n        }\n        switch (typeof teardown) {\n            case 'function':\n                subscription = new Subscription(teardown);\n            case 'object':\n                if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                    return subscription;\n                }\n                else if (this.closed) {\n                    subscription.unsubscribe();\n                    return subscription;\n                }\n                else if (!(subscription instanceof Subscription)) {\n                    var tmp = subscription;\n                    subscription = new Subscription();\n                    subscription._subscriptions = [tmp];\n                }\n                break;\n            default: {\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n            }\n        }\n        var _parentOrParents = subscription._parentOrParents;\n        if (_parentOrParents === null) {\n            subscription._parentOrParents = this;\n        }\n        else if (_parentOrParents instanceof Subscription) {\n            if (_parentOrParents === this) {\n                return subscription;\n            }\n            subscription._parentOrParents = [_parentOrParents, this];\n        }\n        else if (_parentOrParents.indexOf(this) === -1) {\n            _parentOrParents.push(this);\n        }\n        else {\n            return subscription;\n        }\n        var subscriptions = this._subscriptions;\n        if (subscriptions === null) {\n            this._subscriptions = [subscription];\n        }\n        else {\n            subscriptions.push(subscription);\n        }\n        return subscription;\n    };\n    Subscription.prototype.remove = function (subscription) {\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexport { Subscription };\nfunction flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError) ? err.errors : err); }, []);\n}\n//# sourceMappingURL=Subscription.js.map","import * as tslib_1 from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { empty as emptyObserver } from './Observer';\nimport { Subscription } from './Subscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\nvar Subscriber = (function (_super) {\n    tslib_1.__extends(Subscriber, _super);\n    function Subscriber(destinationOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this.syncErrorValue = null;\n        _this.syncErrorThrown = false;\n        _this.syncErrorThrowable = false;\n        _this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                _this.destination = emptyObserver;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    _this.destination = emptyObserver;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n                        _this.destination = destinationOrNext;\n                        destinationOrNext.add(_this);\n                    }\n                    else {\n                        _this.syncErrorThrowable = true;\n                        _this.destination = new SafeSubscriber(_this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                _this.syncErrorThrowable = true;\n                _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n                break;\n        }\n        return _this;\n    }\n    Subscriber.prototype[rxSubscriberSymbol] = function () { return this; };\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _parentOrParents = this._parentOrParents;\n        this._parentOrParents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parentOrParents = _parentOrParents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription));\nexport { Subscriber };\nvar SafeSubscriber = (function (_super) {\n    tslib_1.__extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this._parentSubscriber = _parentSubscriber;\n        var next;\n        var context = _this;\n        if (isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== emptyObserver) {\n                context = Object.create(observerOrNext);\n                if (isFunction(context.unsubscribe)) {\n                    _this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = _this.unsubscribe.bind(_this);\n            }\n        }\n        _this._context = context;\n        _this._next = next;\n        _this._error = error;\n        _this._complete = complete;\n        return _this;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            var useDeprecatedSynchronousErrorHandling = config.useDeprecatedSynchronousErrorHandling;\n            if (this._error) {\n                if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parentSubscriber.syncErrorThrowable) {\n                this.unsubscribe();\n                if (useDeprecatedSynchronousErrorHandling) {\n                    throw err;\n                }\n                hostReportError(err);\n            }\n            else {\n                if (useDeprecatedSynchronousErrorHandling) {\n                    _parentSubscriber.syncErrorValue = err;\n                    _parentSubscriber.syncErrorThrown = true;\n                }\n                else {\n                    hostReportError(err);\n                }\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        var _this = this;\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._complete) {\n                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(wrappedComplete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                throw err;\n            }\n            else {\n                hostReportError(err);\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        if (!config.useDeprecatedSynchronousErrorHandling) {\n            throw new Error('bad call');\n        }\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                parent.syncErrorValue = err;\n                parent.syncErrorThrown = true;\n                return true;\n            }\n            else {\n                hostReportError(err);\n                return true;\n            }\n        }\n        return false;\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        var _parentSubscriber = this._parentSubscriber;\n        this._context = null;\n        this._parentSubscriber = null;\n        _parentSubscriber.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\nexport { SafeSubscriber };\n//# sourceMappingURL=Subscriber.js.map","import { Subscriber } from '../Subscriber';\nexport function canReportError(observer) {\n    while (observer) {\n        var _a = observer, closed_1 = _a.closed, destination = _a.destination, isStopped = _a.isStopped;\n        if (closed_1 || isStopped) {\n            return false;\n        }\n        else if (destination && destination instanceof Subscriber) {\n            observer = destination;\n        }\n        else {\n            observer = null;\n        }\n    }\n    return true;\n}\n//# sourceMappingURL=canReportError.js.map","import { Subscriber } from '../Subscriber';\nimport { rxSubscriber as rxSubscriberSymbol } from '../symbol/rxSubscriber';\nimport { empty as emptyObserver } from '../Observer';\nexport function toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriberSymbol]) {\n            return nextOrObserver[rxSubscriberSymbol]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber(emptyObserver);\n    }\n    return new Subscriber(nextOrObserver, error, complete);\n}\n//# sourceMappingURL=toSubscriber.js.map","export function identity(x) {\n    return x;\n}\n//# sourceMappingURL=identity.js.map","import { identity } from './identity';\nexport function pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\n//# sourceMappingURL=pipe.js.map","import { canReportError } from './util/canReportError';\nimport { toSubscriber } from './util/toSubscriber';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nvar Observable = (function () {\n    function Observable(subscribe) {\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            sink.add(operator.call(sink, this.source));\n        }\n        else {\n            sink.add(this.source || (config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n                this._subscribe(sink) :\n                this._trySubscribe(sink));\n        }\n        if (config.useDeprecatedSynchronousErrorHandling) {\n            if (sink.syncErrorThrowable) {\n                sink.syncErrorThrowable = false;\n                if (sink.syncErrorThrown) {\n                    throw sink.syncErrorValue;\n                }\n            }\n        }\n        return sink;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                sink.syncErrorThrown = true;\n                sink.syncErrorValue = err;\n            }\n            if (canReportError(sink)) {\n                sink.error(err);\n            }\n            else {\n                console.warn(err);\n            }\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                try {\n                    next(value);\n                }\n                catch (err) {\n                    reject(err);\n                    if (subscription) {\n                        subscription.unsubscribe();\n                    }\n                }\n            }, reject, resolve);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        return source && source.subscribe(subscriber);\n    };\n    Observable.prototype[Symbol_observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        if (operations.length === 0) {\n            return this;\n        }\n        return pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexport { Observable };\nfunction getPromiseCtor(promiseCtor) {\n    if (!promiseCtor) {\n        promiseCtor = config.Promise || Promise;\n    }\n    if (!promiseCtor) {\n        throw new Error('no Promise impl found');\n    }\n    return promiseCtor;\n}\n//# sourceMappingURL=Observable.js.map","var ObjectUnsubscribedErrorImpl = (function () {\n    function ObjectUnsubscribedErrorImpl() {\n        Error.call(this);\n        this.message = 'object unsubscribed';\n        this.name = 'ObjectUnsubscribedError';\n        return this;\n    }\n    ObjectUnsubscribedErrorImpl.prototype = Object.create(Error.prototype);\n    return ObjectUnsubscribedErrorImpl;\n})();\nexport var ObjectUnsubscribedError = ObjectUnsubscribedErrorImpl;\n//# sourceMappingURL=ObjectUnsubscribedError.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscription } from './Subscription';\nvar SubjectSubscription = (function (_super) {\n    tslib_1.__extends(SubjectSubscription, _super);\n    function SubjectSubscription(subject, subscriber) {\n        var _this = _super.call(this) || this;\n        _this.subject = subject;\n        _this.subscriber = subscriber;\n        _this.closed = false;\n        return _this;\n    }\n    SubjectSubscription.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.closed = true;\n        var subject = this.subject;\n        var observers = subject.observers;\n        this.subject = null;\n        if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n            return;\n        }\n        var subscriberIndex = observers.indexOf(this.subscriber);\n        if (subscriberIndex !== -1) {\n            observers.splice(subscriberIndex, 1);\n        }\n    };\n    return SubjectSubscription;\n}(Subscription));\nexport { SubjectSubscription };\n//# sourceMappingURL=SubjectSubscription.js.map","import * as tslib_1 from \"tslib\";\nimport { Observable } from './Observable';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { SubjectSubscription } from './SubjectSubscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nvar SubjectSubscriber = (function (_super) {\n    tslib_1.__extends(SubjectSubscriber, _super);\n    function SubjectSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        return _this;\n    }\n    return SubjectSubscriber;\n}(Subscriber));\nexport { SubjectSubscriber };\nvar Subject = (function (_super) {\n    tslib_1.__extends(Subject, _super);\n    function Subject() {\n        var _this = _super.call(this) || this;\n        _this.observers = [];\n        _this.closed = false;\n        _this.isStopped = false;\n        _this.hasError = false;\n        _this.thrownError = null;\n        return _this;\n    }\n    Subject.prototype[rxSubscriberSymbol] = function () {\n        return new SubjectSubscriber(this);\n    };\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype.next = function (value) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        if (!this.isStopped) {\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].next(value);\n            }\n        }\n    };\n    Subject.prototype.error = function (err) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        this.hasError = true;\n        this.thrownError = err;\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].error(err);\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.complete = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].complete();\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = true;\n        this.closed = true;\n        this.observers = null;\n    };\n    Subject.prototype._trySubscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else {\n            return _super.prototype._trySubscribe.call(this, subscriber);\n        }\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscriber.error(this.thrownError);\n            return Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n            return Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            return new SubjectSubscription(this, subscriber);\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable));\nexport { Subject };\nvar AnonymousSubject = (function (_super) {\n    tslib_1.__extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        var _this = _super.call(this) || this;\n        _this.destination = destination;\n        _this.source = source;\n        return _this;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var destination = this.destination;\n        if (destination && destination.next) {\n            destination.next(value);\n        }\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var destination = this.destination;\n        if (destination && destination.error) {\n            this.destination.error(err);\n        }\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var destination = this.destination;\n        if (destination && destination.complete) {\n            this.destination.complete();\n        }\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        if (source) {\n            return this.source.subscribe(subscriber);\n        }\n        else {\n            return Subscription.EMPTY;\n        }\n    };\n    return AnonymousSubject;\n}(Subject));\nexport { AnonymousSubject };\n//# sourceMappingURL=Subject.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function refCount() {\n    return function refCountOperatorFunction(source) {\n        return source.lift(new RefCountOperator(source));\n    };\n}\nvar RefCountOperator = (function () {\n    function RefCountOperator(connectable) {\n        this.connectable = connectable;\n    }\n    RefCountOperator.prototype.call = function (subscriber, source) {\n        var connectable = this.connectable;\n        connectable._refCount++;\n        var refCounter = new RefCountSubscriber(subscriber, connectable);\n        var subscription = source.subscribe(refCounter);\n        if (!refCounter.closed) {\n            refCounter.connection = connectable.connect();\n        }\n        return subscription;\n    };\n    return RefCountOperator;\n}());\nvar RefCountSubscriber = (function (_super) {\n    tslib_1.__extends(RefCountSubscriber, _super);\n    function RefCountSubscriber(destination, connectable) {\n        var _this = _super.call(this, destination) || this;\n        _this.connectable = connectable;\n        return _this;\n    }\n    RefCountSubscriber.prototype._unsubscribe = function () {\n        var connectable = this.connectable;\n        if (!connectable) {\n            this.connection = null;\n            return;\n        }\n        this.connectable = null;\n        var refCount = connectable._refCount;\n        if (refCount <= 0) {\n            this.connection = null;\n            return;\n        }\n        connectable._refCount = refCount - 1;\n        if (refCount > 1) {\n            this.connection = null;\n            return;\n        }\n        var connection = this.connection;\n        var sharedConnection = connectable._connection;\n        this.connection = null;\n        if (sharedConnection && (!connection || sharedConnection === connection)) {\n            sharedConnection.unsubscribe();\n        }\n    };\n    return RefCountSubscriber;\n}(Subscriber));\n//# sourceMappingURL=refCount.js.map","import * as tslib_1 from \"tslib\";\nimport { SubjectSubscriber } from '../Subject';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { refCount as higherOrderRefCount } from '../operators/refCount';\nvar ConnectableObservable = (function (_super) {\n    tslib_1.__extends(ConnectableObservable, _super);\n    function ConnectableObservable(source, subjectFactory) {\n        var _this = _super.call(this) || this;\n        _this.source = source;\n        _this.subjectFactory = subjectFactory;\n        _this._refCount = 0;\n        _this._isComplete = false;\n        return _this;\n    }\n    ConnectableObservable.prototype._subscribe = function (subscriber) {\n        return this.getSubject().subscribe(subscriber);\n    };\n    ConnectableObservable.prototype.getSubject = function () {\n        var subject = this._subject;\n        if (!subject || subject.isStopped) {\n            this._subject = this.subjectFactory();\n        }\n        return this._subject;\n    };\n    ConnectableObservable.prototype.connect = function () {\n        var connection = this._connection;\n        if (!connection) {\n            this._isComplete = false;\n            connection = this._connection = new Subscription();\n            connection.add(this.source\n                .subscribe(new ConnectableSubscriber(this.getSubject(), this)));\n            if (connection.closed) {\n                this._connection = null;\n                connection = Subscription.EMPTY;\n            }\n        }\n        return connection;\n    };\n    ConnectableObservable.prototype.refCount = function () {\n        return higherOrderRefCount()(this);\n    };\n    return ConnectableObservable;\n}(Observable));\nexport { ConnectableObservable };\nexport var connectableObservableDescriptor = (function () {\n    var connectableProto = ConnectableObservable.prototype;\n    return {\n        operator: { value: null },\n        _refCount: { value: 0, writable: true },\n        _subject: { value: null, writable: true },\n        _connection: { value: null, writable: true },\n        _subscribe: { value: connectableProto._subscribe },\n        _isComplete: { value: connectableProto._isComplete, writable: true },\n        getSubject: { value: connectableProto.getSubject },\n        connect: { value: connectableProto.connect },\n        refCount: { value: connectableProto.refCount }\n    };\n})();\nvar ConnectableSubscriber = (function (_super) {\n    tslib_1.__extends(ConnectableSubscriber, _super);\n    function ConnectableSubscriber(destination, connectable) {\n        var _this = _super.call(this, destination) || this;\n        _this.connectable = connectable;\n        return _this;\n    }\n    ConnectableSubscriber.prototype._error = function (err) {\n        this._unsubscribe();\n        _super.prototype._error.call(this, err);\n    };\n    ConnectableSubscriber.prototype._complete = function () {\n        this.connectable._isComplete = true;\n        this._unsubscribe();\n        _super.prototype._complete.call(this);\n    };\n    ConnectableSubscriber.prototype._unsubscribe = function () {\n        var connectable = this.connectable;\n        if (connectable) {\n            this.connectable = null;\n            var connection = connectable._connection;\n            connectable._refCount = 0;\n            connectable._subject = null;\n            connectable._connection = null;\n            if (connection) {\n                connection.unsubscribe();\n            }\n        }\n    };\n    return ConnectableSubscriber;\n}(SubjectSubscriber));\nvar RefCountOperator = (function () {\n    function RefCountOperator(connectable) {\n        this.connectable = connectable;\n    }\n    RefCountOperator.prototype.call = function (subscriber, source) {\n        var connectable = this.connectable;\n        connectable._refCount++;\n        var refCounter = new RefCountSubscriber(subscriber, connectable);\n        var subscription = source.subscribe(refCounter);\n        if (!refCounter.closed) {\n            refCounter.connection = connectable.connect();\n        }\n        return subscription;\n    };\n    return RefCountOperator;\n}());\nvar RefCountSubscriber = (function (_super) {\n    tslib_1.__extends(RefCountSubscriber, _super);\n    function RefCountSubscriber(destination, connectable) {\n        var _this = _super.call(this, destination) || this;\n        _this.connectable = connectable;\n        return _this;\n    }\n    RefCountSubscriber.prototype._unsubscribe = function () {\n        var connectable = this.connectable;\n        if (!connectable) {\n            this.connection = null;\n            return;\n        }\n        this.connectable = null;\n        var refCount = connectable._refCount;\n        if (refCount <= 0) {\n            this.connection = null;\n            return;\n        }\n        connectable._refCount = refCount - 1;\n        if (refCount > 1) {\n            this.connection = null;\n            return;\n        }\n        var connection = this.connection;\n        var sharedConnection = connectable._connection;\n        this.connection = null;\n        if (sharedConnection && (!connection || sharedConnection === connection)) {\n            sharedConnection.unsubscribe();\n        }\n    };\n    return RefCountSubscriber;\n}(Subscriber));\n//# sourceMappingURL=ConnectableObservable.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { Observable } from '../Observable';\nimport { Subject } from '../Subject';\nexport function groupBy(keySelector, elementSelector, durationSelector, subjectSelector) {\n    return function (source) {\n        return source.lift(new GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector));\n    };\n}\nvar GroupByOperator = (function () {\n    function GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector) {\n        this.keySelector = keySelector;\n        this.elementSelector = elementSelector;\n        this.durationSelector = durationSelector;\n        this.subjectSelector = subjectSelector;\n    }\n    GroupByOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new GroupBySubscriber(subscriber, this.keySelector, this.elementSelector, this.durationSelector, this.subjectSelector));\n    };\n    return GroupByOperator;\n}());\nvar GroupBySubscriber = (function (_super) {\n    tslib_1.__extends(GroupBySubscriber, _super);\n    function GroupBySubscriber(destination, keySelector, elementSelector, durationSelector, subjectSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.keySelector = keySelector;\n        _this.elementSelector = elementSelector;\n        _this.durationSelector = durationSelector;\n        _this.subjectSelector = subjectSelector;\n        _this.groups = null;\n        _this.attemptedToUnsubscribe = false;\n        _this.count = 0;\n        return _this;\n    }\n    GroupBySubscriber.prototype._next = function (value) {\n        var key;\n        try {\n            key = this.keySelector(value);\n        }\n        catch (err) {\n            this.error(err);\n            return;\n        }\n        this._group(value, key);\n    };\n    GroupBySubscriber.prototype._group = function (value, key) {\n        var groups = this.groups;\n        if (!groups) {\n            groups = this.groups = new Map();\n        }\n        var group = groups.get(key);\n        var element;\n        if (this.elementSelector) {\n            try {\n                element = this.elementSelector(value);\n            }\n            catch (err) {\n                this.error(err);\n            }\n        }\n        else {\n            element = value;\n        }\n        if (!group) {\n            group = (this.subjectSelector ? this.subjectSelector() : new Subject());\n            groups.set(key, group);\n            var groupedObservable = new GroupedObservable(key, group, this);\n            this.destination.next(groupedObservable);\n            if (this.durationSelector) {\n                var duration = void 0;\n                try {\n                    duration = this.durationSelector(new GroupedObservable(key, group));\n                }\n                catch (err) {\n                    this.error(err);\n                    return;\n                }\n                this.add(duration.subscribe(new GroupDurationSubscriber(key, group, this)));\n            }\n        }\n        if (!group.closed) {\n            group.next(element);\n        }\n    };\n    GroupBySubscriber.prototype._error = function (err) {\n        var groups = this.groups;\n        if (groups) {\n            groups.forEach(function (group, key) {\n                group.error(err);\n            });\n            groups.clear();\n        }\n        this.destination.error(err);\n    };\n    GroupBySubscriber.prototype._complete = function () {\n        var groups = this.groups;\n        if (groups) {\n            groups.forEach(function (group, key) {\n                group.complete();\n            });\n            groups.clear();\n        }\n        this.destination.complete();\n    };\n    GroupBySubscriber.prototype.removeGroup = function (key) {\n        this.groups.delete(key);\n    };\n    GroupBySubscriber.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            this.attemptedToUnsubscribe = true;\n            if (this.count === 0) {\n                _super.prototype.unsubscribe.call(this);\n            }\n        }\n    };\n    return GroupBySubscriber;\n}(Subscriber));\nvar GroupDurationSubscriber = (function (_super) {\n    tslib_1.__extends(GroupDurationSubscriber, _super);\n    function GroupDurationSubscriber(key, group, parent) {\n        var _this = _super.call(this, group) || this;\n        _this.key = key;\n        _this.group = group;\n        _this.parent = parent;\n        return _this;\n    }\n    GroupDurationSubscriber.prototype._next = function (value) {\n        this.complete();\n    };\n    GroupDurationSubscriber.prototype._unsubscribe = function () {\n        var _a = this, parent = _a.parent, key = _a.key;\n        this.key = this.parent = null;\n        if (parent) {\n            parent.removeGroup(key);\n        }\n    };\n    return GroupDurationSubscriber;\n}(Subscriber));\nvar GroupedObservable = (function (_super) {\n    tslib_1.__extends(GroupedObservable, _super);\n    function GroupedObservable(key, groupSubject, refCountSubscription) {\n        var _this = _super.call(this) || this;\n        _this.key = key;\n        _this.groupSubject = groupSubject;\n        _this.refCountSubscription = refCountSubscription;\n        return _this;\n    }\n    GroupedObservable.prototype._subscribe = function (subscriber) {\n        var subscription = new Subscription();\n        var _a = this, refCountSubscription = _a.refCountSubscription, groupSubject = _a.groupSubject;\n        if (refCountSubscription && !refCountSubscription.closed) {\n            subscription.add(new InnerRefCountSubscription(refCountSubscription));\n        }\n        subscription.add(groupSubject.subscribe(subscriber));\n        return subscription;\n    };\n    return GroupedObservable;\n}(Observable));\nexport { GroupedObservable };\nvar InnerRefCountSubscription = (function (_super) {\n    tslib_1.__extends(InnerRefCountSubscription, _super);\n    function InnerRefCountSubscription(parent) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        parent.count++;\n        return _this;\n    }\n    InnerRefCountSubscription.prototype.unsubscribe = function () {\n        var parent = this.parent;\n        if (!parent.closed && !this.closed) {\n            _super.prototype.unsubscribe.call(this);\n            parent.count -= 1;\n            if (parent.count === 0 && parent.attemptedToUnsubscribe) {\n                parent.unsubscribe();\n            }\n        }\n    };\n    return InnerRefCountSubscription;\n}(Subscription));\n//# sourceMappingURL=groupBy.js.map","import * as tslib_1 from \"tslib\";\nimport { Subject } from './Subject';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nvar BehaviorSubject = (function (_super) {\n    tslib_1.__extends(BehaviorSubject, _super);\n    function BehaviorSubject(_value) {\n        var _this = _super.call(this) || this;\n        _this._value = _value;\n        return _this;\n    }\n    Object.defineProperty(BehaviorSubject.prototype, \"value\", {\n        get: function () {\n            return this.getValue();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BehaviorSubject.prototype._subscribe = function (subscriber) {\n        var subscription = _super.prototype._subscribe.call(this, subscriber);\n        if (subscription && !subscription.closed) {\n            subscriber.next(this._value);\n        }\n        return subscription;\n    };\n    BehaviorSubject.prototype.getValue = function () {\n        if (this.hasError) {\n            throw this.thrownError;\n        }\n        else if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else {\n            return this._value;\n        }\n    };\n    BehaviorSubject.prototype.next = function (value) {\n        _super.prototype.next.call(this, this._value = value);\n    };\n    return BehaviorSubject;\n}(Subject));\nexport { BehaviorSubject };\n//# sourceMappingURL=BehaviorSubject.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscription } from '../Subscription';\nvar Action = (function (_super) {\n    tslib_1.__extends(Action, _super);\n    function Action(scheduler, work) {\n        return _super.call(this) || this;\n    }\n    Action.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        return this;\n    };\n    return Action;\n}(Subscription));\nexport { Action };\n//# sourceMappingURL=Action.js.map","import * as tslib_1 from \"tslib\";\nimport { Action } from './Action';\nvar AsyncAction = (function (_super) {\n    tslib_1.__extends(AsyncAction, _super);\n    function AsyncAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        _this.pending = false;\n        return _this;\n    }\n    AsyncAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (this.closed) {\n            return this;\n        }\n        this.state = state;\n        var id = this.id;\n        var scheduler = this.scheduler;\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        this.pending = true;\n        this.delay = delay;\n        this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    };\n    AsyncAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        return setInterval(scheduler.flush.bind(scheduler, this), delay);\n    };\n    AsyncAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (delay !== null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        clearInterval(id);\n        return undefined;\n    };\n    AsyncAction.prototype.execute = function (state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        var error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    };\n    AsyncAction.prototype._execute = function (state, delay) {\n        var errored = false;\n        var errorValue = undefined;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = !!e && e || new Error(e);\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    };\n    AsyncAction.prototype._unsubscribe = function () {\n        var id = this.id;\n        var scheduler = this.scheduler;\n        var actions = scheduler.actions;\n        var index = actions.indexOf(this);\n        this.work = null;\n        this.state = null;\n        this.pending = false;\n        this.scheduler = null;\n        if (index !== -1) {\n            actions.splice(index, 1);\n        }\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, null);\n        }\n        this.delay = null;\n    };\n    return AsyncAction;\n}(Action));\nexport { AsyncAction };\n//# sourceMappingURL=AsyncAction.js.map","import * as tslib_1 from \"tslib\";\nimport { AsyncAction } from './AsyncAction';\nvar QueueAction = (function (_super) {\n    tslib_1.__extends(QueueAction, _super);\n    function QueueAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        return _this;\n    }\n    QueueAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (delay > 0) {\n            return _super.prototype.schedule.call(this, state, delay);\n        }\n        this.delay = delay;\n        this.state = state;\n        this.scheduler.flush(this);\n        return this;\n    };\n    QueueAction.prototype.execute = function (state, delay) {\n        return (delay > 0 || this.closed) ?\n            _super.prototype.execute.call(this, state, delay) :\n            this._execute(state, delay);\n    };\n    QueueAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n        }\n        return scheduler.flush(this);\n    };\n    return QueueAction;\n}(AsyncAction));\nexport { QueueAction };\n//# sourceMappingURL=QueueAction.js.map","var Scheduler = (function () {\n    function Scheduler(SchedulerAction, now) {\n        if (now === void 0) { now = Scheduler.now; }\n        this.SchedulerAction = SchedulerAction;\n        this.now = now;\n    }\n    Scheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) { delay = 0; }\n        return new this.SchedulerAction(this, work).schedule(state, delay);\n    };\n    Scheduler.now = function () { return Date.now(); };\n    return Scheduler;\n}());\nexport { Scheduler };\n//# sourceMappingURL=Scheduler.js.map","import * as tslib_1 from \"tslib\";\nimport { Scheduler } from '../Scheduler';\nvar AsyncScheduler = (function (_super) {\n    tslib_1.__extends(AsyncScheduler, _super);\n    function AsyncScheduler(SchedulerAction, now) {\n        if (now === void 0) { now = Scheduler.now; }\n        var _this = _super.call(this, SchedulerAction, function () {\n            if (AsyncScheduler.delegate && AsyncScheduler.delegate !== _this) {\n                return AsyncScheduler.delegate.now();\n            }\n            else {\n                return now();\n            }\n        }) || this;\n        _this.actions = [];\n        _this.active = false;\n        _this.scheduled = undefined;\n        return _this;\n    }\n    AsyncScheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) { delay = 0; }\n        if (AsyncScheduler.delegate && AsyncScheduler.delegate !== this) {\n            return AsyncScheduler.delegate.schedule(work, delay, state);\n        }\n        else {\n            return _super.prototype.schedule.call(this, work, delay, state);\n        }\n    };\n    AsyncScheduler.prototype.flush = function (action) {\n        var actions = this.actions;\n        if (this.active) {\n            actions.push(action);\n            return;\n        }\n        var error;\n        this.active = true;\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (action = actions.shift());\n        this.active = false;\n        if (error) {\n            while (action = actions.shift()) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsyncScheduler;\n}(Scheduler));\nexport { AsyncScheduler };\n//# sourceMappingURL=AsyncScheduler.js.map","import * as tslib_1 from \"tslib\";\nimport { AsyncScheduler } from './AsyncScheduler';\nvar QueueScheduler = (function (_super) {\n    tslib_1.__extends(QueueScheduler, _super);\n    function QueueScheduler() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return QueueScheduler;\n}(AsyncScheduler));\nexport { QueueScheduler };\n//# sourceMappingURL=QueueScheduler.js.map","import { QueueAction } from './QueueAction';\nimport { QueueScheduler } from './QueueScheduler';\nexport var queue = new QueueScheduler(QueueAction);\n//# sourceMappingURL=queue.js.map","import { Observable } from '../Observable';\nexport var EMPTY = new Observable(function (subscriber) { return subscriber.complete(); });\nexport function empty(scheduler) {\n    return scheduler ? emptyScheduled(scheduler) : EMPTY;\n}\nfunction emptyScheduled(scheduler) {\n    return new Observable(function (subscriber) { return scheduler.schedule(function () { return subscriber.complete(); }); });\n}\n//# sourceMappingURL=empty.js.map","export function isScheduler(value) {\n    return value && typeof value.schedule === 'function';\n}\n//# sourceMappingURL=isScheduler.js.map","export var subscribeToArray = function (array) { return function (subscriber) {\n    for (var i = 0, len = array.length; i < len && !subscriber.closed; i++) {\n        subscriber.next(array[i]);\n    }\n    subscriber.complete();\n}; };\n//# sourceMappingURL=subscribeToArray.js.map","import { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nexport function scheduleArray(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        var i = 0;\n        sub.add(scheduler.schedule(function () {\n            if (i === input.length) {\n                subscriber.complete();\n                return;\n            }\n            subscriber.next(input[i++]);\n            if (!subscriber.closed) {\n                sub.add(this.schedule());\n            }\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=scheduleArray.js.map","import { Observable } from '../Observable';\nimport { subscribeToArray } from '../util/subscribeToArray';\nimport { scheduleArray } from '../scheduled/scheduleArray';\nexport function fromArray(input, scheduler) {\n    if (!scheduler) {\n        return new Observable(subscribeToArray(input));\n    }\n    else {\n        return scheduleArray(input, scheduler);\n    }\n}\n//# sourceMappingURL=fromArray.js.map","import { isScheduler } from '../util/isScheduler';\nimport { fromArray } from './fromArray';\nimport { scheduleArray } from '../scheduled/scheduleArray';\nexport function of() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var scheduler = args[args.length - 1];\n    if (isScheduler(scheduler)) {\n        args.pop();\n        return scheduleArray(args, scheduler);\n    }\n    else {\n        return fromArray(args);\n    }\n}\n//# sourceMappingURL=of.js.map","import { Observable } from '../Observable';\nexport function throwError(error, scheduler) {\n    if (!scheduler) {\n        return new Observable(function (subscriber) { return subscriber.error(error); });\n    }\n    else {\n        return new Observable(function (subscriber) { return scheduler.schedule(dispatch, 0, { error: error, subscriber: subscriber }); });\n    }\n}\nfunction dispatch(_a) {\n    var error = _a.error, subscriber = _a.subscriber;\n    subscriber.error(error);\n}\n//# sourceMappingURL=throwError.js.map","import { empty } from './observable/empty';\nimport { of } from './observable/of';\nimport { throwError } from './observable/throwError';\nexport var NotificationKind;\n(function (NotificationKind) {\n    NotificationKind[\"NEXT\"] = \"N\";\n    NotificationKind[\"ERROR\"] = \"E\";\n    NotificationKind[\"COMPLETE\"] = \"C\";\n})(NotificationKind || (NotificationKind = {}));\nvar Notification = (function () {\n    function Notification(kind, value, error) {\n        this.kind = kind;\n        this.value = value;\n        this.error = error;\n        this.hasValue = kind === 'N';\n    }\n    Notification.prototype.observe = function (observer) {\n        switch (this.kind) {\n            case 'N':\n                return observer.next && observer.next(this.value);\n            case 'E':\n                return observer.error && observer.error(this.error);\n            case 'C':\n                return observer.complete && observer.complete();\n        }\n    };\n    Notification.prototype.do = function (next, error, complete) {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return next && next(this.value);\n            case 'E':\n                return error && error(this.error);\n            case 'C':\n                return complete && complete();\n        }\n    };\n    Notification.prototype.accept = function (nextOrObserver, error, complete) {\n        if (nextOrObserver && typeof nextOrObserver.next === 'function') {\n            return this.observe(nextOrObserver);\n        }\n        else {\n            return this.do(nextOrObserver, error, complete);\n        }\n    };\n    Notification.prototype.toObservable = function () {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return of(this.value);\n            case 'E':\n                return throwError(this.error);\n            case 'C':\n                return empty();\n        }\n        throw new Error('unexpected notification kind value');\n    };\n    Notification.createNext = function (value) {\n        if (typeof value !== 'undefined') {\n            return new Notification('N', value);\n        }\n        return Notification.undefinedValueNotification;\n    };\n    Notification.createError = function (err) {\n        return new Notification('E', undefined, err);\n    };\n    Notification.createComplete = function () {\n        return Notification.completeNotification;\n    };\n    Notification.completeNotification = new Notification('C');\n    Notification.undefinedValueNotification = new Notification('N', undefined);\n    return Notification;\n}());\nexport { Notification };\n//# sourceMappingURL=Notification.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { Notification } from '../Notification';\nexport function observeOn(scheduler, delay) {\n    if (delay === void 0) { delay = 0; }\n    return function observeOnOperatorFunction(source) {\n        return source.lift(new ObserveOnOperator(scheduler, delay));\n    };\n}\nvar ObserveOnOperator = (function () {\n    function ObserveOnOperator(scheduler, delay) {\n        if (delay === void 0) { delay = 0; }\n        this.scheduler = scheduler;\n        this.delay = delay;\n    }\n    ObserveOnOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ObserveOnSubscriber(subscriber, this.scheduler, this.delay));\n    };\n    return ObserveOnOperator;\n}());\nexport { ObserveOnOperator };\nvar ObserveOnSubscriber = (function (_super) {\n    tslib_1.__extends(ObserveOnSubscriber, _super);\n    function ObserveOnSubscriber(destination, scheduler, delay) {\n        if (delay === void 0) { delay = 0; }\n        var _this = _super.call(this, destination) || this;\n        _this.scheduler = scheduler;\n        _this.delay = delay;\n        return _this;\n    }\n    ObserveOnSubscriber.dispatch = function (arg) {\n        var notification = arg.notification, destination = arg.destination;\n        notification.observe(destination);\n        this.unsubscribe();\n    };\n    ObserveOnSubscriber.prototype.scheduleMessage = function (notification) {\n        var destination = this.destination;\n        destination.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch, this.delay, new ObserveOnMessage(notification, this.destination)));\n    };\n    ObserveOnSubscriber.prototype._next = function (value) {\n        this.scheduleMessage(Notification.createNext(value));\n    };\n    ObserveOnSubscriber.prototype._error = function (err) {\n        this.scheduleMessage(Notification.createError(err));\n        this.unsubscribe();\n    };\n    ObserveOnSubscriber.prototype._complete = function () {\n        this.scheduleMessage(Notification.createComplete());\n        this.unsubscribe();\n    };\n    return ObserveOnSubscriber;\n}(Subscriber));\nexport { ObserveOnSubscriber };\nvar ObserveOnMessage = (function () {\n    function ObserveOnMessage(notification, destination) {\n        this.notification = notification;\n        this.destination = destination;\n    }\n    return ObserveOnMessage;\n}());\nexport { ObserveOnMessage };\n//# sourceMappingURL=observeOn.js.map","import * as tslib_1 from \"tslib\";\nimport { Subject } from './Subject';\nimport { queue } from './scheduler/queue';\nimport { Subscription } from './Subscription';\nimport { ObserveOnSubscriber } from './operators/observeOn';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { SubjectSubscription } from './SubjectSubscription';\nvar ReplaySubject = (function (_super) {\n    tslib_1.__extends(ReplaySubject, _super);\n    function ReplaySubject(bufferSize, windowTime, scheduler) {\n        if (bufferSize === void 0) { bufferSize = Number.POSITIVE_INFINITY; }\n        if (windowTime === void 0) { windowTime = Number.POSITIVE_INFINITY; }\n        var _this = _super.call(this) || this;\n        _this.scheduler = scheduler;\n        _this._events = [];\n        _this._infiniteTimeWindow = false;\n        _this._bufferSize = bufferSize < 1 ? 1 : bufferSize;\n        _this._windowTime = windowTime < 1 ? 1 : windowTime;\n        if (windowTime === Number.POSITIVE_INFINITY) {\n            _this._infiniteTimeWindow = true;\n            _this.next = _this.nextInfiniteTimeWindow;\n        }\n        else {\n            _this.next = _this.nextTimeWindow;\n        }\n        return _this;\n    }\n    ReplaySubject.prototype.nextInfiniteTimeWindow = function (value) {\n        var _events = this._events;\n        _events.push(value);\n        if (_events.length > this._bufferSize) {\n            _events.shift();\n        }\n        _super.prototype.next.call(this, value);\n    };\n    ReplaySubject.prototype.nextTimeWindow = function (value) {\n        this._events.push(new ReplayEvent(this._getNow(), value));\n        this._trimBufferThenGetEvents();\n        _super.prototype.next.call(this, value);\n    };\n    ReplaySubject.prototype._subscribe = function (subscriber) {\n        var _infiniteTimeWindow = this._infiniteTimeWindow;\n        var _events = _infiniteTimeWindow ? this._events : this._trimBufferThenGetEvents();\n        var scheduler = this.scheduler;\n        var len = _events.length;\n        var subscription;\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else if (this.isStopped || this.hasError) {\n            subscription = Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            subscription = new SubjectSubscription(this, subscriber);\n        }\n        if (scheduler) {\n            subscriber.add(subscriber = new ObserveOnSubscriber(subscriber, scheduler));\n        }\n        if (_infiniteTimeWindow) {\n            for (var i = 0; i < len && !subscriber.closed; i++) {\n                subscriber.next(_events[i]);\n            }\n        }\n        else {\n            for (var i = 0; i < len && !subscriber.closed; i++) {\n                subscriber.next(_events[i].value);\n            }\n        }\n        if (this.hasError) {\n            subscriber.error(this.thrownError);\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n        }\n        return subscription;\n    };\n    ReplaySubject.prototype._getNow = function () {\n        return (this.scheduler || queue).now();\n    };\n    ReplaySubject.prototype._trimBufferThenGetEvents = function () {\n        var now = this._getNow();\n        var _bufferSize = this._bufferSize;\n        var _windowTime = this._windowTime;\n        var _events = this._events;\n        var eventsCount = _events.length;\n        var spliceCount = 0;\n        while (spliceCount < eventsCount) {\n            if ((now - _events[spliceCount].time) < _windowTime) {\n                break;\n            }\n            spliceCount++;\n        }\n        if (eventsCount > _bufferSize) {\n            spliceCount = Math.max(spliceCount, eventsCount - _bufferSize);\n        }\n        if (spliceCount > 0) {\n            _events.splice(0, spliceCount);\n        }\n        return _events;\n    };\n    return ReplaySubject;\n}(Subject));\nexport { ReplaySubject };\nvar ReplayEvent = (function () {\n    function ReplayEvent(time, value) {\n        this.time = time;\n        this.value = value;\n    }\n    return ReplayEvent;\n}());\n//# sourceMappingURL=ReplaySubject.js.map","import * as tslib_1 from \"tslib\";\nimport { Subject } from './Subject';\nimport { Subscription } from './Subscription';\nvar AsyncSubject = (function (_super) {\n    tslib_1.__extends(AsyncSubject, _super);\n    function AsyncSubject() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.value = null;\n        _this.hasNext = false;\n        _this.hasCompleted = false;\n        return _this;\n    }\n    AsyncSubject.prototype._subscribe = function (subscriber) {\n        if (this.hasError) {\n            subscriber.error(this.thrownError);\n            return Subscription.EMPTY;\n        }\n        else if (this.hasCompleted && this.hasNext) {\n            subscriber.next(this.value);\n            subscriber.complete();\n            return Subscription.EMPTY;\n        }\n        return _super.prototype._subscribe.call(this, subscriber);\n    };\n    AsyncSubject.prototype.next = function (value) {\n        if (!this.hasCompleted) {\n            this.value = value;\n            this.hasNext = true;\n        }\n    };\n    AsyncSubject.prototype.error = function (error) {\n        if (!this.hasCompleted) {\n            _super.prototype.error.call(this, error);\n        }\n    };\n    AsyncSubject.prototype.complete = function () {\n        this.hasCompleted = true;\n        if (this.hasNext) {\n            _super.prototype.next.call(this, this.value);\n        }\n        _super.prototype.complete.call(this);\n    };\n    return AsyncSubject;\n}(Subject));\nexport { AsyncSubject };\n//# sourceMappingURL=AsyncSubject.js.map","var nextHandle = 1;\nvar RESOLVED = (function () { return Promise.resolve(); })();\nvar activeHandles = {};\nfunction findAndClearHandle(handle) {\n    if (handle in activeHandles) {\n        delete activeHandles[handle];\n        return true;\n    }\n    return false;\n}\nexport var Immediate = {\n    setImmediate: function (cb) {\n        var handle = nextHandle++;\n        activeHandles[handle] = true;\n        RESOLVED.then(function () { return findAndClearHandle(handle) && cb(); });\n        return handle;\n    },\n    clearImmediate: function (handle) {\n        findAndClearHandle(handle);\n    },\n};\nexport var TestTools = {\n    pending: function () {\n        return Object.keys(activeHandles).length;\n    }\n};\n//# sourceMappingURL=Immediate.js.map","import * as tslib_1 from \"tslib\";\nimport { Immediate } from '../util/Immediate';\nimport { AsyncAction } from './AsyncAction';\nvar AsapAction = (function (_super) {\n    tslib_1.__extends(AsapAction, _super);\n    function AsapAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        return _this;\n    }\n    AsapAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (delay !== null && delay > 0) {\n            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n        }\n        scheduler.actions.push(this);\n        return scheduler.scheduled || (scheduler.scheduled = Immediate.setImmediate(scheduler.flush.bind(scheduler, null)));\n    };\n    AsapAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);\n        }\n        if (scheduler.actions.length === 0) {\n            Immediate.clearImmediate(id);\n            scheduler.scheduled = undefined;\n        }\n        return undefined;\n    };\n    return AsapAction;\n}(AsyncAction));\nexport { AsapAction };\n//# sourceMappingURL=AsapAction.js.map","import * as tslib_1 from \"tslib\";\nimport { AsyncScheduler } from './AsyncScheduler';\nvar AsapScheduler = (function (_super) {\n    tslib_1.__extends(AsapScheduler, _super);\n    function AsapScheduler() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AsapScheduler.prototype.flush = function (action) {\n        this.active = true;\n        this.scheduled = undefined;\n        var actions = this.actions;\n        var error;\n        var index = -1;\n        var count = actions.length;\n        action = action || actions.shift();\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (++index < count && (action = actions.shift()));\n        this.active = false;\n        if (error) {\n            while (++index < count && (action = actions.shift())) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsapScheduler;\n}(AsyncScheduler));\nexport { AsapScheduler };\n//# sourceMappingURL=AsapScheduler.js.map","import { AsapAction } from './AsapAction';\nimport { AsapScheduler } from './AsapScheduler';\nexport var asap = new AsapScheduler(AsapAction);\n//# sourceMappingURL=asap.js.map","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\nexport var async = new AsyncScheduler(AsyncAction);\n//# sourceMappingURL=async.js.map","import * as tslib_1 from \"tslib\";\nimport { AsyncAction } from './AsyncAction';\nvar AnimationFrameAction = (function (_super) {\n    tslib_1.__extends(AnimationFrameAction, _super);\n    function AnimationFrameAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        return _this;\n    }\n    AnimationFrameAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (delay !== null && delay > 0) {\n            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n        }\n        scheduler.actions.push(this);\n        return scheduler.scheduled || (scheduler.scheduled = requestAnimationFrame(function () { return scheduler.flush(null); }));\n    };\n    AnimationFrameAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);\n        }\n        if (scheduler.actions.length === 0) {\n            cancelAnimationFrame(id);\n            scheduler.scheduled = undefined;\n        }\n        return undefined;\n    };\n    return AnimationFrameAction;\n}(AsyncAction));\nexport { AnimationFrameAction };\n//# sourceMappingURL=AnimationFrameAction.js.map","import * as tslib_1 from \"tslib\";\nimport { AsyncScheduler } from './AsyncScheduler';\nvar AnimationFrameScheduler = (function (_super) {\n    tslib_1.__extends(AnimationFrameScheduler, _super);\n    function AnimationFrameScheduler() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AnimationFrameScheduler.prototype.flush = function (action) {\n        this.active = true;\n        this.scheduled = undefined;\n        var actions = this.actions;\n        var error;\n        var index = -1;\n        var count = actions.length;\n        action = action || actions.shift();\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (++index < count && (action = actions.shift()));\n        this.active = false;\n        if (error) {\n            while (++index < count && (action = actions.shift())) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AnimationFrameScheduler;\n}(AsyncScheduler));\nexport { AnimationFrameScheduler };\n//# sourceMappingURL=AnimationFrameScheduler.js.map","import { AnimationFrameAction } from './AnimationFrameAction';\nimport { AnimationFrameScheduler } from './AnimationFrameScheduler';\nexport var animationFrame = new AnimationFrameScheduler(AnimationFrameAction);\n//# sourceMappingURL=animationFrame.js.map","import * as tslib_1 from \"tslib\";\nimport { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\nvar VirtualTimeScheduler = (function (_super) {\n    tslib_1.__extends(VirtualTimeScheduler, _super);\n    function VirtualTimeScheduler(SchedulerAction, maxFrames) {\n        if (SchedulerAction === void 0) { SchedulerAction = VirtualAction; }\n        if (maxFrames === void 0) { maxFrames = Number.POSITIVE_INFINITY; }\n        var _this = _super.call(this, SchedulerAction, function () { return _this.frame; }) || this;\n        _this.maxFrames = maxFrames;\n        _this.frame = 0;\n        _this.index = -1;\n        return _this;\n    }\n    VirtualTimeScheduler.prototype.flush = function () {\n        var _a = this, actions = _a.actions, maxFrames = _a.maxFrames;\n        var error, action;\n        while ((action = actions[0]) && action.delay <= maxFrames) {\n            actions.shift();\n            this.frame = action.delay;\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        }\n        if (error) {\n            while (action = actions.shift()) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    VirtualTimeScheduler.frameTimeFactor = 10;\n    return VirtualTimeScheduler;\n}(AsyncScheduler));\nexport { VirtualTimeScheduler };\nvar VirtualAction = (function (_super) {\n    tslib_1.__extends(VirtualAction, _super);\n    function VirtualAction(scheduler, work, index) {\n        if (index === void 0) { index = scheduler.index += 1; }\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        _this.index = index;\n        _this.active = true;\n        _this.index = scheduler.index = index;\n        return _this;\n    }\n    VirtualAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (!this.id) {\n            return _super.prototype.schedule.call(this, state, delay);\n        }\n        this.active = false;\n        var action = new VirtualAction(this.scheduler, this.work);\n        this.add(action);\n        return action.schedule(state, delay);\n    };\n    VirtualAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        this.delay = scheduler.frame + delay;\n        var actions = scheduler.actions;\n        actions.push(this);\n        actions.sort(VirtualAction.sortActions);\n        return true;\n    };\n    VirtualAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        return undefined;\n    };\n    VirtualAction.prototype._execute = function (state, delay) {\n        if (this.active === true) {\n            return _super.prototype._execute.call(this, state, delay);\n        }\n    };\n    VirtualAction.sortActions = function (a, b) {\n        if (a.delay === b.delay) {\n            if (a.index === b.index) {\n                return 0;\n            }\n            else if (a.index > b.index) {\n                return 1;\n            }\n            else {\n                return -1;\n            }\n        }\n        else if (a.delay > b.delay) {\n            return 1;\n        }\n        else {\n            return -1;\n        }\n    };\n    return VirtualAction;\n}(AsyncAction));\nexport { VirtualAction };\n//# sourceMappingURL=VirtualTimeScheduler.js.map","export function noop() { }\n//# sourceMappingURL=noop.js.map","import { Observable } from '../Observable';\nexport function isObservable(obj) {\n    return !!obj && (obj instanceof Observable || (typeof obj.lift === 'function' && typeof obj.subscribe === 'function'));\n}\n//# sourceMappingURL=isObservable.js.map","var ArgumentOutOfRangeErrorImpl = (function () {\n    function ArgumentOutOfRangeErrorImpl() {\n        Error.call(this);\n        this.message = 'argument out of range';\n        this.name = 'ArgumentOutOfRangeError';\n        return this;\n    }\n    ArgumentOutOfRangeErrorImpl.prototype = Object.create(Error.prototype);\n    return ArgumentOutOfRangeErrorImpl;\n})();\nexport var ArgumentOutOfRangeError = ArgumentOutOfRangeErrorImpl;\n//# sourceMappingURL=ArgumentOutOfRangeError.js.map","var EmptyErrorImpl = (function () {\n    function EmptyErrorImpl() {\n        Error.call(this);\n        this.message = 'no elements in sequence';\n        this.name = 'EmptyError';\n        return this;\n    }\n    EmptyErrorImpl.prototype = Object.create(Error.prototype);\n    return EmptyErrorImpl;\n})();\nexport var EmptyError = EmptyErrorImpl;\n//# sourceMappingURL=EmptyError.js.map","var TimeoutErrorImpl = (function () {\n    function TimeoutErrorImpl() {\n        Error.call(this);\n        this.message = 'Timeout has occurred';\n        this.name = 'TimeoutError';\n        return this;\n    }\n    TimeoutErrorImpl.prototype = Object.create(Error.prototype);\n    return TimeoutErrorImpl;\n})();\nexport var TimeoutError = TimeoutErrorImpl;\n//# sourceMappingURL=TimeoutError.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function map(project, thisArg) {\n    return function mapOperation(source) {\n        if (typeof project !== 'function') {\n            throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n        }\n        return source.lift(new MapOperator(project, thisArg));\n    };\n}\nvar MapOperator = (function () {\n    function MapOperator(project, thisArg) {\n        this.project = project;\n        this.thisArg = thisArg;\n    }\n    MapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n    };\n    return MapOperator;\n}());\nexport { MapOperator };\nvar MapSubscriber = (function (_super) {\n    tslib_1.__extends(MapSubscriber, _super);\n    function MapSubscriber(destination, project, thisArg) {\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.count = 0;\n        _this.thisArg = thisArg || _this;\n        return _this;\n    }\n    MapSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.project.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return MapSubscriber;\n}(Subscriber));\n//# sourceMappingURL=map.js.map","import { Observable } from '../Observable';\nimport { AsyncSubject } from '../AsyncSubject';\nimport { map } from '../operators/map';\nimport { canReportError } from '../util/canReportError';\nimport { isArray } from '../util/isArray';\nimport { isScheduler } from '../util/isScheduler';\nexport function bindCallback(callbackFunc, resultSelector, scheduler) {\n    if (resultSelector) {\n        if (isScheduler(resultSelector)) {\n            scheduler = resultSelector;\n        }\n        else {\n            return function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                return bindCallback(callbackFunc, scheduler).apply(void 0, args).pipe(map(function (args) { return isArray(args) ? resultSelector.apply(void 0, args) : resultSelector(args); }));\n            };\n        }\n    }\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var context = this;\n        var subject;\n        var params = {\n            context: context,\n            subject: subject,\n            callbackFunc: callbackFunc,\n            scheduler: scheduler,\n        };\n        return new Observable(function (subscriber) {\n            if (!scheduler) {\n                if (!subject) {\n                    subject = new AsyncSubject();\n                    var handler = function () {\n                        var innerArgs = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            innerArgs[_i] = arguments[_i];\n                        }\n                        subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs);\n                        subject.complete();\n                    };\n                    try {\n                        callbackFunc.apply(context, args.concat([handler]));\n                    }\n                    catch (err) {\n                        if (canReportError(subject)) {\n                            subject.error(err);\n                        }\n                        else {\n                            console.warn(err);\n                        }\n                    }\n                }\n                return subject.subscribe(subscriber);\n            }\n            else {\n                var state = {\n                    args: args, subscriber: subscriber, params: params,\n                };\n                return scheduler.schedule(dispatch, 0, state);\n            }\n        });\n    };\n}\nfunction dispatch(state) {\n    var _this = this;\n    var self = this;\n    var args = state.args, subscriber = state.subscriber, params = state.params;\n    var callbackFunc = params.callbackFunc, context = params.context, scheduler = params.scheduler;\n    var subject = params.subject;\n    if (!subject) {\n        subject = params.subject = new AsyncSubject();\n        var handler = function () {\n            var innerArgs = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                innerArgs[_i] = arguments[_i];\n            }\n            var value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;\n            _this.add(scheduler.schedule(dispatchNext, 0, { value: value, subject: subject }));\n        };\n        try {\n            callbackFunc.apply(context, args.concat([handler]));\n        }\n        catch (err) {\n            subject.error(err);\n        }\n    }\n    this.add(subject.subscribe(subscriber));\n}\nfunction dispatchNext(state) {\n    var value = state.value, subject = state.subject;\n    subject.next(value);\n    subject.complete();\n}\nfunction dispatchError(state) {\n    var err = state.err, subject = state.subject;\n    subject.error(err);\n}\n//# sourceMappingURL=bindCallback.js.map","import { Observable } from '../Observable';\nimport { AsyncSubject } from '../AsyncSubject';\nimport { map } from '../operators/map';\nimport { canReportError } from '../util/canReportError';\nimport { isScheduler } from '../util/isScheduler';\nimport { isArray } from '../util/isArray';\nexport function bindNodeCallback(callbackFunc, resultSelector, scheduler) {\n    if (resultSelector) {\n        if (isScheduler(resultSelector)) {\n            scheduler = resultSelector;\n        }\n        else {\n            return function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                return bindNodeCallback(callbackFunc, scheduler).apply(void 0, args).pipe(map(function (args) { return isArray(args) ? resultSelector.apply(void 0, args) : resultSelector(args); }));\n            };\n        }\n    }\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var params = {\n            subject: undefined,\n            args: args,\n            callbackFunc: callbackFunc,\n            scheduler: scheduler,\n            context: this,\n        };\n        return new Observable(function (subscriber) {\n            var context = params.context;\n            var subject = params.subject;\n            if (!scheduler) {\n                if (!subject) {\n                    subject = params.subject = new AsyncSubject();\n                    var handler = function () {\n                        var innerArgs = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            innerArgs[_i] = arguments[_i];\n                        }\n                        var err = innerArgs.shift();\n                        if (err) {\n                            subject.error(err);\n                            return;\n                        }\n                        subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs);\n                        subject.complete();\n                    };\n                    try {\n                        callbackFunc.apply(context, args.concat([handler]));\n                    }\n                    catch (err) {\n                        if (canReportError(subject)) {\n                            subject.error(err);\n                        }\n                        else {\n                            console.warn(err);\n                        }\n                    }\n                }\n                return subject.subscribe(subscriber);\n            }\n            else {\n                return scheduler.schedule(dispatch, 0, { params: params, subscriber: subscriber, context: context });\n            }\n        });\n    };\n}\nfunction dispatch(state) {\n    var _this = this;\n    var params = state.params, subscriber = state.subscriber, context = state.context;\n    var callbackFunc = params.callbackFunc, args = params.args, scheduler = params.scheduler;\n    var subject = params.subject;\n    if (!subject) {\n        subject = params.subject = new AsyncSubject();\n        var handler = function () {\n            var innerArgs = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                innerArgs[_i] = arguments[_i];\n            }\n            var err = innerArgs.shift();\n            if (err) {\n                _this.add(scheduler.schedule(dispatchError, 0, { err: err, subject: subject }));\n            }\n            else {\n                var value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;\n                _this.add(scheduler.schedule(dispatchNext, 0, { value: value, subject: subject }));\n            }\n        };\n        try {\n            callbackFunc.apply(context, args.concat([handler]));\n        }\n        catch (err) {\n            this.add(scheduler.schedule(dispatchError, 0, { err: err, subject: subject }));\n        }\n    }\n    this.add(subject.subscribe(subscriber));\n}\nfunction dispatchNext(arg) {\n    var value = arg.value, subject = arg.subject;\n    subject.next(value);\n    subject.complete();\n}\nfunction dispatchError(arg) {\n    var err = arg.err, subject = arg.subject;\n    subject.error(err);\n}\n//# sourceMappingURL=bindNodeCallback.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from './Subscriber';\nvar OuterSubscriber = (function (_super) {\n    tslib_1.__extends(OuterSubscriber, _super);\n    function OuterSubscriber() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    OuterSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(innerValue);\n    };\n    OuterSubscriber.prototype.notifyError = function (error, innerSub) {\n        this.destination.error(error);\n    };\n    OuterSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.destination.complete();\n    };\n    return OuterSubscriber;\n}(Subscriber));\nexport { OuterSubscriber };\n//# sourceMappingURL=OuterSubscriber.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from './Subscriber';\nvar InnerSubscriber = (function (_super) {\n    tslib_1.__extends(InnerSubscriber, _super);\n    function InnerSubscriber(parent, outerValue, outerIndex) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        _this.outerValue = outerValue;\n        _this.outerIndex = outerIndex;\n        _this.index = 0;\n        return _this;\n    }\n    InnerSubscriber.prototype._next = function (value) {\n        this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);\n    };\n    InnerSubscriber.prototype._error = function (error) {\n        this.parent.notifyError(error, this);\n        this.unsubscribe();\n    };\n    InnerSubscriber.prototype._complete = function () {\n        this.parent.notifyComplete(this);\n        this.unsubscribe();\n    };\n    return InnerSubscriber;\n}(Subscriber));\nexport { InnerSubscriber };\n//# sourceMappingURL=InnerSubscriber.js.map","import { hostReportError } from './hostReportError';\nexport var subscribeToPromise = function (promise) { return function (subscriber) {\n    promise.then(function (value) {\n        if (!subscriber.closed) {\n            subscriber.next(value);\n            subscriber.complete();\n        }\n    }, function (err) { return subscriber.error(err); })\n        .then(null, hostReportError);\n    return subscriber;\n}; };\n//# sourceMappingURL=subscribeToPromise.js.map","export function getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n        return '@@iterator';\n    }\n    return Symbol.iterator;\n}\nexport var iterator = getSymbolIterator();\nexport var $$iterator = iterator;\n//# sourceMappingURL=iterator.js.map","import { iterator as Symbol_iterator } from '../symbol/iterator';\nexport var subscribeToIterable = function (iterable) { return function (subscriber) {\n    var iterator = iterable[Symbol_iterator]();\n    do {\n        var item = iterator.next();\n        if (item.done) {\n            subscriber.complete();\n            break;\n        }\n        subscriber.next(item.value);\n        if (subscriber.closed) {\n            break;\n        }\n    } while (true);\n    if (typeof iterator.return === 'function') {\n        subscriber.add(function () {\n            if (iterator.return) {\n                iterator.return();\n            }\n        });\n    }\n    return subscriber;\n}; };\n//# sourceMappingURL=subscribeToIterable.js.map","import { observable as Symbol_observable } from '../symbol/observable';\nexport var subscribeToObservable = function (obj) { return function (subscriber) {\n    var obs = obj[Symbol_observable]();\n    if (typeof obs.subscribe !== 'function') {\n        throw new TypeError('Provided object does not correctly implement Symbol.observable');\n    }\n    else {\n        return obs.subscribe(subscriber);\n    }\n}; };\n//# sourceMappingURL=subscribeToObservable.js.map","export var isArrayLike = (function (x) { return x && typeof x.length === 'number' && typeof x !== 'function'; });\n//# sourceMappingURL=isArrayLike.js.map","export function isPromise(value) {\n    return !!value && typeof value.subscribe !== 'function' && typeof value.then === 'function';\n}\n//# sourceMappingURL=isPromise.js.map","import { subscribeToArray } from './subscribeToArray';\nimport { subscribeToPromise } from './subscribeToPromise';\nimport { subscribeToIterable } from './subscribeToIterable';\nimport { subscribeToObservable } from './subscribeToObservable';\nimport { isArrayLike } from './isArrayLike';\nimport { isPromise } from './isPromise';\nimport { isObject } from './isObject';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport var subscribeTo = function (result) {\n    if (!!result && typeof result[Symbol_observable] === 'function') {\n        return subscribeToObservable(result);\n    }\n    else if (isArrayLike(result)) {\n        return subscribeToArray(result);\n    }\n    else if (isPromise(result)) {\n        return subscribeToPromise(result);\n    }\n    else if (!!result && typeof result[Symbol_iterator] === 'function') {\n        return subscribeToIterable(result);\n    }\n    else {\n        var value = isObject(result) ? 'an invalid object' : \"'\" + result + \"'\";\n        var msg = \"You provided \" + value + \" where a stream was expected.\"\n            + ' You can provide an Observable, Promise, Array, or Iterable.';\n        throw new TypeError(msg);\n    }\n};\n//# sourceMappingURL=subscribeTo.js.map","import { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeTo } from './subscribeTo';\nimport { Observable } from '../Observable';\nexport function subscribeToResult(outerSubscriber, result, outerValue, outerIndex, innerSubscriber) {\n    if (innerSubscriber === void 0) { innerSubscriber = new InnerSubscriber(outerSubscriber, outerValue, outerIndex); }\n    if (innerSubscriber.closed) {\n        return undefined;\n    }\n    if (result instanceof Observable) {\n        return result.subscribe(innerSubscriber);\n    }\n    return subscribeTo(result)(innerSubscriber);\n}\n//# sourceMappingURL=subscribeToResult.js.map","import * as tslib_1 from \"tslib\";\nimport { isScheduler } from '../util/isScheduler';\nimport { isArray } from '../util/isArray';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { fromArray } from './fromArray';\nvar NONE = {};\nexport function combineLatest() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    var resultSelector = null;\n    var scheduler = null;\n    if (isScheduler(observables[observables.length - 1])) {\n        scheduler = observables.pop();\n    }\n    if (typeof observables[observables.length - 1] === 'function') {\n        resultSelector = observables.pop();\n    }\n    if (observables.length === 1 && isArray(observables[0])) {\n        observables = observables[0];\n    }\n    return fromArray(observables, scheduler).lift(new CombineLatestOperator(resultSelector));\n}\nvar CombineLatestOperator = (function () {\n    function CombineLatestOperator(resultSelector) {\n        this.resultSelector = resultSelector;\n    }\n    CombineLatestOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new CombineLatestSubscriber(subscriber, this.resultSelector));\n    };\n    return CombineLatestOperator;\n}());\nexport { CombineLatestOperator };\nvar CombineLatestSubscriber = (function (_super) {\n    tslib_1.__extends(CombineLatestSubscriber, _super);\n    function CombineLatestSubscriber(destination, resultSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.resultSelector = resultSelector;\n        _this.active = 0;\n        _this.values = [];\n        _this.observables = [];\n        return _this;\n    }\n    CombineLatestSubscriber.prototype._next = function (observable) {\n        this.values.push(NONE);\n        this.observables.push(observable);\n    };\n    CombineLatestSubscriber.prototype._complete = function () {\n        var observables = this.observables;\n        var len = observables.length;\n        if (len === 0) {\n            this.destination.complete();\n        }\n        else {\n            this.active = len;\n            this.toRespond = len;\n            for (var i = 0; i < len; i++) {\n                var observable = observables[i];\n                this.add(subscribeToResult(this, observable, observable, i));\n            }\n        }\n    };\n    CombineLatestSubscriber.prototype.notifyComplete = function (unused) {\n        if ((this.active -= 1) === 0) {\n            this.destination.complete();\n        }\n    };\n    CombineLatestSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        var values = this.values;\n        var oldVal = values[outerIndex];\n        var toRespond = !this.toRespond\n            ? 0\n            : oldVal === NONE ? --this.toRespond : this.toRespond;\n        values[outerIndex] = innerValue;\n        if (toRespond === 0) {\n            if (this.resultSelector) {\n                this._tryResultSelector(values);\n            }\n            else {\n                this.destination.next(values.slice());\n            }\n        }\n    };\n    CombineLatestSubscriber.prototype._tryResultSelector = function (values) {\n        var result;\n        try {\n            result = this.resultSelector.apply(this, values);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return CombineLatestSubscriber;\n}(OuterSubscriber));\nexport { CombineLatestSubscriber };\n//# sourceMappingURL=combineLatest.js.map","import { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport function scheduleObservable(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        sub.add(scheduler.schedule(function () {\n            var observable = input[Symbol_observable]();\n            sub.add(observable.subscribe({\n                next: function (value) { sub.add(scheduler.schedule(function () { return subscriber.next(value); })); },\n                error: function (err) { sub.add(scheduler.schedule(function () { return subscriber.error(err); })); },\n                complete: function () { sub.add(scheduler.schedule(function () { return subscriber.complete(); })); },\n            }));\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=scheduleObservable.js.map","import { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nexport function schedulePromise(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        sub.add(scheduler.schedule(function () { return input.then(function (value) {\n            sub.add(scheduler.schedule(function () {\n                subscriber.next(value);\n                sub.add(scheduler.schedule(function () { return subscriber.complete(); }));\n            }));\n        }, function (err) {\n            sub.add(scheduler.schedule(function () { return subscriber.error(err); }));\n        }); }));\n        return sub;\n    });\n}\n//# sourceMappingURL=schedulePromise.js.map","import { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nexport function scheduleIterable(input, scheduler) {\n    if (!input) {\n        throw new Error('Iterable cannot be null');\n    }\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        var iterator;\n        sub.add(function () {\n            if (iterator && typeof iterator.return === 'function') {\n                iterator.return();\n            }\n        });\n        sub.add(scheduler.schedule(function () {\n            iterator = input[Symbol_iterator]();\n            sub.add(scheduler.schedule(function () {\n                if (subscriber.closed) {\n                    return;\n                }\n                var value;\n                var done;\n                try {\n                    var result = iterator.next();\n                    value = result.value;\n                    done = result.done;\n                }\n                catch (err) {\n                    subscriber.error(err);\n                    return;\n                }\n                if (done) {\n                    subscriber.complete();\n                }\n                else {\n                    subscriber.next(value);\n                    this.schedule();\n                }\n            }));\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=scheduleIterable.js.map","import { observable as Symbol_observable } from '../symbol/observable';\nexport function isInteropObservable(input) {\n    return input && typeof input[Symbol_observable] === 'function';\n}\n//# sourceMappingURL=isInteropObservable.js.map","import { iterator as Symbol_iterator } from '../symbol/iterator';\nexport function isIterable(input) {\n    return input && typeof input[Symbol_iterator] === 'function';\n}\n//# sourceMappingURL=isIterable.js.map","import { scheduleObservable } from './scheduleObservable';\nimport { schedulePromise } from './schedulePromise';\nimport { scheduleArray } from './scheduleArray';\nimport { scheduleIterable } from './scheduleIterable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isPromise } from '../util/isPromise';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isIterable } from '../util/isIterable';\nexport function scheduled(input, scheduler) {\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return scheduleObservable(input, scheduler);\n        }\n        else if (isPromise(input)) {\n            return schedulePromise(input, scheduler);\n        }\n        else if (isArrayLike(input)) {\n            return scheduleArray(input, scheduler);\n        }\n        else if (isIterable(input) || typeof input === 'string') {\n            return scheduleIterable(input, scheduler);\n        }\n    }\n    throw new TypeError((input !== null && typeof input || input) + ' is not observable');\n}\n//# sourceMappingURL=scheduled.js.map","import { Observable } from '../Observable';\nimport { subscribeTo } from '../util/subscribeTo';\nimport { scheduled } from '../scheduled/scheduled';\nexport function from(input, scheduler) {\n    if (!scheduler) {\n        if (input instanceof Observable) {\n            return input;\n        }\n        return new Observable(subscribeTo(input));\n    }\n    else {\n        return scheduled(input, scheduler);\n    }\n}\n//# sourceMappingURL=from.js.map","import * as tslib_1 from \"tslib\";\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { map } from './map';\nimport { from } from '../observable/from';\nexport function mergeMap(project, resultSelector, concurrent) {\n    if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n    if (typeof resultSelector === 'function') {\n        return function (source) { return source.pipe(mergeMap(function (a, i) { return from(project(a, i)).pipe(map(function (b, ii) { return resultSelector(a, b, i, ii); })); }, concurrent)); };\n    }\n    else if (typeof resultSelector === 'number') {\n        concurrent = resultSelector;\n    }\n    return function (source) { return source.lift(new MergeMapOperator(project, concurrent)); };\n}\nvar MergeMapOperator = (function () {\n    function MergeMapOperator(project, concurrent) {\n        if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n        this.project = project;\n        this.concurrent = concurrent;\n    }\n    MergeMapOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new MergeMapSubscriber(observer, this.project, this.concurrent));\n    };\n    return MergeMapOperator;\n}());\nexport { MergeMapOperator };\nvar MergeMapSubscriber = (function (_super) {\n    tslib_1.__extends(MergeMapSubscriber, _super);\n    function MergeMapSubscriber(destination, project, concurrent) {\n        if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.concurrent = concurrent;\n        _this.hasCompleted = false;\n        _this.buffer = [];\n        _this.active = 0;\n        _this.index = 0;\n        return _this;\n    }\n    MergeMapSubscriber.prototype._next = function (value) {\n        if (this.active < this.concurrent) {\n            this._tryNext(value);\n        }\n        else {\n            this.buffer.push(value);\n        }\n    };\n    MergeMapSubscriber.prototype._tryNext = function (value) {\n        var result;\n        var index = this.index++;\n        try {\n            result = this.project(value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.active++;\n        this._innerSub(result, value, index);\n    };\n    MergeMapSubscriber.prototype._innerSub = function (ish, value, index) {\n        var innerSubscriber = new InnerSubscriber(this, value, index);\n        var destination = this.destination;\n        destination.add(innerSubscriber);\n        var innerSubscription = subscribeToResult(this, ish, undefined, undefined, innerSubscriber);\n        if (innerSubscription !== innerSubscriber) {\n            destination.add(innerSubscription);\n        }\n    };\n    MergeMapSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (this.active === 0 && this.buffer.length === 0) {\n            this.destination.complete();\n        }\n        this.unsubscribe();\n    };\n    MergeMapSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(innerValue);\n    };\n    MergeMapSubscriber.prototype.notifyComplete = function (innerSub) {\n        var buffer = this.buffer;\n        this.remove(innerSub);\n        this.active--;\n        if (buffer.length > 0) {\n            this._next(buffer.shift());\n        }\n        else if (this.active === 0 && this.hasCompleted) {\n            this.destination.complete();\n        }\n    };\n    return MergeMapSubscriber;\n}(OuterSubscriber));\nexport { MergeMapSubscriber };\n//# sourceMappingURL=mergeMap.js.map","import { mergeMap } from './mergeMap';\nimport { identity } from '../util/identity';\nexport function mergeAll(concurrent) {\n    if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n    return mergeMap(identity, concurrent);\n}\n//# sourceMappingURL=mergeAll.js.map","import { mergeAll } from './mergeAll';\nexport function concatAll() {\n    return mergeAll(1);\n}\n//# sourceMappingURL=concatAll.js.map","import { of } from './of';\nimport { concatAll } from '../operators/concatAll';\nexport function concat() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    return concatAll()(of.apply(void 0, observables));\n}\n//# sourceMappingURL=concat.js.map","import { Observable } from '../Observable';\nimport { from } from './from';\nimport { empty } from './empty';\nexport function defer(observableFactory) {\n    return new Observable(function (subscriber) {\n        var input;\n        try {\n            input = observableFactory();\n        }\n        catch (err) {\n            subscriber.error(err);\n            return undefined;\n        }\n        var source = input ? from(input) : empty();\n        return source.subscribe(subscriber);\n    });\n}\n//# sourceMappingURL=defer.js.map","import { Observable } from '../Observable';\nimport { isArray } from '../util/isArray';\nimport { map } from '../operators/map';\nimport { isObject } from '../util/isObject';\nimport { from } from './from';\nexport function forkJoin() {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    if (sources.length === 1) {\n        var first_1 = sources[0];\n        if (isArray(first_1)) {\n            return forkJoinInternal(first_1, null);\n        }\n        if (isObject(first_1) && Object.getPrototypeOf(first_1) === Object.prototype) {\n            var keys = Object.keys(first_1);\n            return forkJoinInternal(keys.map(function (key) { return first_1[key]; }), keys);\n        }\n    }\n    if (typeof sources[sources.length - 1] === 'function') {\n        var resultSelector_1 = sources.pop();\n        sources = (sources.length === 1 && isArray(sources[0])) ? sources[0] : sources;\n        return forkJoinInternal(sources, null).pipe(map(function (args) { return resultSelector_1.apply(void 0, args); }));\n    }\n    return forkJoinInternal(sources, null);\n}\nfunction forkJoinInternal(sources, keys) {\n    return new Observable(function (subscriber) {\n        var len = sources.length;\n        if (len === 0) {\n            subscriber.complete();\n            return;\n        }\n        var values = new Array(len);\n        var completed = 0;\n        var emitted = 0;\n        var _loop_1 = function (i) {\n            var source = from(sources[i]);\n            var hasValue = false;\n            subscriber.add(source.subscribe({\n                next: function (value) {\n                    if (!hasValue) {\n                        hasValue = true;\n                        emitted++;\n                    }\n                    values[i] = value;\n                },\n                error: function (err) { return subscriber.error(err); },\n                complete: function () {\n                    completed++;\n                    if (completed === len || !hasValue) {\n                        if (emitted === len) {\n                            subscriber.next(keys ?\n                                keys.reduce(function (result, key, i) { return (result[key] = values[i], result); }, {}) :\n                                values);\n                        }\n                        subscriber.complete();\n                    }\n                }\n            }));\n        };\n        for (var i = 0; i < len; i++) {\n            _loop_1(i);\n        }\n    });\n}\n//# sourceMappingURL=forkJoin.js.map","import { Observable } from '../Observable';\nimport { isArray } from '../util/isArray';\nimport { isFunction } from '../util/isFunction';\nimport { map } from '../operators/map';\nvar toString = (function () { return Object.prototype.toString; })();\nexport function fromEvent(target, eventName, options, resultSelector) {\n    if (isFunction(options)) {\n        resultSelector = options;\n        options = undefined;\n    }\n    if (resultSelector) {\n        return fromEvent(target, eventName, options).pipe(map(function (args) { return isArray(args) ? resultSelector.apply(void 0, args) : resultSelector(args); }));\n    }\n    return new Observable(function (subscriber) {\n        function handler(e) {\n            if (arguments.length > 1) {\n                subscriber.next(Array.prototype.slice.call(arguments));\n            }\n            else {\n                subscriber.next(e);\n            }\n        }\n        setupSubscription(target, eventName, handler, subscriber, options);\n    });\n}\nfunction setupSubscription(sourceObj, eventName, handler, subscriber, options) {\n    var unsubscribe;\n    if (isEventTarget(sourceObj)) {\n        var source_1 = sourceObj;\n        sourceObj.addEventListener(eventName, handler, options);\n        unsubscribe = function () { return source_1.removeEventListener(eventName, handler, options); };\n    }\n    else if (isJQueryStyleEventEmitter(sourceObj)) {\n        var source_2 = sourceObj;\n        sourceObj.on(eventName, handler);\n        unsubscribe = function () { return source_2.off(eventName, handler); };\n    }\n    else if (isNodeStyleEventEmitter(sourceObj)) {\n        var source_3 = sourceObj;\n        sourceObj.addListener(eventName, handler);\n        unsubscribe = function () { return source_3.removeListener(eventName, handler); };\n    }\n    else if (sourceObj && sourceObj.length) {\n        for (var i = 0, len = sourceObj.length; i < len; i++) {\n            setupSubscription(sourceObj[i], eventName, handler, subscriber, options);\n        }\n    }\n    else {\n        throw new TypeError('Invalid event target');\n    }\n    subscriber.add(unsubscribe);\n}\nfunction isNodeStyleEventEmitter(sourceObj) {\n    return sourceObj && typeof sourceObj.addListener === 'function' && typeof sourceObj.removeListener === 'function';\n}\nfunction isJQueryStyleEventEmitter(sourceObj) {\n    return sourceObj && typeof sourceObj.on === 'function' && typeof sourceObj.off === 'function';\n}\nfunction isEventTarget(sourceObj) {\n    return sourceObj && typeof sourceObj.addEventListener === 'function' && typeof sourceObj.removeEventListener === 'function';\n}\n//# sourceMappingURL=fromEvent.js.map","import { Observable } from '../Observable';\nimport { isArray } from '../util/isArray';\nimport { isFunction } from '../util/isFunction';\nimport { map } from '../operators/map';\nexport function fromEventPattern(addHandler, removeHandler, resultSelector) {\n    if (resultSelector) {\n        return fromEventPattern(addHandler, removeHandler).pipe(map(function (args) { return isArray(args) ? resultSelector.apply(void 0, args) : resultSelector(args); }));\n    }\n    return new Observable(function (subscriber) {\n        var handler = function () {\n            var e = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                e[_i] = arguments[_i];\n            }\n            return subscriber.next(e.length === 1 ? e[0] : e);\n        };\n        var retValue;\n        try {\n            retValue = addHandler(handler);\n        }\n        catch (err) {\n            subscriber.error(err);\n            return undefined;\n        }\n        if (!isFunction(removeHandler)) {\n            return undefined;\n        }\n        return function () { return removeHandler(handler, retValue); };\n    });\n}\n//# sourceMappingURL=fromEventPattern.js.map","import { Observable } from '../Observable';\nimport { identity } from '../util/identity';\nimport { isScheduler } from '../util/isScheduler';\nexport function generate(initialStateOrOptions, condition, iterate, resultSelectorOrObservable, scheduler) {\n    var resultSelector;\n    var initialState;\n    if (arguments.length == 1) {\n        var options = initialStateOrOptions;\n        initialState = options.initialState;\n        condition = options.condition;\n        iterate = options.iterate;\n        resultSelector = options.resultSelector || identity;\n        scheduler = options.scheduler;\n    }\n    else if (resultSelectorOrObservable === undefined || isScheduler(resultSelectorOrObservable)) {\n        initialState = initialStateOrOptions;\n        resultSelector = identity;\n        scheduler = resultSelectorOrObservable;\n    }\n    else {\n        initialState = initialStateOrOptions;\n        resultSelector = resultSelectorOrObservable;\n    }\n    return new Observable(function (subscriber) {\n        var state = initialState;\n        if (scheduler) {\n            return scheduler.schedule(dispatch, 0, {\n                subscriber: subscriber,\n                iterate: iterate,\n                condition: condition,\n                resultSelector: resultSelector,\n                state: state\n            });\n        }\n        do {\n            if (condition) {\n                var conditionResult = void 0;\n                try {\n                    conditionResult = condition(state);\n                }\n                catch (err) {\n                    subscriber.error(err);\n                    return undefined;\n                }\n                if (!conditionResult) {\n                    subscriber.complete();\n                    break;\n                }\n            }\n            var value = void 0;\n            try {\n                value = resultSelector(state);\n            }\n            catch (err) {\n                subscriber.error(err);\n                return undefined;\n            }\n            subscriber.next(value);\n            if (subscriber.closed) {\n                break;\n            }\n            try {\n                state = iterate(state);\n            }\n            catch (err) {\n                subscriber.error(err);\n                return undefined;\n            }\n        } while (true);\n        return undefined;\n    });\n}\nfunction dispatch(state) {\n    var subscriber = state.subscriber, condition = state.condition;\n    if (subscriber.closed) {\n        return undefined;\n    }\n    if (state.needIterate) {\n        try {\n            state.state = state.iterate(state.state);\n        }\n        catch (err) {\n            subscriber.error(err);\n            return undefined;\n        }\n    }\n    else {\n        state.needIterate = true;\n    }\n    if (condition) {\n        var conditionResult = void 0;\n        try {\n            conditionResult = condition(state.state);\n        }\n        catch (err) {\n            subscriber.error(err);\n            return undefined;\n        }\n        if (!conditionResult) {\n            subscriber.complete();\n            return undefined;\n        }\n        if (subscriber.closed) {\n            return undefined;\n        }\n    }\n    var value;\n    try {\n        value = state.resultSelector(state.state);\n    }\n    catch (err) {\n        subscriber.error(err);\n        return undefined;\n    }\n    if (subscriber.closed) {\n        return undefined;\n    }\n    subscriber.next(value);\n    if (subscriber.closed) {\n        return undefined;\n    }\n    return this.schedule(state);\n}\n//# sourceMappingURL=generate.js.map","import { defer } from './defer';\nimport { EMPTY } from './empty';\nexport function iif(condition, trueResult, falseResult) {\n    if (trueResult === void 0) { trueResult = EMPTY; }\n    if (falseResult === void 0) { falseResult = EMPTY; }\n    return defer(function () { return condition() ? trueResult : falseResult; });\n}\n//# sourceMappingURL=iif.js.map","import { isArray } from './isArray';\nexport function isNumeric(val) {\n    return !isArray(val) && (val - parseFloat(val) + 1) >= 0;\n}\n//# sourceMappingURL=isNumeric.js.map","import { Observable } from '../Observable';\nimport { async } from '../scheduler/async';\nimport { isNumeric } from '../util/isNumeric';\nexport function interval(period, scheduler) {\n    if (period === void 0) { period = 0; }\n    if (scheduler === void 0) { scheduler = async; }\n    if (!isNumeric(period) || period < 0) {\n        period = 0;\n    }\n    if (!scheduler || typeof scheduler.schedule !== 'function') {\n        scheduler = async;\n    }\n    return new Observable(function (subscriber) {\n        subscriber.add(scheduler.schedule(dispatch, period, { subscriber: subscriber, counter: 0, period: period }));\n        return subscriber;\n    });\n}\nfunction dispatch(state) {\n    var subscriber = state.subscriber, counter = state.counter, period = state.period;\n    subscriber.next(counter);\n    this.schedule({ subscriber: subscriber, counter: counter + 1, period: period }, period);\n}\n//# sourceMappingURL=interval.js.map","import { Observable } from '../Observable';\nimport { isScheduler } from '../util/isScheduler';\nimport { mergeAll } from '../operators/mergeAll';\nimport { fromArray } from './fromArray';\nexport function merge() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    var concurrent = Number.POSITIVE_INFINITY;\n    var scheduler = null;\n    var last = observables[observables.length - 1];\n    if (isScheduler(last)) {\n        scheduler = observables.pop();\n        if (observables.length > 1 && typeof observables[observables.length - 1] === 'number') {\n            concurrent = observables.pop();\n        }\n    }\n    else if (typeof last === 'number') {\n        concurrent = observables.pop();\n    }\n    if (scheduler === null && observables.length === 1 && observables[0] instanceof Observable) {\n        return observables[0];\n    }\n    return mergeAll(concurrent)(fromArray(observables, scheduler));\n}\n//# sourceMappingURL=merge.js.map","import { Observable } from '../Observable';\nimport { noop } from '../util/noop';\nexport var NEVER = new Observable(noop);\nexport function never() {\n    return NEVER;\n}\n//# sourceMappingURL=never.js.map","import { Observable } from '../Observable';\nimport { from } from './from';\nimport { isArray } from '../util/isArray';\nimport { EMPTY } from './empty';\nexport function onErrorResumeNext() {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    if (sources.length === 0) {\n        return EMPTY;\n    }\n    var first = sources[0], remainder = sources.slice(1);\n    if (sources.length === 1 && isArray(first)) {\n        return onErrorResumeNext.apply(void 0, first);\n    }\n    return new Observable(function (subscriber) {\n        var subNext = function () { return subscriber.add(onErrorResumeNext.apply(void 0, remainder).subscribe(subscriber)); };\n        return from(first).subscribe({\n            next: function (value) { subscriber.next(value); },\n            error: subNext,\n            complete: subNext,\n        });\n    });\n}\n//# sourceMappingURL=onErrorResumeNext.js.map","import { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nexport function pairs(obj, scheduler) {\n    if (!scheduler) {\n        return new Observable(function (subscriber) {\n            var keys = Object.keys(obj);\n            for (var i = 0; i < keys.length && !subscriber.closed; i++) {\n                var key = keys[i];\n                if (obj.hasOwnProperty(key)) {\n                    subscriber.next([key, obj[key]]);\n                }\n            }\n            subscriber.complete();\n        });\n    }\n    else {\n        return new Observable(function (subscriber) {\n            var keys = Object.keys(obj);\n            var subscription = new Subscription();\n            subscription.add(scheduler.schedule(dispatch, 0, { keys: keys, index: 0, subscriber: subscriber, subscription: subscription, obj: obj }));\n            return subscription;\n        });\n    }\n}\nexport function dispatch(state) {\n    var keys = state.keys, index = state.index, subscriber = state.subscriber, subscription = state.subscription, obj = state.obj;\n    if (!subscriber.closed) {\n        if (index < keys.length) {\n            var key = keys[index];\n            subscriber.next([key, obj[key]]);\n            subscription.add(this.schedule({ keys: keys, index: index + 1, subscriber: subscriber, subscription: subscription, obj: obj }));\n        }\n        else {\n            subscriber.complete();\n        }\n    }\n}\n//# sourceMappingURL=pairs.js.map","export function not(pred, thisArg) {\n    function notPred() {\n        return !(notPred.pred.apply(notPred.thisArg, arguments));\n    }\n    notPred.pred = pred;\n    notPred.thisArg = thisArg;\n    return notPred;\n}\n//# sourceMappingURL=not.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function filter(predicate, thisArg) {\n    return function filterOperatorFunction(source) {\n        return source.lift(new FilterOperator(predicate, thisArg));\n    };\n}\nvar FilterOperator = (function () {\n    function FilterOperator(predicate, thisArg) {\n        this.predicate = predicate;\n        this.thisArg = thisArg;\n    }\n    FilterOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));\n    };\n    return FilterOperator;\n}());\nvar FilterSubscriber = (function (_super) {\n    tslib_1.__extends(FilterSubscriber, _super);\n    function FilterSubscriber(destination, predicate, thisArg) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.thisArg = thisArg;\n        _this.count = 0;\n        return _this;\n    }\n    FilterSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.predicate.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (result) {\n            this.destination.next(value);\n        }\n    };\n    return FilterSubscriber;\n}(Subscriber));\n//# sourceMappingURL=filter.js.map","import { not } from '../util/not';\nimport { subscribeTo } from '../util/subscribeTo';\nimport { filter } from '../operators/filter';\nimport { Observable } from '../Observable';\nexport function partition(source, predicate, thisArg) {\n    return [\n        filter(predicate, thisArg)(new Observable(subscribeTo(source))),\n        filter(not(predicate, thisArg))(new Observable(subscribeTo(source)))\n    ];\n}\n//# sourceMappingURL=partition.js.map","import * as tslib_1 from \"tslib\";\nimport { isArray } from '../util/isArray';\nimport { fromArray } from './fromArray';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function race() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    if (observables.length === 1) {\n        if (isArray(observables[0])) {\n            observables = observables[0];\n        }\n        else {\n            return observables[0];\n        }\n    }\n    return fromArray(observables, undefined).lift(new RaceOperator());\n}\nvar RaceOperator = (function () {\n    function RaceOperator() {\n    }\n    RaceOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new RaceSubscriber(subscriber));\n    };\n    return RaceOperator;\n}());\nexport { RaceOperator };\nvar RaceSubscriber = (function (_super) {\n    tslib_1.__extends(RaceSubscriber, _super);\n    function RaceSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.hasFirst = false;\n        _this.observables = [];\n        _this.subscriptions = [];\n        return _this;\n    }\n    RaceSubscriber.prototype._next = function (observable) {\n        this.observables.push(observable);\n    };\n    RaceSubscriber.prototype._complete = function () {\n        var observables = this.observables;\n        var len = observables.length;\n        if (len === 0) {\n            this.destination.complete();\n        }\n        else {\n            for (var i = 0; i < len && !this.hasFirst; i++) {\n                var observable = observables[i];\n                var subscription = subscribeToResult(this, observable, observable, i);\n                if (this.subscriptions) {\n                    this.subscriptions.push(subscription);\n                }\n                this.add(subscription);\n            }\n            this.observables = null;\n        }\n    };\n    RaceSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        if (!this.hasFirst) {\n            this.hasFirst = true;\n            for (var i = 0; i < this.subscriptions.length; i++) {\n                if (i !== outerIndex) {\n                    var subscription = this.subscriptions[i];\n                    subscription.unsubscribe();\n                    this.remove(subscription);\n                }\n            }\n            this.subscriptions = null;\n        }\n        this.destination.next(innerValue);\n    };\n    return RaceSubscriber;\n}(OuterSubscriber));\nexport { RaceSubscriber };\n//# sourceMappingURL=race.js.map","import { Observable } from '../Observable';\nexport function range(start, count, scheduler) {\n    if (start === void 0) { start = 0; }\n    return new Observable(function (subscriber) {\n        if (count === undefined) {\n            count = start;\n            start = 0;\n        }\n        var index = 0;\n        var current = start;\n        if (scheduler) {\n            return scheduler.schedule(dispatch, 0, {\n                index: index, count: count, start: start, subscriber: subscriber\n            });\n        }\n        else {\n            do {\n                if (index++ >= count) {\n                    subscriber.complete();\n                    break;\n                }\n                subscriber.next(current++);\n                if (subscriber.closed) {\n                    break;\n                }\n            } while (true);\n        }\n        return undefined;\n    });\n}\nexport function dispatch(state) {\n    var start = state.start, index = state.index, count = state.count, subscriber = state.subscriber;\n    if (index >= count) {\n        subscriber.complete();\n        return;\n    }\n    subscriber.next(start);\n    if (subscriber.closed) {\n        return;\n    }\n    state.index = index + 1;\n    state.start = start + 1;\n    this.schedule(state);\n}\n//# sourceMappingURL=range.js.map","import { Observable } from '../Observable';\nimport { async } from '../scheduler/async';\nimport { isNumeric } from '../util/isNumeric';\nimport { isScheduler } from '../util/isScheduler';\nexport function timer(dueTime, periodOrScheduler, scheduler) {\n    if (dueTime === void 0) { dueTime = 0; }\n    var period = -1;\n    if (isNumeric(periodOrScheduler)) {\n        period = Number(periodOrScheduler) < 1 && 1 || Number(periodOrScheduler);\n    }\n    else if (isScheduler(periodOrScheduler)) {\n        scheduler = periodOrScheduler;\n    }\n    if (!isScheduler(scheduler)) {\n        scheduler = async;\n    }\n    return new Observable(function (subscriber) {\n        var due = isNumeric(dueTime)\n            ? dueTime\n            : (+dueTime - scheduler.now());\n        return scheduler.schedule(dispatch, due, {\n            index: 0, period: period, subscriber: subscriber\n        });\n    });\n}\nfunction dispatch(state) {\n    var index = state.index, period = state.period, subscriber = state.subscriber;\n    subscriber.next(index);\n    if (subscriber.closed) {\n        return;\n    }\n    else if (period === -1) {\n        return subscriber.complete();\n    }\n    state.index = index + 1;\n    this.schedule(state, period);\n}\n//# sourceMappingURL=timer.js.map","import { Observable } from '../Observable';\nimport { from } from './from';\nimport { EMPTY } from './empty';\nexport function using(resourceFactory, observableFactory) {\n    return new Observable(function (subscriber) {\n        var resource;\n        try {\n            resource = resourceFactory();\n        }\n        catch (err) {\n            subscriber.error(err);\n            return undefined;\n        }\n        var result;\n        try {\n            result = observableFactory(resource);\n        }\n        catch (err) {\n            subscriber.error(err);\n            return undefined;\n        }\n        var source = result ? from(result) : EMPTY;\n        var subscription = source.subscribe(subscriber);\n        return function () {\n            subscription.unsubscribe();\n            if (resource) {\n                resource.unsubscribe();\n            }\n        };\n    });\n}\n//# sourceMappingURL=using.js.map","import * as tslib_1 from \"tslib\";\nimport { fromArray } from './fromArray';\nimport { isArray } from '../util/isArray';\nimport { Subscriber } from '../Subscriber';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { iterator as Symbol_iterator } from '../../internal/symbol/iterator';\nexport function zip() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    var resultSelector = observables[observables.length - 1];\n    if (typeof resultSelector === 'function') {\n        observables.pop();\n    }\n    return fromArray(observables, undefined).lift(new ZipOperator(resultSelector));\n}\nvar ZipOperator = (function () {\n    function ZipOperator(resultSelector) {\n        this.resultSelector = resultSelector;\n    }\n    ZipOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ZipSubscriber(subscriber, this.resultSelector));\n    };\n    return ZipOperator;\n}());\nexport { ZipOperator };\nvar ZipSubscriber = (function (_super) {\n    tslib_1.__extends(ZipSubscriber, _super);\n    function ZipSubscriber(destination, resultSelector, values) {\n        if (values === void 0) { values = Object.create(null); }\n        var _this = _super.call(this, destination) || this;\n        _this.iterators = [];\n        _this.active = 0;\n        _this.resultSelector = (typeof resultSelector === 'function') ? resultSelector : null;\n        _this.values = values;\n        return _this;\n    }\n    ZipSubscriber.prototype._next = function (value) {\n        var iterators = this.iterators;\n        if (isArray(value)) {\n            iterators.push(new StaticArrayIterator(value));\n        }\n        else if (typeof value[Symbol_iterator] === 'function') {\n            iterators.push(new StaticIterator(value[Symbol_iterator]()));\n        }\n        else {\n            iterators.push(new ZipBufferIterator(this.destination, this, value));\n        }\n    };\n    ZipSubscriber.prototype._complete = function () {\n        var iterators = this.iterators;\n        var len = iterators.length;\n        this.unsubscribe();\n        if (len === 0) {\n            this.destination.complete();\n            return;\n        }\n        this.active = len;\n        for (var i = 0; i < len; i++) {\n            var iterator = iterators[i];\n            if (iterator.stillUnsubscribed) {\n                var destination = this.destination;\n                destination.add(iterator.subscribe(iterator, i));\n            }\n            else {\n                this.active--;\n            }\n        }\n    };\n    ZipSubscriber.prototype.notifyInactive = function () {\n        this.active--;\n        if (this.active === 0) {\n            this.destination.complete();\n        }\n    };\n    ZipSubscriber.prototype.checkIterators = function () {\n        var iterators = this.iterators;\n        var len = iterators.length;\n        var destination = this.destination;\n        for (var i = 0; i < len; i++) {\n            var iterator = iterators[i];\n            if (typeof iterator.hasValue === 'function' && !iterator.hasValue()) {\n                return;\n            }\n        }\n        var shouldComplete = false;\n        var args = [];\n        for (var i = 0; i < len; i++) {\n            var iterator = iterators[i];\n            var result = iterator.next();\n            if (iterator.hasCompleted()) {\n                shouldComplete = true;\n            }\n            if (result.done) {\n                destination.complete();\n                return;\n            }\n            args.push(result.value);\n        }\n        if (this.resultSelector) {\n            this._tryresultSelector(args);\n        }\n        else {\n            destination.next(args);\n        }\n        if (shouldComplete) {\n            destination.complete();\n        }\n    };\n    ZipSubscriber.prototype._tryresultSelector = function (args) {\n        var result;\n        try {\n            result = this.resultSelector.apply(this, args);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return ZipSubscriber;\n}(Subscriber));\nexport { ZipSubscriber };\nvar StaticIterator = (function () {\n    function StaticIterator(iterator) {\n        this.iterator = iterator;\n        this.nextResult = iterator.next();\n    }\n    StaticIterator.prototype.hasValue = function () {\n        return true;\n    };\n    StaticIterator.prototype.next = function () {\n        var result = this.nextResult;\n        this.nextResult = this.iterator.next();\n        return result;\n    };\n    StaticIterator.prototype.hasCompleted = function () {\n        var nextResult = this.nextResult;\n        return nextResult && nextResult.done;\n    };\n    return StaticIterator;\n}());\nvar StaticArrayIterator = (function () {\n    function StaticArrayIterator(array) {\n        this.array = array;\n        this.index = 0;\n        this.length = 0;\n        this.length = array.length;\n    }\n    StaticArrayIterator.prototype[Symbol_iterator] = function () {\n        return this;\n    };\n    StaticArrayIterator.prototype.next = function (value) {\n        var i = this.index++;\n        var array = this.array;\n        return i < this.length ? { value: array[i], done: false } : { value: null, done: true };\n    };\n    StaticArrayIterator.prototype.hasValue = function () {\n        return this.array.length > this.index;\n    };\n    StaticArrayIterator.prototype.hasCompleted = function () {\n        return this.array.length === this.index;\n    };\n    return StaticArrayIterator;\n}());\nvar ZipBufferIterator = (function (_super) {\n    tslib_1.__extends(ZipBufferIterator, _super);\n    function ZipBufferIterator(destination, parent, observable) {\n        var _this = _super.call(this, destination) || this;\n        _this.parent = parent;\n        _this.observable = observable;\n        _this.stillUnsubscribed = true;\n        _this.buffer = [];\n        _this.isComplete = false;\n        return _this;\n    }\n    ZipBufferIterator.prototype[Symbol_iterator] = function () {\n        return this;\n    };\n    ZipBufferIterator.prototype.next = function () {\n        var buffer = this.buffer;\n        if (buffer.length === 0 && this.isComplete) {\n            return { value: null, done: true };\n        }\n        else {\n            return { value: buffer.shift(), done: false };\n        }\n    };\n    ZipBufferIterator.prototype.hasValue = function () {\n        return this.buffer.length > 0;\n    };\n    ZipBufferIterator.prototype.hasCompleted = function () {\n        return this.buffer.length === 0 && this.isComplete;\n    };\n    ZipBufferIterator.prototype.notifyComplete = function () {\n        if (this.buffer.length > 0) {\n            this.isComplete = true;\n            this.parent.notifyInactive();\n        }\n        else {\n            this.destination.complete();\n        }\n    };\n    ZipBufferIterator.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.buffer.push(innerValue);\n        this.parent.checkIterators();\n    };\n    ZipBufferIterator.prototype.subscribe = function (value, index) {\n        return subscribeToResult(this, this.observable, this, index);\n    };\n    return ZipBufferIterator;\n}(OuterSubscriber));\n//# sourceMappingURL=zip.js.map","import * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function audit(durationSelector) {\n    return function auditOperatorFunction(source) {\n        return source.lift(new AuditOperator(durationSelector));\n    };\n}\nvar AuditOperator = (function () {\n    function AuditOperator(durationSelector) {\n        this.durationSelector = durationSelector;\n    }\n    AuditOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new AuditSubscriber(subscriber, this.durationSelector));\n    };\n    return AuditOperator;\n}());\nvar AuditSubscriber = (function (_super) {\n    tslib_1.__extends(AuditSubscriber, _super);\n    function AuditSubscriber(destination, durationSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.durationSelector = durationSelector;\n        _this.hasValue = false;\n        return _this;\n    }\n    AuditSubscriber.prototype._next = function (value) {\n        this.value = value;\n        this.hasValue = true;\n        if (!this.throttled) {\n            var duration = void 0;\n            try {\n                var durationSelector = this.durationSelector;\n                duration = durationSelector(value);\n            }\n            catch (err) {\n                return this.destination.error(err);\n            }\n            var innerSubscription = subscribeToResult(this, duration);\n            if (!innerSubscription || innerSubscription.closed) {\n                this.clearThrottle();\n            }\n            else {\n                this.add(this.throttled = innerSubscription);\n            }\n        }\n    };\n    AuditSubscriber.prototype.clearThrottle = function () {\n        var _a = this, value = _a.value, hasValue = _a.hasValue, throttled = _a.throttled;\n        if (throttled) {\n            this.remove(throttled);\n            this.throttled = null;\n            throttled.unsubscribe();\n        }\n        if (hasValue) {\n            this.value = null;\n            this.hasValue = false;\n            this.destination.next(value);\n        }\n    };\n    AuditSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex) {\n        this.clearThrottle();\n    };\n    AuditSubscriber.prototype.notifyComplete = function () {\n        this.clearThrottle();\n    };\n    return AuditSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=audit.js.map","import { async } from '../scheduler/async';\nimport { audit } from './audit';\nimport { timer } from '../observable/timer';\nexport function auditTime(duration, scheduler) {\n    if (scheduler === void 0) { scheduler = async; }\n    return audit(function () { return timer(duration, scheduler); });\n}\n//# sourceMappingURL=auditTime.js.map","import * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function buffer(closingNotifier) {\n    return function bufferOperatorFunction(source) {\n        return source.lift(new BufferOperator(closingNotifier));\n    };\n}\nvar BufferOperator = (function () {\n    function BufferOperator(closingNotifier) {\n        this.closingNotifier = closingNotifier;\n    }\n    BufferOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new BufferSubscriber(subscriber, this.closingNotifier));\n    };\n    return BufferOperator;\n}());\nvar BufferSubscriber = (function (_super) {\n    tslib_1.__extends(BufferSubscriber, _super);\n    function BufferSubscriber(destination, closingNotifier) {\n        var _this = _super.call(this, destination) || this;\n        _this.buffer = [];\n        _this.add(subscribeToResult(_this, closingNotifier));\n        return _this;\n    }\n    BufferSubscriber.prototype._next = function (value) {\n        this.buffer.push(value);\n    };\n    BufferSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        var buffer = this.buffer;\n        this.buffer = [];\n        this.destination.next(buffer);\n    };\n    return BufferSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=buffer.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function bufferCount(bufferSize, startBufferEvery) {\n    if (startBufferEvery === void 0) { startBufferEvery = null; }\n    return function bufferCountOperatorFunction(source) {\n        return source.lift(new BufferCountOperator(bufferSize, startBufferEvery));\n    };\n}\nvar BufferCountOperator = (function () {\n    function BufferCountOperator(bufferSize, startBufferEvery) {\n        this.bufferSize = bufferSize;\n        this.startBufferEvery = startBufferEvery;\n        if (!startBufferEvery || bufferSize === startBufferEvery) {\n            this.subscriberClass = BufferCountSubscriber;\n        }\n        else {\n            this.subscriberClass = BufferSkipCountSubscriber;\n        }\n    }\n    BufferCountOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new this.subscriberClass(subscriber, this.bufferSize, this.startBufferEvery));\n    };\n    return BufferCountOperator;\n}());\nvar BufferCountSubscriber = (function (_super) {\n    tslib_1.__extends(BufferCountSubscriber, _super);\n    function BufferCountSubscriber(destination, bufferSize) {\n        var _this = _super.call(this, destination) || this;\n        _this.bufferSize = bufferSize;\n        _this.buffer = [];\n        return _this;\n    }\n    BufferCountSubscriber.prototype._next = function (value) {\n        var buffer = this.buffer;\n        buffer.push(value);\n        if (buffer.length == this.bufferSize) {\n            this.destination.next(buffer);\n            this.buffer = [];\n        }\n    };\n    BufferCountSubscriber.prototype._complete = function () {\n        var buffer = this.buffer;\n        if (buffer.length > 0) {\n            this.destination.next(buffer);\n        }\n        _super.prototype._complete.call(this);\n    };\n    return BufferCountSubscriber;\n}(Subscriber));\nvar BufferSkipCountSubscriber = (function (_super) {\n    tslib_1.__extends(BufferSkipCountSubscriber, _super);\n    function BufferSkipCountSubscriber(destination, bufferSize, startBufferEvery) {\n        var _this = _super.call(this, destination) || this;\n        _this.bufferSize = bufferSize;\n        _this.startBufferEvery = startBufferEvery;\n        _this.buffers = [];\n        _this.count = 0;\n        return _this;\n    }\n    BufferSkipCountSubscriber.prototype._next = function (value) {\n        var _a = this, bufferSize = _a.bufferSize, startBufferEvery = _a.startBufferEvery, buffers = _a.buffers, count = _a.count;\n        this.count++;\n        if (count % startBufferEvery === 0) {\n            buffers.push([]);\n        }\n        for (var i = buffers.length; i--;) {\n            var buffer = buffers[i];\n            buffer.push(value);\n            if (buffer.length === bufferSize) {\n                buffers.splice(i, 1);\n                this.destination.next(buffer);\n            }\n        }\n    };\n    BufferSkipCountSubscriber.prototype._complete = function () {\n        var _a = this, buffers = _a.buffers, destination = _a.destination;\n        while (buffers.length > 0) {\n            var buffer = buffers.shift();\n            if (buffer.length > 0) {\n                destination.next(buffer);\n            }\n        }\n        _super.prototype._complete.call(this);\n    };\n    return BufferSkipCountSubscriber;\n}(Subscriber));\n//# sourceMappingURL=bufferCount.js.map","import * as tslib_1 from \"tslib\";\nimport { async } from '../scheduler/async';\nimport { Subscriber } from '../Subscriber';\nimport { isScheduler } from '../util/isScheduler';\nexport function bufferTime(bufferTimeSpan) {\n    var length = arguments.length;\n    var scheduler = async;\n    if (isScheduler(arguments[arguments.length - 1])) {\n        scheduler = arguments[arguments.length - 1];\n        length--;\n    }\n    var bufferCreationInterval = null;\n    if (length >= 2) {\n        bufferCreationInterval = arguments[1];\n    }\n    var maxBufferSize = Number.POSITIVE_INFINITY;\n    if (length >= 3) {\n        maxBufferSize = arguments[2];\n    }\n    return function bufferTimeOperatorFunction(source) {\n        return source.lift(new BufferTimeOperator(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler));\n    };\n}\nvar BufferTimeOperator = (function () {\n    function BufferTimeOperator(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler) {\n        this.bufferTimeSpan = bufferTimeSpan;\n        this.bufferCreationInterval = bufferCreationInterval;\n        this.maxBufferSize = maxBufferSize;\n        this.scheduler = scheduler;\n    }\n    BufferTimeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new BufferTimeSubscriber(subscriber, this.bufferTimeSpan, this.bufferCreationInterval, this.maxBufferSize, this.scheduler));\n    };\n    return BufferTimeOperator;\n}());\nvar Context = (function () {\n    function Context() {\n        this.buffer = [];\n    }\n    return Context;\n}());\nvar BufferTimeSubscriber = (function (_super) {\n    tslib_1.__extends(BufferTimeSubscriber, _super);\n    function BufferTimeSubscriber(destination, bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler) {\n        var _this = _super.call(this, destination) || this;\n        _this.bufferTimeSpan = bufferTimeSpan;\n        _this.bufferCreationInterval = bufferCreationInterval;\n        _this.maxBufferSize = maxBufferSize;\n        _this.scheduler = scheduler;\n        _this.contexts = [];\n        var context = _this.openContext();\n        _this.timespanOnly = bufferCreationInterval == null || bufferCreationInterval < 0;\n        if (_this.timespanOnly) {\n            var timeSpanOnlyState = { subscriber: _this, context: context, bufferTimeSpan: bufferTimeSpan };\n            _this.add(context.closeAction = scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));\n        }\n        else {\n            var closeState = { subscriber: _this, context: context };\n            var creationState = { bufferTimeSpan: bufferTimeSpan, bufferCreationInterval: bufferCreationInterval, subscriber: _this, scheduler: scheduler };\n            _this.add(context.closeAction = scheduler.schedule(dispatchBufferClose, bufferTimeSpan, closeState));\n            _this.add(scheduler.schedule(dispatchBufferCreation, bufferCreationInterval, creationState));\n        }\n        return _this;\n    }\n    BufferTimeSubscriber.prototype._next = function (value) {\n        var contexts = this.contexts;\n        var len = contexts.length;\n        var filledBufferContext;\n        for (var i = 0; i < len; i++) {\n            var context_1 = contexts[i];\n            var buffer = context_1.buffer;\n            buffer.push(value);\n            if (buffer.length == this.maxBufferSize) {\n                filledBufferContext = context_1;\n            }\n        }\n        if (filledBufferContext) {\n            this.onBufferFull(filledBufferContext);\n        }\n    };\n    BufferTimeSubscriber.prototype._error = function (err) {\n        this.contexts.length = 0;\n        _super.prototype._error.call(this, err);\n    };\n    BufferTimeSubscriber.prototype._complete = function () {\n        var _a = this, contexts = _a.contexts, destination = _a.destination;\n        while (contexts.length > 0) {\n            var context_2 = contexts.shift();\n            destination.next(context_2.buffer);\n        }\n        _super.prototype._complete.call(this);\n    };\n    BufferTimeSubscriber.prototype._unsubscribe = function () {\n        this.contexts = null;\n    };\n    BufferTimeSubscriber.prototype.onBufferFull = function (context) {\n        this.closeContext(context);\n        var closeAction = context.closeAction;\n        closeAction.unsubscribe();\n        this.remove(closeAction);\n        if (!this.closed && this.timespanOnly) {\n            context = this.openContext();\n            var bufferTimeSpan = this.bufferTimeSpan;\n            var timeSpanOnlyState = { subscriber: this, context: context, bufferTimeSpan: bufferTimeSpan };\n            this.add(context.closeAction = this.scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));\n        }\n    };\n    BufferTimeSubscriber.prototype.openContext = function () {\n        var context = new Context();\n        this.contexts.push(context);\n        return context;\n    };\n    BufferTimeSubscriber.prototype.closeContext = function (context) {\n        this.destination.next(context.buffer);\n        var contexts = this.contexts;\n        var spliceIndex = contexts ? contexts.indexOf(context) : -1;\n        if (spliceIndex >= 0) {\n            contexts.splice(contexts.indexOf(context), 1);\n        }\n    };\n    return BufferTimeSubscriber;\n}(Subscriber));\nfunction dispatchBufferTimeSpanOnly(state) {\n    var subscriber = state.subscriber;\n    var prevContext = state.context;\n    if (prevContext) {\n        subscriber.closeContext(prevContext);\n    }\n    if (!subscriber.closed) {\n        state.context = subscriber.openContext();\n        state.context.closeAction = this.schedule(state, state.bufferTimeSpan);\n    }\n}\nfunction dispatchBufferCreation(state) {\n    var bufferCreationInterval = state.bufferCreationInterval, bufferTimeSpan = state.bufferTimeSpan, subscriber = state.subscriber, scheduler = state.scheduler;\n    var context = subscriber.openContext();\n    var action = this;\n    if (!subscriber.closed) {\n        subscriber.add(context.closeAction = scheduler.schedule(dispatchBufferClose, bufferTimeSpan, { subscriber: subscriber, context: context }));\n        action.schedule(state, bufferCreationInterval);\n    }\n}\nfunction dispatchBufferClose(arg) {\n    var subscriber = arg.subscriber, context = arg.context;\n    subscriber.closeContext(context);\n}\n//# sourceMappingURL=bufferTime.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscription } from '../Subscription';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OuterSubscriber } from '../OuterSubscriber';\nexport function bufferToggle(openings, closingSelector) {\n    return function bufferToggleOperatorFunction(source) {\n        return source.lift(new BufferToggleOperator(openings, closingSelector));\n    };\n}\nvar BufferToggleOperator = (function () {\n    function BufferToggleOperator(openings, closingSelector) {\n        this.openings = openings;\n        this.closingSelector = closingSelector;\n    }\n    BufferToggleOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new BufferToggleSubscriber(subscriber, this.openings, this.closingSelector));\n    };\n    return BufferToggleOperator;\n}());\nvar BufferToggleSubscriber = (function (_super) {\n    tslib_1.__extends(BufferToggleSubscriber, _super);\n    function BufferToggleSubscriber(destination, openings, closingSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.openings = openings;\n        _this.closingSelector = closingSelector;\n        _this.contexts = [];\n        _this.add(subscribeToResult(_this, openings));\n        return _this;\n    }\n    BufferToggleSubscriber.prototype._next = function (value) {\n        var contexts = this.contexts;\n        var len = contexts.length;\n        for (var i = 0; i < len; i++) {\n            contexts[i].buffer.push(value);\n        }\n    };\n    BufferToggleSubscriber.prototype._error = function (err) {\n        var contexts = this.contexts;\n        while (contexts.length > 0) {\n            var context_1 = contexts.shift();\n            context_1.subscription.unsubscribe();\n            context_1.buffer = null;\n            context_1.subscription = null;\n        }\n        this.contexts = null;\n        _super.prototype._error.call(this, err);\n    };\n    BufferToggleSubscriber.prototype._complete = function () {\n        var contexts = this.contexts;\n        while (contexts.length > 0) {\n            var context_2 = contexts.shift();\n            this.destination.next(context_2.buffer);\n            context_2.subscription.unsubscribe();\n            context_2.buffer = null;\n            context_2.subscription = null;\n        }\n        this.contexts = null;\n        _super.prototype._complete.call(this);\n    };\n    BufferToggleSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        outerValue ? this.closeBuffer(outerValue) : this.openBuffer(innerValue);\n    };\n    BufferToggleSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.closeBuffer(innerSub.context);\n    };\n    BufferToggleSubscriber.prototype.openBuffer = function (value) {\n        try {\n            var closingSelector = this.closingSelector;\n            var closingNotifier = closingSelector.call(this, value);\n            if (closingNotifier) {\n                this.trySubscribe(closingNotifier);\n            }\n        }\n        catch (err) {\n            this._error(err);\n        }\n    };\n    BufferToggleSubscriber.prototype.closeBuffer = function (context) {\n        var contexts = this.contexts;\n        if (contexts && context) {\n            var buffer = context.buffer, subscription = context.subscription;\n            this.destination.next(buffer);\n            contexts.splice(contexts.indexOf(context), 1);\n            this.remove(subscription);\n            subscription.unsubscribe();\n        }\n    };\n    BufferToggleSubscriber.prototype.trySubscribe = function (closingNotifier) {\n        var contexts = this.contexts;\n        var buffer = [];\n        var subscription = new Subscription();\n        var context = { buffer: buffer, subscription: subscription };\n        contexts.push(context);\n        var innerSubscription = subscribeToResult(this, closingNotifier, context);\n        if (!innerSubscription || innerSubscription.closed) {\n            this.closeBuffer(context);\n        }\n        else {\n            innerSubscription.context = context;\n            this.add(innerSubscription);\n            subscription.add(innerSubscription);\n        }\n    };\n    return BufferToggleSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=bufferToggle.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscription } from '../Subscription';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function bufferWhen(closingSelector) {\n    return function (source) {\n        return source.lift(new BufferWhenOperator(closingSelector));\n    };\n}\nvar BufferWhenOperator = (function () {\n    function BufferWhenOperator(closingSelector) {\n        this.closingSelector = closingSelector;\n    }\n    BufferWhenOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new BufferWhenSubscriber(subscriber, this.closingSelector));\n    };\n    return BufferWhenOperator;\n}());\nvar BufferWhenSubscriber = (function (_super) {\n    tslib_1.__extends(BufferWhenSubscriber, _super);\n    function BufferWhenSubscriber(destination, closingSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.closingSelector = closingSelector;\n        _this.subscribing = false;\n        _this.openBuffer();\n        return _this;\n    }\n    BufferWhenSubscriber.prototype._next = function (value) {\n        this.buffer.push(value);\n    };\n    BufferWhenSubscriber.prototype._complete = function () {\n        var buffer = this.buffer;\n        if (buffer) {\n            this.destination.next(buffer);\n        }\n        _super.prototype._complete.call(this);\n    };\n    BufferWhenSubscriber.prototype._unsubscribe = function () {\n        this.buffer = null;\n        this.subscribing = false;\n    };\n    BufferWhenSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.openBuffer();\n    };\n    BufferWhenSubscriber.prototype.notifyComplete = function () {\n        if (this.subscribing) {\n            this.complete();\n        }\n        else {\n            this.openBuffer();\n        }\n    };\n    BufferWhenSubscriber.prototype.openBuffer = function () {\n        var closingSubscription = this.closingSubscription;\n        if (closingSubscription) {\n            this.remove(closingSubscription);\n            closingSubscription.unsubscribe();\n        }\n        var buffer = this.buffer;\n        if (this.buffer) {\n            this.destination.next(buffer);\n        }\n        this.buffer = [];\n        var closingNotifier;\n        try {\n            var closingSelector = this.closingSelector;\n            closingNotifier = closingSelector();\n        }\n        catch (err) {\n            return this.error(err);\n        }\n        closingSubscription = new Subscription();\n        this.closingSubscription = closingSubscription;\n        this.add(closingSubscription);\n        this.subscribing = true;\n        closingSubscription.add(subscribeToResult(this, closingNotifier));\n        this.subscribing = false;\n    };\n    return BufferWhenSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=bufferWhen.js.map","import * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function catchError(selector) {\n    return function catchErrorOperatorFunction(source) {\n        var operator = new CatchOperator(selector);\n        var caught = source.lift(operator);\n        return (operator.caught = caught);\n    };\n}\nvar CatchOperator = (function () {\n    function CatchOperator(selector) {\n        this.selector = selector;\n    }\n    CatchOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new CatchSubscriber(subscriber, this.selector, this.caught));\n    };\n    return CatchOperator;\n}());\nvar CatchSubscriber = (function (_super) {\n    tslib_1.__extends(CatchSubscriber, _super);\n    function CatchSubscriber(destination, selector, caught) {\n        var _this = _super.call(this, destination) || this;\n        _this.selector = selector;\n        _this.caught = caught;\n        return _this;\n    }\n    CatchSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var result = void 0;\n            try {\n                result = this.selector(err, this.caught);\n            }\n            catch (err2) {\n                _super.prototype.error.call(this, err2);\n                return;\n            }\n            this._unsubscribeAndRecycle();\n            var innerSubscriber = new InnerSubscriber(this, undefined, undefined);\n            this.add(innerSubscriber);\n            var innerSubscription = subscribeToResult(this, result, undefined, undefined, innerSubscriber);\n            if (innerSubscription !== innerSubscriber) {\n                this.add(innerSubscription);\n            }\n        }\n    };\n    return CatchSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=catchError.js.map","import { CombineLatestOperator } from '../observable/combineLatest';\nexport function combineAll(project) {\n    return function (source) { return source.lift(new CombineLatestOperator(project)); };\n}\n//# sourceMappingURL=combineAll.js.map","import { isArray } from '../util/isArray';\nimport { CombineLatestOperator } from '../observable/combineLatest';\nimport { from } from '../observable/from';\nvar none = {};\nexport function combineLatest() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    var project = null;\n    if (typeof observables[observables.length - 1] === 'function') {\n        project = observables.pop();\n    }\n    if (observables.length === 1 && isArray(observables[0])) {\n        observables = observables[0].slice();\n    }\n    return function (source) { return source.lift.call(from([source].concat(observables)), new CombineLatestOperator(project)); };\n}\n//# sourceMappingURL=combineLatest.js.map","import { concat as concatStatic } from '../observable/concat';\nexport function concat() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    return function (source) { return source.lift.call(concatStatic.apply(void 0, [source].concat(observables))); };\n}\n//# sourceMappingURL=concat.js.map","import { mergeMap } from './mergeMap';\nexport function concatMap(project, resultSelector) {\n    return mergeMap(project, resultSelector, 1);\n}\n//# sourceMappingURL=concatMap.js.map","import { concatMap } from './concatMap';\nexport function concatMapTo(innerObservable, resultSelector) {\n    return concatMap(function () { return innerObservable; }, resultSelector);\n}\n//# sourceMappingURL=concatMapTo.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function count(predicate) {\n    return function (source) { return source.lift(new CountOperator(predicate, source)); };\n}\nvar CountOperator = (function () {\n    function CountOperator(predicate, source) {\n        this.predicate = predicate;\n        this.source = source;\n    }\n    CountOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new CountSubscriber(subscriber, this.predicate, this.source));\n    };\n    return CountOperator;\n}());\nvar CountSubscriber = (function (_super) {\n    tslib_1.__extends(CountSubscriber, _super);\n    function CountSubscriber(destination, predicate, source) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.source = source;\n        _this.count = 0;\n        _this.index = 0;\n        return _this;\n    }\n    CountSubscriber.prototype._next = function (value) {\n        if (this.predicate) {\n            this._tryPredicate(value);\n        }\n        else {\n            this.count++;\n        }\n    };\n    CountSubscriber.prototype._tryPredicate = function (value) {\n        var result;\n        try {\n            result = this.predicate(value, this.index++, this.source);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (result) {\n            this.count++;\n        }\n    };\n    CountSubscriber.prototype._complete = function () {\n        this.destination.next(this.count);\n        this.destination.complete();\n    };\n    return CountSubscriber;\n}(Subscriber));\n//# sourceMappingURL=count.js.map","import * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function debounce(durationSelector) {\n    return function (source) { return source.lift(new DebounceOperator(durationSelector)); };\n}\nvar DebounceOperator = (function () {\n    function DebounceOperator(durationSelector) {\n        this.durationSelector = durationSelector;\n    }\n    DebounceOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DebounceSubscriber(subscriber, this.durationSelector));\n    };\n    return DebounceOperator;\n}());\nvar DebounceSubscriber = (function (_super) {\n    tslib_1.__extends(DebounceSubscriber, _super);\n    function DebounceSubscriber(destination, durationSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.durationSelector = durationSelector;\n        _this.hasValue = false;\n        _this.durationSubscription = null;\n        return _this;\n    }\n    DebounceSubscriber.prototype._next = function (value) {\n        try {\n            var result = this.durationSelector.call(this, value);\n            if (result) {\n                this._tryNext(value, result);\n            }\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n    };\n    DebounceSubscriber.prototype._complete = function () {\n        this.emitValue();\n        this.destination.complete();\n    };\n    DebounceSubscriber.prototype._tryNext = function (value, duration) {\n        var subscription = this.durationSubscription;\n        this.value = value;\n        this.hasValue = true;\n        if (subscription) {\n            subscription.unsubscribe();\n            this.remove(subscription);\n        }\n        subscription = subscribeToResult(this, duration);\n        if (subscription && !subscription.closed) {\n            this.add(this.durationSubscription = subscription);\n        }\n    };\n    DebounceSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.emitValue();\n    };\n    DebounceSubscriber.prototype.notifyComplete = function () {\n        this.emitValue();\n    };\n    DebounceSubscriber.prototype.emitValue = function () {\n        if (this.hasValue) {\n            var value = this.value;\n            var subscription = this.durationSubscription;\n            if (subscription) {\n                this.durationSubscription = null;\n                subscription.unsubscribe();\n                this.remove(subscription);\n            }\n            this.value = null;\n            this.hasValue = false;\n            _super.prototype._next.call(this, value);\n        }\n    };\n    return DebounceSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=debounce.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { async } from '../scheduler/async';\nexport function debounceTime(dueTime, scheduler) {\n    if (scheduler === void 0) { scheduler = async; }\n    return function (source) { return source.lift(new DebounceTimeOperator(dueTime, scheduler)); };\n}\nvar DebounceTimeOperator = (function () {\n    function DebounceTimeOperator(dueTime, scheduler) {\n        this.dueTime = dueTime;\n        this.scheduler = scheduler;\n    }\n    DebounceTimeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DebounceTimeSubscriber(subscriber, this.dueTime, this.scheduler));\n    };\n    return DebounceTimeOperator;\n}());\nvar DebounceTimeSubscriber = (function (_super) {\n    tslib_1.__extends(DebounceTimeSubscriber, _super);\n    function DebounceTimeSubscriber(destination, dueTime, scheduler) {\n        var _this = _super.call(this, destination) || this;\n        _this.dueTime = dueTime;\n        _this.scheduler = scheduler;\n        _this.debouncedSubscription = null;\n        _this.lastValue = null;\n        _this.hasValue = false;\n        return _this;\n    }\n    DebounceTimeSubscriber.prototype._next = function (value) {\n        this.clearDebounce();\n        this.lastValue = value;\n        this.hasValue = true;\n        this.add(this.debouncedSubscription = this.scheduler.schedule(dispatchNext, this.dueTime, this));\n    };\n    DebounceTimeSubscriber.prototype._complete = function () {\n        this.debouncedNext();\n        this.destination.complete();\n    };\n    DebounceTimeSubscriber.prototype.debouncedNext = function () {\n        this.clearDebounce();\n        if (this.hasValue) {\n            var lastValue = this.lastValue;\n            this.lastValue = null;\n            this.hasValue = false;\n            this.destination.next(lastValue);\n        }\n    };\n    DebounceTimeSubscriber.prototype.clearDebounce = function () {\n        var debouncedSubscription = this.debouncedSubscription;\n        if (debouncedSubscription !== null) {\n            this.remove(debouncedSubscription);\n            debouncedSubscription.unsubscribe();\n            this.debouncedSubscription = null;\n        }\n    };\n    return DebounceTimeSubscriber;\n}(Subscriber));\nfunction dispatchNext(subscriber) {\n    subscriber.debouncedNext();\n}\n//# sourceMappingURL=debounceTime.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function defaultIfEmpty(defaultValue) {\n    if (defaultValue === void 0) { defaultValue = null; }\n    return function (source) { return source.lift(new DefaultIfEmptyOperator(defaultValue)); };\n}\nvar DefaultIfEmptyOperator = (function () {\n    function DefaultIfEmptyOperator(defaultValue) {\n        this.defaultValue = defaultValue;\n    }\n    DefaultIfEmptyOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DefaultIfEmptySubscriber(subscriber, this.defaultValue));\n    };\n    return DefaultIfEmptyOperator;\n}());\nvar DefaultIfEmptySubscriber = (function (_super) {\n    tslib_1.__extends(DefaultIfEmptySubscriber, _super);\n    function DefaultIfEmptySubscriber(destination, defaultValue) {\n        var _this = _super.call(this, destination) || this;\n        _this.defaultValue = defaultValue;\n        _this.isEmpty = true;\n        return _this;\n    }\n    DefaultIfEmptySubscriber.prototype._next = function (value) {\n        this.isEmpty = false;\n        this.destination.next(value);\n    };\n    DefaultIfEmptySubscriber.prototype._complete = function () {\n        if (this.isEmpty) {\n            this.destination.next(this.defaultValue);\n        }\n        this.destination.complete();\n    };\n    return DefaultIfEmptySubscriber;\n}(Subscriber));\n//# sourceMappingURL=defaultIfEmpty.js.map","export function isDate(value) {\n    return value instanceof Date && !isNaN(+value);\n}\n//# sourceMappingURL=isDate.js.map","import * as tslib_1 from \"tslib\";\nimport { async } from '../scheduler/async';\nimport { isDate } from '../util/isDate';\nimport { Subscriber } from '../Subscriber';\nimport { Notification } from '../Notification';\nexport function delay(delay, scheduler) {\n    if (scheduler === void 0) { scheduler = async; }\n    var absoluteDelay = isDate(delay);\n    var delayFor = absoluteDelay ? (+delay - scheduler.now()) : Math.abs(delay);\n    return function (source) { return source.lift(new DelayOperator(delayFor, scheduler)); };\n}\nvar DelayOperator = (function () {\n    function DelayOperator(delay, scheduler) {\n        this.delay = delay;\n        this.scheduler = scheduler;\n    }\n    DelayOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DelaySubscriber(subscriber, this.delay, this.scheduler));\n    };\n    return DelayOperator;\n}());\nvar DelaySubscriber = (function (_super) {\n    tslib_1.__extends(DelaySubscriber, _super);\n    function DelaySubscriber(destination, delay, scheduler) {\n        var _this = _super.call(this, destination) || this;\n        _this.delay = delay;\n        _this.scheduler = scheduler;\n        _this.queue = [];\n        _this.active = false;\n        _this.errored = false;\n        return _this;\n    }\n    DelaySubscriber.dispatch = function (state) {\n        var source = state.source;\n        var queue = source.queue;\n        var scheduler = state.scheduler;\n        var destination = state.destination;\n        while (queue.length > 0 && (queue[0].time - scheduler.now()) <= 0) {\n            queue.shift().notification.observe(destination);\n        }\n        if (queue.length > 0) {\n            var delay_1 = Math.max(0, queue[0].time - scheduler.now());\n            this.schedule(state, delay_1);\n        }\n        else {\n            this.unsubscribe();\n            source.active = false;\n        }\n    };\n    DelaySubscriber.prototype._schedule = function (scheduler) {\n        this.active = true;\n        var destination = this.destination;\n        destination.add(scheduler.schedule(DelaySubscriber.dispatch, this.delay, {\n            source: this, destination: this.destination, scheduler: scheduler\n        }));\n    };\n    DelaySubscriber.prototype.scheduleNotification = function (notification) {\n        if (this.errored === true) {\n            return;\n        }\n        var scheduler = this.scheduler;\n        var message = new DelayMessage(scheduler.now() + this.delay, notification);\n        this.queue.push(message);\n        if (this.active === false) {\n            this._schedule(scheduler);\n        }\n    };\n    DelaySubscriber.prototype._next = function (value) {\n        this.scheduleNotification(Notification.createNext(value));\n    };\n    DelaySubscriber.prototype._error = function (err) {\n        this.errored = true;\n        this.queue = [];\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    DelaySubscriber.prototype._complete = function () {\n        this.scheduleNotification(Notification.createComplete());\n        this.unsubscribe();\n    };\n    return DelaySubscriber;\n}(Subscriber));\nvar DelayMessage = (function () {\n    function DelayMessage(time, notification) {\n        this.time = time;\n        this.notification = notification;\n    }\n    return DelayMessage;\n}());\n//# sourceMappingURL=delay.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function delayWhen(delayDurationSelector, subscriptionDelay) {\n    if (subscriptionDelay) {\n        return function (source) {\n            return new SubscriptionDelayObservable(source, subscriptionDelay)\n                .lift(new DelayWhenOperator(delayDurationSelector));\n        };\n    }\n    return function (source) { return source.lift(new DelayWhenOperator(delayDurationSelector)); };\n}\nvar DelayWhenOperator = (function () {\n    function DelayWhenOperator(delayDurationSelector) {\n        this.delayDurationSelector = delayDurationSelector;\n    }\n    DelayWhenOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DelayWhenSubscriber(subscriber, this.delayDurationSelector));\n    };\n    return DelayWhenOperator;\n}());\nvar DelayWhenSubscriber = (function (_super) {\n    tslib_1.__extends(DelayWhenSubscriber, _super);\n    function DelayWhenSubscriber(destination, delayDurationSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.delayDurationSelector = delayDurationSelector;\n        _this.completed = false;\n        _this.delayNotifierSubscriptions = [];\n        _this.index = 0;\n        return _this;\n    }\n    DelayWhenSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(outerValue);\n        this.removeSubscription(innerSub);\n        this.tryComplete();\n    };\n    DelayWhenSubscriber.prototype.notifyError = function (error, innerSub) {\n        this._error(error);\n    };\n    DelayWhenSubscriber.prototype.notifyComplete = function (innerSub) {\n        var value = this.removeSubscription(innerSub);\n        if (value) {\n            this.destination.next(value);\n        }\n        this.tryComplete();\n    };\n    DelayWhenSubscriber.prototype._next = function (value) {\n        var index = this.index++;\n        try {\n            var delayNotifier = this.delayDurationSelector(value, index);\n            if (delayNotifier) {\n                this.tryDelay(delayNotifier, value);\n            }\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n    };\n    DelayWhenSubscriber.prototype._complete = function () {\n        this.completed = true;\n        this.tryComplete();\n        this.unsubscribe();\n    };\n    DelayWhenSubscriber.prototype.removeSubscription = function (subscription) {\n        subscription.unsubscribe();\n        var subscriptionIdx = this.delayNotifierSubscriptions.indexOf(subscription);\n        if (subscriptionIdx !== -1) {\n            this.delayNotifierSubscriptions.splice(subscriptionIdx, 1);\n        }\n        return subscription.outerValue;\n    };\n    DelayWhenSubscriber.prototype.tryDelay = function (delayNotifier, value) {\n        var notifierSubscription = subscribeToResult(this, delayNotifier, value);\n        if (notifierSubscription && !notifierSubscription.closed) {\n            var destination = this.destination;\n            destination.add(notifierSubscription);\n            this.delayNotifierSubscriptions.push(notifierSubscription);\n        }\n    };\n    DelayWhenSubscriber.prototype.tryComplete = function () {\n        if (this.completed && this.delayNotifierSubscriptions.length === 0) {\n            this.destination.complete();\n        }\n    };\n    return DelayWhenSubscriber;\n}(OuterSubscriber));\nvar SubscriptionDelayObservable = (function (_super) {\n    tslib_1.__extends(SubscriptionDelayObservable, _super);\n    function SubscriptionDelayObservable(source, subscriptionDelay) {\n        var _this = _super.call(this) || this;\n        _this.source = source;\n        _this.subscriptionDelay = subscriptionDelay;\n        return _this;\n    }\n    SubscriptionDelayObservable.prototype._subscribe = function (subscriber) {\n        this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(subscriber, this.source));\n    };\n    return SubscriptionDelayObservable;\n}(Observable));\nvar SubscriptionDelaySubscriber = (function (_super) {\n    tslib_1.__extends(SubscriptionDelaySubscriber, _super);\n    function SubscriptionDelaySubscriber(parent, source) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        _this.source = source;\n        _this.sourceSubscribed = false;\n        return _this;\n    }\n    SubscriptionDelaySubscriber.prototype._next = function (unused) {\n        this.subscribeToSource();\n    };\n    SubscriptionDelaySubscriber.prototype._error = function (err) {\n        this.unsubscribe();\n        this.parent.error(err);\n    };\n    SubscriptionDelaySubscriber.prototype._complete = function () {\n        this.unsubscribe();\n        this.subscribeToSource();\n    };\n    SubscriptionDelaySubscriber.prototype.subscribeToSource = function () {\n        if (!this.sourceSubscribed) {\n            this.sourceSubscribed = true;\n            this.unsubscribe();\n            this.source.subscribe(this.parent);\n        }\n    };\n    return SubscriptionDelaySubscriber;\n}(Subscriber));\n//# sourceMappingURL=delayWhen.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function dematerialize() {\n    return function dematerializeOperatorFunction(source) {\n        return source.lift(new DeMaterializeOperator());\n    };\n}\nvar DeMaterializeOperator = (function () {\n    function DeMaterializeOperator() {\n    }\n    DeMaterializeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DeMaterializeSubscriber(subscriber));\n    };\n    return DeMaterializeOperator;\n}());\nvar DeMaterializeSubscriber = (function (_super) {\n    tslib_1.__extends(DeMaterializeSubscriber, _super);\n    function DeMaterializeSubscriber(destination) {\n        return _super.call(this, destination) || this;\n    }\n    DeMaterializeSubscriber.prototype._next = function (value) {\n        value.observe(this.destination);\n    };\n    return DeMaterializeSubscriber;\n}(Subscriber));\n//# sourceMappingURL=dematerialize.js.map","import * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function distinct(keySelector, flushes) {\n    return function (source) { return source.lift(new DistinctOperator(keySelector, flushes)); };\n}\nvar DistinctOperator = (function () {\n    function DistinctOperator(keySelector, flushes) {\n        this.keySelector = keySelector;\n        this.flushes = flushes;\n    }\n    DistinctOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DistinctSubscriber(subscriber, this.keySelector, this.flushes));\n    };\n    return DistinctOperator;\n}());\nvar DistinctSubscriber = (function (_super) {\n    tslib_1.__extends(DistinctSubscriber, _super);\n    function DistinctSubscriber(destination, keySelector, flushes) {\n        var _this = _super.call(this, destination) || this;\n        _this.keySelector = keySelector;\n        _this.values = new Set();\n        if (flushes) {\n            _this.add(subscribeToResult(_this, flushes));\n        }\n        return _this;\n    }\n    DistinctSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.values.clear();\n    };\n    DistinctSubscriber.prototype.notifyError = function (error, innerSub) {\n        this._error(error);\n    };\n    DistinctSubscriber.prototype._next = function (value) {\n        if (this.keySelector) {\n            this._useKeySelector(value);\n        }\n        else {\n            this._finalizeNext(value, value);\n        }\n    };\n    DistinctSubscriber.prototype._useKeySelector = function (value) {\n        var key;\n        var destination = this.destination;\n        try {\n            key = this.keySelector(value);\n        }\n        catch (err) {\n            destination.error(err);\n            return;\n        }\n        this._finalizeNext(key, value);\n    };\n    DistinctSubscriber.prototype._finalizeNext = function (key, value) {\n        var values = this.values;\n        if (!values.has(key)) {\n            values.add(key);\n            this.destination.next(value);\n        }\n    };\n    return DistinctSubscriber;\n}(OuterSubscriber));\nexport { DistinctSubscriber };\n//# sourceMappingURL=distinct.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function distinctUntilChanged(compare, keySelector) {\n    return function (source) { return source.lift(new DistinctUntilChangedOperator(compare, keySelector)); };\n}\nvar DistinctUntilChangedOperator = (function () {\n    function DistinctUntilChangedOperator(compare, keySelector) {\n        this.compare = compare;\n        this.keySelector = keySelector;\n    }\n    DistinctUntilChangedOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DistinctUntilChangedSubscriber(subscriber, this.compare, this.keySelector));\n    };\n    return DistinctUntilChangedOperator;\n}());\nvar DistinctUntilChangedSubscriber = (function (_super) {\n    tslib_1.__extends(DistinctUntilChangedSubscriber, _super);\n    function DistinctUntilChangedSubscriber(destination, compare, keySelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.keySelector = keySelector;\n        _this.hasKey = false;\n        if (typeof compare === 'function') {\n            _this.compare = compare;\n        }\n        return _this;\n    }\n    DistinctUntilChangedSubscriber.prototype.compare = function (x, y) {\n        return x === y;\n    };\n    DistinctUntilChangedSubscriber.prototype._next = function (value) {\n        var key;\n        try {\n            var keySelector = this.keySelector;\n            key = keySelector ? keySelector(value) : value;\n        }\n        catch (err) {\n            return this.destination.error(err);\n        }\n        var result = false;\n        if (this.hasKey) {\n            try {\n                var compare = this.compare;\n                result = compare(this.key, key);\n            }\n            catch (err) {\n                return this.destination.error(err);\n            }\n        }\n        else {\n            this.hasKey = true;\n        }\n        if (!result) {\n            this.key = key;\n            this.destination.next(value);\n        }\n    };\n    return DistinctUntilChangedSubscriber;\n}(Subscriber));\n//# sourceMappingURL=distinctUntilChanged.js.map","import { distinctUntilChanged } from './distinctUntilChanged';\nexport function distinctUntilKeyChanged(key, compare) {\n    return distinctUntilChanged(function (x, y) { return compare ? compare(x[key], y[key]) : x[key] === y[key]; });\n}\n//# sourceMappingURL=distinctUntilKeyChanged.js.map","import * as tslib_1 from \"tslib\";\nimport { EmptyError } from '../util/EmptyError';\nimport { Subscriber } from '../Subscriber';\nexport function throwIfEmpty(errorFactory) {\n    if (errorFactory === void 0) { errorFactory = defaultErrorFactory; }\n    return function (source) {\n        return source.lift(new ThrowIfEmptyOperator(errorFactory));\n    };\n}\nvar ThrowIfEmptyOperator = (function () {\n    function ThrowIfEmptyOperator(errorFactory) {\n        this.errorFactory = errorFactory;\n    }\n    ThrowIfEmptyOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ThrowIfEmptySubscriber(subscriber, this.errorFactory));\n    };\n    return ThrowIfEmptyOperator;\n}());\nvar ThrowIfEmptySubscriber = (function (_super) {\n    tslib_1.__extends(ThrowIfEmptySubscriber, _super);\n    function ThrowIfEmptySubscriber(destination, errorFactory) {\n        var _this = _super.call(this, destination) || this;\n        _this.errorFactory = errorFactory;\n        _this.hasValue = false;\n        return _this;\n    }\n    ThrowIfEmptySubscriber.prototype._next = function (value) {\n        this.hasValue = true;\n        this.destination.next(value);\n    };\n    ThrowIfEmptySubscriber.prototype._complete = function () {\n        if (!this.hasValue) {\n            var err = void 0;\n            try {\n                err = this.errorFactory();\n            }\n            catch (e) {\n                err = e;\n            }\n            this.destination.error(err);\n        }\n        else {\n            return this.destination.complete();\n        }\n    };\n    return ThrowIfEmptySubscriber;\n}(Subscriber));\nfunction defaultErrorFactory() {\n    return new EmptyError();\n}\n//# sourceMappingURL=throwIfEmpty.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { ArgumentOutOfRangeError } from '../util/ArgumentOutOfRangeError';\nimport { empty } from '../observable/empty';\nexport function take(count) {\n    return function (source) {\n        if (count === 0) {\n            return empty();\n        }\n        else {\n            return source.lift(new TakeOperator(count));\n        }\n    };\n}\nvar TakeOperator = (function () {\n    function TakeOperator(total) {\n        this.total = total;\n        if (this.total < 0) {\n            throw new ArgumentOutOfRangeError;\n        }\n    }\n    TakeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new TakeSubscriber(subscriber, this.total));\n    };\n    return TakeOperator;\n}());\nvar TakeSubscriber = (function (_super) {\n    tslib_1.__extends(TakeSubscriber, _super);\n    function TakeSubscriber(destination, total) {\n        var _this = _super.call(this, destination) || this;\n        _this.total = total;\n        _this.count = 0;\n        return _this;\n    }\n    TakeSubscriber.prototype._next = function (value) {\n        var total = this.total;\n        var count = ++this.count;\n        if (count <= total) {\n            this.destination.next(value);\n            if (count === total) {\n                this.destination.complete();\n                this.unsubscribe();\n            }\n        }\n    };\n    return TakeSubscriber;\n}(Subscriber));\n//# sourceMappingURL=take.js.map","import { ArgumentOutOfRangeError } from '../util/ArgumentOutOfRangeError';\nimport { filter } from './filter';\nimport { throwIfEmpty } from './throwIfEmpty';\nimport { defaultIfEmpty } from './defaultIfEmpty';\nimport { take } from './take';\nexport function elementAt(index, defaultValue) {\n    if (index < 0) {\n        throw new ArgumentOutOfRangeError();\n    }\n    var hasDefaultValue = arguments.length >= 2;\n    return function (source) { return source.pipe(filter(function (v, i) { return i === index; }), take(1), hasDefaultValue\n        ? defaultIfEmpty(defaultValue)\n        : throwIfEmpty(function () { return new ArgumentOutOfRangeError(); })); };\n}\n//# sourceMappingURL=elementAt.js.map","import { concat } from '../observable/concat';\nimport { of } from '../observable/of';\nexport function endWith() {\n    var array = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        array[_i] = arguments[_i];\n    }\n    return function (source) { return concat(source, of.apply(void 0, array)); };\n}\n//# sourceMappingURL=endWith.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function every(predicate, thisArg) {\n    return function (source) { return source.lift(new EveryOperator(predicate, thisArg, source)); };\n}\nvar EveryOperator = (function () {\n    function EveryOperator(predicate, thisArg, source) {\n        this.predicate = predicate;\n        this.thisArg = thisArg;\n        this.source = source;\n    }\n    EveryOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new EverySubscriber(observer, this.predicate, this.thisArg, this.source));\n    };\n    return EveryOperator;\n}());\nvar EverySubscriber = (function (_super) {\n    tslib_1.__extends(EverySubscriber, _super);\n    function EverySubscriber(destination, predicate, thisArg, source) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.thisArg = thisArg;\n        _this.source = source;\n        _this.index = 0;\n        _this.thisArg = thisArg || _this;\n        return _this;\n    }\n    EverySubscriber.prototype.notifyComplete = function (everyValueMatch) {\n        this.destination.next(everyValueMatch);\n        this.destination.complete();\n    };\n    EverySubscriber.prototype._next = function (value) {\n        var result = false;\n        try {\n            result = this.predicate.call(this.thisArg, value, this.index++, this.source);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (!result) {\n            this.notifyComplete(false);\n        }\n    };\n    EverySubscriber.prototype._complete = function () {\n        this.notifyComplete(true);\n    };\n    return EverySubscriber;\n}(Subscriber));\n//# sourceMappingURL=every.js.map","import * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function exhaust() {\n    return function (source) { return source.lift(new SwitchFirstOperator()); };\n}\nvar SwitchFirstOperator = (function () {\n    function SwitchFirstOperator() {\n    }\n    SwitchFirstOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SwitchFirstSubscriber(subscriber));\n    };\n    return SwitchFirstOperator;\n}());\nvar SwitchFirstSubscriber = (function (_super) {\n    tslib_1.__extends(SwitchFirstSubscriber, _super);\n    function SwitchFirstSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.hasCompleted = false;\n        _this.hasSubscription = false;\n        return _this;\n    }\n    SwitchFirstSubscriber.prototype._next = function (value) {\n        if (!this.hasSubscription) {\n            this.hasSubscription = true;\n            this.add(subscribeToResult(this, value));\n        }\n    };\n    SwitchFirstSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (!this.hasSubscription) {\n            this.destination.complete();\n        }\n    };\n    SwitchFirstSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.remove(innerSub);\n        this.hasSubscription = false;\n        if (this.hasCompleted) {\n            this.destination.complete();\n        }\n    };\n    return SwitchFirstSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=exhaust.js.map","import * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { map } from './map';\nimport { from } from '../observable/from';\nexport function exhaustMap(project, resultSelector) {\n    if (resultSelector) {\n        return function (source) { return source.pipe(exhaustMap(function (a, i) { return from(project(a, i)).pipe(map(function (b, ii) { return resultSelector(a, b, i, ii); })); })); };\n    }\n    return function (source) {\n        return source.lift(new ExhaustMapOperator(project));\n    };\n}\nvar ExhaustMapOperator = (function () {\n    function ExhaustMapOperator(project) {\n        this.project = project;\n    }\n    ExhaustMapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ExhaustMapSubscriber(subscriber, this.project));\n    };\n    return ExhaustMapOperator;\n}());\nvar ExhaustMapSubscriber = (function (_super) {\n    tslib_1.__extends(ExhaustMapSubscriber, _super);\n    function ExhaustMapSubscriber(destination, project) {\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.hasSubscription = false;\n        _this.hasCompleted = false;\n        _this.index = 0;\n        return _this;\n    }\n    ExhaustMapSubscriber.prototype._next = function (value) {\n        if (!this.hasSubscription) {\n            this.tryNext(value);\n        }\n    };\n    ExhaustMapSubscriber.prototype.tryNext = function (value) {\n        var result;\n        var index = this.index++;\n        try {\n            result = this.project(value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.hasSubscription = true;\n        this._innerSub(result, value, index);\n    };\n    ExhaustMapSubscriber.prototype._innerSub = function (result, value, index) {\n        var innerSubscriber = new InnerSubscriber(this, value, index);\n        var destination = this.destination;\n        destination.add(innerSubscriber);\n        var innerSubscription = subscribeToResult(this, result, undefined, undefined, innerSubscriber);\n        if (innerSubscription !== innerSubscriber) {\n            destination.add(innerSubscription);\n        }\n    };\n    ExhaustMapSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (!this.hasSubscription) {\n            this.destination.complete();\n        }\n        this.unsubscribe();\n    };\n    ExhaustMapSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(innerValue);\n    };\n    ExhaustMapSubscriber.prototype.notifyError = function (err) {\n        this.destination.error(err);\n    };\n    ExhaustMapSubscriber.prototype.notifyComplete = function (innerSub) {\n        var destination = this.destination;\n        destination.remove(innerSub);\n        this.hasSubscription = false;\n        if (this.hasCompleted) {\n            this.destination.complete();\n        }\n    };\n    return ExhaustMapSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=exhaustMap.js.map","import * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function expand(project, concurrent, scheduler) {\n    if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n    if (scheduler === void 0) { scheduler = undefined; }\n    concurrent = (concurrent || 0) < 1 ? Number.POSITIVE_INFINITY : concurrent;\n    return function (source) { return source.lift(new ExpandOperator(project, concurrent, scheduler)); };\n}\nvar ExpandOperator = (function () {\n    function ExpandOperator(project, concurrent, scheduler) {\n        this.project = project;\n        this.concurrent = concurrent;\n        this.scheduler = scheduler;\n    }\n    ExpandOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ExpandSubscriber(subscriber, this.project, this.concurrent, this.scheduler));\n    };\n    return ExpandOperator;\n}());\nexport { ExpandOperator };\nvar ExpandSubscriber = (function (_super) {\n    tslib_1.__extends(ExpandSubscriber, _super);\n    function ExpandSubscriber(destination, project, concurrent, scheduler) {\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.concurrent = concurrent;\n        _this.scheduler = scheduler;\n        _this.index = 0;\n        _this.active = 0;\n        _this.hasCompleted = false;\n        if (concurrent < Number.POSITIVE_INFINITY) {\n            _this.buffer = [];\n        }\n        return _this;\n    }\n    ExpandSubscriber.dispatch = function (arg) {\n        var subscriber = arg.subscriber, result = arg.result, value = arg.value, index = arg.index;\n        subscriber.subscribeToProjection(result, value, index);\n    };\n    ExpandSubscriber.prototype._next = function (value) {\n        var destination = this.destination;\n        if (destination.closed) {\n            this._complete();\n            return;\n        }\n        var index = this.index++;\n        if (this.active < this.concurrent) {\n            destination.next(value);\n            try {\n                var project = this.project;\n                var result = project(value, index);\n                if (!this.scheduler) {\n                    this.subscribeToProjection(result, value, index);\n                }\n                else {\n                    var state = { subscriber: this, result: result, value: value, index: index };\n                    var destination_1 = this.destination;\n                    destination_1.add(this.scheduler.schedule(ExpandSubscriber.dispatch, 0, state));\n                }\n            }\n            catch (e) {\n                destination.error(e);\n            }\n        }\n        else {\n            this.buffer.push(value);\n        }\n    };\n    ExpandSubscriber.prototype.subscribeToProjection = function (result, value, index) {\n        this.active++;\n        var destination = this.destination;\n        destination.add(subscribeToResult(this, result, value, index));\n    };\n    ExpandSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (this.hasCompleted && this.active === 0) {\n            this.destination.complete();\n        }\n        this.unsubscribe();\n    };\n    ExpandSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this._next(innerValue);\n    };\n    ExpandSubscriber.prototype.notifyComplete = function (innerSub) {\n        var buffer = this.buffer;\n        var destination = this.destination;\n        destination.remove(innerSub);\n        this.active--;\n        if (buffer && buffer.length > 0) {\n            this._next(buffer.shift());\n        }\n        if (this.hasCompleted && this.active === 0) {\n            this.destination.complete();\n        }\n    };\n    return ExpandSubscriber;\n}(OuterSubscriber));\nexport { ExpandSubscriber };\n//# sourceMappingURL=expand.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nexport function finalize(callback) {\n    return function (source) { return source.lift(new FinallyOperator(callback)); };\n}\nvar FinallyOperator = (function () {\n    function FinallyOperator(callback) {\n        this.callback = callback;\n    }\n    FinallyOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new FinallySubscriber(subscriber, this.callback));\n    };\n    return FinallyOperator;\n}());\nvar FinallySubscriber = (function (_super) {\n    tslib_1.__extends(FinallySubscriber, _super);\n    function FinallySubscriber(destination, callback) {\n        var _this = _super.call(this, destination) || this;\n        _this.add(new Subscription(callback));\n        return _this;\n    }\n    return FinallySubscriber;\n}(Subscriber));\n//# sourceMappingURL=finalize.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function find(predicate, thisArg) {\n    if (typeof predicate !== 'function') {\n        throw new TypeError('predicate is not a function');\n    }\n    return function (source) { return source.lift(new FindValueOperator(predicate, source, false, thisArg)); };\n}\nvar FindValueOperator = (function () {\n    function FindValueOperator(predicate, source, yieldIndex, thisArg) {\n        this.predicate = predicate;\n        this.source = source;\n        this.yieldIndex = yieldIndex;\n        this.thisArg = thisArg;\n    }\n    FindValueOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new FindValueSubscriber(observer, this.predicate, this.source, this.yieldIndex, this.thisArg));\n    };\n    return FindValueOperator;\n}());\nexport { FindValueOperator };\nvar FindValueSubscriber = (function (_super) {\n    tslib_1.__extends(FindValueSubscriber, _super);\n    function FindValueSubscriber(destination, predicate, source, yieldIndex, thisArg) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.source = source;\n        _this.yieldIndex = yieldIndex;\n        _this.thisArg = thisArg;\n        _this.index = 0;\n        return _this;\n    }\n    FindValueSubscriber.prototype.notifyComplete = function (value) {\n        var destination = this.destination;\n        destination.next(value);\n        destination.complete();\n        this.unsubscribe();\n    };\n    FindValueSubscriber.prototype._next = function (value) {\n        var _a = this, predicate = _a.predicate, thisArg = _a.thisArg;\n        var index = this.index++;\n        try {\n            var result = predicate.call(thisArg || this, value, index, this.source);\n            if (result) {\n                this.notifyComplete(this.yieldIndex ? index : value);\n            }\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n    };\n    FindValueSubscriber.prototype._complete = function () {\n        this.notifyComplete(this.yieldIndex ? -1 : undefined);\n    };\n    return FindValueSubscriber;\n}(Subscriber));\nexport { FindValueSubscriber };\n//# sourceMappingURL=find.js.map","import { FindValueOperator } from '../operators/find';\nexport function findIndex(predicate, thisArg) {\n    return function (source) { return source.lift(new FindValueOperator(predicate, source, true, thisArg)); };\n}\n//# sourceMappingURL=findIndex.js.map","import { EmptyError } from '../util/EmptyError';\nimport { filter } from './filter';\nimport { take } from './take';\nimport { defaultIfEmpty } from './defaultIfEmpty';\nimport { throwIfEmpty } from './throwIfEmpty';\nimport { identity } from '../util/identity';\nexport function first(predicate, defaultValue) {\n    var hasDefaultValue = arguments.length >= 2;\n    return function (source) { return source.pipe(predicate ? filter(function (v, i) { return predicate(v, i, source); }) : identity, take(1), hasDefaultValue ? defaultIfEmpty(defaultValue) : throwIfEmpty(function () { return new EmptyError(); })); };\n}\n//# sourceMappingURL=first.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function ignoreElements() {\n    return function ignoreElementsOperatorFunction(source) {\n        return source.lift(new IgnoreElementsOperator());\n    };\n}\nvar IgnoreElementsOperator = (function () {\n    function IgnoreElementsOperator() {\n    }\n    IgnoreElementsOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new IgnoreElementsSubscriber(subscriber));\n    };\n    return IgnoreElementsOperator;\n}());\nvar IgnoreElementsSubscriber = (function (_super) {\n    tslib_1.__extends(IgnoreElementsSubscriber, _super);\n    function IgnoreElementsSubscriber() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    IgnoreElementsSubscriber.prototype._next = function (unused) {\n    };\n    return IgnoreElementsSubscriber;\n}(Subscriber));\n//# sourceMappingURL=ignoreElements.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function isEmpty() {\n    return function (source) { return source.lift(new IsEmptyOperator()); };\n}\nvar IsEmptyOperator = (function () {\n    function IsEmptyOperator() {\n    }\n    IsEmptyOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new IsEmptySubscriber(observer));\n    };\n    return IsEmptyOperator;\n}());\nvar IsEmptySubscriber = (function (_super) {\n    tslib_1.__extends(IsEmptySubscriber, _super);\n    function IsEmptySubscriber(destination) {\n        return _super.call(this, destination) || this;\n    }\n    IsEmptySubscriber.prototype.notifyComplete = function (isEmpty) {\n        var destination = this.destination;\n        destination.next(isEmpty);\n        destination.complete();\n    };\n    IsEmptySubscriber.prototype._next = function (value) {\n        this.notifyComplete(false);\n    };\n    IsEmptySubscriber.prototype._complete = function () {\n        this.notifyComplete(true);\n    };\n    return IsEmptySubscriber;\n}(Subscriber));\n//# sourceMappingURL=isEmpty.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { ArgumentOutOfRangeError } from '../util/ArgumentOutOfRangeError';\nimport { empty } from '../observable/empty';\nexport function takeLast(count) {\n    return function takeLastOperatorFunction(source) {\n        if (count === 0) {\n            return empty();\n        }\n        else {\n            return source.lift(new TakeLastOperator(count));\n        }\n    };\n}\nvar TakeLastOperator = (function () {\n    function TakeLastOperator(total) {\n        this.total = total;\n        if (this.total < 0) {\n            throw new ArgumentOutOfRangeError;\n        }\n    }\n    TakeLastOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new TakeLastSubscriber(subscriber, this.total));\n    };\n    return TakeLastOperator;\n}());\nvar TakeLastSubscriber = (function (_super) {\n    tslib_1.__extends(TakeLastSubscriber, _super);\n    function TakeLastSubscriber(destination, total) {\n        var _this = _super.call(this, destination) || this;\n        _this.total = total;\n        _this.ring = new Array();\n        _this.count = 0;\n        return _this;\n    }\n    TakeLastSubscriber.prototype._next = function (value) {\n        var ring = this.ring;\n        var total = this.total;\n        var count = this.count++;\n        if (ring.length < total) {\n            ring.push(value);\n        }\n        else {\n            var index = count % total;\n            ring[index] = value;\n        }\n    };\n    TakeLastSubscriber.prototype._complete = function () {\n        var destination = this.destination;\n        var count = this.count;\n        if (count > 0) {\n            var total = this.count >= this.total ? this.total : this.count;\n            var ring = this.ring;\n            for (var i = 0; i < total; i++) {\n                var idx = (count++) % total;\n                destination.next(ring[idx]);\n            }\n        }\n        destination.complete();\n    };\n    return TakeLastSubscriber;\n}(Subscriber));\n//# sourceMappingURL=takeLast.js.map","import { EmptyError } from '../util/EmptyError';\nimport { filter } from './filter';\nimport { takeLast } from './takeLast';\nimport { throwIfEmpty } from './throwIfEmpty';\nimport { defaultIfEmpty } from './defaultIfEmpty';\nimport { identity } from '../util/identity';\nexport function last(predicate, defaultValue) {\n    var hasDefaultValue = arguments.length >= 2;\n    return function (source) { return source.pipe(predicate ? filter(function (v, i) { return predicate(v, i, source); }) : identity, takeLast(1), hasDefaultValue ? defaultIfEmpty(defaultValue) : throwIfEmpty(function () { return new EmptyError(); })); };\n}\n//# sourceMappingURL=last.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function mapTo(value) {\n    return function (source) { return source.lift(new MapToOperator(value)); };\n}\nvar MapToOperator = (function () {\n    function MapToOperator(value) {\n        this.value = value;\n    }\n    MapToOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MapToSubscriber(subscriber, this.value));\n    };\n    return MapToOperator;\n}());\nvar MapToSubscriber = (function (_super) {\n    tslib_1.__extends(MapToSubscriber, _super);\n    function MapToSubscriber(destination, value) {\n        var _this = _super.call(this, destination) || this;\n        _this.value = value;\n        return _this;\n    }\n    MapToSubscriber.prototype._next = function (x) {\n        this.destination.next(this.value);\n    };\n    return MapToSubscriber;\n}(Subscriber));\n//# sourceMappingURL=mapTo.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { Notification } from '../Notification';\nexport function materialize() {\n    return function materializeOperatorFunction(source) {\n        return source.lift(new MaterializeOperator());\n    };\n}\nvar MaterializeOperator = (function () {\n    function MaterializeOperator() {\n    }\n    MaterializeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MaterializeSubscriber(subscriber));\n    };\n    return MaterializeOperator;\n}());\nvar MaterializeSubscriber = (function (_super) {\n    tslib_1.__extends(MaterializeSubscriber, _super);\n    function MaterializeSubscriber(destination) {\n        return _super.call(this, destination) || this;\n    }\n    MaterializeSubscriber.prototype._next = function (value) {\n        this.destination.next(Notification.createNext(value));\n    };\n    MaterializeSubscriber.prototype._error = function (err) {\n        var destination = this.destination;\n        destination.next(Notification.createError(err));\n        destination.complete();\n    };\n    MaterializeSubscriber.prototype._complete = function () {\n        var destination = this.destination;\n        destination.next(Notification.createComplete());\n        destination.complete();\n    };\n    return MaterializeSubscriber;\n}(Subscriber));\n//# sourceMappingURL=materialize.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function scan(accumulator, seed) {\n    var hasSeed = false;\n    if (arguments.length >= 2) {\n        hasSeed = true;\n    }\n    return function scanOperatorFunction(source) {\n        return source.lift(new ScanOperator(accumulator, seed, hasSeed));\n    };\n}\nvar ScanOperator = (function () {\n    function ScanOperator(accumulator, seed, hasSeed) {\n        if (hasSeed === void 0) { hasSeed = false; }\n        this.accumulator = accumulator;\n        this.seed = seed;\n        this.hasSeed = hasSeed;\n    }\n    ScanOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ScanSubscriber(subscriber, this.accumulator, this.seed, this.hasSeed));\n    };\n    return ScanOperator;\n}());\nvar ScanSubscriber = (function (_super) {\n    tslib_1.__extends(ScanSubscriber, _super);\n    function ScanSubscriber(destination, accumulator, _seed, hasSeed) {\n        var _this = _super.call(this, destination) || this;\n        _this.accumulator = accumulator;\n        _this._seed = _seed;\n        _this.hasSeed = hasSeed;\n        _this.index = 0;\n        return _this;\n    }\n    Object.defineProperty(ScanSubscriber.prototype, \"seed\", {\n        get: function () {\n            return this._seed;\n        },\n        set: function (value) {\n            this.hasSeed = true;\n            this._seed = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ScanSubscriber.prototype._next = function (value) {\n        if (!this.hasSeed) {\n            this.seed = value;\n            this.destination.next(value);\n        }\n        else {\n            return this._tryNext(value);\n        }\n    };\n    ScanSubscriber.prototype._tryNext = function (value) {\n        var index = this.index++;\n        var result;\n        try {\n            result = this.accumulator(this.seed, value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n        this.seed = result;\n        this.destination.next(result);\n    };\n    return ScanSubscriber;\n}(Subscriber));\n//# sourceMappingURL=scan.js.map","import { scan } from './scan';\nimport { takeLast } from './takeLast';\nimport { defaultIfEmpty } from './defaultIfEmpty';\nimport { pipe } from '../util/pipe';\nexport function reduce(accumulator, seed) {\n    if (arguments.length >= 2) {\n        return function reduceOperatorFunctionWithSeed(source) {\n            return pipe(scan(accumulator, seed), takeLast(1), defaultIfEmpty(seed))(source);\n        };\n    }\n    return function reduceOperatorFunction(source) {\n        return pipe(scan(function (acc, value, index) { return accumulator(acc, value, index + 1); }), takeLast(1))(source);\n    };\n}\n//# sourceMappingURL=reduce.js.map","import { reduce } from './reduce';\nexport function max(comparer) {\n    var max = (typeof comparer === 'function')\n        ? function (x, y) { return comparer(x, y) > 0 ? x : y; }\n        : function (x, y) { return x > y ? x : y; };\n    return reduce(max);\n}\n//# sourceMappingURL=max.js.map","import { merge as mergeStatic } from '../observable/merge';\nexport function merge() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    return function (source) { return source.lift.call(mergeStatic.apply(void 0, [source].concat(observables))); };\n}\n//# sourceMappingURL=merge.js.map","import { mergeMap } from './mergeMap';\nexport function mergeMapTo(innerObservable, resultSelector, concurrent) {\n    if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n    if (typeof resultSelector === 'function') {\n        return mergeMap(function () { return innerObservable; }, resultSelector, concurrent);\n    }\n    if (typeof resultSelector === 'number') {\n        concurrent = resultSelector;\n    }\n    return mergeMap(function () { return innerObservable; }, concurrent);\n}\n//# sourceMappingURL=mergeMapTo.js.map","import * as tslib_1 from \"tslib\";\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nexport function mergeScan(accumulator, seed, concurrent) {\n    if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n    return function (source) { return source.lift(new MergeScanOperator(accumulator, seed, concurrent)); };\n}\nvar MergeScanOperator = (function () {\n    function MergeScanOperator(accumulator, seed, concurrent) {\n        this.accumulator = accumulator;\n        this.seed = seed;\n        this.concurrent = concurrent;\n    }\n    MergeScanOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MergeScanSubscriber(subscriber, this.accumulator, this.seed, this.concurrent));\n    };\n    return MergeScanOperator;\n}());\nexport { MergeScanOperator };\nvar MergeScanSubscriber = (function (_super) {\n    tslib_1.__extends(MergeScanSubscriber, _super);\n    function MergeScanSubscriber(destination, accumulator, acc, concurrent) {\n        var _this = _super.call(this, destination) || this;\n        _this.accumulator = accumulator;\n        _this.acc = acc;\n        _this.concurrent = concurrent;\n        _this.hasValue = false;\n        _this.hasCompleted = false;\n        _this.buffer = [];\n        _this.active = 0;\n        _this.index = 0;\n        return _this;\n    }\n    MergeScanSubscriber.prototype._next = function (value) {\n        if (this.active < this.concurrent) {\n            var index = this.index++;\n            var destination = this.destination;\n            var ish = void 0;\n            try {\n                var accumulator = this.accumulator;\n                ish = accumulator(this.acc, value, index);\n            }\n            catch (e) {\n                return destination.error(e);\n            }\n            this.active++;\n            this._innerSub(ish, value, index);\n        }\n        else {\n            this.buffer.push(value);\n        }\n    };\n    MergeScanSubscriber.prototype._innerSub = function (ish, value, index) {\n        var innerSubscriber = new InnerSubscriber(this, value, index);\n        var destination = this.destination;\n        destination.add(innerSubscriber);\n        var innerSubscription = subscribeToResult(this, ish, undefined, undefined, innerSubscriber);\n        if (innerSubscription !== innerSubscriber) {\n            destination.add(innerSubscription);\n        }\n    };\n    MergeScanSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (this.active === 0 && this.buffer.length === 0) {\n            if (this.hasValue === false) {\n                this.destination.next(this.acc);\n            }\n            this.destination.complete();\n        }\n        this.unsubscribe();\n    };\n    MergeScanSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        var destination = this.destination;\n        this.acc = innerValue;\n        this.hasValue = true;\n        destination.next(innerValue);\n    };\n    MergeScanSubscriber.prototype.notifyComplete = function (innerSub) {\n        var buffer = this.buffer;\n        var destination = this.destination;\n        destination.remove(innerSub);\n        this.active--;\n        if (buffer.length > 0) {\n            this._next(buffer.shift());\n        }\n        else if (this.active === 0 && this.hasCompleted) {\n            if (this.hasValue === false) {\n                this.destination.next(this.acc);\n            }\n            this.destination.complete();\n        }\n    };\n    return MergeScanSubscriber;\n}(OuterSubscriber));\nexport { MergeScanSubscriber };\n//# sourceMappingURL=mergeScan.js.map","import { reduce } from './reduce';\nexport function min(comparer) {\n    var min = (typeof comparer === 'function')\n        ? function (x, y) { return comparer(x, y) < 0 ? x : y; }\n        : function (x, y) { return x < y ? x : y; };\n    return reduce(min);\n}\n//# sourceMappingURL=min.js.map","import { connectableObservableDescriptor } from '../observable/ConnectableObservable';\nexport function multicast(subjectOrSubjectFactory, selector) {\n    return function multicastOperatorFunction(source) {\n        var subjectFactory;\n        if (typeof subjectOrSubjectFactory === 'function') {\n            subjectFactory = subjectOrSubjectFactory;\n        }\n        else {\n            subjectFactory = function subjectFactory() {\n                return subjectOrSubjectFactory;\n            };\n        }\n        if (typeof selector === 'function') {\n            return source.lift(new MulticastOperator(subjectFactory, selector));\n        }\n        var connectable = Object.create(source, connectableObservableDescriptor);\n        connectable.source = source;\n        connectable.subjectFactory = subjectFactory;\n        return connectable;\n    };\n}\nvar MulticastOperator = (function () {\n    function MulticastOperator(subjectFactory, selector) {\n        this.subjectFactory = subjectFactory;\n        this.selector = selector;\n    }\n    MulticastOperator.prototype.call = function (subscriber, source) {\n        var selector = this.selector;\n        var subject = this.subjectFactory();\n        var subscription = selector(subject).subscribe(subscriber);\n        subscription.add(source.subscribe(subject));\n        return subscription;\n    };\n    return MulticastOperator;\n}());\nexport { MulticastOperator };\n//# sourceMappingURL=multicast.js.map","import * as tslib_1 from \"tslib\";\nimport { from } from '../observable/from';\nimport { isArray } from '../util/isArray';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function onErrorResumeNext() {\n    var nextSources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        nextSources[_i] = arguments[_i];\n    }\n    if (nextSources.length === 1 && isArray(nextSources[0])) {\n        nextSources = nextSources[0];\n    }\n    return function (source) { return source.lift(new OnErrorResumeNextOperator(nextSources)); };\n}\nexport function onErrorResumeNextStatic() {\n    var nextSources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        nextSources[_i] = arguments[_i];\n    }\n    var source = null;\n    if (nextSources.length === 1 && isArray(nextSources[0])) {\n        nextSources = nextSources[0];\n    }\n    source = nextSources.shift();\n    return from(source, null).lift(new OnErrorResumeNextOperator(nextSources));\n}\nvar OnErrorResumeNextOperator = (function () {\n    function OnErrorResumeNextOperator(nextSources) {\n        this.nextSources = nextSources;\n    }\n    OnErrorResumeNextOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new OnErrorResumeNextSubscriber(subscriber, this.nextSources));\n    };\n    return OnErrorResumeNextOperator;\n}());\nvar OnErrorResumeNextSubscriber = (function (_super) {\n    tslib_1.__extends(OnErrorResumeNextSubscriber, _super);\n    function OnErrorResumeNextSubscriber(destination, nextSources) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        _this.nextSources = nextSources;\n        return _this;\n    }\n    OnErrorResumeNextSubscriber.prototype.notifyError = function (error, innerSub) {\n        this.subscribeToNextSource();\n    };\n    OnErrorResumeNextSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.subscribeToNextSource();\n    };\n    OnErrorResumeNextSubscriber.prototype._error = function (err) {\n        this.subscribeToNextSource();\n        this.unsubscribe();\n    };\n    OnErrorResumeNextSubscriber.prototype._complete = function () {\n        this.subscribeToNextSource();\n        this.unsubscribe();\n    };\n    OnErrorResumeNextSubscriber.prototype.subscribeToNextSource = function () {\n        var next = this.nextSources.shift();\n        if (!!next) {\n            var innerSubscriber = new InnerSubscriber(this, undefined, undefined);\n            var destination = this.destination;\n            destination.add(innerSubscriber);\n            var innerSubscription = subscribeToResult(this, next, undefined, undefined, innerSubscriber);\n            if (innerSubscription !== innerSubscriber) {\n                destination.add(innerSubscription);\n            }\n        }\n        else {\n            this.destination.complete();\n        }\n    };\n    return OnErrorResumeNextSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=onErrorResumeNext.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function pairwise() {\n    return function (source) { return source.lift(new PairwiseOperator()); };\n}\nvar PairwiseOperator = (function () {\n    function PairwiseOperator() {\n    }\n    PairwiseOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new PairwiseSubscriber(subscriber));\n    };\n    return PairwiseOperator;\n}());\nvar PairwiseSubscriber = (function (_super) {\n    tslib_1.__extends(PairwiseSubscriber, _super);\n    function PairwiseSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.hasPrev = false;\n        return _this;\n    }\n    PairwiseSubscriber.prototype._next = function (value) {\n        var pair;\n        if (this.hasPrev) {\n            pair = [this.prev, value];\n        }\n        else {\n            this.hasPrev = true;\n        }\n        this.prev = value;\n        if (pair) {\n            this.destination.next(pair);\n        }\n    };\n    return PairwiseSubscriber;\n}(Subscriber));\n//# sourceMappingURL=pairwise.js.map","import { not } from '../util/not';\nimport { filter } from './filter';\nexport function partition(predicate, thisArg) {\n    return function (source) { return [\n        filter(predicate, thisArg)(source),\n        filter(not(predicate, thisArg))(source)\n    ]; };\n}\n//# sourceMappingURL=partition.js.map","import { map } from './map';\nexport function pluck() {\n    var properties = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        properties[_i] = arguments[_i];\n    }\n    var length = properties.length;\n    if (length === 0) {\n        throw new Error('list of properties cannot be empty.');\n    }\n    return function (source) { return map(plucker(properties, length))(source); };\n}\nfunction plucker(props, length) {\n    var mapper = function (x) {\n        var currentProp = x;\n        for (var i = 0; i < length; i++) {\n            var p = currentProp[props[i]];\n            if (typeof p !== 'undefined') {\n                currentProp = p;\n            }\n            else {\n                return undefined;\n            }\n        }\n        return currentProp;\n    };\n    return mapper;\n}\n//# sourceMappingURL=pluck.js.map","import { Subject } from '../Subject';\nimport { multicast } from './multicast';\nexport function publish(selector) {\n    return selector ?\n        multicast(function () { return new Subject(); }, selector) :\n        multicast(new Subject());\n}\n//# sourceMappingURL=publish.js.map","import { BehaviorSubject } from '../BehaviorSubject';\nimport { multicast } from './multicast';\nexport function publishBehavior(value) {\n    return function (source) { return multicast(new BehaviorSubject(value))(source); };\n}\n//# sourceMappingURL=publishBehavior.js.map","import { AsyncSubject } from '../AsyncSubject';\nimport { multicast } from './multicast';\nexport function publishLast() {\n    return function (source) { return multicast(new AsyncSubject())(source); };\n}\n//# sourceMappingURL=publishLast.js.map","import { ReplaySubject } from '../ReplaySubject';\nimport { multicast } from './multicast';\nexport function publishReplay(bufferSize, windowTime, selectorOrScheduler, scheduler) {\n    if (selectorOrScheduler && typeof selectorOrScheduler !== 'function') {\n        scheduler = selectorOrScheduler;\n    }\n    var selector = typeof selectorOrScheduler === 'function' ? selectorOrScheduler : undefined;\n    var subject = new ReplaySubject(bufferSize, windowTime, scheduler);\n    return function (source) { return multicast(function () { return subject; }, selector)(source); };\n}\n//# sourceMappingURL=publishReplay.js.map","import { isArray } from '../util/isArray';\nimport { race as raceStatic } from '../observable/race';\nexport function race() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    return function raceOperatorFunction(source) {\n        if (observables.length === 1 && isArray(observables[0])) {\n            observables = observables[0];\n        }\n        return source.lift.call(raceStatic.apply(void 0, [source].concat(observables)));\n    };\n}\n//# sourceMappingURL=race.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { empty } from '../observable/empty';\nexport function repeat(count) {\n    if (count === void 0) { count = -1; }\n    return function (source) {\n        if (count === 0) {\n            return empty();\n        }\n        else if (count < 0) {\n            return source.lift(new RepeatOperator(-1, source));\n        }\n        else {\n            return source.lift(new RepeatOperator(count - 1, source));\n        }\n    };\n}\nvar RepeatOperator = (function () {\n    function RepeatOperator(count, source) {\n        this.count = count;\n        this.source = source;\n    }\n    RepeatOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new RepeatSubscriber(subscriber, this.count, this.source));\n    };\n    return RepeatOperator;\n}());\nvar RepeatSubscriber = (function (_super) {\n    tslib_1.__extends(RepeatSubscriber, _super);\n    function RepeatSubscriber(destination, count, source) {\n        var _this = _super.call(this, destination) || this;\n        _this.count = count;\n        _this.source = source;\n        return _this;\n    }\n    RepeatSubscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            var _a = this, source = _a.source, count = _a.count;\n            if (count === 0) {\n                return _super.prototype.complete.call(this);\n            }\n            else if (count > -1) {\n                this.count = count - 1;\n            }\n            source.subscribe(this._unsubscribeAndRecycle());\n        }\n    };\n    return RepeatSubscriber;\n}(Subscriber));\n//# sourceMappingURL=repeat.js.map","import * as tslib_1 from \"tslib\";\nimport { Subject } from '../Subject';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function repeatWhen(notifier) {\n    return function (source) { return source.lift(new RepeatWhenOperator(notifier)); };\n}\nvar RepeatWhenOperator = (function () {\n    function RepeatWhenOperator(notifier) {\n        this.notifier = notifier;\n    }\n    RepeatWhenOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new RepeatWhenSubscriber(subscriber, this.notifier, source));\n    };\n    return RepeatWhenOperator;\n}());\nvar RepeatWhenSubscriber = (function (_super) {\n    tslib_1.__extends(RepeatWhenSubscriber, _super);\n    function RepeatWhenSubscriber(destination, notifier, source) {\n        var _this = _super.call(this, destination) || this;\n        _this.notifier = notifier;\n        _this.source = source;\n        _this.sourceIsBeingSubscribedTo = true;\n        return _this;\n    }\n    RepeatWhenSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.sourceIsBeingSubscribedTo = true;\n        this.source.subscribe(this);\n    };\n    RepeatWhenSubscriber.prototype.notifyComplete = function (innerSub) {\n        if (this.sourceIsBeingSubscribedTo === false) {\n            return _super.prototype.complete.call(this);\n        }\n    };\n    RepeatWhenSubscriber.prototype.complete = function () {\n        this.sourceIsBeingSubscribedTo = false;\n        if (!this.isStopped) {\n            if (!this.retries) {\n                this.subscribeToRetries();\n            }\n            if (!this.retriesSubscription || this.retriesSubscription.closed) {\n                return _super.prototype.complete.call(this);\n            }\n            this._unsubscribeAndRecycle();\n            this.notifications.next();\n        }\n    };\n    RepeatWhenSubscriber.prototype._unsubscribe = function () {\n        var _a = this, notifications = _a.notifications, retriesSubscription = _a.retriesSubscription;\n        if (notifications) {\n            notifications.unsubscribe();\n            this.notifications = null;\n        }\n        if (retriesSubscription) {\n            retriesSubscription.unsubscribe();\n            this.retriesSubscription = null;\n        }\n        this.retries = null;\n    };\n    RepeatWhenSubscriber.prototype._unsubscribeAndRecycle = function () {\n        var _unsubscribe = this._unsubscribe;\n        this._unsubscribe = null;\n        _super.prototype._unsubscribeAndRecycle.call(this);\n        this._unsubscribe = _unsubscribe;\n        return this;\n    };\n    RepeatWhenSubscriber.prototype.subscribeToRetries = function () {\n        this.notifications = new Subject();\n        var retries;\n        try {\n            var notifier = this.notifier;\n            retries = notifier(this.notifications);\n        }\n        catch (e) {\n            return _super.prototype.complete.call(this);\n        }\n        this.retries = retries;\n        this.retriesSubscription = subscribeToResult(this, retries);\n    };\n    return RepeatWhenSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=repeatWhen.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function retry(count) {\n    if (count === void 0) { count = -1; }\n    return function (source) { return source.lift(new RetryOperator(count, source)); };\n}\nvar RetryOperator = (function () {\n    function RetryOperator(count, source) {\n        this.count = count;\n        this.source = source;\n    }\n    RetryOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new RetrySubscriber(subscriber, this.count, this.source));\n    };\n    return RetryOperator;\n}());\nvar RetrySubscriber = (function (_super) {\n    tslib_1.__extends(RetrySubscriber, _super);\n    function RetrySubscriber(destination, count, source) {\n        var _this = _super.call(this, destination) || this;\n        _this.count = count;\n        _this.source = source;\n        return _this;\n    }\n    RetrySubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _a = this, source = _a.source, count = _a.count;\n            if (count === 0) {\n                return _super.prototype.error.call(this, err);\n            }\n            else if (count > -1) {\n                this.count = count - 1;\n            }\n            source.subscribe(this._unsubscribeAndRecycle());\n        }\n    };\n    return RetrySubscriber;\n}(Subscriber));\n//# sourceMappingURL=retry.js.map","import * as tslib_1 from \"tslib\";\nimport { Subject } from '../Subject';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function retryWhen(notifier) {\n    return function (source) { return source.lift(new RetryWhenOperator(notifier, source)); };\n}\nvar RetryWhenOperator = (function () {\n    function RetryWhenOperator(notifier, source) {\n        this.notifier = notifier;\n        this.source = source;\n    }\n    RetryWhenOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new RetryWhenSubscriber(subscriber, this.notifier, this.source));\n    };\n    return RetryWhenOperator;\n}());\nvar RetryWhenSubscriber = (function (_super) {\n    tslib_1.__extends(RetryWhenSubscriber, _super);\n    function RetryWhenSubscriber(destination, notifier, source) {\n        var _this = _super.call(this, destination) || this;\n        _this.notifier = notifier;\n        _this.source = source;\n        return _this;\n    }\n    RetryWhenSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var errors = this.errors;\n            var retries = this.retries;\n            var retriesSubscription = this.retriesSubscription;\n            if (!retries) {\n                errors = new Subject();\n                try {\n                    var notifier = this.notifier;\n                    retries = notifier(errors);\n                }\n                catch (e) {\n                    return _super.prototype.error.call(this, e);\n                }\n                retriesSubscription = subscribeToResult(this, retries);\n            }\n            else {\n                this.errors = null;\n                this.retriesSubscription = null;\n            }\n            this._unsubscribeAndRecycle();\n            this.errors = errors;\n            this.retries = retries;\n            this.retriesSubscription = retriesSubscription;\n            errors.next(err);\n        }\n    };\n    RetryWhenSubscriber.prototype._unsubscribe = function () {\n        var _a = this, errors = _a.errors, retriesSubscription = _a.retriesSubscription;\n        if (errors) {\n            errors.unsubscribe();\n            this.errors = null;\n        }\n        if (retriesSubscription) {\n            retriesSubscription.unsubscribe();\n            this.retriesSubscription = null;\n        }\n        this.retries = null;\n    };\n    RetryWhenSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        var _unsubscribe = this._unsubscribe;\n        this._unsubscribe = null;\n        this._unsubscribeAndRecycle();\n        this._unsubscribe = _unsubscribe;\n        this.source.subscribe(this);\n    };\n    return RetryWhenSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=retryWhen.js.map","import * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function sample(notifier) {\n    return function (source) { return source.lift(new SampleOperator(notifier)); };\n}\nvar SampleOperator = (function () {\n    function SampleOperator(notifier) {\n        this.notifier = notifier;\n    }\n    SampleOperator.prototype.call = function (subscriber, source) {\n        var sampleSubscriber = new SampleSubscriber(subscriber);\n        var subscription = source.subscribe(sampleSubscriber);\n        subscription.add(subscribeToResult(sampleSubscriber, this.notifier));\n        return subscription;\n    };\n    return SampleOperator;\n}());\nvar SampleSubscriber = (function (_super) {\n    tslib_1.__extends(SampleSubscriber, _super);\n    function SampleSubscriber() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.hasValue = false;\n        return _this;\n    }\n    SampleSubscriber.prototype._next = function (value) {\n        this.value = value;\n        this.hasValue = true;\n    };\n    SampleSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.emitValue();\n    };\n    SampleSubscriber.prototype.notifyComplete = function () {\n        this.emitValue();\n    };\n    SampleSubscriber.prototype.emitValue = function () {\n        if (this.hasValue) {\n            this.hasValue = false;\n            this.destination.next(this.value);\n        }\n    };\n    return SampleSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=sample.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { async } from '../scheduler/async';\nexport function sampleTime(period, scheduler) {\n    if (scheduler === void 0) { scheduler = async; }\n    return function (source) { return source.lift(new SampleTimeOperator(period, scheduler)); };\n}\nvar SampleTimeOperator = (function () {\n    function SampleTimeOperator(period, scheduler) {\n        this.period = period;\n        this.scheduler = scheduler;\n    }\n    SampleTimeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SampleTimeSubscriber(subscriber, this.period, this.scheduler));\n    };\n    return SampleTimeOperator;\n}());\nvar SampleTimeSubscriber = (function (_super) {\n    tslib_1.__extends(SampleTimeSubscriber, _super);\n    function SampleTimeSubscriber(destination, period, scheduler) {\n        var _this = _super.call(this, destination) || this;\n        _this.period = period;\n        _this.scheduler = scheduler;\n        _this.hasValue = false;\n        _this.add(scheduler.schedule(dispatchNotification, period, { subscriber: _this, period: period }));\n        return _this;\n    }\n    SampleTimeSubscriber.prototype._next = function (value) {\n        this.lastValue = value;\n        this.hasValue = true;\n    };\n    SampleTimeSubscriber.prototype.notifyNext = function () {\n        if (this.hasValue) {\n            this.hasValue = false;\n            this.destination.next(this.lastValue);\n        }\n    };\n    return SampleTimeSubscriber;\n}(Subscriber));\nfunction dispatchNotification(state) {\n    var subscriber = state.subscriber, period = state.period;\n    subscriber.notifyNext();\n    this.schedule(state, period);\n}\n//# sourceMappingURL=sampleTime.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function sequenceEqual(compareTo, comparator) {\n    return function (source) { return source.lift(new SequenceEqualOperator(compareTo, comparator)); };\n}\nvar SequenceEqualOperator = (function () {\n    function SequenceEqualOperator(compareTo, comparator) {\n        this.compareTo = compareTo;\n        this.comparator = comparator;\n    }\n    SequenceEqualOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SequenceEqualSubscriber(subscriber, this.compareTo, this.comparator));\n    };\n    return SequenceEqualOperator;\n}());\nexport { SequenceEqualOperator };\nvar SequenceEqualSubscriber = (function (_super) {\n    tslib_1.__extends(SequenceEqualSubscriber, _super);\n    function SequenceEqualSubscriber(destination, compareTo, comparator) {\n        var _this = _super.call(this, destination) || this;\n        _this.compareTo = compareTo;\n        _this.comparator = comparator;\n        _this._a = [];\n        _this._b = [];\n        _this._oneComplete = false;\n        _this.destination.add(compareTo.subscribe(new SequenceEqualCompareToSubscriber(destination, _this)));\n        return _this;\n    }\n    SequenceEqualSubscriber.prototype._next = function (value) {\n        if (this._oneComplete && this._b.length === 0) {\n            this.emit(false);\n        }\n        else {\n            this._a.push(value);\n            this.checkValues();\n        }\n    };\n    SequenceEqualSubscriber.prototype._complete = function () {\n        if (this._oneComplete) {\n            this.emit(this._a.length === 0 && this._b.length === 0);\n        }\n        else {\n            this._oneComplete = true;\n        }\n        this.unsubscribe();\n    };\n    SequenceEqualSubscriber.prototype.checkValues = function () {\n        var _c = this, _a = _c._a, _b = _c._b, comparator = _c.comparator;\n        while (_a.length > 0 && _b.length > 0) {\n            var a = _a.shift();\n            var b = _b.shift();\n            var areEqual = false;\n            try {\n                areEqual = comparator ? comparator(a, b) : a === b;\n            }\n            catch (e) {\n                this.destination.error(e);\n            }\n            if (!areEqual) {\n                this.emit(false);\n            }\n        }\n    };\n    SequenceEqualSubscriber.prototype.emit = function (value) {\n        var destination = this.destination;\n        destination.next(value);\n        destination.complete();\n    };\n    SequenceEqualSubscriber.prototype.nextB = function (value) {\n        if (this._oneComplete && this._a.length === 0) {\n            this.emit(false);\n        }\n        else {\n            this._b.push(value);\n            this.checkValues();\n        }\n    };\n    SequenceEqualSubscriber.prototype.completeB = function () {\n        if (this._oneComplete) {\n            this.emit(this._a.length === 0 && this._b.length === 0);\n        }\n        else {\n            this._oneComplete = true;\n        }\n    };\n    return SequenceEqualSubscriber;\n}(Subscriber));\nexport { SequenceEqualSubscriber };\nvar SequenceEqualCompareToSubscriber = (function (_super) {\n    tslib_1.__extends(SequenceEqualCompareToSubscriber, _super);\n    function SequenceEqualCompareToSubscriber(destination, parent) {\n        var _this = _super.call(this, destination) || this;\n        _this.parent = parent;\n        return _this;\n    }\n    SequenceEqualCompareToSubscriber.prototype._next = function (value) {\n        this.parent.nextB(value);\n    };\n    SequenceEqualCompareToSubscriber.prototype._error = function (err) {\n        this.parent.error(err);\n        this.unsubscribe();\n    };\n    SequenceEqualCompareToSubscriber.prototype._complete = function () {\n        this.parent.completeB();\n        this.unsubscribe();\n    };\n    return SequenceEqualCompareToSubscriber;\n}(Subscriber));\n//# sourceMappingURL=sequenceEqual.js.map","import { multicast } from './multicast';\nimport { refCount } from './refCount';\nimport { Subject } from '../Subject';\nfunction shareSubjectFactory() {\n    return new Subject();\n}\nexport function share() {\n    return function (source) { return refCount()(multicast(shareSubjectFactory)(source)); };\n}\n//# sourceMappingURL=share.js.map","import { ReplaySubject } from '../ReplaySubject';\nexport function shareReplay(configOrBufferSize, windowTime, scheduler) {\n    var config;\n    if (configOrBufferSize && typeof configOrBufferSize === 'object') {\n        config = configOrBufferSize;\n    }\n    else {\n        config = {\n            bufferSize: configOrBufferSize,\n            windowTime: windowTime,\n            refCount: false,\n            scheduler: scheduler\n        };\n    }\n    return function (source) { return source.lift(shareReplayOperator(config)); };\n}\nfunction shareReplayOperator(_a) {\n    var _b = _a.bufferSize, bufferSize = _b === void 0 ? Number.POSITIVE_INFINITY : _b, _c = _a.windowTime, windowTime = _c === void 0 ? Number.POSITIVE_INFINITY : _c, useRefCount = _a.refCount, scheduler = _a.scheduler;\n    var subject;\n    var refCount = 0;\n    var subscription;\n    var hasError = false;\n    var isComplete = false;\n    return function shareReplayOperation(source) {\n        refCount++;\n        if (!subject || hasError) {\n            hasError = false;\n            subject = new ReplaySubject(bufferSize, windowTime, scheduler);\n            subscription = source.subscribe({\n                next: function (value) { subject.next(value); },\n                error: function (err) {\n                    hasError = true;\n                    subject.error(err);\n                },\n                complete: function () {\n                    isComplete = true;\n                    subscription = undefined;\n                    subject.complete();\n                },\n            });\n        }\n        var innerSub = subject.subscribe(this);\n        this.add(function () {\n            refCount--;\n            innerSub.unsubscribe();\n            if (subscription && !isComplete && useRefCount && refCount === 0) {\n                subscription.unsubscribe();\n                subscription = undefined;\n                subject = undefined;\n            }\n        });\n    };\n}\n//# sourceMappingURL=shareReplay.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { EmptyError } from '../util/EmptyError';\nexport function single(predicate) {\n    return function (source) { return source.lift(new SingleOperator(predicate, source)); };\n}\nvar SingleOperator = (function () {\n    function SingleOperator(predicate, source) {\n        this.predicate = predicate;\n        this.source = source;\n    }\n    SingleOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SingleSubscriber(subscriber, this.predicate, this.source));\n    };\n    return SingleOperator;\n}());\nvar SingleSubscriber = (function (_super) {\n    tslib_1.__extends(SingleSubscriber, _super);\n    function SingleSubscriber(destination, predicate, source) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.source = source;\n        _this.seenValue = false;\n        _this.index = 0;\n        return _this;\n    }\n    SingleSubscriber.prototype.applySingleValue = function (value) {\n        if (this.seenValue) {\n            this.destination.error('Sequence contains more than one element');\n        }\n        else {\n            this.seenValue = true;\n            this.singleValue = value;\n        }\n    };\n    SingleSubscriber.prototype._next = function (value) {\n        var index = this.index++;\n        if (this.predicate) {\n            this.tryNext(value, index);\n        }\n        else {\n            this.applySingleValue(value);\n        }\n    };\n    SingleSubscriber.prototype.tryNext = function (value, index) {\n        try {\n            if (this.predicate(value, index, this.source)) {\n                this.applySingleValue(value);\n            }\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n    };\n    SingleSubscriber.prototype._complete = function () {\n        var destination = this.destination;\n        if (this.index > 0) {\n            destination.next(this.seenValue ? this.singleValue : undefined);\n            destination.complete();\n        }\n        else {\n            destination.error(new EmptyError);\n        }\n    };\n    return SingleSubscriber;\n}(Subscriber));\n//# sourceMappingURL=single.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function skip(count) {\n    return function (source) { return source.lift(new SkipOperator(count)); };\n}\nvar SkipOperator = (function () {\n    function SkipOperator(total) {\n        this.total = total;\n    }\n    SkipOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SkipSubscriber(subscriber, this.total));\n    };\n    return SkipOperator;\n}());\nvar SkipSubscriber = (function (_super) {\n    tslib_1.__extends(SkipSubscriber, _super);\n    function SkipSubscriber(destination, total) {\n        var _this = _super.call(this, destination) || this;\n        _this.total = total;\n        _this.count = 0;\n        return _this;\n    }\n    SkipSubscriber.prototype._next = function (x) {\n        if (++this.count > this.total) {\n            this.destination.next(x);\n        }\n    };\n    return SkipSubscriber;\n}(Subscriber));\n//# sourceMappingURL=skip.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { ArgumentOutOfRangeError } from '../util/ArgumentOutOfRangeError';\nexport function skipLast(count) {\n    return function (source) { return source.lift(new SkipLastOperator(count)); };\n}\nvar SkipLastOperator = (function () {\n    function SkipLastOperator(_skipCount) {\n        this._skipCount = _skipCount;\n        if (this._skipCount < 0) {\n            throw new ArgumentOutOfRangeError;\n        }\n    }\n    SkipLastOperator.prototype.call = function (subscriber, source) {\n        if (this._skipCount === 0) {\n            return source.subscribe(new Subscriber(subscriber));\n        }\n        else {\n            return source.subscribe(new SkipLastSubscriber(subscriber, this._skipCount));\n        }\n    };\n    return SkipLastOperator;\n}());\nvar SkipLastSubscriber = (function (_super) {\n    tslib_1.__extends(SkipLastSubscriber, _super);\n    function SkipLastSubscriber(destination, _skipCount) {\n        var _this = _super.call(this, destination) || this;\n        _this._skipCount = _skipCount;\n        _this._count = 0;\n        _this._ring = new Array(_skipCount);\n        return _this;\n    }\n    SkipLastSubscriber.prototype._next = function (value) {\n        var skipCount = this._skipCount;\n        var count = this._count++;\n        if (count < skipCount) {\n            this._ring[count] = value;\n        }\n        else {\n            var currentIndex = count % skipCount;\n            var ring = this._ring;\n            var oldValue = ring[currentIndex];\n            ring[currentIndex] = value;\n            this.destination.next(oldValue);\n        }\n    };\n    return SkipLastSubscriber;\n}(Subscriber));\n//# sourceMappingURL=skipLast.js.map","import * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function skipUntil(notifier) {\n    return function (source) { return source.lift(new SkipUntilOperator(notifier)); };\n}\nvar SkipUntilOperator = (function () {\n    function SkipUntilOperator(notifier) {\n        this.notifier = notifier;\n    }\n    SkipUntilOperator.prototype.call = function (destination, source) {\n        return source.subscribe(new SkipUntilSubscriber(destination, this.notifier));\n    };\n    return SkipUntilOperator;\n}());\nvar SkipUntilSubscriber = (function (_super) {\n    tslib_1.__extends(SkipUntilSubscriber, _super);\n    function SkipUntilSubscriber(destination, notifier) {\n        var _this = _super.call(this, destination) || this;\n        _this.hasValue = false;\n        var innerSubscriber = new InnerSubscriber(_this, undefined, undefined);\n        _this.add(innerSubscriber);\n        _this.innerSubscription = innerSubscriber;\n        var innerSubscription = subscribeToResult(_this, notifier, undefined, undefined, innerSubscriber);\n        if (innerSubscription !== innerSubscriber) {\n            _this.add(innerSubscription);\n            _this.innerSubscription = innerSubscription;\n        }\n        return _this;\n    }\n    SkipUntilSubscriber.prototype._next = function (value) {\n        if (this.hasValue) {\n            _super.prototype._next.call(this, value);\n        }\n    };\n    SkipUntilSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.hasValue = true;\n        if (this.innerSubscription) {\n            this.innerSubscription.unsubscribe();\n        }\n    };\n    SkipUntilSubscriber.prototype.notifyComplete = function () {\n    };\n    return SkipUntilSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=skipUntil.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function skipWhile(predicate) {\n    return function (source) { return source.lift(new SkipWhileOperator(predicate)); };\n}\nvar SkipWhileOperator = (function () {\n    function SkipWhileOperator(predicate) {\n        this.predicate = predicate;\n    }\n    SkipWhileOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SkipWhileSubscriber(subscriber, this.predicate));\n    };\n    return SkipWhileOperator;\n}());\nvar SkipWhileSubscriber = (function (_super) {\n    tslib_1.__extends(SkipWhileSubscriber, _super);\n    function SkipWhileSubscriber(destination, predicate) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.skipping = true;\n        _this.index = 0;\n        return _this;\n    }\n    SkipWhileSubscriber.prototype._next = function (value) {\n        var destination = this.destination;\n        if (this.skipping) {\n            this.tryCallPredicate(value);\n        }\n        if (!this.skipping) {\n            destination.next(value);\n        }\n    };\n    SkipWhileSubscriber.prototype.tryCallPredicate = function (value) {\n        try {\n            var result = this.predicate(value, this.index++);\n            this.skipping = Boolean(result);\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n    };\n    return SkipWhileSubscriber;\n}(Subscriber));\n//# sourceMappingURL=skipWhile.js.map","import { concat } from '../observable/concat';\nimport { isScheduler } from '../util/isScheduler';\nexport function startWith() {\n    var array = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        array[_i] = arguments[_i];\n    }\n    var scheduler = array[array.length - 1];\n    if (isScheduler(scheduler)) {\n        array.pop();\n        return function (source) { return concat(array, source, scheduler); };\n    }\n    else {\n        return function (source) { return concat(array, source); };\n    }\n}\n//# sourceMappingURL=startWith.js.map","import * as tslib_1 from \"tslib\";\nimport { Observable } from '../Observable';\nimport { asap } from '../scheduler/asap';\nimport { isNumeric } from '../util/isNumeric';\nvar SubscribeOnObservable = (function (_super) {\n    tslib_1.__extends(SubscribeOnObservable, _super);\n    function SubscribeOnObservable(source, delayTime, scheduler) {\n        if (delayTime === void 0) { delayTime = 0; }\n        if (scheduler === void 0) { scheduler = asap; }\n        var _this = _super.call(this) || this;\n        _this.source = source;\n        _this.delayTime = delayTime;\n        _this.scheduler = scheduler;\n        if (!isNumeric(delayTime) || delayTime < 0) {\n            _this.delayTime = 0;\n        }\n        if (!scheduler || typeof scheduler.schedule !== 'function') {\n            _this.scheduler = asap;\n        }\n        return _this;\n    }\n    SubscribeOnObservable.create = function (source, delay, scheduler) {\n        if (delay === void 0) { delay = 0; }\n        if (scheduler === void 0) { scheduler = asap; }\n        return new SubscribeOnObservable(source, delay, scheduler);\n    };\n    SubscribeOnObservable.dispatch = function (arg) {\n        var source = arg.source, subscriber = arg.subscriber;\n        return this.add(source.subscribe(subscriber));\n    };\n    SubscribeOnObservable.prototype._subscribe = function (subscriber) {\n        var delay = this.delayTime;\n        var source = this.source;\n        var scheduler = this.scheduler;\n        return scheduler.schedule(SubscribeOnObservable.dispatch, delay, {\n            source: source, subscriber: subscriber\n        });\n    };\n    return SubscribeOnObservable;\n}(Observable));\nexport { SubscribeOnObservable };\n//# sourceMappingURL=SubscribeOnObservable.js.map","import { SubscribeOnObservable } from '../observable/SubscribeOnObservable';\nexport function subscribeOn(scheduler, delay) {\n    if (delay === void 0) { delay = 0; }\n    return function subscribeOnOperatorFunction(source) {\n        return source.lift(new SubscribeOnOperator(scheduler, delay));\n    };\n}\nvar SubscribeOnOperator = (function () {\n    function SubscribeOnOperator(scheduler, delay) {\n        this.scheduler = scheduler;\n        this.delay = delay;\n    }\n    SubscribeOnOperator.prototype.call = function (subscriber, source) {\n        return new SubscribeOnObservable(source, this.delay, this.scheduler).subscribe(subscriber);\n    };\n    return SubscribeOnOperator;\n}());\n//# sourceMappingURL=subscribeOn.js.map","import * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { map } from './map';\nimport { from } from '../observable/from';\nexport function switchMap(project, resultSelector) {\n    if (typeof resultSelector === 'function') {\n        return function (source) { return source.pipe(switchMap(function (a, i) { return from(project(a, i)).pipe(map(function (b, ii) { return resultSelector(a, b, i, ii); })); })); };\n    }\n    return function (source) { return source.lift(new SwitchMapOperator(project)); };\n}\nvar SwitchMapOperator = (function () {\n    function SwitchMapOperator(project) {\n        this.project = project;\n    }\n    SwitchMapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SwitchMapSubscriber(subscriber, this.project));\n    };\n    return SwitchMapOperator;\n}());\nvar SwitchMapSubscriber = (function (_super) {\n    tslib_1.__extends(SwitchMapSubscriber, _super);\n    function SwitchMapSubscriber(destination, project) {\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.index = 0;\n        return _this;\n    }\n    SwitchMapSubscriber.prototype._next = function (value) {\n        var result;\n        var index = this.index++;\n        try {\n            result = this.project(value, index);\n        }\n        catch (error) {\n            this.destination.error(error);\n            return;\n        }\n        this._innerSub(result, value, index);\n    };\n    SwitchMapSubscriber.prototype._innerSub = function (result, value, index) {\n        var innerSubscription = this.innerSubscription;\n        if (innerSubscription) {\n            innerSubscription.unsubscribe();\n        }\n        var innerSubscriber = new InnerSubscriber(this, value, index);\n        var destination = this.destination;\n        destination.add(innerSubscriber);\n        this.innerSubscription = subscribeToResult(this, result, undefined, undefined, innerSubscriber);\n        if (this.innerSubscription !== innerSubscriber) {\n            destination.add(this.innerSubscription);\n        }\n    };\n    SwitchMapSubscriber.prototype._complete = function () {\n        var innerSubscription = this.innerSubscription;\n        if (!innerSubscription || innerSubscription.closed) {\n            _super.prototype._complete.call(this);\n        }\n        this.unsubscribe();\n    };\n    SwitchMapSubscriber.prototype._unsubscribe = function () {\n        this.innerSubscription = null;\n    };\n    SwitchMapSubscriber.prototype.notifyComplete = function (innerSub) {\n        var destination = this.destination;\n        destination.remove(innerSub);\n        this.innerSubscription = null;\n        if (this.isStopped) {\n            _super.prototype._complete.call(this);\n        }\n    };\n    SwitchMapSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(innerValue);\n    };\n    return SwitchMapSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=switchMap.js.map","import { switchMap } from './switchMap';\nimport { identity } from '../util/identity';\nexport function switchAll() {\n    return switchMap(identity);\n}\n//# sourceMappingURL=switchAll.js.map","import { switchMap } from './switchMap';\nexport function switchMapTo(innerObservable, resultSelector) {\n    return resultSelector ? switchMap(function () { return innerObservable; }, resultSelector) : switchMap(function () { return innerObservable; });\n}\n//# sourceMappingURL=switchMapTo.js.map","import * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function takeUntil(notifier) {\n    return function (source) { return source.lift(new TakeUntilOperator(notifier)); };\n}\nvar TakeUntilOperator = (function () {\n    function TakeUntilOperator(notifier) {\n        this.notifier = notifier;\n    }\n    TakeUntilOperator.prototype.call = function (subscriber, source) {\n        var takeUntilSubscriber = new TakeUntilSubscriber(subscriber);\n        var notifierSubscription = subscribeToResult(takeUntilSubscriber, this.notifier);\n        if (notifierSubscription && !takeUntilSubscriber.seenValue) {\n            takeUntilSubscriber.add(notifierSubscription);\n            return source.subscribe(takeUntilSubscriber);\n        }\n        return takeUntilSubscriber;\n    };\n    return TakeUntilOperator;\n}());\nvar TakeUntilSubscriber = (function (_super) {\n    tslib_1.__extends(TakeUntilSubscriber, _super);\n    function TakeUntilSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.seenValue = false;\n        return _this;\n    }\n    TakeUntilSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.seenValue = true;\n        this.complete();\n    };\n    TakeUntilSubscriber.prototype.notifyComplete = function () {\n    };\n    return TakeUntilSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=takeUntil.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function takeWhile(predicate, inclusive) {\n    if (inclusive === void 0) { inclusive = false; }\n    return function (source) {\n        return source.lift(new TakeWhileOperator(predicate, inclusive));\n    };\n}\nvar TakeWhileOperator = (function () {\n    function TakeWhileOperator(predicate, inclusive) {\n        this.predicate = predicate;\n        this.inclusive = inclusive;\n    }\n    TakeWhileOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new TakeWhileSubscriber(subscriber, this.predicate, this.inclusive));\n    };\n    return TakeWhileOperator;\n}());\nvar TakeWhileSubscriber = (function (_super) {\n    tslib_1.__extends(TakeWhileSubscriber, _super);\n    function TakeWhileSubscriber(destination, predicate, inclusive) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.inclusive = inclusive;\n        _this.index = 0;\n        return _this;\n    }\n    TakeWhileSubscriber.prototype._next = function (value) {\n        var destination = this.destination;\n        var result;\n        try {\n            result = this.predicate(value, this.index++);\n        }\n        catch (err) {\n            destination.error(err);\n            return;\n        }\n        this.nextOrComplete(value, result);\n    };\n    TakeWhileSubscriber.prototype.nextOrComplete = function (value, predicateResult) {\n        var destination = this.destination;\n        if (Boolean(predicateResult)) {\n            destination.next(value);\n        }\n        else {\n            if (this.inclusive) {\n                destination.next(value);\n            }\n            destination.complete();\n        }\n    };\n    return TakeWhileSubscriber;\n}(Subscriber));\n//# sourceMappingURL=takeWhile.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { noop } from '../util/noop';\nimport { isFunction } from '../util/isFunction';\nexport function tap(nextOrObserver, error, complete) {\n    return function tapOperatorFunction(source) {\n        return source.lift(new DoOperator(nextOrObserver, error, complete));\n    };\n}\nvar DoOperator = (function () {\n    function DoOperator(nextOrObserver, error, complete) {\n        this.nextOrObserver = nextOrObserver;\n        this.error = error;\n        this.complete = complete;\n    }\n    DoOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new TapSubscriber(subscriber, this.nextOrObserver, this.error, this.complete));\n    };\n    return DoOperator;\n}());\nvar TapSubscriber = (function (_super) {\n    tslib_1.__extends(TapSubscriber, _super);\n    function TapSubscriber(destination, observerOrNext, error, complete) {\n        var _this = _super.call(this, destination) || this;\n        _this._tapNext = noop;\n        _this._tapError = noop;\n        _this._tapComplete = noop;\n        _this._tapError = error || noop;\n        _this._tapComplete = complete || noop;\n        if (isFunction(observerOrNext)) {\n            _this._context = _this;\n            _this._tapNext = observerOrNext;\n        }\n        else if (observerOrNext) {\n            _this._context = observerOrNext;\n            _this._tapNext = observerOrNext.next || noop;\n            _this._tapError = observerOrNext.error || noop;\n            _this._tapComplete = observerOrNext.complete || noop;\n        }\n        return _this;\n    }\n    TapSubscriber.prototype._next = function (value) {\n        try {\n            this._tapNext.call(this._context, value);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(value);\n    };\n    TapSubscriber.prototype._error = function (err) {\n        try {\n            this._tapError.call(this._context, err);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.error(err);\n    };\n    TapSubscriber.prototype._complete = function () {\n        try {\n            this._tapComplete.call(this._context);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        return this.destination.complete();\n    };\n    return TapSubscriber;\n}(Subscriber));\n//# sourceMappingURL=tap.js.map","import * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport var defaultThrottleConfig = {\n    leading: true,\n    trailing: false\n};\nexport function throttle(durationSelector, config) {\n    if (config === void 0) { config = defaultThrottleConfig; }\n    return function (source) { return source.lift(new ThrottleOperator(durationSelector, config.leading, config.trailing)); };\n}\nvar ThrottleOperator = (function () {\n    function ThrottleOperator(durationSelector, leading, trailing) {\n        this.durationSelector = durationSelector;\n        this.leading = leading;\n        this.trailing = trailing;\n    }\n    ThrottleOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ThrottleSubscriber(subscriber, this.durationSelector, this.leading, this.trailing));\n    };\n    return ThrottleOperator;\n}());\nvar ThrottleSubscriber = (function (_super) {\n    tslib_1.__extends(ThrottleSubscriber, _super);\n    function ThrottleSubscriber(destination, durationSelector, _leading, _trailing) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        _this.durationSelector = durationSelector;\n        _this._leading = _leading;\n        _this._trailing = _trailing;\n        _this._hasValue = false;\n        return _this;\n    }\n    ThrottleSubscriber.prototype._next = function (value) {\n        this._hasValue = true;\n        this._sendValue = value;\n        if (!this._throttled) {\n            if (this._leading) {\n                this.send();\n            }\n            else {\n                this.throttle(value);\n            }\n        }\n    };\n    ThrottleSubscriber.prototype.send = function () {\n        var _a = this, _hasValue = _a._hasValue, _sendValue = _a._sendValue;\n        if (_hasValue) {\n            this.destination.next(_sendValue);\n            this.throttle(_sendValue);\n        }\n        this._hasValue = false;\n        this._sendValue = null;\n    };\n    ThrottleSubscriber.prototype.throttle = function (value) {\n        var duration = this.tryDurationSelector(value);\n        if (!!duration) {\n            this.add(this._throttled = subscribeToResult(this, duration));\n        }\n    };\n    ThrottleSubscriber.prototype.tryDurationSelector = function (value) {\n        try {\n            return this.durationSelector(value);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return null;\n        }\n    };\n    ThrottleSubscriber.prototype.throttlingDone = function () {\n        var _a = this, _throttled = _a._throttled, _trailing = _a._trailing;\n        if (_throttled) {\n            _throttled.unsubscribe();\n        }\n        this._throttled = null;\n        if (_trailing) {\n            this.send();\n        }\n    };\n    ThrottleSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.throttlingDone();\n    };\n    ThrottleSubscriber.prototype.notifyComplete = function () {\n        this.throttlingDone();\n    };\n    return ThrottleSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=throttle.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { async } from '../scheduler/async';\nimport { defaultThrottleConfig } from './throttle';\nexport function throttleTime(duration, scheduler, config) {\n    if (scheduler === void 0) { scheduler = async; }\n    if (config === void 0) { config = defaultThrottleConfig; }\n    return function (source) { return source.lift(new ThrottleTimeOperator(duration, scheduler, config.leading, config.trailing)); };\n}\nvar ThrottleTimeOperator = (function () {\n    function ThrottleTimeOperator(duration, scheduler, leading, trailing) {\n        this.duration = duration;\n        this.scheduler = scheduler;\n        this.leading = leading;\n        this.trailing = trailing;\n    }\n    ThrottleTimeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ThrottleTimeSubscriber(subscriber, this.duration, this.scheduler, this.leading, this.trailing));\n    };\n    return ThrottleTimeOperator;\n}());\nvar ThrottleTimeSubscriber = (function (_super) {\n    tslib_1.__extends(ThrottleTimeSubscriber, _super);\n    function ThrottleTimeSubscriber(destination, duration, scheduler, leading, trailing) {\n        var _this = _super.call(this, destination) || this;\n        _this.duration = duration;\n        _this.scheduler = scheduler;\n        _this.leading = leading;\n        _this.trailing = trailing;\n        _this._hasTrailingValue = false;\n        _this._trailingValue = null;\n        return _this;\n    }\n    ThrottleTimeSubscriber.prototype._next = function (value) {\n        if (this.throttled) {\n            if (this.trailing) {\n                this._trailingValue = value;\n                this._hasTrailingValue = true;\n            }\n        }\n        else {\n            this.add(this.throttled = this.scheduler.schedule(dispatchNext, this.duration, { subscriber: this }));\n            if (this.leading) {\n                this.destination.next(value);\n            }\n            else if (this.trailing) {\n                this._trailingValue = value;\n                this._hasTrailingValue = true;\n            }\n        }\n    };\n    ThrottleTimeSubscriber.prototype._complete = function () {\n        if (this._hasTrailingValue) {\n            this.destination.next(this._trailingValue);\n            this.destination.complete();\n        }\n        else {\n            this.destination.complete();\n        }\n    };\n    ThrottleTimeSubscriber.prototype.clearThrottle = function () {\n        var throttled = this.throttled;\n        if (throttled) {\n            if (this.trailing && this._hasTrailingValue) {\n                this.destination.next(this._trailingValue);\n                this._trailingValue = null;\n                this._hasTrailingValue = false;\n            }\n            throttled.unsubscribe();\n            this.remove(throttled);\n            this.throttled = null;\n        }\n    };\n    return ThrottleTimeSubscriber;\n}(Subscriber));\nfunction dispatchNext(arg) {\n    var subscriber = arg.subscriber;\n    subscriber.clearThrottle();\n}\n//# sourceMappingURL=throttleTime.js.map","import { async } from '../scheduler/async';\nimport { scan } from './scan';\nimport { defer } from '../observable/defer';\nimport { map } from './map';\nexport function timeInterval(scheduler) {\n    if (scheduler === void 0) { scheduler = async; }\n    return function (source) { return defer(function () {\n        return source.pipe(scan(function (_a, value) {\n            var current = _a.current;\n            return ({ value: value, current: scheduler.now(), last: current });\n        }, { current: scheduler.now(), value: undefined, last: undefined }), map(function (_a) {\n            var current = _a.current, last = _a.last, value = _a.value;\n            return new TimeInterval(value, current - last);\n        }));\n    }); };\n}\nvar TimeInterval = (function () {\n    function TimeInterval(value, interval) {\n        this.value = value;\n        this.interval = interval;\n    }\n    return TimeInterval;\n}());\nexport { TimeInterval };\n//# sourceMappingURL=timeInterval.js.map","import * as tslib_1 from \"tslib\";\nimport { async } from '../scheduler/async';\nimport { isDate } from '../util/isDate';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function timeoutWith(due, withObservable, scheduler) {\n    if (scheduler === void 0) { scheduler = async; }\n    return function (source) {\n        var absoluteTimeout = isDate(due);\n        var waitFor = absoluteTimeout ? (+due - scheduler.now()) : Math.abs(due);\n        return source.lift(new TimeoutWithOperator(waitFor, absoluteTimeout, withObservable, scheduler));\n    };\n}\nvar TimeoutWithOperator = (function () {\n    function TimeoutWithOperator(waitFor, absoluteTimeout, withObservable, scheduler) {\n        this.waitFor = waitFor;\n        this.absoluteTimeout = absoluteTimeout;\n        this.withObservable = withObservable;\n        this.scheduler = scheduler;\n    }\n    TimeoutWithOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new TimeoutWithSubscriber(subscriber, this.absoluteTimeout, this.waitFor, this.withObservable, this.scheduler));\n    };\n    return TimeoutWithOperator;\n}());\nvar TimeoutWithSubscriber = (function (_super) {\n    tslib_1.__extends(TimeoutWithSubscriber, _super);\n    function TimeoutWithSubscriber(destination, absoluteTimeout, waitFor, withObservable, scheduler) {\n        var _this = _super.call(this, destination) || this;\n        _this.absoluteTimeout = absoluteTimeout;\n        _this.waitFor = waitFor;\n        _this.withObservable = withObservable;\n        _this.scheduler = scheduler;\n        _this.action = null;\n        _this.scheduleTimeout();\n        return _this;\n    }\n    TimeoutWithSubscriber.dispatchTimeout = function (subscriber) {\n        var withObservable = subscriber.withObservable;\n        subscriber._unsubscribeAndRecycle();\n        subscriber.add(subscribeToResult(subscriber, withObservable));\n    };\n    TimeoutWithSubscriber.prototype.scheduleTimeout = function () {\n        var action = this.action;\n        if (action) {\n            this.action = action.schedule(this, this.waitFor);\n        }\n        else {\n            this.add(this.action = this.scheduler.schedule(TimeoutWithSubscriber.dispatchTimeout, this.waitFor, this));\n        }\n    };\n    TimeoutWithSubscriber.prototype._next = function (value) {\n        if (!this.absoluteTimeout) {\n            this.scheduleTimeout();\n        }\n        _super.prototype._next.call(this, value);\n    };\n    TimeoutWithSubscriber.prototype._unsubscribe = function () {\n        this.action = null;\n        this.scheduler = null;\n        this.withObservable = null;\n    };\n    return TimeoutWithSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=timeoutWith.js.map","import { async } from '../scheduler/async';\nimport { TimeoutError } from '../util/TimeoutError';\nimport { timeoutWith } from './timeoutWith';\nimport { throwError } from '../observable/throwError';\nexport function timeout(due, scheduler) {\n    if (scheduler === void 0) { scheduler = async; }\n    return timeoutWith(due, throwError(new TimeoutError()), scheduler);\n}\n//# sourceMappingURL=timeout.js.map","import { async } from '../scheduler/async';\nimport { map } from './map';\nexport function timestamp(scheduler) {\n    if (scheduler === void 0) { scheduler = async; }\n    return map(function (value) { return new Timestamp(value, scheduler.now()); });\n}\nvar Timestamp = (function () {\n    function Timestamp(value, timestamp) {\n        this.value = value;\n        this.timestamp = timestamp;\n    }\n    return Timestamp;\n}());\nexport { Timestamp };\n//# sourceMappingURL=timestamp.js.map","import { reduce } from './reduce';\nfunction toArrayReducer(arr, item, index) {\n    if (index === 0) {\n        return [item];\n    }\n    arr.push(item);\n    return arr;\n}\nexport function toArray() {\n    return reduce(toArrayReducer, []);\n}\n//# sourceMappingURL=toArray.js.map","import * as tslib_1 from \"tslib\";\nimport { Subject } from '../Subject';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function window(windowBoundaries) {\n    return function windowOperatorFunction(source) {\n        return source.lift(new WindowOperator(windowBoundaries));\n    };\n}\nvar WindowOperator = (function () {\n    function WindowOperator(windowBoundaries) {\n        this.windowBoundaries = windowBoundaries;\n    }\n    WindowOperator.prototype.call = function (subscriber, source) {\n        var windowSubscriber = new WindowSubscriber(subscriber);\n        var sourceSubscription = source.subscribe(windowSubscriber);\n        if (!sourceSubscription.closed) {\n            windowSubscriber.add(subscribeToResult(windowSubscriber, this.windowBoundaries));\n        }\n        return sourceSubscription;\n    };\n    return WindowOperator;\n}());\nvar WindowSubscriber = (function (_super) {\n    tslib_1.__extends(WindowSubscriber, _super);\n    function WindowSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.window = new Subject();\n        destination.next(_this.window);\n        return _this;\n    }\n    WindowSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.openWindow();\n    };\n    WindowSubscriber.prototype.notifyError = function (error, innerSub) {\n        this._error(error);\n    };\n    WindowSubscriber.prototype.notifyComplete = function (innerSub) {\n        this._complete();\n    };\n    WindowSubscriber.prototype._next = function (value) {\n        this.window.next(value);\n    };\n    WindowSubscriber.prototype._error = function (err) {\n        this.window.error(err);\n        this.destination.error(err);\n    };\n    WindowSubscriber.prototype._complete = function () {\n        this.window.complete();\n        this.destination.complete();\n    };\n    WindowSubscriber.prototype._unsubscribe = function () {\n        this.window = null;\n    };\n    WindowSubscriber.prototype.openWindow = function () {\n        var prevWindow = this.window;\n        if (prevWindow) {\n            prevWindow.complete();\n        }\n        var destination = this.destination;\n        var newWindow = this.window = new Subject();\n        destination.next(newWindow);\n    };\n    return WindowSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=window.js.map","import * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { Subject } from '../Subject';\nexport function windowCount(windowSize, startWindowEvery) {\n    if (startWindowEvery === void 0) { startWindowEvery = 0; }\n    return function windowCountOperatorFunction(source) {\n        return source.lift(new WindowCountOperator(windowSize, startWindowEvery));\n    };\n}\nvar WindowCountOperator = (function () {\n    function WindowCountOperator(windowSize, startWindowEvery) {\n        this.windowSize = windowSize;\n        this.startWindowEvery = startWindowEvery;\n    }\n    WindowCountOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new WindowCountSubscriber(subscriber, this.windowSize, this.startWindowEvery));\n    };\n    return WindowCountOperator;\n}());\nvar WindowCountSubscriber = (function (_super) {\n    tslib_1.__extends(WindowCountSubscriber, _super);\n    function WindowCountSubscriber(destination, windowSize, startWindowEvery) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        _this.windowSize = windowSize;\n        _this.startWindowEvery = startWindowEvery;\n        _this.windows = [new Subject()];\n        _this.count = 0;\n        destination.next(_this.windows[0]);\n        return _this;\n    }\n    WindowCountSubscriber.prototype._next = function (value) {\n        var startWindowEvery = (this.startWindowEvery > 0) ? this.startWindowEvery : this.windowSize;\n        var destination = this.destination;\n        var windowSize = this.windowSize;\n        var windows = this.windows;\n        var len = windows.length;\n        for (var i = 0; i < len && !this.closed; i++) {\n            windows[i].next(value);\n        }\n        var c = this.count - windowSize + 1;\n        if (c >= 0 && c % startWindowEvery === 0 && !this.closed) {\n            windows.shift().complete();\n        }\n        if (++this.count % startWindowEvery === 0 && !this.closed) {\n            var window_1 = new Subject();\n            windows.push(window_1);\n            destination.next(window_1);\n        }\n    };\n    WindowCountSubscriber.prototype._error = function (err) {\n        var windows = this.windows;\n        if (windows) {\n            while (windows.length > 0 && !this.closed) {\n                windows.shift().error(err);\n            }\n        }\n        this.destination.error(err);\n    };\n    WindowCountSubscriber.prototype._complete = function () {\n        var windows = this.windows;\n        if (windows) {\n            while (windows.length > 0 && !this.closed) {\n                windows.shift().complete();\n            }\n        }\n        this.destination.complete();\n    };\n    WindowCountSubscriber.prototype._unsubscribe = function () {\n        this.count = 0;\n        this.windows = null;\n    };\n    return WindowCountSubscriber;\n}(Subscriber));\n//# sourceMappingURL=windowCount.js.map","import * as tslib_1 from \"tslib\";\nimport { Subject } from '../Subject';\nimport { async } from '../scheduler/async';\nimport { Subscriber } from '../Subscriber';\nimport { isNumeric } from '../util/isNumeric';\nimport { isScheduler } from '../util/isScheduler';\nexport function windowTime(windowTimeSpan) {\n    var scheduler = async;\n    var windowCreationInterval = null;\n    var maxWindowSize = Number.POSITIVE_INFINITY;\n    if (isScheduler(arguments[3])) {\n        scheduler = arguments[3];\n    }\n    if (isScheduler(arguments[2])) {\n        scheduler = arguments[2];\n    }\n    else if (isNumeric(arguments[2])) {\n        maxWindowSize = arguments[2];\n    }\n    if (isScheduler(arguments[1])) {\n        scheduler = arguments[1];\n    }\n    else if (isNumeric(arguments[1])) {\n        windowCreationInterval = arguments[1];\n    }\n    return function windowTimeOperatorFunction(source) {\n        return source.lift(new WindowTimeOperator(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler));\n    };\n}\nvar WindowTimeOperator = (function () {\n    function WindowTimeOperator(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler) {\n        this.windowTimeSpan = windowTimeSpan;\n        this.windowCreationInterval = windowCreationInterval;\n        this.maxWindowSize = maxWindowSize;\n        this.scheduler = scheduler;\n    }\n    WindowTimeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new WindowTimeSubscriber(subscriber, this.windowTimeSpan, this.windowCreationInterval, this.maxWindowSize, this.scheduler));\n    };\n    return WindowTimeOperator;\n}());\nvar CountedSubject = (function (_super) {\n    tslib_1.__extends(CountedSubject, _super);\n    function CountedSubject() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._numberOfNextedValues = 0;\n        return _this;\n    }\n    CountedSubject.prototype.next = function (value) {\n        this._numberOfNextedValues++;\n        _super.prototype.next.call(this, value);\n    };\n    Object.defineProperty(CountedSubject.prototype, \"numberOfNextedValues\", {\n        get: function () {\n            return this._numberOfNextedValues;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return CountedSubject;\n}(Subject));\nvar WindowTimeSubscriber = (function (_super) {\n    tslib_1.__extends(WindowTimeSubscriber, _super);\n    function WindowTimeSubscriber(destination, windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        _this.windowTimeSpan = windowTimeSpan;\n        _this.windowCreationInterval = windowCreationInterval;\n        _this.maxWindowSize = maxWindowSize;\n        _this.scheduler = scheduler;\n        _this.windows = [];\n        var window = _this.openWindow();\n        if (windowCreationInterval !== null && windowCreationInterval >= 0) {\n            var closeState = { subscriber: _this, window: window, context: null };\n            var creationState = { windowTimeSpan: windowTimeSpan, windowCreationInterval: windowCreationInterval, subscriber: _this, scheduler: scheduler };\n            _this.add(scheduler.schedule(dispatchWindowClose, windowTimeSpan, closeState));\n            _this.add(scheduler.schedule(dispatchWindowCreation, windowCreationInterval, creationState));\n        }\n        else {\n            var timeSpanOnlyState = { subscriber: _this, window: window, windowTimeSpan: windowTimeSpan };\n            _this.add(scheduler.schedule(dispatchWindowTimeSpanOnly, windowTimeSpan, timeSpanOnlyState));\n        }\n        return _this;\n    }\n    WindowTimeSubscriber.prototype._next = function (value) {\n        var windows = this.windows;\n        var len = windows.length;\n        for (var i = 0; i < len; i++) {\n            var window_1 = windows[i];\n            if (!window_1.closed) {\n                window_1.next(value);\n                if (window_1.numberOfNextedValues >= this.maxWindowSize) {\n                    this.closeWindow(window_1);\n                }\n            }\n        }\n    };\n    WindowTimeSubscriber.prototype._error = function (err) {\n        var windows = this.windows;\n        while (windows.length > 0) {\n            windows.shift().error(err);\n        }\n        this.destination.error(err);\n    };\n    WindowTimeSubscriber.prototype._complete = function () {\n        var windows = this.windows;\n        while (windows.length > 0) {\n            var window_2 = windows.shift();\n            if (!window_2.closed) {\n                window_2.complete();\n            }\n        }\n        this.destination.complete();\n    };\n    WindowTimeSubscriber.prototype.openWindow = function () {\n        var window = new CountedSubject();\n        this.windows.push(window);\n        var destination = this.destination;\n        destination.next(window);\n        return window;\n    };\n    WindowTimeSubscriber.prototype.closeWindow = function (window) {\n        window.complete();\n        var windows = this.windows;\n        windows.splice(windows.indexOf(window), 1);\n    };\n    return WindowTimeSubscriber;\n}(Subscriber));\nfunction dispatchWindowTimeSpanOnly(state) {\n    var subscriber = state.subscriber, windowTimeSpan = state.windowTimeSpan, window = state.window;\n    if (window) {\n        subscriber.closeWindow(window);\n    }\n    state.window = subscriber.openWindow();\n    this.schedule(state, windowTimeSpan);\n}\nfunction dispatchWindowCreation(state) {\n    var windowTimeSpan = state.windowTimeSpan, subscriber = state.subscriber, scheduler = state.scheduler, windowCreationInterval = state.windowCreationInterval;\n    var window = subscriber.openWindow();\n    var action = this;\n    var context = { action: action, subscription: null };\n    var timeSpanState = { subscriber: subscriber, window: window, context: context };\n    context.subscription = scheduler.schedule(dispatchWindowClose, windowTimeSpan, timeSpanState);\n    action.add(context.subscription);\n    action.schedule(state, windowCreationInterval);\n}\nfunction dispatchWindowClose(state) {\n    var subscriber = state.subscriber, window = state.window, context = state.context;\n    if (context && context.action && context.subscription) {\n        context.action.remove(context.subscription);\n    }\n    subscriber.closeWindow(window);\n}\n//# sourceMappingURL=windowTime.js.map","import * as tslib_1 from \"tslib\";\nimport { Subject } from '../Subject';\nimport { Subscription } from '../Subscription';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function windowToggle(openings, closingSelector) {\n    return function (source) { return source.lift(new WindowToggleOperator(openings, closingSelector)); };\n}\nvar WindowToggleOperator = (function () {\n    function WindowToggleOperator(openings, closingSelector) {\n        this.openings = openings;\n        this.closingSelector = closingSelector;\n    }\n    WindowToggleOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new WindowToggleSubscriber(subscriber, this.openings, this.closingSelector));\n    };\n    return WindowToggleOperator;\n}());\nvar WindowToggleSubscriber = (function (_super) {\n    tslib_1.__extends(WindowToggleSubscriber, _super);\n    function WindowToggleSubscriber(destination, openings, closingSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.openings = openings;\n        _this.closingSelector = closingSelector;\n        _this.contexts = [];\n        _this.add(_this.openSubscription = subscribeToResult(_this, openings, openings));\n        return _this;\n    }\n    WindowToggleSubscriber.prototype._next = function (value) {\n        var contexts = this.contexts;\n        if (contexts) {\n            var len = contexts.length;\n            for (var i = 0; i < len; i++) {\n                contexts[i].window.next(value);\n            }\n        }\n    };\n    WindowToggleSubscriber.prototype._error = function (err) {\n        var contexts = this.contexts;\n        this.contexts = null;\n        if (contexts) {\n            var len = contexts.length;\n            var index = -1;\n            while (++index < len) {\n                var context_1 = contexts[index];\n                context_1.window.error(err);\n                context_1.subscription.unsubscribe();\n            }\n        }\n        _super.prototype._error.call(this, err);\n    };\n    WindowToggleSubscriber.prototype._complete = function () {\n        var contexts = this.contexts;\n        this.contexts = null;\n        if (contexts) {\n            var len = contexts.length;\n            var index = -1;\n            while (++index < len) {\n                var context_2 = contexts[index];\n                context_2.window.complete();\n                context_2.subscription.unsubscribe();\n            }\n        }\n        _super.prototype._complete.call(this);\n    };\n    WindowToggleSubscriber.prototype._unsubscribe = function () {\n        var contexts = this.contexts;\n        this.contexts = null;\n        if (contexts) {\n            var len = contexts.length;\n            var index = -1;\n            while (++index < len) {\n                var context_3 = contexts[index];\n                context_3.window.unsubscribe();\n                context_3.subscription.unsubscribe();\n            }\n        }\n    };\n    WindowToggleSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        if (outerValue === this.openings) {\n            var closingNotifier = void 0;\n            try {\n                var closingSelector = this.closingSelector;\n                closingNotifier = closingSelector(innerValue);\n            }\n            catch (e) {\n                return this.error(e);\n            }\n            var window_1 = new Subject();\n            var subscription = new Subscription();\n            var context_4 = { window: window_1, subscription: subscription };\n            this.contexts.push(context_4);\n            var innerSubscription = subscribeToResult(this, closingNotifier, context_4);\n            if (innerSubscription.closed) {\n                this.closeWindow(this.contexts.length - 1);\n            }\n            else {\n                innerSubscription.context = context_4;\n                subscription.add(innerSubscription);\n            }\n            this.destination.next(window_1);\n        }\n        else {\n            this.closeWindow(this.contexts.indexOf(outerValue));\n        }\n    };\n    WindowToggleSubscriber.prototype.notifyError = function (err) {\n        this.error(err);\n    };\n    WindowToggleSubscriber.prototype.notifyComplete = function (inner) {\n        if (inner !== this.openSubscription) {\n            this.closeWindow(this.contexts.indexOf(inner.context));\n        }\n    };\n    WindowToggleSubscriber.prototype.closeWindow = function (index) {\n        if (index === -1) {\n            return;\n        }\n        var contexts = this.contexts;\n        var context = contexts[index];\n        var window = context.window, subscription = context.subscription;\n        contexts.splice(index, 1);\n        window.complete();\n        subscription.unsubscribe();\n    };\n    return WindowToggleSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=windowToggle.js.map","import * as tslib_1 from \"tslib\";\nimport { Subject } from '../Subject';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function windowWhen(closingSelector) {\n    return function windowWhenOperatorFunction(source) {\n        return source.lift(new WindowOperator(closingSelector));\n    };\n}\nvar WindowOperator = (function () {\n    function WindowOperator(closingSelector) {\n        this.closingSelector = closingSelector;\n    }\n    WindowOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new WindowSubscriber(subscriber, this.closingSelector));\n    };\n    return WindowOperator;\n}());\nvar WindowSubscriber = (function (_super) {\n    tslib_1.__extends(WindowSubscriber, _super);\n    function WindowSubscriber(destination, closingSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        _this.closingSelector = closingSelector;\n        _this.openWindow();\n        return _this;\n    }\n    WindowSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.openWindow(innerSub);\n    };\n    WindowSubscriber.prototype.notifyError = function (error, innerSub) {\n        this._error(error);\n    };\n    WindowSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.openWindow(innerSub);\n    };\n    WindowSubscriber.prototype._next = function (value) {\n        this.window.next(value);\n    };\n    WindowSubscriber.prototype._error = function (err) {\n        this.window.error(err);\n        this.destination.error(err);\n        this.unsubscribeClosingNotification();\n    };\n    WindowSubscriber.prototype._complete = function () {\n        this.window.complete();\n        this.destination.complete();\n        this.unsubscribeClosingNotification();\n    };\n    WindowSubscriber.prototype.unsubscribeClosingNotification = function () {\n        if (this.closingNotification) {\n            this.closingNotification.unsubscribe();\n        }\n    };\n    WindowSubscriber.prototype.openWindow = function (innerSub) {\n        if (innerSub === void 0) { innerSub = null; }\n        if (innerSub) {\n            this.remove(innerSub);\n            innerSub.unsubscribe();\n        }\n        var prevWindow = this.window;\n        if (prevWindow) {\n            prevWindow.complete();\n        }\n        var window = this.window = new Subject();\n        this.destination.next(window);\n        var closingNotifier;\n        try {\n            var closingSelector = this.closingSelector;\n            closingNotifier = closingSelector();\n        }\n        catch (e) {\n            this.destination.error(e);\n            this.window.error(e);\n            return;\n        }\n        this.add(this.closingNotification = subscribeToResult(this, closingNotifier));\n    };\n    return WindowSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=windowWhen.js.map","import * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function withLatestFrom() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return function (source) {\n        var project;\n        if (typeof args[args.length - 1] === 'function') {\n            project = args.pop();\n        }\n        var observables = args;\n        return source.lift(new WithLatestFromOperator(observables, project));\n    };\n}\nvar WithLatestFromOperator = (function () {\n    function WithLatestFromOperator(observables, project) {\n        this.observables = observables;\n        this.project = project;\n    }\n    WithLatestFromOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new WithLatestFromSubscriber(subscriber, this.observables, this.project));\n    };\n    return WithLatestFromOperator;\n}());\nvar WithLatestFromSubscriber = (function (_super) {\n    tslib_1.__extends(WithLatestFromSubscriber, _super);\n    function WithLatestFromSubscriber(destination, observables, project) {\n        var _this = _super.call(this, destination) || this;\n        _this.observables = observables;\n        _this.project = project;\n        _this.toRespond = [];\n        var len = observables.length;\n        _this.values = new Array(len);\n        for (var i = 0; i < len; i++) {\n            _this.toRespond.push(i);\n        }\n        for (var i = 0; i < len; i++) {\n            var observable = observables[i];\n            _this.add(subscribeToResult(_this, observable, observable, i));\n        }\n        return _this;\n    }\n    WithLatestFromSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.values[outerIndex] = innerValue;\n        var toRespond = this.toRespond;\n        if (toRespond.length > 0) {\n            var found = toRespond.indexOf(outerIndex);\n            if (found !== -1) {\n                toRespond.splice(found, 1);\n            }\n        }\n    };\n    WithLatestFromSubscriber.prototype.notifyComplete = function () {\n    };\n    WithLatestFromSubscriber.prototype._next = function (value) {\n        if (this.toRespond.length === 0) {\n            var args = [value].concat(this.values);\n            if (this.project) {\n                this._tryProject(args);\n            }\n            else {\n                this.destination.next(args);\n            }\n        }\n    };\n    WithLatestFromSubscriber.prototype._tryProject = function (args) {\n        var result;\n        try {\n            result = this.project.apply(this, args);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return WithLatestFromSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=withLatestFrom.js.map","import { zip as zipStatic } from '../observable/zip';\nexport function zip() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    return function zipOperatorFunction(source) {\n        return source.lift.call(zipStatic.apply(void 0, [source].concat(observables)));\n    };\n}\n//# sourceMappingURL=zip.js.map","import { ZipOperator } from '../observable/zip';\nexport function zipAll(project) {\n    return function (source) { return source.lift(new ZipOperator(project)); };\n}\n//# sourceMappingURL=zipAll.js.map","var SubscriptionLog = (function () {\n    function SubscriptionLog(subscribedFrame, unsubscribedFrame) {\n        if (unsubscribedFrame === void 0) { unsubscribedFrame = Number.POSITIVE_INFINITY; }\n        this.subscribedFrame = subscribedFrame;\n        this.unsubscribedFrame = unsubscribedFrame;\n    }\n    return SubscriptionLog;\n}());\nexport { SubscriptionLog };\n//# sourceMappingURL=SubscriptionLog.js.map","import { SubscriptionLog } from './SubscriptionLog';\nvar SubscriptionLoggable = (function () {\n    function SubscriptionLoggable() {\n        this.subscriptions = [];\n    }\n    SubscriptionLoggable.prototype.logSubscribedFrame = function () {\n        this.subscriptions.push(new SubscriptionLog(this.scheduler.now()));\n        return this.subscriptions.length - 1;\n    };\n    SubscriptionLoggable.prototype.logUnsubscribedFrame = function (index) {\n        var subscriptionLogs = this.subscriptions;\n        var oldSubscriptionLog = subscriptionLogs[index];\n        subscriptionLogs[index] = new SubscriptionLog(oldSubscriptionLog.subscribedFrame, this.scheduler.now());\n    };\n    return SubscriptionLoggable;\n}());\nexport { SubscriptionLoggable };\n//# sourceMappingURL=SubscriptionLoggable.js.map","export function applyMixins(derivedCtor, baseCtors) {\n    for (var i = 0, len = baseCtors.length; i < len; i++) {\n        var baseCtor = baseCtors[i];\n        var propertyKeys = Object.getOwnPropertyNames(baseCtor.prototype);\n        for (var j = 0, len2 = propertyKeys.length; j < len2; j++) {\n            var name_1 = propertyKeys[j];\n            derivedCtor.prototype[name_1] = baseCtor.prototype[name_1];\n        }\n    }\n}\n//# sourceMappingURL=applyMixins.js.map","import * as tslib_1 from \"tslib\";\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { SubscriptionLoggable } from './SubscriptionLoggable';\nimport { applyMixins } from '../util/applyMixins';\nvar ColdObservable = (function (_super) {\n    tslib_1.__extends(ColdObservable, _super);\n    function ColdObservable(messages, scheduler) {\n        var _this = _super.call(this, function (subscriber) {\n            var observable = this;\n            var index = observable.logSubscribedFrame();\n            var subscription = new Subscription();\n            subscription.add(new Subscription(function () {\n                observable.logUnsubscribedFrame(index);\n            }));\n            observable.scheduleMessages(subscriber);\n            return subscription;\n        }) || this;\n        _this.messages = messages;\n        _this.subscriptions = [];\n        _this.scheduler = scheduler;\n        return _this;\n    }\n    ColdObservable.prototype.scheduleMessages = function (subscriber) {\n        var messagesLength = this.messages.length;\n        for (var i = 0; i < messagesLength; i++) {\n            var message = this.messages[i];\n            subscriber.add(this.scheduler.schedule(function (_a) {\n                var message = _a.message, subscriber = _a.subscriber;\n                message.notification.observe(subscriber);\n            }, message.frame, { message: message, subscriber: subscriber }));\n        }\n    };\n    return ColdObservable;\n}(Observable));\nexport { ColdObservable };\napplyMixins(ColdObservable, [SubscriptionLoggable]);\n//# sourceMappingURL=ColdObservable.js.map","import * as tslib_1 from \"tslib\";\nimport { Subject } from '../Subject';\nimport { Subscription } from '../Subscription';\nimport { SubscriptionLoggable } from './SubscriptionLoggable';\nimport { applyMixins } from '../util/applyMixins';\nvar HotObservable = (function (_super) {\n    tslib_1.__extends(HotObservable, _super);\n    function HotObservable(messages, scheduler) {\n        var _this = _super.call(this) || this;\n        _this.messages = messages;\n        _this.subscriptions = [];\n        _this.scheduler = scheduler;\n        return _this;\n    }\n    HotObservable.prototype._subscribe = function (subscriber) {\n        var subject = this;\n        var index = subject.logSubscribedFrame();\n        var subscription = new Subscription();\n        subscription.add(new Subscription(function () {\n            subject.logUnsubscribedFrame(index);\n        }));\n        subscription.add(_super.prototype._subscribe.call(this, subscriber));\n        return subscription;\n    };\n    HotObservable.prototype.setup = function () {\n        var subject = this;\n        var messagesLength = subject.messages.length;\n        for (var i = 0; i < messagesLength; i++) {\n            (function () {\n                var message = subject.messages[i];\n                subject.scheduler.schedule(function () { message.notification.observe(subject); }, message.frame);\n            })();\n        }\n    };\n    return HotObservable;\n}(Subject));\nexport { HotObservable };\napplyMixins(HotObservable, [SubscriptionLoggable]);\n//# sourceMappingURL=HotObservable.js.map","import * as tslib_1 from \"tslib\";\nimport { Observable } from '../Observable';\nimport { Notification } from '../Notification';\nimport { ColdObservable } from './ColdObservable';\nimport { HotObservable } from './HotObservable';\nimport { SubscriptionLog } from './SubscriptionLog';\nimport { VirtualTimeScheduler, VirtualAction } from '../scheduler/VirtualTimeScheduler';\nimport { AsyncScheduler } from '../scheduler/AsyncScheduler';\nvar defaultMaxFrame = 750;\nvar TestScheduler = (function (_super) {\n    tslib_1.__extends(TestScheduler, _super);\n    function TestScheduler(assertDeepEqual) {\n        var _this = _super.call(this, VirtualAction, defaultMaxFrame) || this;\n        _this.assertDeepEqual = assertDeepEqual;\n        _this.hotObservables = [];\n        _this.coldObservables = [];\n        _this.flushTests = [];\n        _this.runMode = false;\n        return _this;\n    }\n    TestScheduler.prototype.createTime = function (marbles) {\n        var indexOf = marbles.indexOf('|');\n        if (indexOf === -1) {\n            throw new Error('marble diagram for time should have a completion marker \"|\"');\n        }\n        return indexOf * TestScheduler.frameTimeFactor;\n    };\n    TestScheduler.prototype.createColdObservable = function (marbles, values, error) {\n        if (marbles.indexOf('^') !== -1) {\n            throw new Error('cold observable cannot have subscription offset \"^\"');\n        }\n        if (marbles.indexOf('!') !== -1) {\n            throw new Error('cold observable cannot have unsubscription marker \"!\"');\n        }\n        var messages = TestScheduler.parseMarbles(marbles, values, error, undefined, this.runMode);\n        var cold = new ColdObservable(messages, this);\n        this.coldObservables.push(cold);\n        return cold;\n    };\n    TestScheduler.prototype.createHotObservable = function (marbles, values, error) {\n        if (marbles.indexOf('!') !== -1) {\n            throw new Error('hot observable cannot have unsubscription marker \"!\"');\n        }\n        var messages = TestScheduler.parseMarbles(marbles, values, error, undefined, this.runMode);\n        var subject = new HotObservable(messages, this);\n        this.hotObservables.push(subject);\n        return subject;\n    };\n    TestScheduler.prototype.materializeInnerObservable = function (observable, outerFrame) {\n        var _this = this;\n        var messages = [];\n        observable.subscribe(function (value) {\n            messages.push({ frame: _this.frame - outerFrame, notification: Notification.createNext(value) });\n        }, function (err) {\n            messages.push({ frame: _this.frame - outerFrame, notification: Notification.createError(err) });\n        }, function () {\n            messages.push({ frame: _this.frame - outerFrame, notification: Notification.createComplete() });\n        });\n        return messages;\n    };\n    TestScheduler.prototype.expectObservable = function (observable, subscriptionMarbles) {\n        var _this = this;\n        if (subscriptionMarbles === void 0) { subscriptionMarbles = null; }\n        var actual = [];\n        var flushTest = { actual: actual, ready: false };\n        var subscriptionParsed = TestScheduler.parseMarblesAsSubscriptions(subscriptionMarbles, this.runMode);\n        var subscriptionFrame = subscriptionParsed.subscribedFrame === Number.POSITIVE_INFINITY ?\n            0 : subscriptionParsed.subscribedFrame;\n        var unsubscriptionFrame = subscriptionParsed.unsubscribedFrame;\n        var subscription;\n        this.schedule(function () {\n            subscription = observable.subscribe(function (x) {\n                var value = x;\n                if (x instanceof Observable) {\n                    value = _this.materializeInnerObservable(value, _this.frame);\n                }\n                actual.push({ frame: _this.frame, notification: Notification.createNext(value) });\n            }, function (err) {\n                actual.push({ frame: _this.frame, notification: Notification.createError(err) });\n            }, function () {\n                actual.push({ frame: _this.frame, notification: Notification.createComplete() });\n            });\n        }, subscriptionFrame);\n        if (unsubscriptionFrame !== Number.POSITIVE_INFINITY) {\n            this.schedule(function () { return subscription.unsubscribe(); }, unsubscriptionFrame);\n        }\n        this.flushTests.push(flushTest);\n        var runMode = this.runMode;\n        return {\n            toBe: function (marbles, values, errorValue) {\n                flushTest.ready = true;\n                flushTest.expected = TestScheduler.parseMarbles(marbles, values, errorValue, true, runMode);\n            }\n        };\n    };\n    TestScheduler.prototype.expectSubscriptions = function (actualSubscriptionLogs) {\n        var flushTest = { actual: actualSubscriptionLogs, ready: false };\n        this.flushTests.push(flushTest);\n        var runMode = this.runMode;\n        return {\n            toBe: function (marbles) {\n                var marblesArray = (typeof marbles === 'string') ? [marbles] : marbles;\n                flushTest.ready = true;\n                flushTest.expected = marblesArray.map(function (marbles) {\n                    return TestScheduler.parseMarblesAsSubscriptions(marbles, runMode);\n                });\n            }\n        };\n    };\n    TestScheduler.prototype.flush = function () {\n        var _this = this;\n        var hotObservables = this.hotObservables;\n        while (hotObservables.length > 0) {\n            hotObservables.shift().setup();\n        }\n        _super.prototype.flush.call(this);\n        this.flushTests = this.flushTests.filter(function (test) {\n            if (test.ready) {\n                _this.assertDeepEqual(test.actual, test.expected);\n                return false;\n            }\n            return true;\n        });\n    };\n    TestScheduler.parseMarblesAsSubscriptions = function (marbles, runMode) {\n        var _this = this;\n        if (runMode === void 0) { runMode = false; }\n        if (typeof marbles !== 'string') {\n            return new SubscriptionLog(Number.POSITIVE_INFINITY);\n        }\n        var len = marbles.length;\n        var groupStart = -1;\n        var subscriptionFrame = Number.POSITIVE_INFINITY;\n        var unsubscriptionFrame = Number.POSITIVE_INFINITY;\n        var frame = 0;\n        var _loop_1 = function (i) {\n            var nextFrame = frame;\n            var advanceFrameBy = function (count) {\n                nextFrame += count * _this.frameTimeFactor;\n            };\n            var c = marbles[i];\n            switch (c) {\n                case ' ':\n                    if (!runMode) {\n                        advanceFrameBy(1);\n                    }\n                    break;\n                case '-':\n                    advanceFrameBy(1);\n                    break;\n                case '(':\n                    groupStart = frame;\n                    advanceFrameBy(1);\n                    break;\n                case ')':\n                    groupStart = -1;\n                    advanceFrameBy(1);\n                    break;\n                case '^':\n                    if (subscriptionFrame !== Number.POSITIVE_INFINITY) {\n                        throw new Error('found a second subscription point \\'^\\' in a ' +\n                            'subscription marble diagram. There can only be one.');\n                    }\n                    subscriptionFrame = groupStart > -1 ? groupStart : frame;\n                    advanceFrameBy(1);\n                    break;\n                case '!':\n                    if (unsubscriptionFrame !== Number.POSITIVE_INFINITY) {\n                        throw new Error('found a second subscription point \\'^\\' in a ' +\n                            'subscription marble diagram. There can only be one.');\n                    }\n                    unsubscriptionFrame = groupStart > -1 ? groupStart : frame;\n                    break;\n                default:\n                    if (runMode && c.match(/^[0-9]$/)) {\n                        if (i === 0 || marbles[i - 1] === ' ') {\n                            var buffer = marbles.slice(i);\n                            var match = buffer.match(/^([0-9]+(?:\\.[0-9]+)?)(ms|s|m) /);\n                            if (match) {\n                                i += match[0].length - 1;\n                                var duration = parseFloat(match[1]);\n                                var unit = match[2];\n                                var durationInMs = void 0;\n                                switch (unit) {\n                                    case 'ms':\n                                        durationInMs = duration;\n                                        break;\n                                    case 's':\n                                        durationInMs = duration * 1000;\n                                        break;\n                                    case 'm':\n                                        durationInMs = duration * 1000 * 60;\n                                        break;\n                                    default:\n                                        break;\n                                }\n                                advanceFrameBy(durationInMs / this_1.frameTimeFactor);\n                                break;\n                            }\n                        }\n                    }\n                    throw new Error('there can only be \\'^\\' and \\'!\\' markers in a ' +\n                        'subscription marble diagram. Found instead \\'' + c + '\\'.');\n            }\n            frame = nextFrame;\n            out_i_1 = i;\n        };\n        var this_1 = this, out_i_1;\n        for (var i = 0; i < len; i++) {\n            _loop_1(i);\n            i = out_i_1;\n        }\n        if (unsubscriptionFrame < 0) {\n            return new SubscriptionLog(subscriptionFrame);\n        }\n        else {\n            return new SubscriptionLog(subscriptionFrame, unsubscriptionFrame);\n        }\n    };\n    TestScheduler.parseMarbles = function (marbles, values, errorValue, materializeInnerObservables, runMode) {\n        var _this = this;\n        if (materializeInnerObservables === void 0) { materializeInnerObservables = false; }\n        if (runMode === void 0) { runMode = false; }\n        if (marbles.indexOf('!') !== -1) {\n            throw new Error('conventional marble diagrams cannot have the ' +\n                'unsubscription marker \"!\"');\n        }\n        var len = marbles.length;\n        var testMessages = [];\n        var subIndex = runMode ? marbles.replace(/^[ ]+/, '').indexOf('^') : marbles.indexOf('^');\n        var frame = subIndex === -1 ? 0 : (subIndex * -this.frameTimeFactor);\n        var getValue = typeof values !== 'object' ?\n            function (x) { return x; } :\n            function (x) {\n                if (materializeInnerObservables && values[x] instanceof ColdObservable) {\n                    return values[x].messages;\n                }\n                return values[x];\n            };\n        var groupStart = -1;\n        var _loop_2 = function (i) {\n            var nextFrame = frame;\n            var advanceFrameBy = function (count) {\n                nextFrame += count * _this.frameTimeFactor;\n            };\n            var notification = void 0;\n            var c = marbles[i];\n            switch (c) {\n                case ' ':\n                    if (!runMode) {\n                        advanceFrameBy(1);\n                    }\n                    break;\n                case '-':\n                    advanceFrameBy(1);\n                    break;\n                case '(':\n                    groupStart = frame;\n                    advanceFrameBy(1);\n                    break;\n                case ')':\n                    groupStart = -1;\n                    advanceFrameBy(1);\n                    break;\n                case '|':\n                    notification = Notification.createComplete();\n                    advanceFrameBy(1);\n                    break;\n                case '^':\n                    advanceFrameBy(1);\n                    break;\n                case '#':\n                    notification = Notification.createError(errorValue || 'error');\n                    advanceFrameBy(1);\n                    break;\n                default:\n                    if (runMode && c.match(/^[0-9]$/)) {\n                        if (i === 0 || marbles[i - 1] === ' ') {\n                            var buffer = marbles.slice(i);\n                            var match = buffer.match(/^([0-9]+(?:\\.[0-9]+)?)(ms|s|m) /);\n                            if (match) {\n                                i += match[0].length - 1;\n                                var duration = parseFloat(match[1]);\n                                var unit = match[2];\n                                var durationInMs = void 0;\n                                switch (unit) {\n                                    case 'ms':\n                                        durationInMs = duration;\n                                        break;\n                                    case 's':\n                                        durationInMs = duration * 1000;\n                                        break;\n                                    case 'm':\n                                        durationInMs = duration * 1000 * 60;\n                                        break;\n                                    default:\n                                        break;\n                                }\n                                advanceFrameBy(durationInMs / this_2.frameTimeFactor);\n                                break;\n                            }\n                        }\n                    }\n                    notification = Notification.createNext(getValue(c));\n                    advanceFrameBy(1);\n                    break;\n            }\n            if (notification) {\n                testMessages.push({ frame: groupStart > -1 ? groupStart : frame, notification: notification });\n            }\n            frame = nextFrame;\n            out_i_2 = i;\n        };\n        var this_2 = this, out_i_2;\n        for (var i = 0; i < len; i++) {\n            _loop_2(i);\n            i = out_i_2;\n        }\n        return testMessages;\n    };\n    TestScheduler.prototype.run = function (callback) {\n        var prevFrameTimeFactor = TestScheduler.frameTimeFactor;\n        var prevMaxFrames = this.maxFrames;\n        TestScheduler.frameTimeFactor = 1;\n        this.maxFrames = Number.POSITIVE_INFINITY;\n        this.runMode = true;\n        AsyncScheduler.delegate = this;\n        var helpers = {\n            cold: this.createColdObservable.bind(this),\n            hot: this.createHotObservable.bind(this),\n            flush: this.flush.bind(this),\n            expectObservable: this.expectObservable.bind(this),\n            expectSubscriptions: this.expectSubscriptions.bind(this),\n        };\n        try {\n            var ret = callback(helpers);\n            this.flush();\n            return ret;\n        }\n        finally {\n            TestScheduler.frameTimeFactor = prevFrameTimeFactor;\n            this.maxFrames = prevMaxFrames;\n            this.runMode = false;\n            AsyncScheduler.delegate = undefined;\n        }\n    };\n    return TestScheduler;\n}(VirtualTimeScheduler));\nexport { TestScheduler };\n//# sourceMappingURL=TestScheduler.js.map","var __window = typeof window !== 'undefined' && window;\nvar __self = typeof self !== 'undefined' && typeof WorkerGlobalScope !== 'undefined' &&\n    self instanceof WorkerGlobalScope && self;\nvar __global = typeof global !== 'undefined' && global;\nvar _root = __window || __global || __self;\n(function () {\n    if (!_root) {\n        throw new Error('RxJS could not find any global context (window, self, global)');\n    }\n})();\nexport { _root as root };\n//# sourceMappingURL=root.js.map","import * as tslib_1 from \"tslib\";\nimport { root } from '../../util/root';\nimport { Observable } from '../../Observable';\nimport { Subscriber } from '../../Subscriber';\nimport { map } from '../../operators/map';\nfunction getCORSRequest() {\n    if (root.XMLHttpRequest) {\n        return new root.XMLHttpRequest();\n    }\n    else if (!!root.XDomainRequest) {\n        return new root.XDomainRequest();\n    }\n    else {\n        throw new Error('CORS is not supported by your browser');\n    }\n}\nfunction getXMLHttpRequest() {\n    if (root.XMLHttpRequest) {\n        return new root.XMLHttpRequest();\n    }\n    else {\n        var progId = void 0;\n        try {\n            var progIds = ['Msxml2.XMLHTTP', 'Microsoft.XMLHTTP', 'Msxml2.XMLHTTP.4.0'];\n            for (var i = 0; i < 3; i++) {\n                try {\n                    progId = progIds[i];\n                    if (new root.ActiveXObject(progId)) {\n                        break;\n                    }\n                }\n                catch (e) {\n                }\n            }\n            return new root.ActiveXObject(progId);\n        }\n        catch (e) {\n            throw new Error('XMLHttpRequest is not supported by your browser');\n        }\n    }\n}\nexport function ajaxGet(url, headers) {\n    if (headers === void 0) { headers = null; }\n    return new AjaxObservable({ method: 'GET', url: url, headers: headers });\n}\nexport function ajaxPost(url, body, headers) {\n    return new AjaxObservable({ method: 'POST', url: url, body: body, headers: headers });\n}\nexport function ajaxDelete(url, headers) {\n    return new AjaxObservable({ method: 'DELETE', url: url, headers: headers });\n}\nexport function ajaxPut(url, body, headers) {\n    return new AjaxObservable({ method: 'PUT', url: url, body: body, headers: headers });\n}\nexport function ajaxPatch(url, body, headers) {\n    return new AjaxObservable({ method: 'PATCH', url: url, body: body, headers: headers });\n}\nvar mapResponse = map(function (x, index) { return x.response; });\nexport function ajaxGetJSON(url, headers) {\n    return mapResponse(new AjaxObservable({\n        method: 'GET',\n        url: url,\n        responseType: 'json',\n        headers: headers\n    }));\n}\nvar AjaxObservable = (function (_super) {\n    tslib_1.__extends(AjaxObservable, _super);\n    function AjaxObservable(urlOrRequest) {\n        var _this = _super.call(this) || this;\n        var request = {\n            async: true,\n            createXHR: function () {\n                return this.crossDomain ? getCORSRequest() : getXMLHttpRequest();\n            },\n            crossDomain: true,\n            withCredentials: false,\n            headers: {},\n            method: 'GET',\n            responseType: 'json',\n            timeout: 0\n        };\n        if (typeof urlOrRequest === 'string') {\n            request.url = urlOrRequest;\n        }\n        else {\n            for (var prop in urlOrRequest) {\n                if (urlOrRequest.hasOwnProperty(prop)) {\n                    request[prop] = urlOrRequest[prop];\n                }\n            }\n        }\n        _this.request = request;\n        return _this;\n    }\n    AjaxObservable.prototype._subscribe = function (subscriber) {\n        return new AjaxSubscriber(subscriber, this.request);\n    };\n    AjaxObservable.create = (function () {\n        var create = function (urlOrRequest) {\n            return new AjaxObservable(urlOrRequest);\n        };\n        create.get = ajaxGet;\n        create.post = ajaxPost;\n        create.delete = ajaxDelete;\n        create.put = ajaxPut;\n        create.patch = ajaxPatch;\n        create.getJSON = ajaxGetJSON;\n        return create;\n    })();\n    return AjaxObservable;\n}(Observable));\nexport { AjaxObservable };\nvar AjaxSubscriber = (function (_super) {\n    tslib_1.__extends(AjaxSubscriber, _super);\n    function AjaxSubscriber(destination, request) {\n        var _this = _super.call(this, destination) || this;\n        _this.request = request;\n        _this.done = false;\n        var headers = request.headers = request.headers || {};\n        if (!request.crossDomain && !_this.getHeader(headers, 'X-Requested-With')) {\n            headers['X-Requested-With'] = 'XMLHttpRequest';\n        }\n        var contentTypeHeader = _this.getHeader(headers, 'Content-Type');\n        if (!contentTypeHeader && !(root.FormData && request.body instanceof root.FormData) && typeof request.body !== 'undefined') {\n            headers['Content-Type'] = 'application/x-www-form-urlencoded; charset=UTF-8';\n        }\n        request.body = _this.serializeBody(request.body, _this.getHeader(request.headers, 'Content-Type'));\n        _this.send();\n        return _this;\n    }\n    AjaxSubscriber.prototype.next = function (e) {\n        this.done = true;\n        var _a = this, xhr = _a.xhr, request = _a.request, destination = _a.destination;\n        var result;\n        try {\n            result = new AjaxResponse(e, xhr, request);\n        }\n        catch (err) {\n            return destination.error(err);\n        }\n        destination.next(result);\n    };\n    AjaxSubscriber.prototype.send = function () {\n        var _a = this, request = _a.request, _b = _a.request, user = _b.user, method = _b.method, url = _b.url, async = _b.async, password = _b.password, headers = _b.headers, body = _b.body;\n        try {\n            var xhr = this.xhr = request.createXHR();\n            this.setupEvents(xhr, request);\n            if (user) {\n                xhr.open(method, url, async, user, password);\n            }\n            else {\n                xhr.open(method, url, async);\n            }\n            if (async) {\n                xhr.timeout = request.timeout;\n                xhr.responseType = request.responseType;\n            }\n            if ('withCredentials' in xhr) {\n                xhr.withCredentials = !!request.withCredentials;\n            }\n            this.setHeaders(xhr, headers);\n            if (body) {\n                xhr.send(body);\n            }\n            else {\n                xhr.send();\n            }\n        }\n        catch (err) {\n            this.error(err);\n        }\n    };\n    AjaxSubscriber.prototype.serializeBody = function (body, contentType) {\n        if (!body || typeof body === 'string') {\n            return body;\n        }\n        else if (root.FormData && body instanceof root.FormData) {\n            return body;\n        }\n        if (contentType) {\n            var splitIndex = contentType.indexOf(';');\n            if (splitIndex !== -1) {\n                contentType = contentType.substring(0, splitIndex);\n            }\n        }\n        switch (contentType) {\n            case 'application/x-www-form-urlencoded':\n                return Object.keys(body).map(function (key) { return encodeURIComponent(key) + \"=\" + encodeURIComponent(body[key]); }).join('&');\n            case 'application/json':\n                return JSON.stringify(body);\n            default:\n                return body;\n        }\n    };\n    AjaxSubscriber.prototype.setHeaders = function (xhr, headers) {\n        for (var key in headers) {\n            if (headers.hasOwnProperty(key)) {\n                xhr.setRequestHeader(key, headers[key]);\n            }\n        }\n    };\n    AjaxSubscriber.prototype.getHeader = function (headers, headerName) {\n        for (var key in headers) {\n            if (key.toLowerCase() === headerName.toLowerCase()) {\n                return headers[key];\n            }\n        }\n        return undefined;\n    };\n    AjaxSubscriber.prototype.setupEvents = function (xhr, request) {\n        var progressSubscriber = request.progressSubscriber;\n        function xhrTimeout(e) {\n            var _a = xhrTimeout, subscriber = _a.subscriber, progressSubscriber = _a.progressSubscriber, request = _a.request;\n            if (progressSubscriber) {\n                progressSubscriber.error(e);\n            }\n            var error;\n            try {\n                error = new AjaxTimeoutError(this, request);\n            }\n            catch (err) {\n                error = err;\n            }\n            subscriber.error(error);\n        }\n        xhr.ontimeout = xhrTimeout;\n        xhrTimeout.request = request;\n        xhrTimeout.subscriber = this;\n        xhrTimeout.progressSubscriber = progressSubscriber;\n        if (xhr.upload && 'withCredentials' in xhr) {\n            if (progressSubscriber) {\n                var xhrProgress_1;\n                xhrProgress_1 = function (e) {\n                    var progressSubscriber = xhrProgress_1.progressSubscriber;\n                    progressSubscriber.next(e);\n                };\n                if (root.XDomainRequest) {\n                    xhr.onprogress = xhrProgress_1;\n                }\n                else {\n                    xhr.upload.onprogress = xhrProgress_1;\n                }\n                xhrProgress_1.progressSubscriber = progressSubscriber;\n            }\n            var xhrError_1;\n            xhrError_1 = function (e) {\n                var _a = xhrError_1, progressSubscriber = _a.progressSubscriber, subscriber = _a.subscriber, request = _a.request;\n                if (progressSubscriber) {\n                    progressSubscriber.error(e);\n                }\n                var error;\n                try {\n                    error = new AjaxError('ajax error', this, request);\n                }\n                catch (err) {\n                    error = err;\n                }\n                subscriber.error(error);\n            };\n            xhr.onerror = xhrError_1;\n            xhrError_1.request = request;\n            xhrError_1.subscriber = this;\n            xhrError_1.progressSubscriber = progressSubscriber;\n        }\n        function xhrReadyStateChange(e) {\n            return;\n        }\n        xhr.onreadystatechange = xhrReadyStateChange;\n        xhrReadyStateChange.subscriber = this;\n        xhrReadyStateChange.progressSubscriber = progressSubscriber;\n        xhrReadyStateChange.request = request;\n        function xhrLoad(e) {\n            var _a = xhrLoad, subscriber = _a.subscriber, progressSubscriber = _a.progressSubscriber, request = _a.request;\n            if (this.readyState === 4) {\n                var status_1 = this.status === 1223 ? 204 : this.status;\n                var response = (this.responseType === 'text' ? (this.response || this.responseText) : this.response);\n                if (status_1 === 0) {\n                    status_1 = response ? 200 : 0;\n                }\n                if (status_1 < 400) {\n                    if (progressSubscriber) {\n                        progressSubscriber.complete();\n                    }\n                    subscriber.next(e);\n                    subscriber.complete();\n                }\n                else {\n                    if (progressSubscriber) {\n                        progressSubscriber.error(e);\n                    }\n                    var error = void 0;\n                    try {\n                        error = new AjaxError('ajax error ' + status_1, this, request);\n                    }\n                    catch (err) {\n                        error = err;\n                    }\n                    subscriber.error(error);\n                }\n            }\n        }\n        xhr.onload = xhrLoad;\n        xhrLoad.subscriber = this;\n        xhrLoad.progressSubscriber = progressSubscriber;\n        xhrLoad.request = request;\n    };\n    AjaxSubscriber.prototype.unsubscribe = function () {\n        var _a = this, done = _a.done, xhr = _a.xhr;\n        if (!done && xhr && xhr.readyState !== 4 && typeof xhr.abort === 'function') {\n            xhr.abort();\n        }\n        _super.prototype.unsubscribe.call(this);\n    };\n    return AjaxSubscriber;\n}(Subscriber));\nexport { AjaxSubscriber };\nvar AjaxResponse = (function () {\n    function AjaxResponse(originalEvent, xhr, request) {\n        this.originalEvent = originalEvent;\n        this.xhr = xhr;\n        this.request = request;\n        this.status = xhr.status;\n        this.responseType = xhr.responseType || request.responseType;\n        this.response = parseXhrResponse(this.responseType, xhr);\n    }\n    return AjaxResponse;\n}());\nexport { AjaxResponse };\nvar AjaxErrorImpl = (function () {\n    function AjaxErrorImpl(message, xhr, request) {\n        Error.call(this);\n        this.message = message;\n        this.name = 'AjaxError';\n        this.xhr = xhr;\n        this.request = request;\n        this.status = xhr.status;\n        this.responseType = xhr.responseType || request.responseType;\n        this.response = parseXhrResponse(this.responseType, xhr);\n        return this;\n    }\n    AjaxErrorImpl.prototype = Object.create(Error.prototype);\n    return AjaxErrorImpl;\n})();\nexport var AjaxError = AjaxErrorImpl;\nfunction parseJson(xhr) {\n    if ('response' in xhr) {\n        return xhr.responseType ? xhr.response : JSON.parse(xhr.response || xhr.responseText || 'null');\n    }\n    else {\n        return JSON.parse(xhr.responseText || 'null');\n    }\n}\nfunction parseXhrResponse(responseType, xhr) {\n    switch (responseType) {\n        case 'json':\n            return parseJson(xhr);\n        case 'xml':\n            return xhr.responseXML;\n        case 'text':\n        default:\n            return ('response' in xhr) ? xhr.response : xhr.responseText;\n    }\n}\nfunction AjaxTimeoutErrorImpl(xhr, request) {\n    AjaxError.call(this, 'ajax timeout', xhr, request);\n    this.name = 'AjaxTimeoutError';\n    return this;\n}\nexport var AjaxTimeoutError = AjaxTimeoutErrorImpl;\n//# sourceMappingURL=AjaxObservable.js.map","import { AjaxObservable } from './AjaxObservable';\nexport var ajax = (function () { return AjaxObservable.create; })();\n//# sourceMappingURL=ajax.js.map","import * as tslib_1 from \"tslib\";\nimport { Subject, AnonymousSubject } from '../../Subject';\nimport { Subscriber } from '../../Subscriber';\nimport { Observable } from '../../Observable';\nimport { Subscription } from '../../Subscription';\nimport { ReplaySubject } from '../../ReplaySubject';\nvar DEFAULT_WEBSOCKET_CONFIG = {\n    url: '',\n    deserializer: function (e) { return JSON.parse(e.data); },\n    serializer: function (value) { return JSON.stringify(value); },\n};\nvar WEBSOCKETSUBJECT_INVALID_ERROR_OBJECT = 'WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }';\nvar WebSocketSubject = (function (_super) {\n    tslib_1.__extends(WebSocketSubject, _super);\n    function WebSocketSubject(urlConfigOrSource, destination) {\n        var _this = _super.call(this) || this;\n        if (urlConfigOrSource instanceof Observable) {\n            _this.destination = destination;\n            _this.source = urlConfigOrSource;\n        }\n        else {\n            var config = _this._config = tslib_1.__assign({}, DEFAULT_WEBSOCKET_CONFIG);\n            _this._output = new Subject();\n            if (typeof urlConfigOrSource === 'string') {\n                config.url = urlConfigOrSource;\n            }\n            else {\n                for (var key in urlConfigOrSource) {\n                    if (urlConfigOrSource.hasOwnProperty(key)) {\n                        config[key] = urlConfigOrSource[key];\n                    }\n                }\n            }\n            if (!config.WebSocketCtor && WebSocket) {\n                config.WebSocketCtor = WebSocket;\n            }\n            else if (!config.WebSocketCtor) {\n                throw new Error('no WebSocket constructor can be found');\n            }\n            _this.destination = new ReplaySubject();\n        }\n        return _this;\n    }\n    WebSocketSubject.prototype.lift = function (operator) {\n        var sock = new WebSocketSubject(this._config, this.destination);\n        sock.operator = operator;\n        sock.source = this;\n        return sock;\n    };\n    WebSocketSubject.prototype._resetState = function () {\n        this._socket = null;\n        if (!this.source) {\n            this.destination = new ReplaySubject();\n        }\n        this._output = new Subject();\n    };\n    WebSocketSubject.prototype.multiplex = function (subMsg, unsubMsg, messageFilter) {\n        var self = this;\n        return new Observable(function (observer) {\n            try {\n                self.next(subMsg());\n            }\n            catch (err) {\n                observer.error(err);\n            }\n            var subscription = self.subscribe(function (x) {\n                try {\n                    if (messageFilter(x)) {\n                        observer.next(x);\n                    }\n                }\n                catch (err) {\n                    observer.error(err);\n                }\n            }, function (err) { return observer.error(err); }, function () { return observer.complete(); });\n            return function () {\n                try {\n                    self.next(unsubMsg());\n                }\n                catch (err) {\n                    observer.error(err);\n                }\n                subscription.unsubscribe();\n            };\n        });\n    };\n    WebSocketSubject.prototype._connectSocket = function () {\n        var _this = this;\n        var _a = this._config, WebSocketCtor = _a.WebSocketCtor, protocol = _a.protocol, url = _a.url, binaryType = _a.binaryType;\n        var observer = this._output;\n        var socket = null;\n        try {\n            socket = protocol ?\n                new WebSocketCtor(url, protocol) :\n                new WebSocketCtor(url);\n            this._socket = socket;\n            if (binaryType) {\n                this._socket.binaryType = binaryType;\n            }\n        }\n        catch (e) {\n            observer.error(e);\n            return;\n        }\n        var subscription = new Subscription(function () {\n            _this._socket = null;\n            if (socket && socket.readyState === 1) {\n                socket.close();\n            }\n        });\n        socket.onopen = function (e) {\n            var _socket = _this._socket;\n            if (!_socket) {\n                socket.close();\n                _this._resetState();\n                return;\n            }\n            var openObserver = _this._config.openObserver;\n            if (openObserver) {\n                openObserver.next(e);\n            }\n            var queue = _this.destination;\n            _this.destination = Subscriber.create(function (x) {\n                if (socket.readyState === 1) {\n                    try {\n                        var serializer = _this._config.serializer;\n                        socket.send(serializer(x));\n                    }\n                    catch (e) {\n                        _this.destination.error(e);\n                    }\n                }\n            }, function (e) {\n                var closingObserver = _this._config.closingObserver;\n                if (closingObserver) {\n                    closingObserver.next(undefined);\n                }\n                if (e && e.code) {\n                    socket.close(e.code, e.reason);\n                }\n                else {\n                    observer.error(new TypeError(WEBSOCKETSUBJECT_INVALID_ERROR_OBJECT));\n                }\n                _this._resetState();\n            }, function () {\n                var closingObserver = _this._config.closingObserver;\n                if (closingObserver) {\n                    closingObserver.next(undefined);\n                }\n                socket.close();\n                _this._resetState();\n            });\n            if (queue && queue instanceof ReplaySubject) {\n                subscription.add(queue.subscribe(_this.destination));\n            }\n        };\n        socket.onerror = function (e) {\n            _this._resetState();\n            observer.error(e);\n        };\n        socket.onclose = function (e) {\n            _this._resetState();\n            var closeObserver = _this._config.closeObserver;\n            if (closeObserver) {\n                closeObserver.next(e);\n            }\n            if (e.wasClean) {\n                observer.complete();\n            }\n            else {\n                observer.error(e);\n            }\n        };\n        socket.onmessage = function (e) {\n            try {\n                var deserializer = _this._config.deserializer;\n                observer.next(deserializer(e));\n            }\n            catch (err) {\n                observer.error(err);\n            }\n        };\n    };\n    WebSocketSubject.prototype._subscribe = function (subscriber) {\n        var _this = this;\n        var source = this.source;\n        if (source) {\n            return source.subscribe(subscriber);\n        }\n        if (!this._socket) {\n            this._connectSocket();\n        }\n        this._output.subscribe(subscriber);\n        subscriber.add(function () {\n            var _socket = _this._socket;\n            if (_this._output.observers.length === 0) {\n                if (_socket && _socket.readyState === 1) {\n                    _socket.close();\n                }\n                _this._resetState();\n            }\n        });\n        return subscriber;\n    };\n    WebSocketSubject.prototype.unsubscribe = function () {\n        var _socket = this._socket;\n        if (_socket && _socket.readyState === 1) {\n            _socket.close();\n        }\n        this._resetState();\n        _super.prototype.unsubscribe.call(this);\n    };\n    return WebSocketSubject;\n}(AnonymousSubject));\nexport { WebSocketSubject };\n//# sourceMappingURL=WebSocketSubject.js.map","import { WebSocketSubject } from './WebSocketSubject';\nexport function webSocket(urlConfigOrSource) {\n    return new WebSocketSubject(urlConfigOrSource);\n}\n//# sourceMappingURL=webSocket.js.map","import * as tslib_1 from \"tslib\";\nimport { Observable } from '../../Observable';\nimport { Subscription } from '../../Subscription';\nexport function fromFetch(input, init) {\n    return new Observable(function (subscriber) {\n        var controller = new AbortController();\n        var signal = controller.signal;\n        var abortable = true;\n        var unsubscribed = false;\n        var subscription = new Subscription();\n        subscription.add(function () {\n            unsubscribed = true;\n            if (abortable) {\n                controller.abort();\n            }\n        });\n        var perSubscriberInit;\n        if (init) {\n            if (init.signal) {\n                if (init.signal.aborted) {\n                    controller.abort();\n                }\n                else {\n                    var outerSignal_1 = init.signal;\n                    var outerSignalHandler_1 = function () {\n                        if (!signal.aborted) {\n                            controller.abort();\n                        }\n                    };\n                    outerSignal_1.addEventListener('abort', outerSignalHandler_1);\n                    subscription.add(function () { return outerSignal_1.removeEventListener('abort', outerSignalHandler_1); });\n                }\n            }\n            perSubscriberInit = tslib_1.__assign({}, init, { signal: signal });\n        }\n        else {\n            perSubscriberInit = { signal: signal };\n        }\n        fetch(input, perSubscriberInit).then(function (response) {\n            abortable = false;\n            subscriber.next(response);\n            subscriber.complete();\n        }).catch(function (err) {\n            abortable = false;\n            if (!unsubscribed) {\n                subscriber.error(err);\n            }\n        });\n        return subscription;\n    });\n}\n//# sourceMappingURL=fetch.js.map","export * from '../index';\nimport * as _operators from '../operators/index';\nexport var operators = _operators;\nimport * as _testing from '../testing/index';\nexport var testing = _testing;\nimport * as _ajax from '../ajax/index';\nexport var ajax = _ajax;\nimport * as _webSocket from '../webSocket/index';\nexport var webSocket = _webSocket;\nimport * as _fetch from '../fetch/index';\nexport var fetch = _fetch;\n//# sourceMappingURL=umd.js.map"]},"metadata":{},"sourceType":"script"}