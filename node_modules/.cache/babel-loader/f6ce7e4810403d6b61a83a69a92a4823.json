{"ast":null,"code":"var path = require('path');\n\nvar test = require('tape');\n\nvar resolve = require('../');\n\nvar resolverDir = path.join(__dirname, '/pathfilter/deep_ref');\n\nvar pathFilterFactory = function (t) {\n  return function (pkg, x, remainder) {\n    t.equal(pkg.version, '1.2.3');\n    t.equal(x, path.join(resolverDir, 'node_modules/deep/ref'));\n    t.equal(remainder, 'ref');\n    return 'alt';\n  };\n};\n\ntest('#62: deep module references and the pathFilter', function (t) {\n  t.test('deep/ref.js', function (st) {\n    st.plan(3);\n    resolve('deep/ref', {\n      basedir: resolverDir\n    }, function (err, res, pkg) {\n      if (err) st.fail(err);\n      st.equal(pkg.version, '1.2.3');\n      st.equal(res, path.join(resolverDir, 'node_modules/deep/ref.js'));\n    });\n    var res = resolve.sync('deep/ref', {\n      basedir: resolverDir\n    });\n    st.equal(res, path.join(resolverDir, 'node_modules/deep/ref.js'));\n  });\n  t.test('deep/deeper/ref', function (st) {\n    st.plan(4);\n    resolve('deep/deeper/ref', {\n      basedir: resolverDir\n    }, function (err, res, pkg) {\n      if (err) t.fail(err);\n      st.notEqual(pkg, undefined);\n      st.equal(pkg.version, '1.2.3');\n      st.equal(res, path.join(resolverDir, 'node_modules/deep/deeper/ref.js'));\n    });\n    var res = resolve.sync('deep/deeper/ref', {\n      basedir: resolverDir\n    });\n    st.equal(res, path.join(resolverDir, 'node_modules/deep/deeper/ref.js'));\n  });\n  t.test('deep/ref alt', function (st) {\n    st.plan(8);\n    var pathFilter = pathFilterFactory(st);\n    var res = resolve.sync('deep/ref', {\n      basedir: resolverDir,\n      pathFilter: pathFilter\n    });\n    st.equal(res, path.join(resolverDir, 'node_modules/deep/alt.js'));\n    resolve('deep/ref', {\n      basedir: resolverDir,\n      pathFilter: pathFilter\n    }, function (err, res, pkg) {\n      if (err) st.fail(err);\n      st.equal(res, path.join(resolverDir, 'node_modules/deep/alt.js'));\n      st.end();\n    });\n  });\n  t.end();\n});","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/resolve/test/pathfilter.js"],"names":["path","require","test","resolve","resolverDir","join","__dirname","pathFilterFactory","t","pkg","x","remainder","equal","version","st","plan","basedir","err","res","fail","sync","notEqual","undefined","pathFilter","end"],"mappings":"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","sourcesContent":["var path = require('path');\nvar test = require('tape');\nvar resolve = require('../');\n\nvar resolverDir = path.join(__dirname, '/pathfilter/deep_ref');\n\nvar pathFilterFactory = function (t) {\n    return function (pkg, x, remainder) {\n        t.equal(pkg.version, '1.2.3');\n        t.equal(x, path.join(resolverDir, 'node_modules/deep/ref'));\n        t.equal(remainder, 'ref');\n        return 'alt';\n    };\n};\n\ntest('#62: deep module references and the pathFilter', function (t) {\n    t.test('deep/ref.js', function (st) {\n        st.plan(3);\n\n        resolve('deep/ref', { basedir: resolverDir }, function (err, res, pkg) {\n            if (err) st.fail(err);\n\n            st.equal(pkg.version, '1.2.3');\n            st.equal(res, path.join(resolverDir, 'node_modules/deep/ref.js'));\n        });\n\n        var res = resolve.sync('deep/ref', { basedir: resolverDir });\n        st.equal(res, path.join(resolverDir, 'node_modules/deep/ref.js'));\n    });\n\n    t.test('deep/deeper/ref', function (st) {\n        st.plan(4);\n\n        resolve(\n            'deep/deeper/ref',\n            { basedir: resolverDir },\n            function (err, res, pkg) {\n                if (err) t.fail(err);\n                st.notEqual(pkg, undefined);\n                st.equal(pkg.version, '1.2.3');\n                st.equal(res, path.join(resolverDir, 'node_modules/deep/deeper/ref.js'));\n            }\n        );\n\n        var res = resolve.sync(\n            'deep/deeper/ref',\n            { basedir: resolverDir }\n        );\n        st.equal(res, path.join(resolverDir, 'node_modules/deep/deeper/ref.js'));\n    });\n\n    t.test('deep/ref alt', function (st) {\n        st.plan(8);\n\n        var pathFilter = pathFilterFactory(st);\n\n        var res = resolve.sync(\n            'deep/ref',\n            { basedir: resolverDir, pathFilter: pathFilter }\n        );\n        st.equal(res, path.join(resolverDir, 'node_modules/deep/alt.js'));\n\n        resolve(\n            'deep/ref',\n            { basedir: resolverDir, pathFilter: pathFilter },\n            function (err, res, pkg) {\n                if (err) st.fail(err);\n                st.equal(res, path.join(resolverDir, 'node_modules/deep/alt.js'));\n                st.end();\n            }\n        );\n    });\n\n    t.end();\n});\n"]},"metadata":{},"sourceType":"script"}