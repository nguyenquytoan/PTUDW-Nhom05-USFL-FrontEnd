{"ast":null,"code":"var Q = require(\"./q\");\n\nmodule.exports = Queue;\n\nfunction Queue() {\n  var ends = Q.defer();\n  var closed = Q.defer();\n  return {\n    put: function (value) {\n      var next = Q.defer();\n      ends.resolve({\n        head: value,\n        tail: next.promise\n      });\n      ends.resolve = next.resolve;\n    },\n    get: function () {\n      var result = ends.promise.get(\"head\");\n      ends.promise = ends.promise.get(\"tail\");\n      return result.fail(function (error) {\n        closed.resolve(error);\n        throw error;\n      });\n    },\n    closed: closed.promise,\n    close: function (error) {\n      error = error || new Error(\"Can't get value from closed queue\");\n      var end = {\n        head: Q.reject(error)\n      };\n      end.tail = end;\n      ends.resolve(end);\n      return closed.promise;\n    }\n  };\n}","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/q/queue.js"],"names":["Q","require","module","exports","Queue","ends","defer","closed","put","value","next","resolve","head","tail","promise","get","result","fail","error","close","Error","end","reject"],"mappings":"AACA,IAAIA,CAAC,GAAGC,OAAO,CAAC,KAAD,CAAf;;AAEAC,MAAM,CAACC,OAAP,GAAiBC,KAAjB;;AACA,SAASA,KAAT,GAAiB;AACb,MAAIC,IAAI,GAAGL,CAAC,CAACM,KAAF,EAAX;AACA,MAAIC,MAAM,GAAGP,CAAC,CAACM,KAAF,EAAb;AACA,SAAO;AACHE,IAAAA,GAAG,EAAE,UAAUC,KAAV,EAAiB;AAClB,UAAIC,IAAI,GAAGV,CAAC,CAACM,KAAF,EAAX;AACAD,MAAAA,IAAI,CAACM,OAAL,CAAa;AACTC,QAAAA,IAAI,EAAEH,KADG;AAETI,QAAAA,IAAI,EAAEH,IAAI,CAACI;AAFF,OAAb;AAIAT,MAAAA,IAAI,CAACM,OAAL,GAAeD,IAAI,CAACC,OAApB;AACH,KARE;AASHI,IAAAA,GAAG,EAAE,YAAY;AACb,UAAIC,MAAM,GAAGX,IAAI,CAACS,OAAL,CAAaC,GAAb,CAAiB,MAAjB,CAAb;AACAV,MAAAA,IAAI,CAACS,OAAL,GAAeT,IAAI,CAACS,OAAL,CAAaC,GAAb,CAAiB,MAAjB,CAAf;AACA,aAAOC,MAAM,CAACC,IAAP,CAAY,UAAUC,KAAV,EAAiB;AAChCX,QAAAA,MAAM,CAACI,OAAP,CAAeO,KAAf;AACA,cAAMA,KAAN;AACH,OAHM,CAAP;AAIH,KAhBE;AAiBHX,IAAAA,MAAM,EAAEA,MAAM,CAACO,OAjBZ;AAkBHK,IAAAA,KAAK,EAAE,UAAUD,KAAV,EAAiB;AACpBA,MAAAA,KAAK,GAAGA,KAAK,IAAI,IAAIE,KAAJ,CAAU,mCAAV,CAAjB;AACA,UAAIC,GAAG,GAAG;AAACT,QAAAA,IAAI,EAAEZ,CAAC,CAACsB,MAAF,CAASJ,KAAT;AAAP,OAAV;AACAG,MAAAA,GAAG,CAACR,IAAJ,GAAWQ,GAAX;AACAhB,MAAAA,IAAI,CAACM,OAAL,CAAaU,GAAb;AACA,aAAOd,MAAM,CAACO,OAAd;AACH;AAxBE,GAAP;AA0BH","sourcesContent":["\nvar Q = require(\"./q\");\n\nmodule.exports = Queue;\nfunction Queue() {\n    var ends = Q.defer();\n    var closed = Q.defer();\n    return {\n        put: function (value) {\n            var next = Q.defer();\n            ends.resolve({\n                head: value,\n                tail: next.promise\n            });\n            ends.resolve = next.resolve;\n        },\n        get: function () {\n            var result = ends.promise.get(\"head\");\n            ends.promise = ends.promise.get(\"tail\");\n            return result.fail(function (error) {\n                closed.resolve(error);\n                throw error;\n            });\n        },\n        closed: closed.promise,\n        close: function (error) {\n            error = error || new Error(\"Can't get value from closed queue\");\n            var end = {head: Q.reject(error)};\n            end.tail = end;\n            ends.resolve(end);\n            return closed.promise;\n        }\n    };\n}\n\n"]},"metadata":{},"sourceType":"script"}