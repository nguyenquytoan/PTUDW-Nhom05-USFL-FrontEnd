{"ast":null,"code":"// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\nvar assert = require('assert');\n\nvar url = require('./url'); // URLs to parse, and expected data\n// { url : parsed }\n\n\nvar parseTests = {\n  '//some_path': {\n    'href': '//some_path',\n    'pathname': '//some_path',\n    'path': '//some_path'\n  },\n  'http:\\\\\\\\evil-phisher\\\\foo.html#h\\\\a\\\\s\\\\h': {\n    protocol: 'http:',\n    slashes: true,\n    host: 'evil-phisher',\n    hostname: 'evil-phisher',\n    pathname: '/foo.html',\n    path: '/foo.html',\n    hash: '#h%5Ca%5Cs%5Ch',\n    href: 'http://evil-phisher/foo.html#h%5Ca%5Cs%5Ch'\n  },\n  'http:\\\\\\\\evil-phisher\\\\foo.html?json=\"\\\\\"foo\\\\\"\"#h\\\\a\\\\s\\\\h': {\n    protocol: 'http:',\n    slashes: true,\n    host: 'evil-phisher',\n    hostname: 'evil-phisher',\n    pathname: '/foo.html',\n    search: '?json=%22%5C%22foo%5C%22%22',\n    query: 'json=%22%5C%22foo%5C%22%22',\n    path: '/foo.html?json=%22%5C%22foo%5C%22%22',\n    hash: '#h%5Ca%5Cs%5Ch',\n    href: 'http://evil-phisher/foo.html?json=%22%5C%22foo%5C%22%22#h%5Ca%5Cs%5Ch'\n  },\n  'http:\\\\\\\\evil-phisher\\\\foo.html#h\\\\a\\\\s\\\\h?blarg': {\n    protocol: 'http:',\n    slashes: true,\n    host: 'evil-phisher',\n    hostname: 'evil-phisher',\n    pathname: '/foo.html',\n    path: '/foo.html',\n    hash: '#h%5Ca%5Cs%5Ch?blarg',\n    href: 'http://evil-phisher/foo.html#h%5Ca%5Cs%5Ch?blarg'\n  },\n  'http:\\\\\\\\evil-phisher\\\\foo.html': {\n    protocol: 'http:',\n    slashes: true,\n    host: 'evil-phisher',\n    hostname: 'evil-phisher',\n    pathname: '/foo.html',\n    path: '/foo.html',\n    href: 'http://evil-phisher/foo.html'\n  },\n  'HTTP://www.example.com/': {\n    'href': 'http://www.example.com/',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'www.example.com',\n    'hostname': 'www.example.com',\n    'pathname': '/',\n    'path': '/'\n  },\n  'HTTP://www.example.com': {\n    'href': 'http://www.example.com/',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'www.example.com',\n    'hostname': 'www.example.com',\n    'pathname': '/',\n    'path': '/'\n  },\n  'http://www.ExAmPlE.com/': {\n    'href': 'http://www.example.com/',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'www.example.com',\n    'hostname': 'www.example.com',\n    'pathname': '/',\n    'path': '/'\n  },\n  'http://user:pw@www.ExAmPlE.com/': {\n    'href': 'http://user:pw@www.example.com/',\n    'protocol': 'http:',\n    'slashes': true,\n    'auth': 'user:pw',\n    'host': 'www.example.com',\n    'hostname': 'www.example.com',\n    'pathname': '/',\n    'path': '/'\n  },\n  'http://USER:PW@www.ExAmPlE.com/': {\n    'href': 'http://USER:PW@www.example.com/',\n    'protocol': 'http:',\n    'slashes': true,\n    'auth': 'USER:PW',\n    'host': 'www.example.com',\n    'hostname': 'www.example.com',\n    'pathname': '/',\n    'path': '/'\n  },\n  'http://user@www.example.com/': {\n    'href': 'http://user@www.example.com/',\n    'protocol': 'http:',\n    'slashes': true,\n    'auth': 'user',\n    'host': 'www.example.com',\n    'hostname': 'www.example.com',\n    'pathname': '/',\n    'path': '/'\n  },\n  'http://user%3Apw@www.example.com/': {\n    'href': 'http://user:pw@www.example.com/',\n    'protocol': 'http:',\n    'slashes': true,\n    'auth': 'user:pw',\n    'host': 'www.example.com',\n    'hostname': 'www.example.com',\n    'pathname': '/',\n    'path': '/'\n  },\n  'http://x.com/path?that\\'s#all, folks': {\n    'href': 'http://x.com/path?that%27s#all,%20folks',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'x.com',\n    'hostname': 'x.com',\n    'search': '?that%27s',\n    'query': 'that%27s',\n    'pathname': '/path',\n    'hash': '#all,%20folks',\n    'path': '/path?that%27s'\n  },\n  'HTTP://X.COM/Y': {\n    'href': 'http://x.com/Y',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'x.com',\n    'hostname': 'x.com',\n    'pathname': '/Y',\n    'path': '/Y'\n  },\n  // + not an invalid host character\n  // per https://url.spec.whatwg.org/#host-parsing\n  'http://x.y.com+a/b/c': {\n    'href': 'http://x.y.com+a/b/c',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'x.y.com+a',\n    'hostname': 'x.y.com+a',\n    'pathname': '/b/c',\n    'path': '/b/c'\n  },\n  // an unexpected invalid char in the hostname.\n  'HtTp://x.y.cOm;a/b/c?d=e#f g<h>i': {\n    'href': 'http://x.y.com/;a/b/c?d=e#f%20g%3Ch%3Ei',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'x.y.com',\n    'hostname': 'x.y.com',\n    'pathname': ';a/b/c',\n    'search': '?d=e',\n    'query': 'd=e',\n    'hash': '#f%20g%3Ch%3Ei',\n    'path': ';a/b/c?d=e'\n  },\n  // make sure that we don't accidentally lcast the path parts.\n  'HtTp://x.y.cOm;A/b/c?d=e#f g<h>i': {\n    'href': 'http://x.y.com/;A/b/c?d=e#f%20g%3Ch%3Ei',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'x.y.com',\n    'hostname': 'x.y.com',\n    'pathname': ';A/b/c',\n    'search': '?d=e',\n    'query': 'd=e',\n    'hash': '#f%20g%3Ch%3Ei',\n    'path': ';A/b/c?d=e'\n  },\n  'http://x...y...#p': {\n    'href': 'http://x...y.../#p',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'x...y...',\n    'hostname': 'x...y...',\n    'hash': '#p',\n    'pathname': '/',\n    'path': '/'\n  },\n  'http://x/p/\"quoted\"': {\n    'href': 'http://x/p/%22quoted%22',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'x',\n    'hostname': 'x',\n    'pathname': '/p/%22quoted%22',\n    'path': '/p/%22quoted%22'\n  },\n  '<http://goo.corn/bread> Is a URL!': {\n    'href': '%3Chttp://goo.corn/bread%3E%20Is%20a%20URL!',\n    'pathname': '%3Chttp://goo.corn/bread%3E%20Is%20a%20URL!',\n    'path': '%3Chttp://goo.corn/bread%3E%20Is%20a%20URL!'\n  },\n  'http://www.narwhaljs.org/blog/categories?id=news': {\n    'href': 'http://www.narwhaljs.org/blog/categories?id=news',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'www.narwhaljs.org',\n    'hostname': 'www.narwhaljs.org',\n    'search': '?id=news',\n    'query': 'id=news',\n    'pathname': '/blog/categories',\n    'path': '/blog/categories?id=news'\n  },\n  'http://mt0.google.com/vt/lyrs=m@114&hl=en&src=api&x=2&y=2&z=3&s=': {\n    'href': 'http://mt0.google.com/vt/lyrs=m@114&hl=en&src=api&x=2&y=2&z=3&s=',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'mt0.google.com',\n    'hostname': 'mt0.google.com',\n    'pathname': '/vt/lyrs=m@114&hl=en&src=api&x=2&y=2&z=3&s=',\n    'path': '/vt/lyrs=m@114&hl=en&src=api&x=2&y=2&z=3&s='\n  },\n  'http://mt0.google.com/vt/lyrs=m@114???&hl=en&src=api&x=2&y=2&z=3&s=': {\n    'href': 'http://mt0.google.com/vt/lyrs=m@114???&hl=en&src=api' + '&x=2&y=2&z=3&s=',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'mt0.google.com',\n    'hostname': 'mt0.google.com',\n    'search': '???&hl=en&src=api&x=2&y=2&z=3&s=',\n    'query': '??&hl=en&src=api&x=2&y=2&z=3&s=',\n    'pathname': '/vt/lyrs=m@114',\n    'path': '/vt/lyrs=m@114???&hl=en&src=api&x=2&y=2&z=3&s='\n  },\n  'http://user:pass@mt0.google.com/vt/lyrs=m@114???&hl=en&src=api&x=2&y=2&z=3&s=': {\n    'href': 'http://user:pass@mt0.google.com/vt/lyrs=m@114???' + '&hl=en&src=api&x=2&y=2&z=3&s=',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'mt0.google.com',\n    'auth': 'user:pass',\n    'hostname': 'mt0.google.com',\n    'search': '???&hl=en&src=api&x=2&y=2&z=3&s=',\n    'query': '??&hl=en&src=api&x=2&y=2&z=3&s=',\n    'pathname': '/vt/lyrs=m@114',\n    'path': '/vt/lyrs=m@114???&hl=en&src=api&x=2&y=2&z=3&s='\n  },\n  'file:///etc/passwd': {\n    'href': 'file:///etc/passwd',\n    'slashes': true,\n    'protocol': 'file:',\n    'pathname': '/etc/passwd',\n    'hostname': '',\n    'host': '',\n    'path': '/etc/passwd'\n  },\n  'file://localhost/etc/passwd': {\n    'href': 'file://localhost/etc/passwd',\n    'protocol': 'file:',\n    'slashes': true,\n    'pathname': '/etc/passwd',\n    'hostname': 'localhost',\n    'host': 'localhost',\n    'path': '/etc/passwd'\n  },\n  'file://foo/etc/passwd': {\n    'href': 'file://foo/etc/passwd',\n    'protocol': 'file:',\n    'slashes': true,\n    'pathname': '/etc/passwd',\n    'hostname': 'foo',\n    'host': 'foo',\n    'path': '/etc/passwd'\n  },\n  'file:///etc/node/': {\n    'href': 'file:///etc/node/',\n    'slashes': true,\n    'protocol': 'file:',\n    'pathname': '/etc/node/',\n    'hostname': '',\n    'host': '',\n    'path': '/etc/node/'\n  },\n  'file://localhost/etc/node/': {\n    'href': 'file://localhost/etc/node/',\n    'protocol': 'file:',\n    'slashes': true,\n    'pathname': '/etc/node/',\n    'hostname': 'localhost',\n    'host': 'localhost',\n    'path': '/etc/node/'\n  },\n  'file://foo/etc/node/': {\n    'href': 'file://foo/etc/node/',\n    'protocol': 'file:',\n    'slashes': true,\n    'pathname': '/etc/node/',\n    'hostname': 'foo',\n    'host': 'foo',\n    'path': '/etc/node/'\n  },\n  'http:/baz/../foo/bar': {\n    'href': 'http:/baz/../foo/bar',\n    'protocol': 'http:',\n    'pathname': '/baz/../foo/bar',\n    'path': '/baz/../foo/bar'\n  },\n  'http://user:pass@example.com:8000/foo/bar?baz=quux#frag': {\n    'href': 'http://user:pass@example.com:8000/foo/bar?baz=quux#frag',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'example.com:8000',\n    'auth': 'user:pass',\n    'port': '8000',\n    'hostname': 'example.com',\n    'hash': '#frag',\n    'search': '?baz=quux',\n    'query': 'baz=quux',\n    'pathname': '/foo/bar',\n    'path': '/foo/bar?baz=quux'\n  },\n  '//user:pass@example.com:8000/foo/bar?baz=quux#frag': {\n    'href': '//user:pass@example.com:8000/foo/bar?baz=quux#frag',\n    'slashes': true,\n    'host': 'example.com:8000',\n    'auth': 'user:pass',\n    'port': '8000',\n    'hostname': 'example.com',\n    'hash': '#frag',\n    'search': '?baz=quux',\n    'query': 'baz=quux',\n    'pathname': '/foo/bar',\n    'path': '/foo/bar?baz=quux'\n  },\n  '/foo/bar?baz=quux#frag': {\n    'href': '/foo/bar?baz=quux#frag',\n    'hash': '#frag',\n    'search': '?baz=quux',\n    'query': 'baz=quux',\n    'pathname': '/foo/bar',\n    'path': '/foo/bar?baz=quux'\n  },\n  'http:/foo/bar?baz=quux#frag': {\n    'href': 'http:/foo/bar?baz=quux#frag',\n    'protocol': 'http:',\n    'hash': '#frag',\n    'search': '?baz=quux',\n    'query': 'baz=quux',\n    'pathname': '/foo/bar',\n    'path': '/foo/bar?baz=quux'\n  },\n  'mailto:foo@bar.com?subject=hello': {\n    'href': 'mailto:foo@bar.com?subject=hello',\n    'protocol': 'mailto:',\n    'host': 'bar.com',\n    'auth': 'foo',\n    'hostname': 'bar.com',\n    'search': '?subject=hello',\n    'query': 'subject=hello',\n    'path': '?subject=hello'\n  },\n  'javascript:alert(\\'hello\\');': {\n    'href': 'javascript:alert(\\'hello\\');',\n    'protocol': 'javascript:',\n    'pathname': 'alert(\\'hello\\');',\n    'path': 'alert(\\'hello\\');'\n  },\n  'xmpp:isaacschlueter@jabber.org': {\n    'href': 'xmpp:isaacschlueter@jabber.org',\n    'protocol': 'xmpp:',\n    'host': 'jabber.org',\n    'auth': 'isaacschlueter',\n    'hostname': 'jabber.org'\n  },\n  'http://atpass:foo%40bar@127.0.0.1:8080/path?search=foo#bar': {\n    'href': 'http://atpass:foo%40bar@127.0.0.1:8080/path?search=foo#bar',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': '127.0.0.1:8080',\n    'auth': 'atpass:foo@bar',\n    'hostname': '127.0.0.1',\n    'port': '8080',\n    'pathname': '/path',\n    'search': '?search=foo',\n    'query': 'search=foo',\n    'hash': '#bar',\n    'path': '/path?search=foo'\n  },\n  'svn+ssh://foo/bar': {\n    'href': 'svn+ssh://foo/bar',\n    'host': 'foo',\n    'hostname': 'foo',\n    'protocol': 'svn+ssh:',\n    'pathname': '/bar',\n    'path': '/bar',\n    'slashes': true\n  },\n  'dash-test://foo/bar': {\n    'href': 'dash-test://foo/bar',\n    'host': 'foo',\n    'hostname': 'foo',\n    'protocol': 'dash-test:',\n    'pathname': '/bar',\n    'path': '/bar',\n    'slashes': true\n  },\n  'dash-test:foo/bar': {\n    'href': 'dash-test:foo/bar',\n    'host': 'foo',\n    'hostname': 'foo',\n    'protocol': 'dash-test:',\n    'pathname': '/bar',\n    'path': '/bar'\n  },\n  'dot.test://foo/bar': {\n    'href': 'dot.test://foo/bar',\n    'host': 'foo',\n    'hostname': 'foo',\n    'protocol': 'dot.test:',\n    'pathname': '/bar',\n    'path': '/bar',\n    'slashes': true\n  },\n  'dot.test:foo/bar': {\n    'href': 'dot.test:foo/bar',\n    'host': 'foo',\n    'hostname': 'foo',\n    'protocol': 'dot.test:',\n    'pathname': '/bar',\n    'path': '/bar'\n  },\n  // IDNA tests\n  'http://www.日本語.com/': {\n    'href': 'http://www.xn--wgv71a119e.com/',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'www.xn--wgv71a119e.com',\n    'hostname': 'www.xn--wgv71a119e.com',\n    'pathname': '/',\n    'path': '/'\n  },\n  'http://example.Bücher.com/': {\n    'href': 'http://example.xn--bcher-kva.com/',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'example.xn--bcher-kva.com',\n    'hostname': 'example.xn--bcher-kva.com',\n    'pathname': '/',\n    'path': '/'\n  },\n  'http://www.Äffchen.com/': {\n    'href': 'http://www.xn--ffchen-9ta.com/',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'www.xn--ffchen-9ta.com',\n    'hostname': 'www.xn--ffchen-9ta.com',\n    'pathname': '/',\n    'path': '/'\n  },\n  'http://www.Äffchen.cOm;A/b/c?d=e#f g<h>i': {\n    'href': 'http://www.xn--ffchen-9ta.com/;A/b/c?d=e#f%20g%3Ch%3Ei',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'www.xn--ffchen-9ta.com',\n    'hostname': 'www.xn--ffchen-9ta.com',\n    'pathname': ';A/b/c',\n    'search': '?d=e',\n    'query': 'd=e',\n    'hash': '#f%20g%3Ch%3Ei',\n    'path': ';A/b/c?d=e'\n  },\n  'http://SÉLIER.COM/': {\n    'href': 'http://xn--slier-bsa.com/',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'xn--slier-bsa.com',\n    'hostname': 'xn--slier-bsa.com',\n    'pathname': '/',\n    'path': '/'\n  },\n  'http://ليهمابتكلموشعربي؟.ي؟/': {\n    'href': 'http://xn--egbpdaj6bu4bxfgehfvwxn.xn--egb9f/',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'xn--egbpdaj6bu4bxfgehfvwxn.xn--egb9f',\n    'hostname': 'xn--egbpdaj6bu4bxfgehfvwxn.xn--egb9f',\n    'pathname': '/',\n    'path': '/'\n  },\n  'http://➡.ws/➡': {\n    'href': 'http://xn--hgi.ws/➡',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'xn--hgi.ws',\n    'hostname': 'xn--hgi.ws',\n    'pathname': '/➡',\n    'path': '/➡'\n  },\n  'http://bucket_name.s3.amazonaws.com/image.jpg': {\n    protocol: 'http:',\n    'slashes': true,\n    slashes: true,\n    host: 'bucket_name.s3.amazonaws.com',\n    hostname: 'bucket_name.s3.amazonaws.com',\n    pathname: '/image.jpg',\n    href: 'http://bucket_name.s3.amazonaws.com/image.jpg',\n    'path': '/image.jpg'\n  },\n  'git+http://github.com/joyent/node.git': {\n    protocol: 'git+http:',\n    slashes: true,\n    host: 'github.com',\n    hostname: 'github.com',\n    pathname: '/joyent/node.git',\n    path: '/joyent/node.git',\n    href: 'git+http://github.com/joyent/node.git'\n  },\n  //if local1@domain1 is uses as a relative URL it may\n  //be parse into auth@hostname, but here there is no\n  //way to make it work in url.parse, I add the test to be explicit\n  'local1@domain1': {\n    'pathname': 'local1@domain1',\n    'path': 'local1@domain1',\n    'href': 'local1@domain1'\n  },\n  //While this may seem counter-intuitive, a browser will parse\n  //<a href='www.google.com'> as a path.\n  'www.example.com': {\n    'href': 'www.example.com',\n    'pathname': 'www.example.com',\n    'path': 'www.example.com'\n  },\n  // ipv6 support\n  '[fe80::1]': {\n    'href': '[fe80::1]',\n    'pathname': '[fe80::1]',\n    'path': '[fe80::1]'\n  },\n  'coap://[FEDC:BA98:7654:3210:FEDC:BA98:7654:3210]': {\n    'protocol': 'coap:',\n    'slashes': true,\n    'host': '[fedc:ba98:7654:3210:fedc:ba98:7654:3210]',\n    'hostname': 'fedc:ba98:7654:3210:fedc:ba98:7654:3210',\n    'href': 'coap://[fedc:ba98:7654:3210:fedc:ba98:7654:3210]/',\n    'pathname': '/',\n    'path': '/'\n  },\n  'coap://[1080:0:0:0:8:800:200C:417A]:61616/': {\n    'protocol': 'coap:',\n    'slashes': true,\n    'host': '[1080:0:0:0:8:800:200c:417a]:61616',\n    'port': '61616',\n    'hostname': '1080:0:0:0:8:800:200c:417a',\n    'href': 'coap://[1080:0:0:0:8:800:200c:417a]:61616/',\n    'pathname': '/',\n    'path': '/'\n  },\n  'http://user:password@[3ffe:2a00:100:7031::1]:8080': {\n    'protocol': 'http:',\n    'slashes': true,\n    'auth': 'user:password',\n    'host': '[3ffe:2a00:100:7031::1]:8080',\n    'port': '8080',\n    'hostname': '3ffe:2a00:100:7031::1',\n    'href': 'http://user:password@[3ffe:2a00:100:7031::1]:8080/',\n    'pathname': '/',\n    'path': '/'\n  },\n  'coap://u:p@[::192.9.5.5]:61616/.well-known/r?n=Temperature': {\n    'protocol': 'coap:',\n    'slashes': true,\n    'auth': 'u:p',\n    'host': '[::192.9.5.5]:61616',\n    'port': '61616',\n    'hostname': '::192.9.5.5',\n    'href': 'coap://u:p@[::192.9.5.5]:61616/.well-known/r?n=Temperature',\n    'search': '?n=Temperature',\n    'query': 'n=Temperature',\n    'pathname': '/.well-known/r',\n    'path': '/.well-known/r?n=Temperature'\n  },\n  // empty port\n  'http://example.com:': {\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'example.com',\n    'hostname': 'example.com',\n    'href': 'http://example.com/',\n    'pathname': '/',\n    'path': '/'\n  },\n  'http://example.com:/a/b.html': {\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'example.com',\n    'hostname': 'example.com',\n    'href': 'http://example.com/a/b.html',\n    'pathname': '/a/b.html',\n    'path': '/a/b.html'\n  },\n  'http://example.com:?a=b': {\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'example.com',\n    'hostname': 'example.com',\n    'href': 'http://example.com/?a=b',\n    'search': '?a=b',\n    'query': 'a=b',\n    'pathname': '/',\n    'path': '/?a=b'\n  },\n  'http://example.com:#abc': {\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'example.com',\n    'hostname': 'example.com',\n    'href': 'http://example.com/#abc',\n    'hash': '#abc',\n    'pathname': '/',\n    'path': '/'\n  },\n  'http://[fe80::1]:/a/b?a=b#abc': {\n    'protocol': 'http:',\n    'slashes': true,\n    'host': '[fe80::1]',\n    'hostname': 'fe80::1',\n    'href': 'http://[fe80::1]/a/b?a=b#abc',\n    'search': '?a=b',\n    'query': 'a=b',\n    'hash': '#abc',\n    'pathname': '/a/b',\n    'path': '/a/b?a=b'\n  },\n  'http://-lovemonsterz.tumblr.com/rss': {\n    'protocol': 'http:',\n    'slashes': true,\n    'host': '-lovemonsterz.tumblr.com',\n    'hostname': '-lovemonsterz.tumblr.com',\n    'href': 'http://-lovemonsterz.tumblr.com/rss',\n    'pathname': '/rss',\n    'path': '/rss'\n  },\n  'http://-lovemonsterz.tumblr.com:80/rss': {\n    'protocol': 'http:',\n    'slashes': true,\n    'port': '80',\n    'host': '-lovemonsterz.tumblr.com:80',\n    'hostname': '-lovemonsterz.tumblr.com',\n    'href': 'http://-lovemonsterz.tumblr.com:80/rss',\n    'pathname': '/rss',\n    'path': '/rss'\n  },\n  'http://user:pass@-lovemonsterz.tumblr.com/rss': {\n    'protocol': 'http:',\n    'slashes': true,\n    'auth': 'user:pass',\n    'host': '-lovemonsterz.tumblr.com',\n    'hostname': '-lovemonsterz.tumblr.com',\n    'href': 'http://user:pass@-lovemonsterz.tumblr.com/rss',\n    'pathname': '/rss',\n    'path': '/rss'\n  },\n  'http://user:pass@-lovemonsterz.tumblr.com:80/rss': {\n    'protocol': 'http:',\n    'slashes': true,\n    'auth': 'user:pass',\n    'port': '80',\n    'host': '-lovemonsterz.tumblr.com:80',\n    'hostname': '-lovemonsterz.tumblr.com',\n    'href': 'http://user:pass@-lovemonsterz.tumblr.com:80/rss',\n    'pathname': '/rss',\n    'path': '/rss'\n  },\n  'http://_jabber._tcp.google.com/test': {\n    'protocol': 'http:',\n    'slashes': true,\n    'host': '_jabber._tcp.google.com',\n    'hostname': '_jabber._tcp.google.com',\n    'href': 'http://_jabber._tcp.google.com/test',\n    'pathname': '/test',\n    'path': '/test'\n  },\n  'http://user:pass@_jabber._tcp.google.com/test': {\n    'protocol': 'http:',\n    'slashes': true,\n    'auth': 'user:pass',\n    'host': '_jabber._tcp.google.com',\n    'hostname': '_jabber._tcp.google.com',\n    'href': 'http://user:pass@_jabber._tcp.google.com/test',\n    'pathname': '/test',\n    'path': '/test'\n  },\n  'http://_jabber._tcp.google.com:80/test': {\n    'protocol': 'http:',\n    'slashes': true,\n    'port': '80',\n    'host': '_jabber._tcp.google.com:80',\n    'hostname': '_jabber._tcp.google.com',\n    'href': 'http://_jabber._tcp.google.com:80/test',\n    'pathname': '/test',\n    'path': '/test'\n  },\n  'http://user:pass@_jabber._tcp.google.com:80/test': {\n    'protocol': 'http:',\n    'slashes': true,\n    'auth': 'user:pass',\n    'port': '80',\n    'host': '_jabber._tcp.google.com:80',\n    'hostname': '_jabber._tcp.google.com',\n    'href': 'http://user:pass@_jabber._tcp.google.com:80/test',\n    'pathname': '/test',\n    'path': '/test'\n  },\n  'http://x:1/\\' <>\"`/{}|\\\\^~`/': {\n    protocol: 'http:',\n    slashes: true,\n    host: 'x:1',\n    port: '1',\n    hostname: 'x',\n    pathname: '/%27%20%3C%3E%22%60/%7B%7D%7C/%5E~%60/',\n    path: '/%27%20%3C%3E%22%60/%7B%7D%7C/%5E~%60/',\n    href: 'http://x:1/%27%20%3C%3E%22%60/%7B%7D%7C/%5E~%60/'\n  },\n  'http://a@b@c/': {\n    protocol: 'http:',\n    slashes: true,\n    auth: 'a@b',\n    host: 'c',\n    hostname: 'c',\n    href: 'http://a%40b@c/',\n    path: '/',\n    pathname: '/'\n  },\n  'http://a@b?@c': {\n    protocol: 'http:',\n    slashes: true,\n    auth: 'a',\n    host: 'b',\n    hostname: 'b',\n    href: 'http://a@b/?@c',\n    path: '/?@c',\n    pathname: '/',\n    search: '?@c',\n    query: '@c'\n  },\n  'http://a\\r\" \\t\\n<\\'b:b@c\\r\\nd/e?f': {\n    protocol: 'http:',\n    slashes: true,\n    auth: 'a\\r\" \\t\\n<\\'b:b',\n    host: 'c',\n    port: null,\n    hostname: 'c',\n    hash: null,\n    search: '?f',\n    query: 'f',\n    pathname: '%0D%0Ad/e',\n    path: '%0D%0Ad/e?f',\n    href: 'http://a%0D%22%20%09%0A%3C\\'b:b@c/%0D%0Ad/e?f'\n  },\n  // git urls used by npm\n  'git+ssh://git@github.com:npm/npm': {\n    protocol: 'git+ssh:',\n    slashes: true,\n    auth: 'git',\n    host: 'github.com',\n    port: null,\n    hostname: 'github.com',\n    hash: null,\n    search: null,\n    query: null,\n    pathname: '/:npm/npm',\n    path: '/:npm/npm',\n    href: 'git+ssh://git@github.com/:npm/npm'\n  }\n};\nObject.keys(parseTests).forEach(function (u) {\n  test('parse(' + u + ')', function () {\n    var actual = url.parse(u),\n        spaced = url.parse('     \\t  ' + u + '\\n\\t');\n    expected = parseTests[u];\n    Object.keys(actual).forEach(function (i) {\n      if (expected[i] === undefined && actual[i] === null) {\n        expected[i] = null;\n      }\n    });\n    assert.deepEqual(actual, expected);\n    assert.deepEqual(spaced, expected);\n    var expected = parseTests[u].href,\n        actual = url.format(parseTests[u]);\n    assert.equal(actual, expected, 'format(' + u + ') == ' + u + '\\nactual:' + actual);\n  });\n});\nvar parseTestsWithQueryString = {\n  '/foo/bar?baz=quux#frag': {\n    'href': '/foo/bar?baz=quux#frag',\n    'hash': '#frag',\n    'search': '?baz=quux',\n    'query': {\n      'baz': 'quux'\n    },\n    'pathname': '/foo/bar',\n    'path': '/foo/bar?baz=quux'\n  },\n  'http://example.com': {\n    'href': 'http://example.com/',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'example.com',\n    'hostname': 'example.com',\n    'query': {},\n    'search': '',\n    'pathname': '/',\n    'path': '/'\n  },\n  '/example': {\n    protocol: null,\n    slashes: null,\n    auth: null,\n    host: null,\n    port: null,\n    hostname: null,\n    hash: null,\n    search: '',\n    query: {},\n    pathname: '/example',\n    path: '/example',\n    href: '/example'\n  },\n  '/example?query=value': {\n    protocol: null,\n    slashes: null,\n    auth: null,\n    host: null,\n    port: null,\n    hostname: null,\n    hash: null,\n    search: '?query=value',\n    query: {\n      query: 'value'\n    },\n    pathname: '/example',\n    path: '/example?query=value',\n    href: '/example?query=value'\n  }\n};\nObject.keys(parseTestsWithQueryString).forEach(function (u) {\n  test('parse(' + u + ')', function () {\n    var actual = url.parse(u, true);\n    var expected = parseTestsWithQueryString[u];\n\n    for (var i in actual) {\n      if (actual[i] === null && expected[i] === undefined) {\n        expected[i] = null;\n      }\n    }\n\n    assert.deepEqual(actual, expected);\n  });\n}); // some extra formatting tests, just to verify\n// that it'll format slightly wonky content to a valid url.\n\nvar formatTests = {\n  'http://example.com?': {\n    'href': 'http://example.com/?',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'example.com',\n    'hostname': 'example.com',\n    'search': '?',\n    'query': {},\n    'pathname': '/'\n  },\n  'http://example.com?foo=bar#frag': {\n    'href': 'http://example.com/?foo=bar#frag',\n    'protocol': 'http:',\n    'host': 'example.com',\n    'hostname': 'example.com',\n    'hash': '#frag',\n    'search': '?foo=bar',\n    'query': 'foo=bar',\n    'pathname': '/'\n  },\n  'http://example.com?foo=@bar#frag': {\n    'href': 'http://example.com/?foo=@bar#frag',\n    'protocol': 'http:',\n    'host': 'example.com',\n    'hostname': 'example.com',\n    'hash': '#frag',\n    'search': '?foo=@bar',\n    'query': 'foo=@bar',\n    'pathname': '/'\n  },\n  'http://example.com?foo=/bar/#frag': {\n    'href': 'http://example.com/?foo=/bar/#frag',\n    'protocol': 'http:',\n    'host': 'example.com',\n    'hostname': 'example.com',\n    'hash': '#frag',\n    'search': '?foo=/bar/',\n    'query': 'foo=/bar/',\n    'pathname': '/'\n  },\n  'http://example.com?foo=?bar/#frag': {\n    'href': 'http://example.com/?foo=?bar/#frag',\n    'protocol': 'http:',\n    'host': 'example.com',\n    'hostname': 'example.com',\n    'hash': '#frag',\n    'search': '?foo=?bar/',\n    'query': 'foo=?bar/',\n    'pathname': '/'\n  },\n  'http://example.com#frag=?bar/#frag': {\n    'href': 'http://example.com/#frag=?bar/#frag',\n    'protocol': 'http:',\n    'host': 'example.com',\n    'hostname': 'example.com',\n    'hash': '#frag=?bar/#frag',\n    'pathname': '/'\n  },\n  'http://google.com\" onload=\"alert(42)/': {\n    'href': 'http://google.com/%22%20onload=%22alert(42)/',\n    'protocol': 'http:',\n    'host': 'google.com',\n    'pathname': '/%22%20onload=%22alert(42)/'\n  },\n  'http://a.com/a/b/c?s#h': {\n    'href': 'http://a.com/a/b/c?s#h',\n    'protocol': 'http',\n    'host': 'a.com',\n    'pathname': 'a/b/c',\n    'hash': 'h',\n    'search': 's'\n  },\n  'xmpp:isaacschlueter@jabber.org': {\n    'href': 'xmpp:isaacschlueter@jabber.org',\n    'protocol': 'xmpp:',\n    'host': 'jabber.org',\n    'auth': 'isaacschlueter',\n    'hostname': 'jabber.org'\n  },\n  'http://atpass:foo%40bar@127.0.0.1/': {\n    'href': 'http://atpass:foo%40bar@127.0.0.1/',\n    'auth': 'atpass:foo@bar',\n    'hostname': '127.0.0.1',\n    'protocol': 'http:',\n    'pathname': '/'\n  },\n  'http://atslash%2F%40:%2F%40@foo/': {\n    'href': 'http://atslash%2F%40:%2F%40@foo/',\n    'auth': 'atslash/@:/@',\n    'hostname': 'foo',\n    'protocol': 'http:',\n    'pathname': '/'\n  },\n  'svn+ssh://foo/bar': {\n    'href': 'svn+ssh://foo/bar',\n    'hostname': 'foo',\n    'protocol': 'svn+ssh:',\n    'pathname': '/bar',\n    'slashes': true\n  },\n  'dash-test://foo/bar': {\n    'href': 'dash-test://foo/bar',\n    'hostname': 'foo',\n    'protocol': 'dash-test:',\n    'pathname': '/bar',\n    'slashes': true\n  },\n  'dash-test:foo/bar': {\n    'href': 'dash-test:foo/bar',\n    'hostname': 'foo',\n    'protocol': 'dash-test:',\n    'pathname': '/bar'\n  },\n  'dot.test://foo/bar': {\n    'href': 'dot.test://foo/bar',\n    'hostname': 'foo',\n    'protocol': 'dot.test:',\n    'pathname': '/bar',\n    'slashes': true\n  },\n  'dot.test:foo/bar': {\n    'href': 'dot.test:foo/bar',\n    'hostname': 'foo',\n    'protocol': 'dot.test:',\n    'pathname': '/bar'\n  },\n  // ipv6 support\n  'coap:u:p@[::1]:61616/.well-known/r?n=Temperature': {\n    'href': 'coap:u:p@[::1]:61616/.well-known/r?n=Temperature',\n    'protocol': 'coap:',\n    'auth': 'u:p',\n    'hostname': '::1',\n    'port': '61616',\n    'pathname': '/.well-known/r',\n    'search': 'n=Temperature'\n  },\n  'coap:[fedc:ba98:7654:3210:fedc:ba98:7654:3210]:61616/s/stopButton': {\n    'href': 'coap:[fedc:ba98:7654:3210:fedc:ba98:7654:3210]:61616/s/stopButton',\n    'protocol': 'coap',\n    'host': '[fedc:ba98:7654:3210:fedc:ba98:7654:3210]:61616',\n    'pathname': '/s/stopButton'\n  },\n  // encode context-specific delimiters in path and query, but do not touch\n  // other non-delimiter chars like `%`.\n  // <https://github.com/joyent/node/issues/4082>\n  // `#`,`?` in path\n  '/path/to/%%23%3F+=&.txt?foo=theA1#bar': {\n    href: '/path/to/%%23%3F+=&.txt?foo=theA1#bar',\n    pathname: '/path/to/%#?+=&.txt',\n    query: {\n      foo: 'theA1'\n    },\n    hash: \"#bar\"\n  },\n  // `#`,`?` in path + `#` in query\n  '/path/to/%%23%3F+=&.txt?foo=the%231#bar': {\n    href: '/path/to/%%23%3F+=&.txt?foo=the%231#bar',\n    pathname: '/path/to/%#?+=&.txt',\n    query: {\n      foo: 'the#1'\n    },\n    hash: \"#bar\"\n  },\n  // `?` and `#` in path and search\n  'http://ex.com/foo%3F100%m%23r?abc=the%231?&foo=bar#frag': {\n    href: 'http://ex.com/foo%3F100%m%23r?abc=the%231?&foo=bar#frag',\n    protocol: 'http:',\n    hostname: 'ex.com',\n    hash: '#frag',\n    search: '?abc=the#1?&foo=bar',\n    pathname: '/foo?100%m#r'\n  },\n  // `?` and `#` in search only\n  'http://ex.com/fooA100%mBr?abc=the%231?&foo=bar#frag': {\n    href: 'http://ex.com/fooA100%mBr?abc=the%231?&foo=bar#frag',\n    protocol: 'http:',\n    hostname: 'ex.com',\n    hash: '#frag',\n    search: '?abc=the#1?&foo=bar',\n    pathname: '/fooA100%mBr'\n  }\n};\nObject.keys(formatTests).forEach(function (u) {\n  test('format(' + u + ')', function () {\n    var expect = formatTests[u].href;\n    delete formatTests[u].href;\n    var actual = url.format(u);\n    var actualObj = url.format(formatTests[u]);\n    assert.equal(actual, expect, 'wonky format(' + u + ') == ' + expect + '\\nactual:' + actual);\n    assert.equal(actualObj, expect, 'wonky format(' + JSON.stringify(formatTests[u]) + ') == ' + expect + '\\nactual: ' + actualObj);\n  });\n});\n/*\n [from, path, expected]\n*/\n\nvar relativeTests = [['/foo/bar/baz', 'quux', '/foo/bar/quux'], ['/foo/bar/baz', 'quux/asdf', '/foo/bar/quux/asdf'], ['/foo/bar/baz', 'quux/baz', '/foo/bar/quux/baz'], ['/foo/bar/baz', '../quux/baz', '/foo/quux/baz'], ['/foo/bar/baz', '/bar', '/bar'], ['/foo/bar/baz/', 'quux', '/foo/bar/baz/quux'], ['/foo/bar/baz/', 'quux/baz', '/foo/bar/baz/quux/baz'], ['/foo/bar/baz', '../../../../../../../../quux/baz', '/quux/baz'], ['/foo/bar/baz', '../../../../../../../quux/baz', '/quux/baz'], ['/foo', '.', '/'], ['/foo', '..', '/'], ['/foo/', '.', '/foo/'], ['/foo/', '..', '/'], ['/foo/bar', '.', '/foo/'], ['/foo/bar', '..', '/'], ['/foo/bar/', '.', '/foo/bar/'], ['/foo/bar/', '..', '/foo/'], ['foo/bar', '../../../baz', '../../baz'], ['foo/bar/', '../../../baz', '../baz'], ['http://example.com/b//c//d;p?q#blarg', 'https:#hash2', 'https:///#hash2'], ['http://example.com/b//c//d;p?q#blarg', 'https:/p/a/t/h?s#hash2', 'https://p/a/t/h?s#hash2'], ['http://example.com/b//c//d;p?q#blarg', 'https://u:p@h.com/p/a/t/h?s#hash2', 'https://u:p@h.com/p/a/t/h?s#hash2'], ['http://example.com/b//c//d;p?q#blarg', 'https:/a/b/c/d', 'https://a/b/c/d'], ['http://example.com/b//c//d;p?q#blarg', 'http:#hash2', 'http://example.com/b//c//d;p?q#hash2'], ['http://example.com/b//c//d;p?q#blarg', 'http:/p/a/t/h?s#hash2', 'http://example.com/p/a/t/h?s#hash2'], ['http://example.com/b//c//d;p?q#blarg', 'http://u:p@h.com/p/a/t/h?s#hash2', 'http://u:p@h.com/p/a/t/h?s#hash2'], ['http://example.com/b//c//d;p?q#blarg', 'http:/a/b/c/d', 'http://example.com/a/b/c/d'], ['/foo/bar/baz', '/../etc/passwd', '/etc/passwd']];\nrelativeTests.forEach(function (relativeTest) {\n  test('resolve(' + [relativeTest[0], relativeTest[1]] + ')', function () {\n    var a = url.resolve(relativeTest[0], relativeTest[1]),\n        e = relativeTest[2];\n    assert.equal(a, e, 'resolve(' + [relativeTest[0], relativeTest[1]] + ') == ' + e + '\\n  actual=' + a);\n  });\n}); // https://github.com/joyent/node/issues/568\n\n[undefined, null, true, false, 0.0, 0, [], {}].forEach(function (val) {\n  test('parse(' + val + ')', function () {\n    assert.throws(function () {\n      url.parse(val);\n    }, TypeError);\n  });\n}); //\n// Tests below taken from Chiron\n// http://code.google.com/p/chironjs/source/browse/trunk/src/test/http/url.js\n//\n// Copyright (c) 2002-2008 Kris Kowal <http://cixar.com/~kris.kowal>\n// used with permission under MIT License\n//\n// Changes marked with @isaacs\n\nvar bases = ['http://a/b/c/d;p?q', 'http://a/b/c/d;p?q=1/2', 'http://a/b/c/d;p=1/2?q', 'fred:///s//a/b/c', 'http:///s//a/b/c']; //[to, from, result]\n\nvar relativeTests2 = [// http://lists.w3.org/Archives/Public/uri/2004Feb/0114.html\n['../c', 'foo:a/b', 'foo:c'], ['foo:.', 'foo:a', 'foo:'], ['/foo/../../../bar', 'zz:abc', 'zz:/bar'], ['/foo/../bar', 'zz:abc', 'zz:/bar'], // @isaacs Disagree. Not how web browsers resolve this.\n['foo/../../../bar', 'zz:abc', 'zz:bar'], // ['foo/../../../bar',  'zz:abc', 'zz:../../bar'], // @isaacs Added\n['foo/../bar', 'zz:abc', 'zz:bar'], ['zz:.', 'zz:abc', 'zz:'], ['/.', bases[0], 'http://a/'], ['/.foo', bases[0], 'http://a/.foo'], ['.foo', bases[0], 'http://a/b/c/.foo'], // http://gbiv.com/protocols/uri/test/rel_examples1.html\n// examples from RFC 2396\n['g:h', bases[0], 'g:h'], ['g', bases[0], 'http://a/b/c/g'], ['./g', bases[0], 'http://a/b/c/g'], ['g/', bases[0], 'http://a/b/c/g/'], ['/g', bases[0], 'http://a/g'], ['//g', bases[0], 'http://g/'], // changed with RFC 2396bis\n//('?y', bases[0], 'http://a/b/c/d;p?y'],\n['?y', bases[0], 'http://a/b/c/d;p?y'], ['g?y', bases[0], 'http://a/b/c/g?y'], // changed with RFC 2396bis\n//('#s', bases[0], CURRENT_DOC_URI + '#s'],\n['#s', bases[0], 'http://a/b/c/d;p?q#s'], ['g#s', bases[0], 'http://a/b/c/g#s'], ['g?y#s', bases[0], 'http://a/b/c/g?y#s'], [';x', bases[0], 'http://a/b/c/;x'], ['g;x', bases[0], 'http://a/b/c/g;x'], ['g;x?y#s', bases[0], 'http://a/b/c/g;x?y#s'], // changed with RFC 2396bis\n//('', bases[0], CURRENT_DOC_URI],\n['', bases[0], 'http://a/b/c/d;p?q'], ['.', bases[0], 'http://a/b/c/'], ['./', bases[0], 'http://a/b/c/'], ['..', bases[0], 'http://a/b/'], ['../', bases[0], 'http://a/b/'], ['../g', bases[0], 'http://a/b/g'], ['../..', bases[0], 'http://a/'], ['../../', bases[0], 'http://a/'], ['../../g', bases[0], 'http://a/g'], ['../../../g', bases[0], ('http://a/../g', 'http://a/g')], ['../../../../g', bases[0], ('http://a/../../g', 'http://a/g')], // changed with RFC 2396bis\n//('/./g', bases[0], 'http://a/./g'],\n['/./g', bases[0], 'http://a/g'], // changed with RFC 2396bis\n//('/../g', bases[0], 'http://a/../g'],\n['/../g', bases[0], 'http://a/g'], ['g.', bases[0], 'http://a/b/c/g.'], ['.g', bases[0], 'http://a/b/c/.g'], ['g..', bases[0], 'http://a/b/c/g..'], ['..g', bases[0], 'http://a/b/c/..g'], ['./../g', bases[0], 'http://a/b/g'], ['./g/.', bases[0], 'http://a/b/c/g/'], ['g/./h', bases[0], 'http://a/b/c/g/h'], ['g/../h', bases[0], 'http://a/b/c/h'], ['g;x=1/./y', bases[0], 'http://a/b/c/g;x=1/y'], ['g;x=1/../y', bases[0], 'http://a/b/c/y'], ['g?y/./x', bases[0], 'http://a/b/c/g?y/./x'], ['g?y/../x', bases[0], 'http://a/b/c/g?y/../x'], ['g#s/./x', bases[0], 'http://a/b/c/g#s/./x'], ['g#s/../x', bases[0], 'http://a/b/c/g#s/../x'], ['http:g', bases[0], ('http:g', 'http://a/b/c/g')], ['http:', bases[0], ('http:', bases[0])], // not sure where this one originated\n['/a/b/c/./../../g', bases[0], 'http://a/a/g'], // http://gbiv.com/protocols/uri/test/rel_examples2.html\n// slashes in base URI's query args\n['g', bases[1], 'http://a/b/c/g'], ['./g', bases[1], 'http://a/b/c/g'], ['g/', bases[1], 'http://a/b/c/g/'], ['/g', bases[1], 'http://a/g'], ['//g', bases[1], 'http://g/'], // changed in RFC 2396bis\n//('?y', bases[1], 'http://a/b/c/?y'],\n['?y', bases[1], 'http://a/b/c/d;p?y'], ['g?y', bases[1], 'http://a/b/c/g?y'], ['g?y/./x', bases[1], 'http://a/b/c/g?y/./x'], ['g?y/../x', bases[1], 'http://a/b/c/g?y/../x'], ['g#s', bases[1], 'http://a/b/c/g#s'], ['g#s/./x', bases[1], 'http://a/b/c/g#s/./x'], ['g#s/../x', bases[1], 'http://a/b/c/g#s/../x'], ['./', bases[1], 'http://a/b/c/'], ['../', bases[1], 'http://a/b/'], ['../g', bases[1], 'http://a/b/g'], ['../../', bases[1], 'http://a/'], ['../../g', bases[1], 'http://a/g'], // http://gbiv.com/protocols/uri/test/rel_examples3.html\n// slashes in path params\n// all of these changed in RFC 2396bis\n['g', bases[2], 'http://a/b/c/d;p=1/g'], ['./g', bases[2], 'http://a/b/c/d;p=1/g'], ['g/', bases[2], 'http://a/b/c/d;p=1/g/'], ['g?y', bases[2], 'http://a/b/c/d;p=1/g?y'], [';x', bases[2], 'http://a/b/c/d;p=1/;x'], ['g;x', bases[2], 'http://a/b/c/d;p=1/g;x'], ['g;x=1/./y', bases[2], 'http://a/b/c/d;p=1/g;x=1/y'], ['g;x=1/../y', bases[2], 'http://a/b/c/d;p=1/y'], ['./', bases[2], 'http://a/b/c/d;p=1/'], ['../', bases[2], 'http://a/b/c/'], ['../g', bases[2], 'http://a/b/c/g'], ['../../', bases[2], 'http://a/b/'], ['../../g', bases[2], 'http://a/b/g'], // http://gbiv.com/protocols/uri/test/rel_examples4.html\n// double and triple slash, unknown scheme\n['g:h', bases[3], 'g:h'], ['g', bases[3], 'fred:///s//a/b/g'], ['./g', bases[3], 'fred:///s//a/b/g'], ['g/', bases[3], 'fred:///s//a/b/g/'], ['/g', bases[3], 'fred:///g'], // may change to fred:///s//a/g\n['//g', bases[3], 'fred://g'], // may change to fred:///s//g\n['//g/x', bases[3], 'fred://g/x'], // may change to fred:///s//g/x\n['///g', bases[3], 'fred:///g'], ['./', bases[3], 'fred:///s//a/b/'], ['../', bases[3], 'fred:///s//a/'], ['../g', bases[3], 'fred:///s//a/g'], ['../../', bases[3], 'fred:///s//'], ['../../g', bases[3], 'fred:///s//g'], ['../../../g', bases[3], 'fred:///s/g'], // may change to fred:///s//a/../../../g\n['../../../../g', bases[3], 'fred:///g'], // http://gbiv.com/protocols/uri/test/rel_examples5.html\n// double and triple slash, well-known scheme\n['g:h', bases[4], 'g:h'], ['g', bases[4], 'http:///s//a/b/g'], ['./g', bases[4], 'http:///s//a/b/g'], ['g/', bases[4], 'http:///s//a/b/g/'], ['/g', bases[4], 'http:///g'], // may change to http:///s//a/g\n['//g', bases[4], 'http://g/'], // may change to http:///s//g\n['//g/x', bases[4], 'http://g/x'], // may change to http:///s//g/x\n['///g', bases[4], 'http:///g'], ['./', bases[4], 'http:///s//a/b/'], ['../', bases[4], 'http:///s//a/'], ['../g', bases[4], 'http:///s//a/g'], ['../../', bases[4], 'http:///s//'], ['../../g', bases[4], 'http:///s//g'], // may change to http:///s//a/../../g\n['../../../g', bases[4], 'http:///s/g'], // may change to http:///s//a/../../../g\n['../../../../g', bases[4], 'http:///g'], // from Dan Connelly's tests in http://www.w3.org/2000/10/swap/uripath.py\n['bar:abc', 'foo:xyz', 'bar:abc'], ['../abc', 'http://example/x/y/z', 'http://example/x/abc'], ['http://example/x/abc', 'http://example2/x/y/z', 'http://example/x/abc'], ['../r', 'http://ex/x/y/z', 'http://ex/x/r'], ['q/r', 'http://ex/x/y', 'http://ex/x/q/r'], ['q/r#s', 'http://ex/x/y', 'http://ex/x/q/r#s'], ['q/r#s/t', 'http://ex/x/y', 'http://ex/x/q/r#s/t'], ['ftp://ex/x/q/r', 'http://ex/x/y', 'ftp://ex/x/q/r'], ['', 'http://ex/x/y', 'http://ex/x/y'], ['', 'http://ex/x/y/', 'http://ex/x/y/'], ['', 'http://ex/x/y/pdq', 'http://ex/x/y/pdq'], ['z/', 'http://ex/x/y/', 'http://ex/x/y/z/'], ['#Animal', 'file:/swap/test/animal.rdf', 'file:/swap/test/animal.rdf#Animal'], ['../abc', 'file:/e/x/y/z', 'file:/e/x/abc'], ['/example/x/abc', 'file:/example2/x/y/z', 'file:/example/x/abc'], ['../r', 'file:/ex/x/y/z', 'file:/ex/x/r'], ['/r', 'file:/ex/x/y/z', 'file:/r'], ['q/r', 'file:/ex/x/y', 'file:/ex/x/q/r'], ['q/r#s', 'file:/ex/x/y', 'file:/ex/x/q/r#s'], ['q/r#', 'file:/ex/x/y', 'file:/ex/x/q/r#'], ['q/r#s/t', 'file:/ex/x/y', 'file:/ex/x/q/r#s/t'], ['ftp://ex/x/q/r', 'file:/ex/x/y', 'ftp://ex/x/q/r'], ['', 'file:/ex/x/y', 'file:/ex/x/y'], ['', 'file:/ex/x/y/', 'file:/ex/x/y/'], ['', 'file:/ex/x/y/pdq', 'file:/ex/x/y/pdq'], ['z/', 'file:/ex/x/y/', 'file:/ex/x/y/z/'], ['file://meetings.example.com/cal#m1', 'file:/devel/WWW/2000/10/swap/test/reluri-1.n3', 'file://meetings.example.com/cal#m1'], ['file://meetings.example.com/cal#m1', 'file:/home/connolly/w3ccvs/WWW/2000/10/swap/test/reluri-1.n3', 'file://meetings.example.com/cal#m1'], ['./#blort', 'file:/some/dir/foo', 'file:/some/dir/#blort'], ['./#', 'file:/some/dir/foo', 'file:/some/dir/#'], // Ryan Lee\n['./', 'http://example/x/abc.efg', 'http://example/x/'], // Graham Klyne's tests\n// http://www.ninebynine.org/Software/HaskellUtils/Network/UriTest.xls\n// 01-31 are from Connelly's cases\n// 32-49\n['./q:r', 'http://ex/x/y', 'http://ex/x/q:r'], ['./p=q:r', 'http://ex/x/y', 'http://ex/x/p=q:r'], ['?pp/rr', 'http://ex/x/y?pp/qq', 'http://ex/x/y?pp/rr'], ['y/z', 'http://ex/x/y?pp/qq', 'http://ex/x/y/z'], ['local/qual@domain.org#frag', 'mailto:local', 'mailto:local/qual@domain.org#frag'], ['more/qual2@domain2.org#frag', 'mailto:local/qual1@domain1.org', 'mailto:local/more/qual2@domain2.org#frag'], ['y?q', 'http://ex/x/y?q', 'http://ex/x/y?q'], ['/x/y?q', 'http://ex?p', 'http://ex/x/y?q'], ['c/d', 'foo:a/b', 'foo:a/c/d'], ['/c/d', 'foo:a/b', 'foo:/c/d'], ['', 'foo:a/b?c#d', 'foo:a/b?c'], ['b/c', 'foo:a', 'foo:b/c'], ['../b/c', 'foo:/a/y/z', 'foo:/a/b/c'], ['./b/c', 'foo:a', 'foo:b/c'], ['/./b/c', 'foo:a', 'foo:/b/c'], ['../../d', 'foo://a//b/c', 'foo://a/d'], ['.', 'foo:a', 'foo:'], ['..', 'foo:a', 'foo:'], // 50-57[cf. TimBL comments --\n//  http://lists.w3.org/Archives/Public/uri/2003Feb/0028.html,\n//  http://lists.w3.org/Archives/Public/uri/2003Jan/0008.html)\n['abc', 'http://example/x/y%2Fz', 'http://example/x/abc'], ['../../x%2Fabc', 'http://example/a/x/y/z', 'http://example/a/x%2Fabc'], ['../x%2Fabc', 'http://example/a/x/y%2Fz', 'http://example/a/x%2Fabc'], ['abc', 'http://example/x%2Fy/z', 'http://example/x%2Fy/abc'], ['q%3Ar', 'http://ex/x/y', 'http://ex/x/q%3Ar'], ['/x%2Fabc', 'http://example/x/y%2Fz', 'http://example/x%2Fabc'], ['/x%2Fabc', 'http://example/x/y/z', 'http://example/x%2Fabc'], ['/x%2Fabc', 'http://example/x/y%2Fz', 'http://example/x%2Fabc'], // 70-77\n['local2@domain2', 'mailto:local1@domain1?query1', 'mailto:local2@domain2'], ['local2@domain2?query2', 'mailto:local1@domain1', 'mailto:local2@domain2?query2'], ['local2@domain2?query2', 'mailto:local1@domain1?query1', 'mailto:local2@domain2?query2'], ['?query2', 'mailto:local@domain?query1', 'mailto:local@domain?query2'], ['local@domain?query2', 'mailto:?query1', 'mailto:local@domain?query2'], ['?query2', 'mailto:local@domain?query1', 'mailto:local@domain?query2'], ['http://example/a/b?c/../d', 'foo:bar', 'http://example/a/b?c/../d'], ['http://example/a/b#c/../d', 'foo:bar', 'http://example/a/b#c/../d'], // 82-88\n// @isaacs Disagree. Not how browsers do it.\n// ['http:this', 'http://example.org/base/uri', 'http:this'],\n// @isaacs Added\n['http:this', 'http://example.org/base/uri', 'http://example.org/base/this'], ['http:this', 'http:base', 'http:this'], ['.//g', 'f:/a', 'f://g'], ['b/c//d/e', 'f://example.org/base/a', 'f://example.org/base/b/c//d/e'], ['m2@example.ord/c2@example.org', 'mid:m@example.ord/c@example.org', 'mid:m@example.ord/m2@example.ord/c2@example.org'], ['mini1.xml', 'file:///C:/DEV/Haskell/lib/HXmlToolbox-3.01/examples/', 'file:///C:/DEV/Haskell/lib/HXmlToolbox-3.01/examples/mini1.xml'], ['../b/c', 'foo:a/y/z', 'foo:a/b/c'], //changeing auth\n['http://diff:auth@www.example.com', 'http://asdf:qwer@www.example.com', 'http://diff:auth@www.example.com/']];\nrelativeTests2.forEach(function (relativeTest) {\n  test('resolve(' + [relativeTest[1], relativeTest[0]] + ')', function () {\n    var a = url.resolve(relativeTest[1], relativeTest[0]),\n        e = relativeTest[2];\n    assert.equal(a, e, 'resolve(' + [relativeTest[1], relativeTest[0]] + ') == ' + e + '\\n  actual=' + a);\n  });\n}); //if format and parse are inverse operations then\n//resolveObject(parse(x), y) == parse(resolve(x, y))\n//host and hostname are special, in this case a '' value is important\n\nvar emptyIsImportant = {\n  'host': true,\n  'hostname': ''\n}; //format: [from, path, expected]\n\nrelativeTests.forEach(function (relativeTest) {\n  test('resolveObject(' + [relativeTest[0], relativeTest[1]] + ')', function () {\n    var actual = url.resolveObject(url.parse(relativeTest[0]), relativeTest[1]),\n        expected = url.parse(relativeTest[2]);\n    assert.deepEqual(actual, expected);\n    expected = relativeTest[2];\n    actual = url.format(actual);\n    assert.equal(actual, expected, 'format(' + actual + ') == ' + expected + '\\nactual:' + actual);\n  });\n}); //format: [to, from, result]\n// the test: ['.//g', 'f:/a', 'f://g'] is a fundamental problem\n// url.parse('f:/a') does not have a host\n// url.resolve('f:/a', './/g') does not have a host because you have moved\n// down to the g directory.  i.e. f:     //g, however when this url is parsed\n// f:// will indicate that the host is g which is not the case.\n// it is unclear to me how to keep this information from being lost\n// it may be that a pathname of ////g should collapse to /g but this seems\n// to be a lot of work for an edge case.  Right now I remove the test\n\nif (relativeTests2[181][0] === './/g' && relativeTests2[181][1] === 'f:/a' && relativeTests2[181][2] === 'f://g') {\n  relativeTests2.splice(181, 1);\n}\n\nrelativeTests2.forEach(function (relativeTest) {\n  test('resolveObject(' + [relativeTest[1], relativeTest[0]] + ')', function () {\n    var actual = url.resolveObject(url.parse(relativeTest[1]), relativeTest[0]),\n        expected = url.parse(relativeTest[2]);\n    assert.deepEqual(actual, expected);\n    var expected = relativeTest[2],\n        actual = url.format(actual);\n    assert.equal(actual, expected, 'format(' + relativeTest[1] + ') == ' + expected + '\\nactual:' + actual);\n  });\n});","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/url/test.js"],"names":["assert","require","url","parseTests","protocol","slashes","host","hostname","pathname","path","hash","href","search","query","port","auth","Object","keys","forEach","u","test","actual","parse","spaced","expected","i","undefined","deepEqual","format","equal","parseTestsWithQueryString","formatTests","foo","expect","actualObj","JSON","stringify","relativeTests","relativeTest","a","resolve","e","val","throws","TypeError","bases","relativeTests2","emptyIsImportant","resolveObject","splice"],"mappings":"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","sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar assert = require('assert');\n\nvar url = require('./url');\n\n// URLs to parse, and expected data\n// { url : parsed }\nvar parseTests = {\n  '//some_path' : {\n    'href': '//some_path',\n    'pathname': '//some_path',\n    'path': '//some_path'\n  },\n\n  'http:\\\\\\\\evil-phisher\\\\foo.html#h\\\\a\\\\s\\\\h': {\n    protocol: 'http:',\n    slashes: true,\n    host: 'evil-phisher',\n    hostname: 'evil-phisher',\n    pathname: '/foo.html',\n    path: '/foo.html',\n    hash: '#h%5Ca%5Cs%5Ch',\n    href: 'http://evil-phisher/foo.html#h%5Ca%5Cs%5Ch'\n  },\n\n  'http:\\\\\\\\evil-phisher\\\\foo.html?json=\"\\\\\"foo\\\\\"\"#h\\\\a\\\\s\\\\h': {\n    protocol: 'http:',\n    slashes: true,\n    host: 'evil-phisher',\n    hostname: 'evil-phisher',\n    pathname: '/foo.html',\n    search: '?json=%22%5C%22foo%5C%22%22',\n    query: 'json=%22%5C%22foo%5C%22%22',\n    path: '/foo.html?json=%22%5C%22foo%5C%22%22',\n    hash: '#h%5Ca%5Cs%5Ch',\n    href: 'http://evil-phisher/foo.html?json=%22%5C%22foo%5C%22%22#h%5Ca%5Cs%5Ch'\n  },\n\n  'http:\\\\\\\\evil-phisher\\\\foo.html#h\\\\a\\\\s\\\\h?blarg': {\n    protocol: 'http:',\n    slashes: true,\n    host: 'evil-phisher',\n    hostname: 'evil-phisher',\n    pathname: '/foo.html',\n    path: '/foo.html',\n    hash: '#h%5Ca%5Cs%5Ch?blarg',\n    href: 'http://evil-phisher/foo.html#h%5Ca%5Cs%5Ch?blarg'\n  },\n\n\n  'http:\\\\\\\\evil-phisher\\\\foo.html': {\n    protocol: 'http:',\n    slashes: true,\n    host: 'evil-phisher',\n    hostname: 'evil-phisher',\n    pathname: '/foo.html',\n    path: '/foo.html',\n    href: 'http://evil-phisher/foo.html'\n  },\n\n  'HTTP://www.example.com/' : {\n    'href': 'http://www.example.com/',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'www.example.com',\n    'hostname': 'www.example.com',\n    'pathname': '/',\n    'path': '/'\n  },\n\n  'HTTP://www.example.com' : {\n    'href': 'http://www.example.com/',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'www.example.com',\n    'hostname': 'www.example.com',\n    'pathname': '/',\n    'path': '/'\n  },\n\n  'http://www.ExAmPlE.com/' : {\n    'href': 'http://www.example.com/',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'www.example.com',\n    'hostname': 'www.example.com',\n    'pathname': '/',\n    'path': '/'\n  },\n\n  'http://user:pw@www.ExAmPlE.com/' : {\n    'href': 'http://user:pw@www.example.com/',\n    'protocol': 'http:',\n    'slashes': true,\n    'auth': 'user:pw',\n    'host': 'www.example.com',\n    'hostname': 'www.example.com',\n    'pathname': '/',\n    'path': '/'\n  },\n\n  'http://USER:PW@www.ExAmPlE.com/' : {\n    'href': 'http://USER:PW@www.example.com/',\n    'protocol': 'http:',\n    'slashes': true,\n    'auth': 'USER:PW',\n    'host': 'www.example.com',\n    'hostname': 'www.example.com',\n    'pathname': '/',\n    'path': '/'\n  },\n\n  'http://user@www.example.com/' : {\n    'href': 'http://user@www.example.com/',\n    'protocol': 'http:',\n    'slashes': true,\n    'auth': 'user',\n    'host': 'www.example.com',\n    'hostname': 'www.example.com',\n    'pathname': '/',\n    'path': '/'\n  },\n\n  'http://user%3Apw@www.example.com/' : {\n    'href': 'http://user:pw@www.example.com/',\n    'protocol': 'http:',\n    'slashes': true,\n    'auth': 'user:pw',\n    'host': 'www.example.com',\n    'hostname': 'www.example.com',\n    'pathname': '/',\n    'path': '/'\n  },\n\n  'http://x.com/path?that\\'s#all, folks' : {\n    'href': 'http://x.com/path?that%27s#all,%20folks',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'x.com',\n    'hostname': 'x.com',\n    'search': '?that%27s',\n    'query': 'that%27s',\n    'pathname': '/path',\n    'hash': '#all,%20folks',\n    'path': '/path?that%27s'\n  },\n\n  'HTTP://X.COM/Y' : {\n    'href': 'http://x.com/Y',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'x.com',\n    'hostname': 'x.com',\n    'pathname': '/Y',\n    'path': '/Y'\n  },\n\n  // + not an invalid host character\n  // per https://url.spec.whatwg.org/#host-parsing\n  'http://x.y.com+a/b/c' : {\n    'href': 'http://x.y.com+a/b/c',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'x.y.com+a',\n    'hostname': 'x.y.com+a',\n    'pathname': '/b/c',\n    'path': '/b/c'\n  },\n\n  // an unexpected invalid char in the hostname.\n  'HtTp://x.y.cOm;a/b/c?d=e#f g<h>i' : {\n    'href': 'http://x.y.com/;a/b/c?d=e#f%20g%3Ch%3Ei',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'x.y.com',\n    'hostname': 'x.y.com',\n    'pathname': ';a/b/c',\n    'search': '?d=e',\n    'query': 'd=e',\n    'hash': '#f%20g%3Ch%3Ei',\n    'path': ';a/b/c?d=e'\n  },\n\n  // make sure that we don't accidentally lcast the path parts.\n  'HtTp://x.y.cOm;A/b/c?d=e#f g<h>i' : {\n    'href': 'http://x.y.com/;A/b/c?d=e#f%20g%3Ch%3Ei',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'x.y.com',\n    'hostname': 'x.y.com',\n    'pathname': ';A/b/c',\n    'search': '?d=e',\n    'query': 'd=e',\n    'hash': '#f%20g%3Ch%3Ei',\n    'path': ';A/b/c?d=e'\n  },\n\n  'http://x...y...#p': {\n    'href': 'http://x...y.../#p',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'x...y...',\n    'hostname': 'x...y...',\n    'hash': '#p',\n    'pathname': '/',\n    'path': '/'\n  },\n\n  'http://x/p/\"quoted\"': {\n    'href': 'http://x/p/%22quoted%22',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'x',\n    'hostname': 'x',\n    'pathname': '/p/%22quoted%22',\n    'path': '/p/%22quoted%22'\n  },\n\n  '<http://goo.corn/bread> Is a URL!': {\n    'href': '%3Chttp://goo.corn/bread%3E%20Is%20a%20URL!',\n    'pathname': '%3Chttp://goo.corn/bread%3E%20Is%20a%20URL!',\n    'path': '%3Chttp://goo.corn/bread%3E%20Is%20a%20URL!'\n  },\n\n  'http://www.narwhaljs.org/blog/categories?id=news' : {\n    'href': 'http://www.narwhaljs.org/blog/categories?id=news',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'www.narwhaljs.org',\n    'hostname': 'www.narwhaljs.org',\n    'search': '?id=news',\n    'query': 'id=news',\n    'pathname': '/blog/categories',\n    'path': '/blog/categories?id=news'\n  },\n\n  'http://mt0.google.com/vt/lyrs=m@114&hl=en&src=api&x=2&y=2&z=3&s=' : {\n    'href': 'http://mt0.google.com/vt/lyrs=m@114&hl=en&src=api&x=2&y=2&z=3&s=',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'mt0.google.com',\n    'hostname': 'mt0.google.com',\n    'pathname': '/vt/lyrs=m@114&hl=en&src=api&x=2&y=2&z=3&s=',\n    'path': '/vt/lyrs=m@114&hl=en&src=api&x=2&y=2&z=3&s='\n  },\n\n  'http://mt0.google.com/vt/lyrs=m@114???&hl=en&src=api&x=2&y=2&z=3&s=' : {\n    'href': 'http://mt0.google.com/vt/lyrs=m@114???&hl=en&src=api' +\n        '&x=2&y=2&z=3&s=',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'mt0.google.com',\n    'hostname': 'mt0.google.com',\n    'search': '???&hl=en&src=api&x=2&y=2&z=3&s=',\n    'query': '??&hl=en&src=api&x=2&y=2&z=3&s=',\n    'pathname': '/vt/lyrs=m@114',\n    'path': '/vt/lyrs=m@114???&hl=en&src=api&x=2&y=2&z=3&s='\n  },\n\n  'http://user:pass@mt0.google.com/vt/lyrs=m@114???&hl=en&src=api&x=2&y=2&z=3&s=':\n      {\n        'href': 'http://user:pass@mt0.google.com/vt/lyrs=m@114???' +\n            '&hl=en&src=api&x=2&y=2&z=3&s=',\n        'protocol': 'http:',\n        'slashes': true,\n        'host': 'mt0.google.com',\n        'auth': 'user:pass',\n        'hostname': 'mt0.google.com',\n        'search': '???&hl=en&src=api&x=2&y=2&z=3&s=',\n        'query': '??&hl=en&src=api&x=2&y=2&z=3&s=',\n        'pathname': '/vt/lyrs=m@114',\n        'path': '/vt/lyrs=m@114???&hl=en&src=api&x=2&y=2&z=3&s='\n      },\n\n  'file:///etc/passwd' : {\n    'href': 'file:///etc/passwd',\n    'slashes': true,\n    'protocol': 'file:',\n    'pathname': '/etc/passwd',\n    'hostname': '',\n    'host': '',\n    'path': '/etc/passwd'\n  },\n\n  'file://localhost/etc/passwd' : {\n    'href': 'file://localhost/etc/passwd',\n    'protocol': 'file:',\n    'slashes': true,\n    'pathname': '/etc/passwd',\n    'hostname': 'localhost',\n    'host': 'localhost',\n    'path': '/etc/passwd'\n  },\n\n  'file://foo/etc/passwd' : {\n    'href': 'file://foo/etc/passwd',\n    'protocol': 'file:',\n    'slashes': true,\n    'pathname': '/etc/passwd',\n    'hostname': 'foo',\n    'host': 'foo',\n    'path': '/etc/passwd'\n  },\n\n  'file:///etc/node/' : {\n    'href': 'file:///etc/node/',\n    'slashes': true,\n    'protocol': 'file:',\n    'pathname': '/etc/node/',\n    'hostname': '',\n    'host': '',\n    'path': '/etc/node/'\n  },\n\n  'file://localhost/etc/node/' : {\n    'href': 'file://localhost/etc/node/',\n    'protocol': 'file:',\n    'slashes': true,\n    'pathname': '/etc/node/',\n    'hostname': 'localhost',\n    'host': 'localhost',\n    'path': '/etc/node/'\n  },\n\n  'file://foo/etc/node/' : {\n    'href': 'file://foo/etc/node/',\n    'protocol': 'file:',\n    'slashes': true,\n    'pathname': '/etc/node/',\n    'hostname': 'foo',\n    'host': 'foo',\n    'path': '/etc/node/'\n  },\n\n  'http:/baz/../foo/bar' : {\n    'href': 'http:/baz/../foo/bar',\n    'protocol': 'http:',\n    'pathname': '/baz/../foo/bar',\n    'path': '/baz/../foo/bar'\n  },\n\n  'http://user:pass@example.com:8000/foo/bar?baz=quux#frag' : {\n    'href': 'http://user:pass@example.com:8000/foo/bar?baz=quux#frag',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'example.com:8000',\n    'auth': 'user:pass',\n    'port': '8000',\n    'hostname': 'example.com',\n    'hash': '#frag',\n    'search': '?baz=quux',\n    'query': 'baz=quux',\n    'pathname': '/foo/bar',\n    'path': '/foo/bar?baz=quux'\n  },\n\n  '//user:pass@example.com:8000/foo/bar?baz=quux#frag' : {\n    'href': '//user:pass@example.com:8000/foo/bar?baz=quux#frag',\n    'slashes': true,\n    'host': 'example.com:8000',\n    'auth': 'user:pass',\n    'port': '8000',\n    'hostname': 'example.com',\n    'hash': '#frag',\n    'search': '?baz=quux',\n    'query': 'baz=quux',\n    'pathname': '/foo/bar',\n    'path': '/foo/bar?baz=quux'\n  },\n\n  '/foo/bar?baz=quux#frag' : {\n    'href': '/foo/bar?baz=quux#frag',\n    'hash': '#frag',\n    'search': '?baz=quux',\n    'query': 'baz=quux',\n    'pathname': '/foo/bar',\n    'path': '/foo/bar?baz=quux'\n  },\n\n  'http:/foo/bar?baz=quux#frag' : {\n    'href': 'http:/foo/bar?baz=quux#frag',\n    'protocol': 'http:',\n    'hash': '#frag',\n    'search': '?baz=quux',\n    'query': 'baz=quux',\n    'pathname': '/foo/bar',\n    'path': '/foo/bar?baz=quux'\n  },\n\n  'mailto:foo@bar.com?subject=hello' : {\n    'href': 'mailto:foo@bar.com?subject=hello',\n    'protocol': 'mailto:',\n    'host': 'bar.com',\n    'auth' : 'foo',\n    'hostname' : 'bar.com',\n    'search': '?subject=hello',\n    'query': 'subject=hello',\n    'path': '?subject=hello'\n  },\n\n  'javascript:alert(\\'hello\\');' : {\n    'href': 'javascript:alert(\\'hello\\');',\n    'protocol': 'javascript:',\n    'pathname': 'alert(\\'hello\\');',\n    'path': 'alert(\\'hello\\');'\n  },\n\n  'xmpp:isaacschlueter@jabber.org' : {\n    'href': 'xmpp:isaacschlueter@jabber.org',\n    'protocol': 'xmpp:',\n    'host': 'jabber.org',\n    'auth': 'isaacschlueter',\n    'hostname': 'jabber.org'\n  },\n\n  'http://atpass:foo%40bar@127.0.0.1:8080/path?search=foo#bar' : {\n    'href' : 'http://atpass:foo%40bar@127.0.0.1:8080/path?search=foo#bar',\n    'protocol' : 'http:',\n    'slashes': true,\n    'host' : '127.0.0.1:8080',\n    'auth' : 'atpass:foo@bar',\n    'hostname' : '127.0.0.1',\n    'port' : '8080',\n    'pathname': '/path',\n    'search' : '?search=foo',\n    'query' : 'search=foo',\n    'hash' : '#bar',\n    'path': '/path?search=foo'\n  },\n\n  'svn+ssh://foo/bar': {\n    'href': 'svn+ssh://foo/bar',\n    'host': 'foo',\n    'hostname': 'foo',\n    'protocol': 'svn+ssh:',\n    'pathname': '/bar',\n    'path': '/bar',\n    'slashes': true\n  },\n\n  'dash-test://foo/bar': {\n    'href': 'dash-test://foo/bar',\n    'host': 'foo',\n    'hostname': 'foo',\n    'protocol': 'dash-test:',\n    'pathname': '/bar',\n    'path': '/bar',\n    'slashes': true\n  },\n\n  'dash-test:foo/bar': {\n    'href': 'dash-test:foo/bar',\n    'host': 'foo',\n    'hostname': 'foo',\n    'protocol': 'dash-test:',\n    'pathname': '/bar',\n    'path': '/bar'\n  },\n\n  'dot.test://foo/bar': {\n    'href': 'dot.test://foo/bar',\n    'host': 'foo',\n    'hostname': 'foo',\n    'protocol': 'dot.test:',\n    'pathname': '/bar',\n    'path': '/bar',\n    'slashes': true\n  },\n\n  'dot.test:foo/bar': {\n    'href': 'dot.test:foo/bar',\n    'host': 'foo',\n    'hostname': 'foo',\n    'protocol': 'dot.test:',\n    'pathname': '/bar',\n    'path': '/bar'\n  },\n\n  // IDNA tests\n  'http://www.日本語.com/' : {\n    'href': 'http://www.xn--wgv71a119e.com/',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'www.xn--wgv71a119e.com',\n    'hostname': 'www.xn--wgv71a119e.com',\n    'pathname': '/',\n    'path': '/'\n  },\n\n  'http://example.Bücher.com/' : {\n    'href': 'http://example.xn--bcher-kva.com/',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'example.xn--bcher-kva.com',\n    'hostname': 'example.xn--bcher-kva.com',\n    'pathname': '/',\n    'path': '/'\n  },\n\n  'http://www.Äffchen.com/' : {\n    'href': 'http://www.xn--ffchen-9ta.com/',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'www.xn--ffchen-9ta.com',\n    'hostname': 'www.xn--ffchen-9ta.com',\n    'pathname': '/',\n    'path': '/'\n  },\n\n  'http://www.Äffchen.cOm;A/b/c?d=e#f g<h>i' : {\n    'href': 'http://www.xn--ffchen-9ta.com/;A/b/c?d=e#f%20g%3Ch%3Ei',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'www.xn--ffchen-9ta.com',\n    'hostname': 'www.xn--ffchen-9ta.com',\n    'pathname': ';A/b/c',\n    'search': '?d=e',\n    'query': 'd=e',\n    'hash': '#f%20g%3Ch%3Ei',\n    'path': ';A/b/c?d=e'\n  },\n\n  'http://SÉLIER.COM/' : {\n    'href': 'http://xn--slier-bsa.com/',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'xn--slier-bsa.com',\n    'hostname': 'xn--slier-bsa.com',\n    'pathname': '/',\n    'path': '/'\n  },\n\n  'http://ليهمابتكلموشعربي؟.ي؟/' : {\n    'href': 'http://xn--egbpdaj6bu4bxfgehfvwxn.xn--egb9f/',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'xn--egbpdaj6bu4bxfgehfvwxn.xn--egb9f',\n    'hostname': 'xn--egbpdaj6bu4bxfgehfvwxn.xn--egb9f',\n    'pathname': '/',\n    'path': '/'\n  },\n\n  'http://➡.ws/➡' : {\n    'href': 'http://xn--hgi.ws/➡',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'xn--hgi.ws',\n    'hostname': 'xn--hgi.ws',\n    'pathname': '/➡',\n    'path': '/➡'\n  },\n\n  'http://bucket_name.s3.amazonaws.com/image.jpg': {\n    protocol: 'http:',\n    'slashes': true,\n    slashes: true,\n    host: 'bucket_name.s3.amazonaws.com',\n    hostname: 'bucket_name.s3.amazonaws.com',\n    pathname: '/image.jpg',\n    href: 'http://bucket_name.s3.amazonaws.com/image.jpg',\n    'path': '/image.jpg'\n  },\n\n  'git+http://github.com/joyent/node.git': {\n    protocol: 'git+http:',\n    slashes: true,\n    host: 'github.com',\n    hostname: 'github.com',\n    pathname: '/joyent/node.git',\n    path: '/joyent/node.git',\n    href: 'git+http://github.com/joyent/node.git'\n  },\n\n  //if local1@domain1 is uses as a relative URL it may\n  //be parse into auth@hostname, but here there is no\n  //way to make it work in url.parse, I add the test to be explicit\n  'local1@domain1': {\n    'pathname': 'local1@domain1',\n    'path': 'local1@domain1',\n    'href': 'local1@domain1'\n  },\n\n  //While this may seem counter-intuitive, a browser will parse\n  //<a href='www.google.com'> as a path.\n  'www.example.com' : {\n    'href': 'www.example.com',\n    'pathname': 'www.example.com',\n    'path': 'www.example.com'\n  },\n\n  // ipv6 support\n  '[fe80::1]': {\n    'href': '[fe80::1]',\n    'pathname': '[fe80::1]',\n    'path': '[fe80::1]'\n  },\n\n  'coap://[FEDC:BA98:7654:3210:FEDC:BA98:7654:3210]': {\n    'protocol': 'coap:',\n    'slashes': true,\n    'host': '[fedc:ba98:7654:3210:fedc:ba98:7654:3210]',\n    'hostname': 'fedc:ba98:7654:3210:fedc:ba98:7654:3210',\n    'href': 'coap://[fedc:ba98:7654:3210:fedc:ba98:7654:3210]/',\n    'pathname': '/',\n    'path': '/'\n  },\n\n  'coap://[1080:0:0:0:8:800:200C:417A]:61616/': {\n    'protocol': 'coap:',\n    'slashes': true,\n    'host': '[1080:0:0:0:8:800:200c:417a]:61616',\n    'port': '61616',\n    'hostname': '1080:0:0:0:8:800:200c:417a',\n    'href': 'coap://[1080:0:0:0:8:800:200c:417a]:61616/',\n    'pathname': '/',\n    'path': '/'\n  },\n\n  'http://user:password@[3ffe:2a00:100:7031::1]:8080': {\n    'protocol': 'http:',\n    'slashes': true,\n    'auth': 'user:password',\n    'host': '[3ffe:2a00:100:7031::1]:8080',\n    'port': '8080',\n    'hostname': '3ffe:2a00:100:7031::1',\n    'href': 'http://user:password@[3ffe:2a00:100:7031::1]:8080/',\n    'pathname': '/',\n    'path': '/'\n  },\n\n  'coap://u:p@[::192.9.5.5]:61616/.well-known/r?n=Temperature': {\n    'protocol': 'coap:',\n    'slashes': true,\n    'auth': 'u:p',\n    'host': '[::192.9.5.5]:61616',\n    'port': '61616',\n    'hostname': '::192.9.5.5',\n    'href': 'coap://u:p@[::192.9.5.5]:61616/.well-known/r?n=Temperature',\n    'search': '?n=Temperature',\n    'query': 'n=Temperature',\n    'pathname': '/.well-known/r',\n    'path': '/.well-known/r?n=Temperature'\n  },\n\n  // empty port\n  'http://example.com:': {\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'example.com',\n    'hostname': 'example.com',\n    'href': 'http://example.com/',\n    'pathname': '/',\n    'path': '/'\n  },\n\n  'http://example.com:/a/b.html': {\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'example.com',\n    'hostname': 'example.com',\n    'href': 'http://example.com/a/b.html',\n    'pathname': '/a/b.html',\n    'path': '/a/b.html'\n  },\n\n  'http://example.com:?a=b': {\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'example.com',\n    'hostname': 'example.com',\n    'href': 'http://example.com/?a=b',\n    'search': '?a=b',\n    'query': 'a=b',\n    'pathname': '/',\n    'path': '/?a=b'\n  },\n\n  'http://example.com:#abc': {\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'example.com',\n    'hostname': 'example.com',\n    'href': 'http://example.com/#abc',\n    'hash': '#abc',\n    'pathname': '/',\n    'path': '/'\n  },\n\n  'http://[fe80::1]:/a/b?a=b#abc': {\n    'protocol': 'http:',\n    'slashes': true,\n    'host': '[fe80::1]',\n    'hostname': 'fe80::1',\n    'href': 'http://[fe80::1]/a/b?a=b#abc',\n    'search': '?a=b',\n    'query': 'a=b',\n    'hash': '#abc',\n    'pathname': '/a/b',\n    'path': '/a/b?a=b'\n  },\n\n  'http://-lovemonsterz.tumblr.com/rss': {\n    'protocol': 'http:',\n    'slashes': true,\n    'host': '-lovemonsterz.tumblr.com',\n    'hostname': '-lovemonsterz.tumblr.com',\n    'href': 'http://-lovemonsterz.tumblr.com/rss',\n    'pathname': '/rss',\n    'path': '/rss',\n  },\n\n  'http://-lovemonsterz.tumblr.com:80/rss': {\n    'protocol': 'http:',\n    'slashes': true,\n    'port': '80',\n    'host': '-lovemonsterz.tumblr.com:80',\n    'hostname': '-lovemonsterz.tumblr.com',\n    'href': 'http://-lovemonsterz.tumblr.com:80/rss',\n    'pathname': '/rss',\n    'path': '/rss',\n  },\n\n  'http://user:pass@-lovemonsterz.tumblr.com/rss': {\n    'protocol': 'http:',\n    'slashes': true,\n    'auth': 'user:pass',\n    'host': '-lovemonsterz.tumblr.com',\n    'hostname': '-lovemonsterz.tumblr.com',\n    'href': 'http://user:pass@-lovemonsterz.tumblr.com/rss',\n    'pathname': '/rss',\n    'path': '/rss',\n  },\n\n  'http://user:pass@-lovemonsterz.tumblr.com:80/rss': {\n    'protocol': 'http:',\n    'slashes': true,\n    'auth': 'user:pass',\n    'port': '80',\n    'host': '-lovemonsterz.tumblr.com:80',\n    'hostname': '-lovemonsterz.tumblr.com',\n    'href': 'http://user:pass@-lovemonsterz.tumblr.com:80/rss',\n    'pathname': '/rss',\n    'path': '/rss',\n  },\n\n  'http://_jabber._tcp.google.com/test': {\n    'protocol': 'http:',\n    'slashes': true,\n    'host': '_jabber._tcp.google.com',\n    'hostname': '_jabber._tcp.google.com',\n    'href': 'http://_jabber._tcp.google.com/test',\n    'pathname': '/test',\n    'path': '/test',\n  },\n\n  'http://user:pass@_jabber._tcp.google.com/test': {\n    'protocol': 'http:',\n    'slashes': true,\n    'auth': 'user:pass',\n    'host': '_jabber._tcp.google.com',\n    'hostname': '_jabber._tcp.google.com',\n    'href': 'http://user:pass@_jabber._tcp.google.com/test',\n    'pathname': '/test',\n    'path': '/test',\n  },\n\n  'http://_jabber._tcp.google.com:80/test': {\n    'protocol': 'http:',\n    'slashes': true,\n    'port': '80',\n    'host': '_jabber._tcp.google.com:80',\n    'hostname': '_jabber._tcp.google.com',\n    'href': 'http://_jabber._tcp.google.com:80/test',\n    'pathname': '/test',\n    'path': '/test',\n  },\n\n  'http://user:pass@_jabber._tcp.google.com:80/test': {\n    'protocol': 'http:',\n    'slashes': true,\n    'auth': 'user:pass',\n    'port': '80',\n    'host': '_jabber._tcp.google.com:80',\n    'hostname': '_jabber._tcp.google.com',\n    'href': 'http://user:pass@_jabber._tcp.google.com:80/test',\n    'pathname': '/test',\n    'path': '/test',\n  },\n\n  'http://x:1/\\' <>\"`/{}|\\\\^~`/': {\n    protocol: 'http:',\n    slashes: true,\n    host: 'x:1',\n    port: '1',\n    hostname: 'x',\n    pathname: '/%27%20%3C%3E%22%60/%7B%7D%7C/%5E~%60/',\n    path: '/%27%20%3C%3E%22%60/%7B%7D%7C/%5E~%60/',\n    href: 'http://x:1/%27%20%3C%3E%22%60/%7B%7D%7C/%5E~%60/'\n  },\n\n  'http://a@b@c/': {\n    protocol: 'http:',\n    slashes: true,\n    auth: 'a@b',\n    host: 'c',\n    hostname: 'c',\n    href: 'http://a%40b@c/',\n    path: '/',\n    pathname: '/'\n  },\n\n  'http://a@b?@c': {\n    protocol: 'http:',\n    slashes: true,\n    auth: 'a',\n    host: 'b',\n    hostname: 'b',\n    href: 'http://a@b/?@c',\n    path: '/?@c',\n    pathname: '/',\n    search: '?@c',\n    query: '@c'\n  },\n\n  'http://a\\r\" \\t\\n<\\'b:b@c\\r\\nd/e?f':{\n    protocol: 'http:',\n    slashes: true,\n    auth: 'a\\r\" \\t\\n<\\'b:b',\n    host: 'c',\n    port: null,\n    hostname: 'c',\n    hash: null,\n    search: '?f',\n    query: 'f',\n    pathname: '%0D%0Ad/e',\n    path: '%0D%0Ad/e?f',\n    href: 'http://a%0D%22%20%09%0A%3C\\'b:b@c/%0D%0Ad/e?f'\n  },\n\n  // git urls used by npm\n  'git+ssh://git@github.com:npm/npm': {\n    protocol: 'git+ssh:',\n    slashes: true,\n    auth: 'git',\n    host: 'github.com',\n    port: null,\n    hostname: 'github.com',\n    hash: null,\n    search: null,\n    query: null,\n    pathname: '/:npm/npm',\n    path: '/:npm/npm',\n    href: 'git+ssh://git@github.com/:npm/npm'\n  }\n\n};\n\nObject.keys(parseTests).forEach(function(u) {\n  test('parse(' + u + ')', function() {\n    var actual = url.parse(u),\n        spaced = url.parse('     \\t  ' + u + '\\n\\t');\n        expected = parseTests[u];\n\n    Object.keys(actual).forEach(function (i) {\n      if (expected[i] === undefined && actual[i] === null) {\n        expected[i] = null;\n      }\n    });\n\n    assert.deepEqual(actual, expected);\n    assert.deepEqual(spaced, expected);\n\n    var expected = parseTests[u].href,\n        actual = url.format(parseTests[u]);\n\n    assert.equal(actual, expected,\n                 'format(' + u + ') == ' + u + '\\nactual:' + actual);\n  });\n});\n\nvar parseTestsWithQueryString = {\n  '/foo/bar?baz=quux#frag' : {\n    'href': '/foo/bar?baz=quux#frag',\n    'hash': '#frag',\n    'search': '?baz=quux',\n    'query': {\n      'baz': 'quux'\n    },\n    'pathname': '/foo/bar',\n    'path': '/foo/bar?baz=quux'\n  },\n  'http://example.com' : {\n    'href': 'http://example.com/',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'example.com',\n    'hostname': 'example.com',\n    'query': {},\n    'search': '',\n    'pathname': '/',\n    'path': '/'\n  },\n  '/example': {\n    protocol: null,\n    slashes: null,\n    auth: null,\n    host: null,\n    port: null,\n    hostname: null,\n    hash: null,\n    search: '',\n    query: {},\n    pathname: '/example',\n    path: '/example',\n    href: '/example'\n  },\n  '/example?query=value':{\n    protocol: null,\n    slashes: null,\n    auth: null,\n    host: null,\n    port: null,\n    hostname: null,\n    hash: null,\n    search: '?query=value',\n    query: { query: 'value' },\n    pathname: '/example',\n    path: '/example?query=value',\n    href: '/example?query=value'\n  }\n};\n\nObject.keys(parseTestsWithQueryString).forEach(function(u) {\n  test('parse(' + u + ')', function() {\n    var actual = url.parse(u, true);\n    var expected = parseTestsWithQueryString[u];\n    for (var i in actual) {\n      if (actual[i] === null && expected[i] === undefined) {\n        expected[i] = null;\n      }\n    }\n\n    assert.deepEqual(actual, expected);\n  });\n});\n\n// some extra formatting tests, just to verify\n// that it'll format slightly wonky content to a valid url.\nvar formatTests = {\n  'http://example.com?' : {\n    'href': 'http://example.com/?',\n    'protocol': 'http:',\n    'slashes': true,\n    'host': 'example.com',\n    'hostname': 'example.com',\n    'search': '?',\n    'query': {},\n    'pathname': '/'\n  },\n  'http://example.com?foo=bar#frag' : {\n    'href': 'http://example.com/?foo=bar#frag',\n    'protocol': 'http:',\n    'host': 'example.com',\n    'hostname': 'example.com',\n    'hash': '#frag',\n    'search': '?foo=bar',\n    'query': 'foo=bar',\n    'pathname': '/'\n  },\n  'http://example.com?foo=@bar#frag' : {\n    'href': 'http://example.com/?foo=@bar#frag',\n    'protocol': 'http:',\n    'host': 'example.com',\n    'hostname': 'example.com',\n    'hash': '#frag',\n    'search': '?foo=@bar',\n    'query': 'foo=@bar',\n    'pathname': '/'\n  },\n  'http://example.com?foo=/bar/#frag' : {\n    'href': 'http://example.com/?foo=/bar/#frag',\n    'protocol': 'http:',\n    'host': 'example.com',\n    'hostname': 'example.com',\n    'hash': '#frag',\n    'search': '?foo=/bar/',\n    'query': 'foo=/bar/',\n    'pathname': '/'\n  },\n  'http://example.com?foo=?bar/#frag' : {\n    'href': 'http://example.com/?foo=?bar/#frag',\n    'protocol': 'http:',\n    'host': 'example.com',\n    'hostname': 'example.com',\n    'hash': '#frag',\n    'search': '?foo=?bar/',\n    'query': 'foo=?bar/',\n    'pathname': '/'\n  },\n  'http://example.com#frag=?bar/#frag' : {\n    'href': 'http://example.com/#frag=?bar/#frag',\n    'protocol': 'http:',\n    'host': 'example.com',\n    'hostname': 'example.com',\n    'hash': '#frag=?bar/#frag',\n    'pathname': '/'\n  },\n  'http://google.com\" onload=\"alert(42)/' : {\n    'href': 'http://google.com/%22%20onload=%22alert(42)/',\n    'protocol': 'http:',\n    'host': 'google.com',\n    'pathname': '/%22%20onload=%22alert(42)/'\n  },\n  'http://a.com/a/b/c?s#h' : {\n    'href': 'http://a.com/a/b/c?s#h',\n    'protocol': 'http',\n    'host': 'a.com',\n    'pathname': 'a/b/c',\n    'hash': 'h',\n    'search': 's'\n  },\n  'xmpp:isaacschlueter@jabber.org' : {\n    'href': 'xmpp:isaacschlueter@jabber.org',\n    'protocol': 'xmpp:',\n    'host': 'jabber.org',\n    'auth': 'isaacschlueter',\n    'hostname': 'jabber.org'\n  },\n  'http://atpass:foo%40bar@127.0.0.1/' : {\n    'href': 'http://atpass:foo%40bar@127.0.0.1/',\n    'auth': 'atpass:foo@bar',\n    'hostname': '127.0.0.1',\n    'protocol': 'http:',\n    'pathname': '/'\n  },\n  'http://atslash%2F%40:%2F%40@foo/' : {\n    'href': 'http://atslash%2F%40:%2F%40@foo/',\n    'auth': 'atslash/@:/@',\n    'hostname': 'foo',\n    'protocol': 'http:',\n    'pathname': '/'\n  },\n  'svn+ssh://foo/bar': {\n    'href': 'svn+ssh://foo/bar',\n    'hostname': 'foo',\n    'protocol': 'svn+ssh:',\n    'pathname': '/bar',\n    'slashes': true\n  },\n  'dash-test://foo/bar': {\n    'href': 'dash-test://foo/bar',\n    'hostname': 'foo',\n    'protocol': 'dash-test:',\n    'pathname': '/bar',\n    'slashes': true\n  },\n  'dash-test:foo/bar': {\n    'href': 'dash-test:foo/bar',\n    'hostname': 'foo',\n    'protocol': 'dash-test:',\n    'pathname': '/bar'\n  },\n  'dot.test://foo/bar': {\n    'href': 'dot.test://foo/bar',\n    'hostname': 'foo',\n    'protocol': 'dot.test:',\n    'pathname': '/bar',\n    'slashes': true\n  },\n  'dot.test:foo/bar': {\n    'href': 'dot.test:foo/bar',\n    'hostname': 'foo',\n    'protocol': 'dot.test:',\n    'pathname': '/bar'\n  },\n  // ipv6 support\n  'coap:u:p@[::1]:61616/.well-known/r?n=Temperature': {\n    'href': 'coap:u:p@[::1]:61616/.well-known/r?n=Temperature',\n    'protocol': 'coap:',\n    'auth': 'u:p',\n    'hostname': '::1',\n    'port': '61616',\n    'pathname': '/.well-known/r',\n    'search': 'n=Temperature'\n  },\n  'coap:[fedc:ba98:7654:3210:fedc:ba98:7654:3210]:61616/s/stopButton': {\n    'href': 'coap:[fedc:ba98:7654:3210:fedc:ba98:7654:3210]:61616/s/stopButton',\n    'protocol': 'coap',\n    'host': '[fedc:ba98:7654:3210:fedc:ba98:7654:3210]:61616',\n    'pathname': '/s/stopButton'\n  },\n\n  // encode context-specific delimiters in path and query, but do not touch\n  // other non-delimiter chars like `%`.\n  // <https://github.com/joyent/node/issues/4082>\n\n  // `#`,`?` in path\n  '/path/to/%%23%3F+=&.txt?foo=theA1#bar' : {\n    href : '/path/to/%%23%3F+=&.txt?foo=theA1#bar',\n    pathname: '/path/to/%#?+=&.txt',\n    query: {\n      foo: 'theA1'\n    },\n    hash: \"#bar\"\n  },\n\n  // `#`,`?` in path + `#` in query\n  '/path/to/%%23%3F+=&.txt?foo=the%231#bar' : {\n    href : '/path/to/%%23%3F+=&.txt?foo=the%231#bar',\n    pathname: '/path/to/%#?+=&.txt',\n    query: {\n      foo: 'the#1'\n    },\n    hash: \"#bar\"\n  },\n\n  // `?` and `#` in path and search\n  'http://ex.com/foo%3F100%m%23r?abc=the%231?&foo=bar#frag': {\n    href: 'http://ex.com/foo%3F100%m%23r?abc=the%231?&foo=bar#frag',\n    protocol: 'http:',\n    hostname: 'ex.com',\n    hash: '#frag',\n    search: '?abc=the#1?&foo=bar',\n    pathname: '/foo?100%m#r',\n  },\n\n  // `?` and `#` in search only\n  'http://ex.com/fooA100%mBr?abc=the%231?&foo=bar#frag': {\n    href: 'http://ex.com/fooA100%mBr?abc=the%231?&foo=bar#frag',\n    protocol: 'http:',\n    hostname: 'ex.com',\n    hash: '#frag',\n    search: '?abc=the#1?&foo=bar',\n    pathname: '/fooA100%mBr',\n  }\n};\n\nObject.keys(formatTests).forEach(function(u) {\n  test('format(' + u + ')', function() {\n    var expect = formatTests[u].href;\n    delete formatTests[u].href;\n    var actual = url.format(u);\n    var actualObj = url.format(formatTests[u]);\n    assert.equal(actual, expect,\n                 'wonky format(' + u + ') == ' + expect +\n                 '\\nactual:' + actual);\n    assert.equal(actualObj, expect,\n                 'wonky format(' + JSON.stringify(formatTests[u]) +\n                 ') == ' + expect +\n                 '\\nactual: ' + actualObj);\n  });\n});\n\n/*\n [from, path, expected]\n*/\nvar relativeTests = [\n  ['/foo/bar/baz', 'quux', '/foo/bar/quux'],\n  ['/foo/bar/baz', 'quux/asdf', '/foo/bar/quux/asdf'],\n  ['/foo/bar/baz', 'quux/baz', '/foo/bar/quux/baz'],\n  ['/foo/bar/baz', '../quux/baz', '/foo/quux/baz'],\n  ['/foo/bar/baz', '/bar', '/bar'],\n  ['/foo/bar/baz/', 'quux', '/foo/bar/baz/quux'],\n  ['/foo/bar/baz/', 'quux/baz', '/foo/bar/baz/quux/baz'],\n  ['/foo/bar/baz', '../../../../../../../../quux/baz', '/quux/baz'],\n  ['/foo/bar/baz', '../../../../../../../quux/baz', '/quux/baz'],\n  ['/foo', '.', '/'],\n  ['/foo', '..', '/'],\n  ['/foo/', '.', '/foo/'],\n  ['/foo/', '..', '/'],\n  ['/foo/bar', '.', '/foo/'],\n  ['/foo/bar', '..', '/'],\n  ['/foo/bar/', '.', '/foo/bar/'],\n  ['/foo/bar/', '..', '/foo/'],\n  ['foo/bar', '../../../baz', '../../baz'],\n  ['foo/bar/', '../../../baz', '../baz'],\n  ['http://example.com/b//c//d;p?q#blarg', 'https:#hash2', 'https:///#hash2'],\n  ['http://example.com/b//c//d;p?q#blarg',\n   'https:/p/a/t/h?s#hash2',\n   'https://p/a/t/h?s#hash2'],\n  ['http://example.com/b//c//d;p?q#blarg',\n   'https://u:p@h.com/p/a/t/h?s#hash2',\n   'https://u:p@h.com/p/a/t/h?s#hash2'],\n  ['http://example.com/b//c//d;p?q#blarg',\n   'https:/a/b/c/d',\n   'https://a/b/c/d'],\n  ['http://example.com/b//c//d;p?q#blarg',\n   'http:#hash2',\n   'http://example.com/b//c//d;p?q#hash2'],\n  ['http://example.com/b//c//d;p?q#blarg',\n   'http:/p/a/t/h?s#hash2',\n   'http://example.com/p/a/t/h?s#hash2'],\n  ['http://example.com/b//c//d;p?q#blarg',\n   'http://u:p@h.com/p/a/t/h?s#hash2',\n   'http://u:p@h.com/p/a/t/h?s#hash2'],\n  ['http://example.com/b//c//d;p?q#blarg',\n   'http:/a/b/c/d',\n   'http://example.com/a/b/c/d'],\n  ['/foo/bar/baz', '/../etc/passwd', '/etc/passwd']\n];\n\nrelativeTests.forEach(function(relativeTest) {\n  test('resolve(' + [relativeTest[0], relativeTest[1]] + ')', function() {\n    var a = url.resolve(relativeTest[0], relativeTest[1]),\n        e = relativeTest[2];\n    assert.equal(a, e,\n                 'resolve(' + [relativeTest[0], relativeTest[1]] + ') == ' + e +\n                 '\\n  actual=' + a);\n  });\n});\n\n\n// https://github.com/joyent/node/issues/568\n[\n  undefined,\n  null,\n  true,\n  false,\n  0.0,\n  0,\n  [],\n  {}\n].forEach(function(val) {\n  test('parse(' + val + ')', function() {\n    assert.throws(function() { url.parse(val); }, TypeError);\n  });\n});\n\n\n//\n// Tests below taken from Chiron\n// http://code.google.com/p/chironjs/source/browse/trunk/src/test/http/url.js\n//\n// Copyright (c) 2002-2008 Kris Kowal <http://cixar.com/~kris.kowal>\n// used with permission under MIT License\n//\n// Changes marked with @isaacs\n\nvar bases = [\n  'http://a/b/c/d;p?q',\n  'http://a/b/c/d;p?q=1/2',\n  'http://a/b/c/d;p=1/2?q',\n  'fred:///s//a/b/c',\n  'http:///s//a/b/c'\n];\n\n//[to, from, result]\nvar relativeTests2 = [\n  // http://lists.w3.org/Archives/Public/uri/2004Feb/0114.html\n  ['../c', 'foo:a/b', 'foo:c'],\n  ['foo:.', 'foo:a', 'foo:'],\n  ['/foo/../../../bar', 'zz:abc', 'zz:/bar'],\n  ['/foo/../bar', 'zz:abc', 'zz:/bar'],\n  // @isaacs Disagree. Not how web browsers resolve this.\n  ['foo/../../../bar', 'zz:abc', 'zz:bar'],\n  // ['foo/../../../bar',  'zz:abc', 'zz:../../bar'], // @isaacs Added\n  ['foo/../bar', 'zz:abc', 'zz:bar'],\n  ['zz:.', 'zz:abc', 'zz:'],\n  ['/.', bases[0], 'http://a/'],\n  ['/.foo', bases[0], 'http://a/.foo'],\n  ['.foo', bases[0], 'http://a/b/c/.foo'],\n\n  // http://gbiv.com/protocols/uri/test/rel_examples1.html\n  // examples from RFC 2396\n  ['g:h', bases[0], 'g:h'],\n  ['g', bases[0], 'http://a/b/c/g'],\n  ['./g', bases[0], 'http://a/b/c/g'],\n  ['g/', bases[0], 'http://a/b/c/g/'],\n  ['/g', bases[0], 'http://a/g'],\n  ['//g', bases[0], 'http://g/'],\n  // changed with RFC 2396bis\n  //('?y', bases[0], 'http://a/b/c/d;p?y'],\n  ['?y', bases[0], 'http://a/b/c/d;p?y'],\n  ['g?y', bases[0], 'http://a/b/c/g?y'],\n  // changed with RFC 2396bis\n  //('#s', bases[0], CURRENT_DOC_URI + '#s'],\n  ['#s', bases[0], 'http://a/b/c/d;p?q#s'],\n  ['g#s', bases[0], 'http://a/b/c/g#s'],\n  ['g?y#s', bases[0], 'http://a/b/c/g?y#s'],\n  [';x', bases[0], 'http://a/b/c/;x'],\n  ['g;x', bases[0], 'http://a/b/c/g;x'],\n  ['g;x?y#s' , bases[0], 'http://a/b/c/g;x?y#s'],\n  // changed with RFC 2396bis\n  //('', bases[0], CURRENT_DOC_URI],\n  ['', bases[0], 'http://a/b/c/d;p?q'],\n  ['.', bases[0], 'http://a/b/c/'],\n  ['./', bases[0], 'http://a/b/c/'],\n  ['..', bases[0], 'http://a/b/'],\n  ['../', bases[0], 'http://a/b/'],\n  ['../g', bases[0], 'http://a/b/g'],\n  ['../..', bases[0], 'http://a/'],\n  ['../../', bases[0], 'http://a/'],\n  ['../../g' , bases[0], 'http://a/g'],\n  ['../../../g', bases[0], ('http://a/../g', 'http://a/g')],\n  ['../../../../g', bases[0], ('http://a/../../g', 'http://a/g')],\n  // changed with RFC 2396bis\n  //('/./g', bases[0], 'http://a/./g'],\n  ['/./g', bases[0], 'http://a/g'],\n  // changed with RFC 2396bis\n  //('/../g', bases[0], 'http://a/../g'],\n  ['/../g', bases[0], 'http://a/g'],\n  ['g.', bases[0], 'http://a/b/c/g.'],\n  ['.g', bases[0], 'http://a/b/c/.g'],\n  ['g..', bases[0], 'http://a/b/c/g..'],\n  ['..g', bases[0], 'http://a/b/c/..g'],\n  ['./../g', bases[0], 'http://a/b/g'],\n  ['./g/.', bases[0], 'http://a/b/c/g/'],\n  ['g/./h', bases[0], 'http://a/b/c/g/h'],\n  ['g/../h', bases[0], 'http://a/b/c/h'],\n  ['g;x=1/./y', bases[0], 'http://a/b/c/g;x=1/y'],\n  ['g;x=1/../y', bases[0], 'http://a/b/c/y'],\n  ['g?y/./x', bases[0], 'http://a/b/c/g?y/./x'],\n  ['g?y/../x', bases[0], 'http://a/b/c/g?y/../x'],\n  ['g#s/./x', bases[0], 'http://a/b/c/g#s/./x'],\n  ['g#s/../x', bases[0], 'http://a/b/c/g#s/../x'],\n  ['http:g', bases[0], ('http:g', 'http://a/b/c/g')],\n  ['http:', bases[0], ('http:', bases[0])],\n  // not sure where this one originated\n  ['/a/b/c/./../../g', bases[0], 'http://a/a/g'],\n\n  // http://gbiv.com/protocols/uri/test/rel_examples2.html\n  // slashes in base URI's query args\n  ['g', bases[1], 'http://a/b/c/g'],\n  ['./g', bases[1], 'http://a/b/c/g'],\n  ['g/', bases[1], 'http://a/b/c/g/'],\n  ['/g', bases[1], 'http://a/g'],\n  ['//g', bases[1], 'http://g/'],\n  // changed in RFC 2396bis\n  //('?y', bases[1], 'http://a/b/c/?y'],\n  ['?y', bases[1], 'http://a/b/c/d;p?y'],\n  ['g?y', bases[1], 'http://a/b/c/g?y'],\n  ['g?y/./x' , bases[1], 'http://a/b/c/g?y/./x'],\n  ['g?y/../x', bases[1], 'http://a/b/c/g?y/../x'],\n  ['g#s', bases[1], 'http://a/b/c/g#s'],\n  ['g#s/./x' , bases[1], 'http://a/b/c/g#s/./x'],\n  ['g#s/../x', bases[1], 'http://a/b/c/g#s/../x'],\n  ['./', bases[1], 'http://a/b/c/'],\n  ['../', bases[1], 'http://a/b/'],\n  ['../g', bases[1], 'http://a/b/g'],\n  ['../../', bases[1], 'http://a/'],\n  ['../../g' , bases[1], 'http://a/g'],\n\n  // http://gbiv.com/protocols/uri/test/rel_examples3.html\n  // slashes in path params\n  // all of these changed in RFC 2396bis\n  ['g', bases[2], 'http://a/b/c/d;p=1/g'],\n  ['./g', bases[2], 'http://a/b/c/d;p=1/g'],\n  ['g/', bases[2], 'http://a/b/c/d;p=1/g/'],\n  ['g?y', bases[2], 'http://a/b/c/d;p=1/g?y'],\n  [';x', bases[2], 'http://a/b/c/d;p=1/;x'],\n  ['g;x', bases[2], 'http://a/b/c/d;p=1/g;x'],\n  ['g;x=1/./y', bases[2], 'http://a/b/c/d;p=1/g;x=1/y'],\n  ['g;x=1/../y', bases[2], 'http://a/b/c/d;p=1/y'],\n  ['./', bases[2], 'http://a/b/c/d;p=1/'],\n  ['../', bases[2], 'http://a/b/c/'],\n  ['../g', bases[2], 'http://a/b/c/g'],\n  ['../../', bases[2], 'http://a/b/'],\n  ['../../g' , bases[2], 'http://a/b/g'],\n\n  // http://gbiv.com/protocols/uri/test/rel_examples4.html\n  // double and triple slash, unknown scheme\n  ['g:h', bases[3], 'g:h'],\n  ['g', bases[3], 'fred:///s//a/b/g'],\n  ['./g', bases[3], 'fred:///s//a/b/g'],\n  ['g/', bases[3], 'fred:///s//a/b/g/'],\n  ['/g', bases[3], 'fred:///g'],  // may change to fred:///s//a/g\n  ['//g', bases[3], 'fred://g'],   // may change to fred:///s//g\n  ['//g/x', bases[3], 'fred://g/x'], // may change to fred:///s//g/x\n  ['///g', bases[3], 'fred:///g'],\n  ['./', bases[3], 'fred:///s//a/b/'],\n  ['../', bases[3], 'fred:///s//a/'],\n  ['../g', bases[3], 'fred:///s//a/g'],\n\n  ['../../', bases[3], 'fred:///s//'],\n  ['../../g' , bases[3], 'fred:///s//g'],\n  ['../../../g', bases[3], 'fred:///s/g'],\n  // may change to fred:///s//a/../../../g\n  ['../../../../g', bases[3], 'fred:///g'],\n\n  // http://gbiv.com/protocols/uri/test/rel_examples5.html\n  // double and triple slash, well-known scheme\n  ['g:h', bases[4], 'g:h'],\n  ['g', bases[4], 'http:///s//a/b/g'],\n  ['./g', bases[4], 'http:///s//a/b/g'],\n  ['g/', bases[4], 'http:///s//a/b/g/'],\n  ['/g', bases[4], 'http:///g'],  // may change to http:///s//a/g\n  ['//g', bases[4], 'http://g/'],   // may change to http:///s//g\n  ['//g/x', bases[4], 'http://g/x'], // may change to http:///s//g/x\n  ['///g', bases[4], 'http:///g'],\n  ['./', bases[4], 'http:///s//a/b/'],\n  ['../', bases[4], 'http:///s//a/'],\n  ['../g', bases[4], 'http:///s//a/g'],\n  ['../../', bases[4], 'http:///s//'],\n  ['../../g' , bases[4], 'http:///s//g'],\n  // may change to http:///s//a/../../g\n  ['../../../g', bases[4], 'http:///s/g'],\n  // may change to http:///s//a/../../../g\n  ['../../../../g', bases[4], 'http:///g'],\n\n  // from Dan Connelly's tests in http://www.w3.org/2000/10/swap/uripath.py\n  ['bar:abc', 'foo:xyz', 'bar:abc'],\n  ['../abc', 'http://example/x/y/z', 'http://example/x/abc'],\n  ['http://example/x/abc', 'http://example2/x/y/z', 'http://example/x/abc'],\n  ['../r', 'http://ex/x/y/z', 'http://ex/x/r'],\n  ['q/r', 'http://ex/x/y', 'http://ex/x/q/r'],\n  ['q/r#s', 'http://ex/x/y', 'http://ex/x/q/r#s'],\n  ['q/r#s/t', 'http://ex/x/y', 'http://ex/x/q/r#s/t'],\n  ['ftp://ex/x/q/r', 'http://ex/x/y', 'ftp://ex/x/q/r'],\n  ['', 'http://ex/x/y', 'http://ex/x/y'],\n  ['', 'http://ex/x/y/', 'http://ex/x/y/'],\n  ['', 'http://ex/x/y/pdq', 'http://ex/x/y/pdq'],\n  ['z/', 'http://ex/x/y/', 'http://ex/x/y/z/'],\n  ['#Animal',\n   'file:/swap/test/animal.rdf',\n   'file:/swap/test/animal.rdf#Animal'],\n  ['../abc', 'file:/e/x/y/z', 'file:/e/x/abc'],\n  ['/example/x/abc', 'file:/example2/x/y/z', 'file:/example/x/abc'],\n  ['../r', 'file:/ex/x/y/z', 'file:/ex/x/r'],\n  ['/r', 'file:/ex/x/y/z', 'file:/r'],\n  ['q/r', 'file:/ex/x/y', 'file:/ex/x/q/r'],\n  ['q/r#s', 'file:/ex/x/y', 'file:/ex/x/q/r#s'],\n  ['q/r#', 'file:/ex/x/y', 'file:/ex/x/q/r#'],\n  ['q/r#s/t', 'file:/ex/x/y', 'file:/ex/x/q/r#s/t'],\n  ['ftp://ex/x/q/r', 'file:/ex/x/y', 'ftp://ex/x/q/r'],\n  ['', 'file:/ex/x/y', 'file:/ex/x/y'],\n  ['', 'file:/ex/x/y/', 'file:/ex/x/y/'],\n  ['', 'file:/ex/x/y/pdq', 'file:/ex/x/y/pdq'],\n  ['z/', 'file:/ex/x/y/', 'file:/ex/x/y/z/'],\n  ['file://meetings.example.com/cal#m1',\n   'file:/devel/WWW/2000/10/swap/test/reluri-1.n3',\n   'file://meetings.example.com/cal#m1'],\n  ['file://meetings.example.com/cal#m1',\n   'file:/home/connolly/w3ccvs/WWW/2000/10/swap/test/reluri-1.n3',\n   'file://meetings.example.com/cal#m1'],\n  ['./#blort', 'file:/some/dir/foo', 'file:/some/dir/#blort'],\n  ['./#', 'file:/some/dir/foo', 'file:/some/dir/#'],\n  // Ryan Lee\n  ['./', 'http://example/x/abc.efg', 'http://example/x/'],\n\n\n  // Graham Klyne's tests\n  // http://www.ninebynine.org/Software/HaskellUtils/Network/UriTest.xls\n  // 01-31 are from Connelly's cases\n\n  // 32-49\n  ['./q:r', 'http://ex/x/y', 'http://ex/x/q:r'],\n  ['./p=q:r', 'http://ex/x/y', 'http://ex/x/p=q:r'],\n  ['?pp/rr', 'http://ex/x/y?pp/qq', 'http://ex/x/y?pp/rr'],\n  ['y/z', 'http://ex/x/y?pp/qq', 'http://ex/x/y/z'],\n  ['local/qual@domain.org#frag',\n   'mailto:local',\n   'mailto:local/qual@domain.org#frag'],\n  ['more/qual2@domain2.org#frag',\n   'mailto:local/qual1@domain1.org',\n   'mailto:local/more/qual2@domain2.org#frag'],\n  ['y?q', 'http://ex/x/y?q', 'http://ex/x/y?q'],\n  ['/x/y?q', 'http://ex?p', 'http://ex/x/y?q'],\n  ['c/d', 'foo:a/b', 'foo:a/c/d'],\n  ['/c/d', 'foo:a/b', 'foo:/c/d'],\n  ['', 'foo:a/b?c#d', 'foo:a/b?c'],\n  ['b/c', 'foo:a', 'foo:b/c'],\n  ['../b/c', 'foo:/a/y/z', 'foo:/a/b/c'],\n  ['./b/c', 'foo:a', 'foo:b/c'],\n  ['/./b/c', 'foo:a', 'foo:/b/c'],\n  ['../../d', 'foo://a//b/c', 'foo://a/d'],\n  ['.', 'foo:a', 'foo:'],\n  ['..', 'foo:a', 'foo:'],\n\n  // 50-57[cf. TimBL comments --\n  //  http://lists.w3.org/Archives/Public/uri/2003Feb/0028.html,\n  //  http://lists.w3.org/Archives/Public/uri/2003Jan/0008.html)\n  ['abc', 'http://example/x/y%2Fz', 'http://example/x/abc'],\n  ['../../x%2Fabc', 'http://example/a/x/y/z', 'http://example/a/x%2Fabc'],\n  ['../x%2Fabc', 'http://example/a/x/y%2Fz', 'http://example/a/x%2Fabc'],\n  ['abc', 'http://example/x%2Fy/z', 'http://example/x%2Fy/abc'],\n  ['q%3Ar', 'http://ex/x/y', 'http://ex/x/q%3Ar'],\n  ['/x%2Fabc', 'http://example/x/y%2Fz', 'http://example/x%2Fabc'],\n  ['/x%2Fabc', 'http://example/x/y/z', 'http://example/x%2Fabc'],\n  ['/x%2Fabc', 'http://example/x/y%2Fz', 'http://example/x%2Fabc'],\n\n  // 70-77\n  ['local2@domain2', 'mailto:local1@domain1?query1', 'mailto:local2@domain2'],\n  ['local2@domain2?query2',\n   'mailto:local1@domain1',\n   'mailto:local2@domain2?query2'],\n  ['local2@domain2?query2',\n   'mailto:local1@domain1?query1',\n   'mailto:local2@domain2?query2'],\n  ['?query2', 'mailto:local@domain?query1', 'mailto:local@domain?query2'],\n  ['local@domain?query2', 'mailto:?query1', 'mailto:local@domain?query2'],\n  ['?query2', 'mailto:local@domain?query1', 'mailto:local@domain?query2'],\n  ['http://example/a/b?c/../d', 'foo:bar', 'http://example/a/b?c/../d'],\n  ['http://example/a/b#c/../d', 'foo:bar', 'http://example/a/b#c/../d'],\n\n  // 82-88\n  // @isaacs Disagree. Not how browsers do it.\n  // ['http:this', 'http://example.org/base/uri', 'http:this'],\n  // @isaacs Added\n  ['http:this', 'http://example.org/base/uri', 'http://example.org/base/this'],\n  ['http:this', 'http:base', 'http:this'],\n  ['.//g', 'f:/a', 'f://g'],\n  ['b/c//d/e', 'f://example.org/base/a', 'f://example.org/base/b/c//d/e'],\n  ['m2@example.ord/c2@example.org',\n   'mid:m@example.ord/c@example.org',\n   'mid:m@example.ord/m2@example.ord/c2@example.org'],\n  ['mini1.xml',\n   'file:///C:/DEV/Haskell/lib/HXmlToolbox-3.01/examples/',\n   'file:///C:/DEV/Haskell/lib/HXmlToolbox-3.01/examples/mini1.xml'],\n  ['../b/c', 'foo:a/y/z', 'foo:a/b/c'],\n\n  //changeing auth\n  ['http://diff:auth@www.example.com',\n   'http://asdf:qwer@www.example.com',\n   'http://diff:auth@www.example.com/']\n];\n\nrelativeTests2.forEach(function(relativeTest) {\n  test('resolve(' + [relativeTest[1], relativeTest[0]] + ')', function() {\n    var a = url.resolve(relativeTest[1], relativeTest[0]),\n        e = relativeTest[2];\n    assert.equal(a, e,\n                 'resolve(' + [relativeTest[1], relativeTest[0]] + ') == ' + e +\n                 '\\n  actual=' + a);\n  });\n});\n\n//if format and parse are inverse operations then\n//resolveObject(parse(x), y) == parse(resolve(x, y))\n\n//host and hostname are special, in this case a '' value is important\nvar emptyIsImportant = {'host': true, 'hostname': ''};\n\n//format: [from, path, expected]\nrelativeTests.forEach(function(relativeTest) {\ntest('resolveObject(' + [relativeTest[0], relativeTest[1]] + ')', function() {\n    var actual = url.resolveObject(url.parse(relativeTest[0]), relativeTest[1]),\n        expected = url.parse(relativeTest[2]);\n\n\n    assert.deepEqual(actual, expected);\n\n    expected = relativeTest[2];\n    actual = url.format(actual);\n\n    assert.equal(actual, expected,\n                 'format(' + actual + ') == ' + expected + '\\nactual:' + actual);\n  });\n});\n\n//format: [to, from, result]\n// the test: ['.//g', 'f:/a', 'f://g'] is a fundamental problem\n// url.parse('f:/a') does not have a host\n// url.resolve('f:/a', './/g') does not have a host because you have moved\n// down to the g directory.  i.e. f:     //g, however when this url is parsed\n// f:// will indicate that the host is g which is not the case.\n// it is unclear to me how to keep this information from being lost\n// it may be that a pathname of ////g should collapse to /g but this seems\n// to be a lot of work for an edge case.  Right now I remove the test\nif (relativeTests2[181][0] === './/g' &&\n    relativeTests2[181][1] === 'f:/a' &&\n    relativeTests2[181][2] === 'f://g') {\n  relativeTests2.splice(181, 1);\n}\n\nrelativeTests2.forEach(function(relativeTest) {\n  test('resolveObject(' + [relativeTest[1], relativeTest[0]] + ')', function() {\n    var actual = url.resolveObject(url.parse(relativeTest[1]), relativeTest[0]),\n        expected = url.parse(relativeTest[2]);\n\n    assert.deepEqual(actual, expected);\n\n    var expected = relativeTest[2],\n        actual = url.format(actual);\n\n    assert.equal(actual, expected,\n                 'format(' + relativeTest[1] + ') == ' + expected +\n                 '\\nactual:' + actual);\n  });\n});\n"]},"metadata":{},"sourceType":"script"}