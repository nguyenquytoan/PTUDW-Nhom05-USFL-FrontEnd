{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = mergeRules;\n\nvar _hasAllProps = require('./hasAllProps');\n\nvar _hasAllProps2 = _interopRequireDefault(_hasAllProps);\n\nvar _getDecls = require('./getDecls');\n\nvar _getDecls2 = _interopRequireDefault(_getDecls);\n\nvar _getRules = require('./getRules');\n\nvar _getRules2 = _interopRequireDefault(_getRules);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction isConflictingProp(propA, propB) {\n  if (!propB.prop || propB.important !== propA.important) {\n    return;\n  }\n\n  const parts = propA.prop.split('-');\n  return parts.some(() => {\n    parts.pop();\n    return parts.join('-') === propB.prop;\n  });\n}\n\nfunction hasConflicts(match, nodes) {\n  const firstNode = Math.min.apply(null, match.map(n => nodes.indexOf(n)));\n  const lastNode = Math.max.apply(null, match.map(n => nodes.indexOf(n)));\n  const between = nodes.slice(firstNode + 1, lastNode);\n  return match.some(a => between.some(b => isConflictingProp(a, b)));\n}\n\nfunction mergeRules(rule, properties, callback) {\n  let decls = (0, _getDecls2.default)(rule, properties);\n\n  while (decls.length) {\n    const last = decls[decls.length - 1];\n    const props = decls.filter(node => node.important === last.important);\n    const rules = (0, _getRules2.default)(props, properties);\n\n    if ((0, _hasAllProps2.default)(rules, ...properties) && !hasConflicts(rules, rule.nodes)) {\n      if (callback(rules, last, props)) {\n        decls = decls.filter(node => !~rules.indexOf(node));\n      }\n    }\n\n    decls = decls.filter(node => node !== last);\n  }\n}\n\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/postcss-merge-longhand/dist/lib/mergeRules.js"],"names":["Object","defineProperty","exports","value","default","mergeRules","_hasAllProps","require","_hasAllProps2","_interopRequireDefault","_getDecls","_getDecls2","_getRules","_getRules2","obj","__esModule","isConflictingProp","propA","propB","prop","important","parts","split","some","pop","join","hasConflicts","match","nodes","firstNode","Math","min","apply","map","n","indexOf","lastNode","max","between","slice","a","b","rule","properties","callback","decls","length","last","props","filter","node","rules","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = mergeRules;\n\nvar _hasAllProps = require('./hasAllProps');\n\nvar _hasAllProps2 = _interopRequireDefault(_hasAllProps);\n\nvar _getDecls = require('./getDecls');\n\nvar _getDecls2 = _interopRequireDefault(_getDecls);\n\nvar _getRules = require('./getRules');\n\nvar _getRules2 = _interopRequireDefault(_getRules);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isConflictingProp(propA, propB) {\n    if (!propB.prop || propB.important !== propA.important) {\n        return;\n    }\n\n    const parts = propA.prop.split('-');\n\n    return parts.some(() => {\n        parts.pop();\n\n        return parts.join('-') === propB.prop;\n    });\n}\n\nfunction hasConflicts(match, nodes) {\n    const firstNode = Math.min.apply(null, match.map(n => nodes.indexOf(n)));\n    const lastNode = Math.max.apply(null, match.map(n => nodes.indexOf(n)));\n    const between = nodes.slice(firstNode + 1, lastNode);\n\n    return match.some(a => between.some(b => isConflictingProp(a, b)));\n}\n\nfunction mergeRules(rule, properties, callback) {\n    let decls = (0, _getDecls2.default)(rule, properties);\n\n    while (decls.length) {\n        const last = decls[decls.length - 1];\n        const props = decls.filter(node => node.important === last.important);\n        const rules = (0, _getRules2.default)(props, properties);\n\n        if ((0, _hasAllProps2.default)(rules, ...properties) && !hasConflicts(rules, rule.nodes)) {\n            if (callback(rules, last, props)) {\n                decls = decls.filter(node => !~rules.indexOf(node));\n            }\n        }\n\n        decls = decls.filter(node => node !== last);\n    }\n}\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}