{"ast":null,"code":"var _jsxFileName = \"/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/src/components/returnBookComponent/returnbook.js\";\nimport React, { Component } from 'react';\nimport BookImage from '../../asserts/js/images';\nimport DatePicker from 'react-datepicker';\nimport PopUp from 'reactjs-popup';\nexport class ReturnBook extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = date => {\n      this.setState({\n        startDate: date,\n        DOB: this.changeDate(date)\n      });\n    };\n\n    this.onHandleSubmit = e => {\n      e.preventDefault();\n      this.setState({\n        showModal: true\n      });\n    };\n\n    this.state = {\n      fullname: '',\n      card: '',\n      title: '',\n      time: null,\n      image: '',\n      startDate: new Date(),\n      showModal: false\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      const url1 = 'http://localhost:2000/api/book/detail?bookID=' + this.props.sku;\n      const url2 = 'http://localhost:2000/api/user/info?userid=' + localStorage.getItem(\"userID\");\n      const url3 = 'http://localhost:2000/api/user/yourBook?userid=' + localStorage.getItem(\"userID\");\n      const response1 = await fetch(url1);\n      const response2 = await fetch(url2);\n      const response3 = await fetch(url3);\n\n      if (response1.ok && response2.ok && response3.ok) {\n        const data1 = await response1.json();\n        const data2 = await response2.json();\n        const data3 = await response3.json();\n        let expiredTime;\n\n        for (let i = 0; i < data3.length; i++) {\n          if (data3[i].bookID == this.props.sku) {\n            expiredTime = data3[i].time;\n          }\n        }\n\n        this.setState({\n          fullname: data2.data.name,\n          card: localStorage.getItem(\"userID\"),\n          title: data1.message.title,\n          time: expiredTime,\n          image: data1.message.images\n        });\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container row border\",\n      style: {\n        margin: '50px auto'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"col-md-8 mb-4\",\n      onClick: this.onHandleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-sm-12 mt-4\",\n      style: {\n        color: '#1429D7',\n        fontSize: '30px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 29\n      }\n    }, \"RETURN A BOOK\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form row\",\n      style: {\n        padding: '15px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-12 mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: this.state.fullname,\n      readOnly: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-12 mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: this.state.card,\n      readOnly: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-12 mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: this.state.title,\n      readOnly: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-12 mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: this.props.sku,\n      readOnly: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-3 mb-3 text-left mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        paddingLeft: '5px',\n        fontWeight: 'bold'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 33\n      }\n    }, \"Expire in:\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-9 mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      placeholder: this.state.time,\n      readOnly: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-3 mb-3 text-left mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        paddingLeft: '5px',\n        fontWeight: 'bold'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 33\n      }\n    }, \"Date-to-return:\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-4 mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(DatePicker, {\n      selected: this.state.startDate,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary border-0 rounded-pill mb-4\",\n      type: \"submit\",\n      style: {\n        backgroundColor: '#F15922',\n        height: '40px',\n        width: '150px',\n        margin: '0px auto'\n      },\n      onClick: this.onHandleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 29\n      }\n    }, \"Submit\")), /*#__PURE__*/React.createElement(PopUp, {\n      open: this.state.showModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-4 mb-4 rounded\",\n      style: {\n        color: 'black'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 33\n      }\n    }, \"Your request is pending.\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 60\n      }\n    }), \"Please return the book and wait for the librarian to approve yours.\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 132\n      }\n    }), \"You could check in \\\"My books\\\" to see the processing\")))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"d-none d-md-block col-sm-4 mb-4 mt-4\",\n      style: {\n        padding: '30px 10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: BookImage[parseInt(this.state.image)],\n      style: {\n        width: '230px'\n      },\n      alt: \"Book's Image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/src/components/returnBookComponent/returnbook.js"],"names":["React","Component","BookImage","DatePicker","PopUp","ReturnBook","constructor","props","handleChange","date","setState","startDate","DOB","changeDate","onHandleSubmit","e","preventDefault","showModal","state","fullname","card","title","time","image","Date","componentDidMount","url1","sku","url2","localStorage","getItem","url3","response1","fetch","response2","response3","ok","data1","json","data2","data3","expiredTime","i","length","bookID","data","name","message","images","console","log","render","margin","color","fontSize","padding","paddingLeft","fontWeight","backgroundColor","height","width","parseInt"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport BookImage from '../../asserts/js/images'\nimport DatePicker from 'react-datepicker'\nimport PopUp from 'reactjs-popup'\n\n\nexport class ReturnBook extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            fullname: '',\n            card: '',\n            title: '',\n            time: null,\n            image: '',\n            startDate: new Date(),\n            showModal: false\n        }\n    }\n\n    handleChange = date => {\n        this.setState({startDate: date, DOB: this.changeDate(date)})\n    }\n\n    async componentDidMount() {\n        try {\n            const url1 = 'http://localhost:2000/api/book/detail?bookID=' + this.props.sku\n            const url2 = 'http://localhost:2000/api/user/info?userid=' + localStorage.getItem(\"userID\")\n            const url3 = 'http://localhost:2000/api/user/yourBook?userid=' + localStorage.getItem(\"userID\")\n            const response1 = await fetch(url1)\n            const response2 = await fetch(url2)\n            const response3 = await fetch(url3)\n            if (response1.ok && response2.ok && response3.ok) {\n                const data1 = await response1.json()\n                const data2 = await response2.json()\n                const data3 = await response3.json()\n                let expiredTime\n\n                for (let i = 0; i < data3.length; i++) {\n                    if (data3[i].bookID == this.props.sku) {\n                        expiredTime = data3[i].time\n                    }\n                }\n\n                this.setState({\n                    fullname: data2.data.name,\n                    card: localStorage.getItem(\"userID\"),\n                    title: data1.message.title,\n                    time: expiredTime,\n                    image: data1.message.images\n                })\n            }\n        }\n        catch(e) {\n            console.log(e)\n        }\n    }\n\n    onHandleSubmit = e => {\n        e.preventDefault()\n        this.setState({showModal: true})\n    }\n    \n\n    render() {\n        return(\n            <div>\n                <div className=\"container row border\" style={{margin: '50px auto'}}>\n                    <form className=\"col-md-8 mb-4\" onClick={this.onHandleSubmit}>\n                        <label className=\"col-sm-12 mt-4\" style={{color: '#1429D7', fontSize: '30px'}}>\n                            <b>RETURN A BOOK</b>\n                        </label>\n                        <div className=\"form row\" style={{padding: '15px'}}>\n                            <div className=\"col-sm-12 mb-3\">\n                                <input type=\"text\" className=\"form-control\" placeholder={this.state.fullname} readOnly></input>\n                            </div>\n\n                            <div className=\"col-sm-12 mb-3\">\n                                <input type=\"text\" className=\"form-control\" placeholder={this.state.card} readOnly></input>\n                            </div>\n\n                            <div className=\"col-sm-12 mb-3\">\n                                <input type=\"text\" className=\"form-control\" placeholder={this.state.title} readOnly></input>\n                            </div>\n\n                            <div className=\"col-sm-12 mb-3\">\n                                <input type=\"text\" className=\"form-control\" placeholder={this.props.sku} readOnly></input>\n                            </div>\n\n                            <div className=\"col-lg-3 mb-3 text-left mt-2\">\n                                <label style={{paddingLeft: '5px', fontWeight: 'bold'}}>Expire in:</label>\n                            </div>\n\n                            <div className=\"col-lg-9 mb-3\">\n                                <input type=\"text\" class=\"form-control\" placeholder={this.state.time} readOnly/>\n                            </div>\n\n                            <div className=\"col-lg-3 mb-3 text-left mt-2\">\n                                <label style={{paddingLeft: '5px', fontWeight: 'bold'}}>Date-to-return:</label>\n                            </div>\n\n                            <div className=\"col-lg-4 mt-2\">\n                                <DatePicker selected={this.state.startDate} onChange={this.handleChange}/>\n                            </div>\n\n                            \n                        </div>\n\n                        <button className=\"btn btn-primary border-0 rounded-pill mb-4\" type=\"submit\" style={{backgroundColor: '#F15922',height:'40px',width: '150px',margin: '0px auto'}} onClick={this.onHandleSubmit}>\n                            <b>Submit</b>\n                        </button>\n\n                        <PopUp open={this.state.showModal}>\n                            <div className=\"mt-4 mb-4 rounded\" style={{color: 'black'}}>\n                                <b>Your request is pending.<br/>Please return the book and wait for the librarian to approve yours.<br/>You could check in \"My books\" to see the processing</b>\n                            </div>\n                        </PopUp>\n\n                        \n                    </form>\n                    <div class=\"d-none d-md-block col-sm-4 mb-4 mt-4\" style={{padding: '30px 10px'}}>\n                        <img src={BookImage[parseInt(this.state.image)]} style={{width: '230px'}} alt=\"Book's Image\"/>\n                    </div>\n                </div>\n            </div>\n            \n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}