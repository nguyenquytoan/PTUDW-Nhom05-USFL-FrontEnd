{"ast":null,"code":"'use strict';\n\nexports.type = 'perItem';\nexports.active = true;\nexports.description = 'Sorts children of <defs> to improve compression';\n/**\n * Sorts children of defs in order to improve compression.\n * Sorted first by frequency then by element name length then by element name (to ensure grouping).\n *\n * @param {Object} item current iteration item\n * @return {Boolean} if false, item will be filtered out\n *\n * @author David Leston\n */\n\nexports.fn = function (item) {\n  if (item.isElem('defs')) {\n    if (item.content) {\n      var frequency = item.content.reduce(function (frequency, child) {\n        if (child.elem in frequency) {\n          frequency[child.elem]++;\n        } else {\n          frequency[child.elem] = 1;\n        }\n\n        return frequency;\n      }, {});\n      item.content.sort(function (a, b) {\n        var frequencyComparison = frequency[b.elem] - frequency[a.elem];\n\n        if (frequencyComparison !== 0) {\n          return frequencyComparison;\n        }\n\n        var lengthComparison = b.elem.length - a.elem.length;\n\n        if (lengthComparison !== 0) {\n          return lengthComparison;\n        }\n\n        return a.elem != b.elem ? a.elem > b.elem ? -1 : 1 : 0;\n      });\n    }\n\n    return true;\n  }\n};","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/svgo/plugins/sortDefsChildren.js"],"names":["exports","type","active","description","fn","item","isElem","content","frequency","reduce","child","elem","sort","a","b","frequencyComparison","lengthComparison","length"],"mappings":"AAAA;;AAEAA,OAAO,CAACC,IAAR,GAAe,SAAf;AAEAD,OAAO,CAACE,MAAR,GAAiB,IAAjB;AAEAF,OAAO,CAACG,WAAR,GAAsB,iDAAtB;AAEA;;;;;;;;;;AASAH,OAAO,CAACI,EAAR,GAAa,UAASC,IAAT,EAAe;AAExB,MAAIA,IAAI,CAACC,MAAL,CAAY,MAAZ,CAAJ,EAAyB;AAErB,QAAID,IAAI,CAACE,OAAT,EAAkB;AACd,UAAIC,SAAS,GAAGH,IAAI,CAACE,OAAL,CAAaE,MAAb,CAAoB,UAAUD,SAAV,EAAqBE,KAArB,EAA4B;AAC5D,YAAIA,KAAK,CAACC,IAAN,IAAcH,SAAlB,EAA6B;AACzBA,UAAAA,SAAS,CAACE,KAAK,CAACC,IAAP,CAAT;AACH,SAFD,MAEO;AACHH,UAAAA,SAAS,CAACE,KAAK,CAACC,IAAP,CAAT,GAAwB,CAAxB;AACH;;AACD,eAAOH,SAAP;AACH,OAPe,EAOb,EAPa,CAAhB;AAQAH,MAAAA,IAAI,CAACE,OAAL,CAAaK,IAAb,CAAkB,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAC9B,YAAIC,mBAAmB,GAAGP,SAAS,CAACM,CAAC,CAACH,IAAH,CAAT,GAAoBH,SAAS,CAACK,CAAC,CAACF,IAAH,CAAvD;;AACA,YAAII,mBAAmB,KAAK,CAA5B,EAAgC;AAC5B,iBAAOA,mBAAP;AACH;;AACD,YAAIC,gBAAgB,GAAGF,CAAC,CAACH,IAAF,CAAOM,MAAP,GAAgBJ,CAAC,CAACF,IAAF,CAAOM,MAA9C;;AACA,YAAID,gBAAgB,KAAK,CAAzB,EAA4B;AACxB,iBAAOA,gBAAP;AACH;;AACD,eAAOH,CAAC,CAACF,IAAF,IAAUG,CAAC,CAACH,IAAZ,GAAmBE,CAAC,CAACF,IAAF,GAASG,CAAC,CAACH,IAAX,GAAkB,CAAC,CAAnB,GAAuB,CAA1C,GAA8C,CAArD;AACH,OAVD;AAWH;;AAED,WAAO,IAAP;AACH;AAEJ,CA7BD","sourcesContent":["'use strict';\n\nexports.type = 'perItem';\n\nexports.active = true;\n\nexports.description = 'Sorts children of <defs> to improve compression';\n\n/**\n * Sorts children of defs in order to improve compression.\n * Sorted first by frequency then by element name length then by element name (to ensure grouping).\n *\n * @param {Object} item current iteration item\n * @return {Boolean} if false, item will be filtered out\n *\n * @author David Leston\n */\nexports.fn = function(item) {\n\n    if (item.isElem('defs')) {\n\n        if (item.content) {\n            var frequency = item.content.reduce(function (frequency, child) {\n                if (child.elem in frequency) {\n                    frequency[child.elem]++;\n                } else {\n                    frequency[child.elem] = 1;\n                }\n                return frequency;\n            }, {});\n            item.content.sort(function (a, b) {\n                var frequencyComparison = frequency[b.elem] - frequency[a.elem];\n                if (frequencyComparison !== 0 ) {\n                    return frequencyComparison;\n                }\n                var lengthComparison = b.elem.length - a.elem.length;\n                if (lengthComparison !== 0) {\n                    return lengthComparison;\n                }\n                return a.elem != b.elem ? a.elem > b.elem ? -1 : 1 : 0;\n            });\n        }\n\n        return true;\n    }\n\n};\n"]},"metadata":{},"sourceType":"script"}