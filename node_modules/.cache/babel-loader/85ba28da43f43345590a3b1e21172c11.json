{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.default = void 0;\n\nfunction _fs() {\n  const data = _interopRequireDefault(require('fs'));\n\n  _fs = function _fs() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _path() {\n  const data = _interopRequireDefault(require('path'));\n\n  _path = function _path() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _chalk() {\n  const data = _interopRequireDefault(require('chalk'));\n\n  _chalk = function _chalk() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _prompts() {\n  const data = _interopRequireDefault(require('prompts'));\n\n  _prompts = function _prompts() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _realpathNative() {\n  const data = require('realpath-native');\n\n  _realpathNative = function _realpathNative() {\n    return data;\n  };\n\n  return data;\n}\n\nvar _questions = _interopRequireWildcard(require('./questions'));\n\nvar _errors = require('./errors');\n\nvar _constants = require('./constants');\n\nvar _generate_config_file = _interopRequireDefault(require('./generate_config_file'));\n\nvar _modify_package_json = _interopRequireDefault(require('./modify_package_json'));\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'next', value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'throw', err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nvar _default = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(function* (rootDir = (0, _realpathNative().sync)(process.cwd())) {\n    // prerequisite checks\n    const projectPackageJsonPath = _path().default.join(rootDir, _constants.PACKAGE_JSON);\n\n    const jestConfigPath = _path().default.join(rootDir, _constants.JEST_CONFIG);\n\n    if (!_fs().default.existsSync(projectPackageJsonPath)) {\n      throw new _errors.NotFoundPackageJsonError(rootDir);\n    }\n\n    const questions = _questions.default.slice(0);\n\n    let hasJestProperty = false;\n    let hasJestConfig = false;\n    let projectPackageJson;\n\n    try {\n      projectPackageJson = JSON.parse(_fs().default.readFileSync(projectPackageJsonPath, 'utf-8'));\n    } catch (error) {\n      throw new _errors.MalformedPackageJsonError(projectPackageJsonPath);\n    }\n\n    if (projectPackageJson.jest) {\n      hasJestProperty = true;\n    }\n\n    if (_fs().default.existsSync(jestConfigPath)) {\n      hasJestConfig = true;\n    }\n\n    if (hasJestProperty || hasJestConfig) {\n      const result = yield (0, _prompts().default)({\n        initial: true,\n        message: 'It seems that you already have a jest configuration, do you want to override it?',\n        name: 'continue',\n        type: 'confirm'\n      });\n\n      if (!result.continue) {\n        console.log();\n        console.log('Aborting...');\n        return;\n      }\n    } // Add test script installation only if needed\n\n\n    if (!projectPackageJson.scripts || projectPackageJson.scripts.test !== 'jest') {\n      questions.unshift(_questions.testScriptQuestion);\n    } // Start the init process\n\n\n    console.log();\n    console.log(_chalk().default.underline(`The following questions will help Jest to create a suitable configuration for your project\\n`));\n    let promptAborted = false; // @ts-ignore: Return type cannot be object - faulty typings\n\n    const results = yield (0, _prompts().default)(questions, {\n      onCancel: () => {\n        promptAborted = true;\n      }\n    });\n\n    if (promptAborted) {\n      console.log();\n      console.log('Aborting...');\n      return;\n    }\n\n    const shouldModifyScripts = results.scripts;\n\n    if (shouldModifyScripts || hasJestProperty) {\n      const modifiedPackageJson = (0, _modify_package_json.default)({\n        projectPackageJson,\n        shouldModifyScripts\n      });\n\n      _fs().default.writeFileSync(projectPackageJsonPath, modifiedPackageJson);\n\n      console.log('');\n      console.log(`‚úèÔ∏è  Modified ${_chalk().default.cyan(projectPackageJsonPath)}`);\n    }\n\n    const generatedConfig = (0, _generate_config_file.default)(results);\n\n    _fs().default.writeFileSync(jestConfigPath, generatedConfig);\n\n    console.log('');\n    console.log(`üìù  Configuration file created at ${_chalk().default.cyan(jestConfigPath)}`);\n  });\n\n  return function () {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexports.default = _default;","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/jest/node_modules/jest-cli/build/init/index.js"],"names":["Object","defineProperty","exports","value","default","_fs","data","_interopRequireDefault","require","_path","_chalk","_prompts","_realpathNative","_questions","_interopRequireWildcard","_errors","_constants","_generate_config_file","_modify_package_json","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","desc","getOwnPropertyDescriptor","get","set","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","_default","_ref","rootDir","sync","process","cwd","projectPackageJsonPath","join","PACKAGE_JSON","jestConfigPath","JEST_CONFIG","existsSync","NotFoundPackageJsonError","questions","slice","hasJestProperty","hasJestConfig","projectPackageJson","JSON","parse","readFileSync","MalformedPackageJsonError","jest","result","initial","message","name","type","continue","console","log","scripts","test","unshift","testScriptQuestion","underline","promptAborted","results","onCancel","shouldModifyScripts","modifiedPackageJson","writeFileSync","cyan","generatedConfig"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.default = void 0;\n\nfunction _fs() {\n  const data = _interopRequireDefault(require('fs'));\n\n  _fs = function _fs() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _path() {\n  const data = _interopRequireDefault(require('path'));\n\n  _path = function _path() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _chalk() {\n  const data = _interopRequireDefault(require('chalk'));\n\n  _chalk = function _chalk() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _prompts() {\n  const data = _interopRequireDefault(require('prompts'));\n\n  _prompts = function _prompts() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _realpathNative() {\n  const data = require('realpath-native');\n\n  _realpathNative = function _realpathNative() {\n    return data;\n  };\n\n  return data;\n}\n\nvar _questions = _interopRequireWildcard(require('./questions'));\n\nvar _errors = require('./errors');\n\nvar _constants = require('./constants');\n\nvar _generate_config_file = _interopRequireDefault(\n  require('./generate_config_file')\n);\n\nvar _modify_package_json = _interopRequireDefault(\n  require('./modify_package_json')\n);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc =\n            Object.defineProperty && Object.getOwnPropertyDescriptor\n              ? Object.getOwnPropertyDescriptor(obj, key)\n              : {};\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {default: obj};\n}\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function() {\n    var self = this,\n      args = arguments;\n    return new Promise(function(resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'next', value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'throw', err);\n      }\n      _next(undefined);\n    });\n  };\n}\n\nvar _default =\n  /*#__PURE__*/\n  (function() {\n    var _ref = _asyncToGenerator(function*(\n      rootDir = (0, _realpathNative().sync)(process.cwd())\n    ) {\n      // prerequisite checks\n      const projectPackageJsonPath = _path().default.join(\n        rootDir,\n        _constants.PACKAGE_JSON\n      );\n\n      const jestConfigPath = _path().default.join(\n        rootDir,\n        _constants.JEST_CONFIG\n      );\n\n      if (!_fs().default.existsSync(projectPackageJsonPath)) {\n        throw new _errors.NotFoundPackageJsonError(rootDir);\n      }\n\n      const questions = _questions.default.slice(0);\n\n      let hasJestProperty = false;\n      let hasJestConfig = false;\n      let projectPackageJson;\n\n      try {\n        projectPackageJson = JSON.parse(\n          _fs().default.readFileSync(projectPackageJsonPath, 'utf-8')\n        );\n      } catch (error) {\n        throw new _errors.MalformedPackageJsonError(projectPackageJsonPath);\n      }\n\n      if (projectPackageJson.jest) {\n        hasJestProperty = true;\n      }\n\n      if (_fs().default.existsSync(jestConfigPath)) {\n        hasJestConfig = true;\n      }\n\n      if (hasJestProperty || hasJestConfig) {\n        const result = yield (0, _prompts().default)({\n          initial: true,\n          message:\n            'It seems that you already have a jest configuration, do you want to override it?',\n          name: 'continue',\n          type: 'confirm'\n        });\n\n        if (!result.continue) {\n          console.log();\n          console.log('Aborting...');\n          return;\n        }\n      } // Add test script installation only if needed\n\n      if (\n        !projectPackageJson.scripts ||\n        projectPackageJson.scripts.test !== 'jest'\n      ) {\n        questions.unshift(_questions.testScriptQuestion);\n      } // Start the init process\n\n      console.log();\n      console.log(\n        _chalk().default.underline(\n          `The following questions will help Jest to create a suitable configuration for your project\\n`\n        )\n      );\n      let promptAborted = false; // @ts-ignore: Return type cannot be object - faulty typings\n\n      const results = yield (0, _prompts().default)(questions, {\n        onCancel: () => {\n          promptAborted = true;\n        }\n      });\n\n      if (promptAborted) {\n        console.log();\n        console.log('Aborting...');\n        return;\n      }\n\n      const shouldModifyScripts = results.scripts;\n\n      if (shouldModifyScripts || hasJestProperty) {\n        const modifiedPackageJson = (0, _modify_package_json.default)({\n          projectPackageJson,\n          shouldModifyScripts\n        });\n\n        _fs().default.writeFileSync(\n          projectPackageJsonPath,\n          modifiedPackageJson\n        );\n\n        console.log('');\n        console.log(\n          `‚úèÔ∏è  Modified ${_chalk().default.cyan(projectPackageJsonPath)}`\n        );\n      }\n\n      const generatedConfig = (0, _generate_config_file.default)(results);\n\n      _fs().default.writeFileSync(jestConfigPath, generatedConfig);\n\n      console.log('');\n      console.log(\n        `üìù  Configuration file created at ${_chalk().default.cyan(\n          jestConfigPath\n        )}`\n      );\n    });\n\n    return function() {\n      return _ref.apply(this, arguments);\n    };\n  })();\n\nexports.default = _default;\n"]},"metadata":{},"sourceType":"script"}