{"ast":null,"code":"var resolveKeyword = require('css-tree').keyword;\n\nvar walk = require('css-tree').walk;\n\nvar generate = require('css-tree').generate;\n\nvar createDeclarationIndexer = require('./createDeclarationIndexer');\n\nvar processSelector = require('./processSelector');\n\nmodule.exports = function prepare(ast, options) {\n  var markDeclaration = createDeclarationIndexer();\n  walk(ast, {\n    visit: 'Rule',\n    enter: function processRule(node) {\n      node.block.children.each(markDeclaration);\n      processSelector(node, options.usage);\n    }\n  });\n  walk(ast, {\n    visit: 'Atrule',\n    enter: function (node) {\n      if (node.prelude) {\n        node.prelude.id = null; // pre-init property to avoid multiple hidden class for generate\n\n        node.prelude.id = generate(node.prelude);\n      } // compare keyframe selectors by its values\n      // NOTE: still no clarification about problems with keyframes selector grouping (issue #197)\n\n\n      if (resolveKeyword(node.name).basename === 'keyframes') {\n        node.block.avoidRulesMerge = true;\n        /* probably we don't need to prevent those merges for @keyframes\n           TODO: need to be checked */\n\n        node.block.children.each(function (rule) {\n          rule.prelude.children.each(function (simpleselector) {\n            simpleselector.compareMarker = simpleselector.id;\n          });\n        });\n      }\n    }\n  });\n  return {\n    declaration: markDeclaration\n  };\n};","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/csso/lib/restructure/prepare/index.js"],"names":["resolveKeyword","require","keyword","walk","generate","createDeclarationIndexer","processSelector","module","exports","prepare","ast","options","markDeclaration","visit","enter","processRule","node","block","children","each","usage","prelude","id","name","basename","avoidRulesMerge","rule","simpleselector","compareMarker","declaration"],"mappings":"AAAA,IAAIA,cAAc,GAAGC,OAAO,CAAC,UAAD,CAAP,CAAoBC,OAAzC;;AACA,IAAIC,IAAI,GAAGF,OAAO,CAAC,UAAD,CAAP,CAAoBE,IAA/B;;AACA,IAAIC,QAAQ,GAAGH,OAAO,CAAC,UAAD,CAAP,CAAoBG,QAAnC;;AACA,IAAIC,wBAAwB,GAAGJ,OAAO,CAAC,4BAAD,CAAtC;;AACA,IAAIK,eAAe,GAAGL,OAAO,CAAC,mBAAD,CAA7B;;AAEAM,MAAM,CAACC,OAAP,GAAiB,SAASC,OAAT,CAAiBC,GAAjB,EAAsBC,OAAtB,EAA+B;AAC5C,MAAIC,eAAe,GAAGP,wBAAwB,EAA9C;AAEAF,EAAAA,IAAI,CAACO,GAAD,EAAM;AACNG,IAAAA,KAAK,EAAE,MADD;AAENC,IAAAA,KAAK,EAAE,SAASC,WAAT,CAAqBC,IAArB,EAA2B;AAC9BA,MAAAA,IAAI,CAACC,KAAL,CAAWC,QAAX,CAAoBC,IAApB,CAAyBP,eAAzB;AACAN,MAAAA,eAAe,CAACU,IAAD,EAAOL,OAAO,CAACS,KAAf,CAAf;AACH;AALK,GAAN,CAAJ;AAQAjB,EAAAA,IAAI,CAACO,GAAD,EAAM;AACNG,IAAAA,KAAK,EAAE,QADD;AAENC,IAAAA,KAAK,EAAE,UAASE,IAAT,EAAe;AAClB,UAAIA,IAAI,CAACK,OAAT,EAAkB;AACdL,QAAAA,IAAI,CAACK,OAAL,CAAaC,EAAb,GAAkB,IAAlB,CADc,CACU;;AACxBN,QAAAA,IAAI,CAACK,OAAL,CAAaC,EAAb,GAAkBlB,QAAQ,CAACY,IAAI,CAACK,OAAN,CAA1B;AACH,OAJiB,CAMlB;AACA;;;AACA,UAAIrB,cAAc,CAACgB,IAAI,CAACO,IAAN,CAAd,CAA0BC,QAA1B,KAAuC,WAA3C,EAAwD;AACpDR,QAAAA,IAAI,CAACC,KAAL,CAAWQ,eAAX,GAA6B,IAA7B;AAAoC;;;AAEpCT,QAAAA,IAAI,CAACC,KAAL,CAAWC,QAAX,CAAoBC,IAApB,CAAyB,UAASO,IAAT,EAAe;AACpCA,UAAAA,IAAI,CAACL,OAAL,CAAaH,QAAb,CAAsBC,IAAtB,CAA2B,UAASQ,cAAT,EAAyB;AAChDA,YAAAA,cAAc,CAACC,aAAf,GAA+BD,cAAc,CAACL,EAA9C;AACH,WAFD;AAGH,SAJD;AAKH;AACJ;AAnBK,GAAN,CAAJ;AAsBA,SAAO;AACHO,IAAAA,WAAW,EAAEjB;AADV,GAAP;AAGH,CApCD","sourcesContent":["var resolveKeyword = require('css-tree').keyword;\nvar walk = require('css-tree').walk;\nvar generate = require('css-tree').generate;\nvar createDeclarationIndexer = require('./createDeclarationIndexer');\nvar processSelector = require('./processSelector');\n\nmodule.exports = function prepare(ast, options) {\n    var markDeclaration = createDeclarationIndexer();\n\n    walk(ast, {\n        visit: 'Rule',\n        enter: function processRule(node) {\n            node.block.children.each(markDeclaration);\n            processSelector(node, options.usage);\n        }\n    });\n\n    walk(ast, {\n        visit: 'Atrule',\n        enter: function(node) {\n            if (node.prelude) {\n                node.prelude.id = null; // pre-init property to avoid multiple hidden class for generate\n                node.prelude.id = generate(node.prelude);\n            }\n\n            // compare keyframe selectors by its values\n            // NOTE: still no clarification about problems with keyframes selector grouping (issue #197)\n            if (resolveKeyword(node.name).basename === 'keyframes') {\n                node.block.avoidRulesMerge = true;  /* probably we don't need to prevent those merges for @keyframes\n                                                       TODO: need to be checked */\n                node.block.children.each(function(rule) {\n                    rule.prelude.children.each(function(simpleselector) {\n                        simpleselector.compareMarker = simpleselector.id;\n                    });\n                });\n            }\n        }\n    });\n\n    return {\n        declaration: markDeclaration\n    };\n};\n"]},"metadata":{},"sourceType":"script"}