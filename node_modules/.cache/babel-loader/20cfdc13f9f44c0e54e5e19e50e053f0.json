{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Observable_1 = require(\"../Observable\");\n\nvar isArray_1 = require(\"../util/isArray\");\n\nvar isFunction_1 = require(\"../util/isFunction\");\n\nvar map_1 = require(\"../operators/map\");\n\nfunction fromEventPattern(addHandler, removeHandler, resultSelector) {\n  if (resultSelector) {\n    return fromEventPattern(addHandler, removeHandler).pipe(map_1.map(function (args) {\n      return isArray_1.isArray(args) ? resultSelector.apply(void 0, args) : resultSelector(args);\n    }));\n  }\n\n  return new Observable_1.Observable(function (subscriber) {\n    var handler = function () {\n      var e = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        e[_i] = arguments[_i];\n      }\n\n      return subscriber.next(e.length === 1 ? e[0] : e);\n    };\n\n    var retValue;\n\n    try {\n      retValue = addHandler(handler);\n    } catch (err) {\n      subscriber.error(err);\n      return undefined;\n    }\n\n    if (!isFunction_1.isFunction(removeHandler)) {\n      return undefined;\n    }\n\n    return function () {\n      return removeHandler(handler, retValue);\n    };\n  });\n}\n\nexports.fromEventPattern = fromEventPattern;","map":{"version":3,"sources":["../../src/internal/observable/fromEventPattern.ts"],"names":[],"mappings":";;;;;;AAAA,IAAA,YAAA,GAAA,OAAA,CAAA,eAAA,CAAA;;AACA,IAAA,SAAA,GAAA,OAAA,CAAA,iBAAA,CAAA;;AACA,IAAA,YAAA,GAAA,OAAA,CAAA,oBAAA,CAAA;;AAEA,IAAA,KAAA,GAAA,OAAA,CAAA,kBAAA,CAAA;;AAwIA,SAAgB,gBAAhB,CAAoC,UAApC,EACoC,aADpC,EAEoC,cAFpC,EAE0E;AAExE,MAAI,cAAJ,EAAoB;AAElB,WAAO,gBAAgB,CAAI,UAAJ,EAAgB,aAAhB,CAAhB,CAA+C,IAA/C,CACL,KAAA,CAAA,GAAA,CAAI,UAAA,IAAA,EAAI;AAAI,aAAA,SAAA,CAAA,OAAA,CAAQ,IAAR,IAAgB,cAAc,CAAA,KAAd,CAAc,KAAA,CAAd,EAAkB,IAAlB,CAAhB,GAA0C,cAAc,CAAxD,IAAwD,CAAxD;AAA8D,KAA1E,CADK,CAAP;AAGD;;AAED,SAAO,IAAI,YAAA,CAAA,UAAJ,CAAwB,UAAA,UAAA,EAAU;AACvC,QAAM,OAAO,GAAG,YAAA;AAAC,UAAA,CAAA,GAAA,EAAA;;WAAA,IAAA,EAAA,GAAA,C,EAAA,EAAA,GAAA,SAAA,CAAA,M,EAAA,EAAA,E,EAAS;AAAT,QAAA,CAAA,CAAA,EAAA,CAAA,GAAA,SAAA,CAAA,EAAA,CAAA;;;AAAc,aAAA,UAAU,CAAC,IAAX,CAAgB,CAAC,CAAC,MAAF,KAAa,CAAb,GAAiB,CAAC,CAAC,CAAD,CAAlB,GAAwB,CAAxC,CAAA;AAA0C,KAAzE;;AAEA,QAAI,QAAJ;;AACA,QAAI;AACF,MAAA,QAAQ,GAAG,UAAU,CAAC,OAAD,CAArB;AACD,KAFD,CAEE,OAAO,GAAP,EAAY;AACZ,MAAA,UAAU,CAAC,KAAX,CAAiB,GAAjB;AACA,aAAO,SAAP;AACD;;AAED,QAAI,CAAC,YAAA,CAAA,UAAA,CAAW,aAAX,CAAL,EAAgC;AAC9B,aAAO,SAAP;AACD;;AAED,WAAO,YAAA;AAAM,aAAA,aAAa,CAAC,OAAD,EAAb,QAAa,CAAb;AAAgC,KAA7C;AACD,GAhBM,CAAP;AAiBD;;AA5BD,OAAA,CAAA,gBAAA,GAAA,gBAAA","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\nvar isArray_1 = require(\"../util/isArray\");\nvar isFunction_1 = require(\"../util/isFunction\");\nvar map_1 = require(\"../operators/map\");\nfunction fromEventPattern(addHandler, removeHandler, resultSelector) {\n    if (resultSelector) {\n        return fromEventPattern(addHandler, removeHandler).pipe(map_1.map(function (args) { return isArray_1.isArray(args) ? resultSelector.apply(void 0, args) : resultSelector(args); }));\n    }\n    return new Observable_1.Observable(function (subscriber) {\n        var handler = function () {\n            var e = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                e[_i] = arguments[_i];\n            }\n            return subscriber.next(e.length === 1 ? e[0] : e);\n        };\n        var retValue;\n        try {\n            retValue = addHandler(handler);\n        }\n        catch (err) {\n            subscriber.error(err);\n            return undefined;\n        }\n        if (!isFunction_1.isFunction(removeHandler)) {\n            return undefined;\n        }\n        return function () { return removeHandler(handler, retValue); };\n    });\n}\nexports.fromEventPattern = fromEventPattern;\n//# sourceMappingURL=fromEventPattern.js.map"]},"metadata":{},"sourceType":"script"}