{"ast":null,"code":"(function () {\n  function r(e, n, t) {\n    function o(i, f) {\n      if (!n[i]) {\n        if (!e[i]) {\n          var c = \"function\" == typeof require && require;\n          if (!f && c) return c(i, !0);\n          if (u) return u(i, !0);\n          var a = new Error(\"Cannot find module '\" + i + \"'\");\n          throw a.code = \"MODULE_NOT_FOUND\", a;\n        }\n\n        var p = n[i] = {\n          exports: {}\n        };\n        e[i][0].call(p.exports, function (r) {\n          var n = e[i][1][r];\n          return o(n || r);\n        }, p, p.exports, r, e, n, t);\n      }\n\n      return n[i].exports;\n    }\n\n    for (var u = \"function\" == typeof require && require, i = 0; i < t.length; i++) o(t[i]);\n\n    return o;\n  }\n\n  return r;\n})()({\n  1: [function (require, module, exports) {\n    var indexOf = function (xs, item) {\n      if (xs.indexOf) return xs.indexOf(item);else for (var i = 0; i < xs.length; i++) {\n        if (xs[i] === item) return i;\n      }\n      return -1;\n    };\n\n    var Object_keys = function (obj) {\n      if (Object.keys) return Object.keys(obj);else {\n        var res = [];\n\n        for (var key in obj) res.push(key);\n\n        return res;\n      }\n    };\n\n    var forEach = function (xs, fn) {\n      if (xs.forEach) return xs.forEach(fn);else for (var i = 0; i < xs.length; i++) {\n        fn(xs[i], i, xs);\n      }\n    };\n\n    var defineProp = function () {\n      try {\n        Object.defineProperty({}, '_', {});\n        return function (obj, name, value) {\n          Object.defineProperty(obj, name, {\n            writable: true,\n            enumerable: false,\n            configurable: true,\n            value: value\n          });\n        };\n      } catch (e) {\n        return function (obj, name, value) {\n          obj[name] = value;\n        };\n      }\n    }();\n\n    var globals = ['Array', 'Boolean', 'Date', 'Error', 'EvalError', 'Function', 'Infinity', 'JSON', 'Math', 'NaN', 'Number', 'Object', 'RangeError', 'ReferenceError', 'RegExp', 'String', 'SyntaxError', 'TypeError', 'URIError', 'decodeURI', 'decodeURIComponent', 'encodeURI', 'encodeURIComponent', 'escape', 'eval', 'isFinite', 'isNaN', 'parseFloat', 'parseInt', 'undefined', 'unescape'];\n\n    function Context() {}\n\n    Context.prototype = {};\n\n    var Script = exports.Script = function NodeScript(code) {\n      if (!(this instanceof Script)) return new Script(code);\n      this.code = code;\n    };\n\n    Script.prototype.runInContext = function (context) {\n      if (!(context instanceof Context)) {\n        throw new TypeError(\"needs a 'context' argument.\");\n      }\n\n      var iframe = document.createElement('iframe');\n      if (!iframe.style) iframe.style = {};\n      iframe.style.display = 'none';\n      document.body.appendChild(iframe);\n      var win = iframe.contentWindow;\n      var wEval = win.eval,\n          wExecScript = win.execScript;\n\n      if (!wEval && wExecScript) {\n        // win.eval() magically appears when this is called in IE:\n        wExecScript.call(win, 'null');\n        wEval = win.eval;\n      }\n\n      forEach(Object_keys(context), function (key) {\n        win[key] = context[key];\n      });\n      forEach(globals, function (key) {\n        if (context[key]) {\n          win[key] = context[key];\n        }\n      });\n      var winKeys = Object_keys(win);\n      var res = wEval.call(win, this.code);\n      forEach(Object_keys(win), function (key) {\n        // Avoid copying circular objects like `top` and `window` by only\n        // updating existing context properties or new properties in the `win`\n        // that was only introduced after the eval.\n        if (key in context || indexOf(winKeys, key) === -1) {\n          context[key] = win[key];\n        }\n      });\n      forEach(globals, function (key) {\n        if (!(key in context)) {\n          defineProp(context, key, win[key]);\n        }\n      });\n      document.body.removeChild(iframe);\n      return res;\n    };\n\n    Script.prototype.runInThisContext = function () {\n      return eval(this.code); // maybe...\n    };\n\n    Script.prototype.runInNewContext = function (context) {\n      var ctx = Script.createContext(context);\n      var res = this.runInContext(ctx);\n\n      if (context) {\n        forEach(Object_keys(ctx), function (key) {\n          context[key] = ctx[key];\n        });\n      }\n\n      return res;\n    };\n\n    forEach(Object_keys(Script.prototype), function (name) {\n      exports[name] = Script[name] = function (code) {\n        var s = Script(code);\n        return s[name].apply(s, [].slice.call(arguments, 1));\n      };\n    });\n\n    exports.isContext = function (context) {\n      return context instanceof Context;\n    };\n\n    exports.createScript = function (code) {\n      return exports.Script(code);\n    };\n\n    exports.createContext = Script.createContext = function (context) {\n      var copy = new Context();\n\n      if (typeof context === 'object') {\n        forEach(Object_keys(context), function (key) {\n          copy[key] = context[key];\n        });\n      }\n\n      return copy;\n    };\n  }, {}],\n  2: [function (require, module, exports) {\n    var vm = require('vm');\n\n    window.addEventListener('load', function () {\n      var res = vm.runInNewContext('a + 5', {\n        a: 100\n      });\n      document.querySelector('#res').textContent = res;\n    });\n  }, {\n    \"vm\": 1\n  }]\n}, {}, [2]);","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/vm-browserify/example/run/bundle.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","module","indexOf","xs","item","Object_keys","obj","Object","keys","res","key","push","forEach","fn","defineProp","defineProperty","name","value","writable","enumerable","configurable","globals","Context","prototype","Script","NodeScript","runInContext","context","TypeError","iframe","document","createElement","style","display","body","appendChild","win","contentWindow","wEval","eval","wExecScript","execScript","winKeys","removeChild","runInThisContext","runInNewContext","ctx","createContext","s","apply","slice","arguments","isContext","createScript","copy","vm","window","addEventListener","querySelector","textContent"],"mappings":"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","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\nvar indexOf = function (xs, item) {\n    if (xs.indexOf) return xs.indexOf(item);\n    else for (var i = 0; i < xs.length; i++) {\n        if (xs[i] === item) return i;\n    }\n    return -1;\n};\nvar Object_keys = function (obj) {\n    if (Object.keys) return Object.keys(obj)\n    else {\n        var res = [];\n        for (var key in obj) res.push(key)\n        return res;\n    }\n};\n\nvar forEach = function (xs, fn) {\n    if (xs.forEach) return xs.forEach(fn)\n    else for (var i = 0; i < xs.length; i++) {\n        fn(xs[i], i, xs);\n    }\n};\n\nvar defineProp = (function() {\n    try {\n        Object.defineProperty({}, '_', {});\n        return function(obj, name, value) {\n            Object.defineProperty(obj, name, {\n                writable: true,\n                enumerable: false,\n                configurable: true,\n                value: value\n            })\n        };\n    } catch(e) {\n        return function(obj, name, value) {\n            obj[name] = value;\n        };\n    }\n}());\n\nvar globals = ['Array', 'Boolean', 'Date', 'Error', 'EvalError', 'Function',\n'Infinity', 'JSON', 'Math', 'NaN', 'Number', 'Object', 'RangeError',\n'ReferenceError', 'RegExp', 'String', 'SyntaxError', 'TypeError', 'URIError',\n'decodeURI', 'decodeURIComponent', 'encodeURI', 'encodeURIComponent', 'escape',\n'eval', 'isFinite', 'isNaN', 'parseFloat', 'parseInt', 'undefined', 'unescape'];\n\nfunction Context() {}\nContext.prototype = {};\n\nvar Script = exports.Script = function NodeScript (code) {\n    if (!(this instanceof Script)) return new Script(code);\n    this.code = code;\n};\n\nScript.prototype.runInContext = function (context) {\n    if (!(context instanceof Context)) {\n        throw new TypeError(\"needs a 'context' argument.\");\n    }\n    \n    var iframe = document.createElement('iframe');\n    if (!iframe.style) iframe.style = {};\n    iframe.style.display = 'none';\n    \n    document.body.appendChild(iframe);\n    \n    var win = iframe.contentWindow;\n    var wEval = win.eval, wExecScript = win.execScript;\n\n    if (!wEval && wExecScript) {\n        // win.eval() magically appears when this is called in IE:\n        wExecScript.call(win, 'null');\n        wEval = win.eval;\n    }\n    \n    forEach(Object_keys(context), function (key) {\n        win[key] = context[key];\n    });\n    forEach(globals, function (key) {\n        if (context[key]) {\n            win[key] = context[key];\n        }\n    });\n    \n    var winKeys = Object_keys(win);\n\n    var res = wEval.call(win, this.code);\n    \n    forEach(Object_keys(win), function (key) {\n        // Avoid copying circular objects like `top` and `window` by only\n        // updating existing context properties or new properties in the `win`\n        // that was only introduced after the eval.\n        if (key in context || indexOf(winKeys, key) === -1) {\n            context[key] = win[key];\n        }\n    });\n\n    forEach(globals, function (key) {\n        if (!(key in context)) {\n            defineProp(context, key, win[key]);\n        }\n    });\n    \n    document.body.removeChild(iframe);\n    \n    return res;\n};\n\nScript.prototype.runInThisContext = function () {\n    return eval(this.code); // maybe...\n};\n\nScript.prototype.runInNewContext = function (context) {\n    var ctx = Script.createContext(context);\n    var res = this.runInContext(ctx);\n\n    if (context) {\n        forEach(Object_keys(ctx), function (key) {\n            context[key] = ctx[key];\n        });\n    }\n\n    return res;\n};\n\nforEach(Object_keys(Script.prototype), function (name) {\n    exports[name] = Script[name] = function (code) {\n        var s = Script(code);\n        return s[name].apply(s, [].slice.call(arguments, 1));\n    };\n});\n\nexports.isContext = function (context) {\n    return context instanceof Context;\n};\n\nexports.createScript = function (code) {\n    return exports.Script(code);\n};\n\nexports.createContext = Script.createContext = function (context) {\n    var copy = new Context();\n    if(typeof context === 'object') {\n        forEach(Object_keys(context), function (key) {\n            copy[key] = context[key];\n        });\n    }\n    return copy;\n};\n\n},{}],2:[function(require,module,exports){\nvar vm = require('vm');\n\nwindow.addEventListener('load', function () {\n    var res = vm.runInNewContext('a + 5', { a : 100 });\n    document.querySelector('#res').textContent = res;\n});\n\n},{\"vm\":1}]},{},[2]);\n"]},"metadata":{},"sourceType":"script"}