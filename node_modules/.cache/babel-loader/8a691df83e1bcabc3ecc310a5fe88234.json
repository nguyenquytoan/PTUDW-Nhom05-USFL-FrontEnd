{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.default = _default;\n\nvar _assert = require('assert');\n\nvar _chalk = _interopRequireDefault(require('chalk'));\n\nvar _jestMessageUtil = require('jest-message-util');\n\nvar _jestUtil = require('jest-util');\n\nvar _queueRunner = _interopRequireDefault(require('../queueRunner'));\n\nvar _treeProcessor = _interopRequireDefault(require('../treeProcessor'));\n\nvar _isError = _interopRequireDefault(require('../isError'));\n\nvar _assertionErrorMessage = _interopRequireDefault(require('../assertionErrorMessage'));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar Symbol = global['jest-symbol-do-not-touch'] || global.Symbol;\nvar Symbol = global['jest-symbol-do-not-touch'] || global.Symbol;\nvar Promise = global[Symbol.for('jest-native-promise')] || global.Promise;\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'next', value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'throw', err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _default(j$) {\n  var _temp;\n\n  return _temp = class Env {\n    constructor(_options) {\n      _defineProperty(this, 'specFilter', void 0);\n\n      _defineProperty(this, 'catchExceptions', void 0);\n\n      _defineProperty(this, 'throwOnExpectationFailure', void 0);\n\n      _defineProperty(this, 'catchingExceptions', void 0);\n\n      _defineProperty(this, 'topSuite', void 0);\n\n      _defineProperty(this, 'fail', void 0);\n\n      _defineProperty(this, 'pending', void 0);\n\n      _defineProperty(this, 'afterAll', void 0);\n\n      _defineProperty(this, 'fit', void 0);\n\n      _defineProperty(this, 'throwingExpectationFailures', void 0);\n\n      _defineProperty(this, 'randomizeTests', void 0);\n\n      _defineProperty(this, 'randomTests', void 0);\n\n      _defineProperty(this, 'seed', void 0);\n\n      _defineProperty(this, 'execute', void 0);\n\n      _defineProperty(this, 'fdescribe', void 0);\n\n      _defineProperty(this, 'spyOn', void 0);\n\n      _defineProperty(this, 'beforeEach', void 0);\n\n      _defineProperty(this, 'afterEach', void 0);\n\n      _defineProperty(this, 'clearReporters', void 0);\n\n      _defineProperty(this, 'addReporter', void 0);\n\n      _defineProperty(this, 'it', void 0);\n\n      _defineProperty(this, 'xdescribe', void 0);\n\n      _defineProperty(this, 'xit', void 0);\n\n      _defineProperty(this, 'beforeAll', void 0);\n\n      _defineProperty(this, 'todo', void 0);\n\n      _defineProperty(this, 'provideFallbackReporter', void 0);\n\n      _defineProperty(this, 'allowRespy', void 0);\n\n      _defineProperty(this, 'describe', void 0);\n\n      let totalSpecsDefined = 0;\n      let catchExceptions = true;\n      const realSetTimeout = global.setTimeout;\n      const realClearTimeout = global.clearTimeout;\n      const runnableResources = {};\n      const currentlyExecutingSuites = [];\n      let currentSpec = null;\n      let throwOnExpectationFailure = false;\n      let random = false;\n      let seed = null;\n      let nextSpecId = 0;\n      let nextSuiteId = 0;\n\n      const getNextSpecId = function getNextSpecId() {\n        return 'spec' + nextSpecId++;\n      };\n\n      const getNextSuiteId = function getNextSuiteId() {\n        return 'suite' + nextSuiteId++;\n      };\n\n      const topSuite = new j$.Suite({\n        id: getNextSuiteId(),\n        description: '',\n\n        getTestPath() {\n          return j$.testPath;\n        }\n\n      });\n      let currentDeclarationSuite = topSuite;\n\n      const currentSuite = function currentSuite() {\n        return currentlyExecutingSuites[currentlyExecutingSuites.length - 1];\n      };\n\n      const currentRunnable = function currentRunnable() {\n        return currentSpec || currentSuite();\n      };\n\n      const reporter = new j$.ReportDispatcher(['jasmineStarted', 'jasmineDone', 'suiteStarted', 'suiteDone', 'specStarted', 'specDone']);\n\n      this.specFilter = function () {\n        return true;\n      };\n\n      const defaultResourcesForRunnable = function defaultResourcesForRunnable(id, _parentRunnableId) {\n        const resources = {\n          spies: []\n        };\n        runnableResources[id] = resources;\n      };\n\n      const clearResourcesForRunnable = function clearResourcesForRunnable(id) {\n        spyRegistry.clearSpies();\n        delete runnableResources[id];\n      };\n\n      const beforeAndAfterFns = function beforeAndAfterFns(suite) {\n        return function () {\n          let afters = [];\n          let befores = [];\n\n          while (suite) {\n            befores = befores.concat(suite.beforeFns);\n            afters = afters.concat(suite.afterFns);\n            suite = suite.parentSuite;\n          }\n\n          return {\n            befores: befores.reverse(),\n            afters\n          };\n        };\n      };\n\n      const getSpecName = function getSpecName(spec, suite) {\n        const fullName = [spec.description];\n        const suiteFullName = suite.getFullName();\n\n        if (suiteFullName !== '') {\n          fullName.unshift(suiteFullName);\n        }\n\n        return fullName.join(' ');\n      };\n\n      this.catchExceptions = function (value) {\n        catchExceptions = !!value;\n        return catchExceptions;\n      };\n\n      this.catchingExceptions = function () {\n        return catchExceptions;\n      };\n\n      this.throwOnExpectationFailure = function (value) {\n        throwOnExpectationFailure = !!value;\n      };\n\n      this.throwingExpectationFailures = function () {\n        return throwOnExpectationFailure;\n      };\n\n      this.randomizeTests = function (value) {\n        random = !!value;\n      };\n\n      this.randomTests = function () {\n        return random;\n      };\n\n      this.seed = function (value) {\n        if (value) {\n          seed = value;\n        }\n\n        return seed;\n      };\n\n      const queueRunnerFactory = options => {\n        options.clearTimeout = realClearTimeout;\n        options.fail = this.fail;\n        options.setTimeout = realSetTimeout;\n        return (0, _queueRunner.default)(options);\n      };\n\n      this.topSuite = function () {\n        return topSuite;\n      };\n\n      const uncaught = err => {\n        if (currentSpec) {\n          currentSpec.onException(err);\n          currentSpec.cancel();\n        } else {\n          console.error('Unhandled error');\n          console.error(err.stack);\n        }\n      };\n\n      let oldListenersException;\n      let oldListenersRejection;\n\n      const executionSetup = function executionSetup() {\n        // Need to ensure we are the only ones handling these exceptions.\n        oldListenersException = process.listeners('uncaughtException').slice();\n        oldListenersRejection = process.listeners('unhandledRejection').slice();\n        j$.process.removeAllListeners('uncaughtException');\n        j$.process.removeAllListeners('unhandledRejection');\n        j$.process.on('uncaughtException', uncaught);\n        j$.process.on('unhandledRejection', uncaught);\n      };\n\n      const executionTeardown = function executionTeardown() {\n        j$.process.removeListener('uncaughtException', uncaught);\n        j$.process.removeListener('unhandledRejection', uncaught); // restore previous exception handlers\n\n        oldListenersException.forEach(listener => {\n          j$.process.on('uncaughtException', listener);\n        });\n        oldListenersRejection.forEach(listener => {\n          j$.process.on('unhandledRejection', listener);\n        });\n      };\n\n      this.execute = /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (runnablesToRun, suiteTree = topSuite) {\n          if (!runnablesToRun) {\n            if (focusedRunnables.length) {\n              runnablesToRun = focusedRunnables;\n            } else {\n              runnablesToRun = [suiteTree.id];\n            }\n          }\n\n          if (currentlyExecutingSuites.length === 0) {\n            executionSetup();\n          }\n\n          const lastDeclarationSuite = currentDeclarationSuite;\n          yield (0, _treeProcessor.default)({\n            nodeComplete(suite) {\n              if (!suite.disabled) {\n                clearResourcesForRunnable(suite.id);\n              }\n\n              currentlyExecutingSuites.pop();\n\n              if (suite === topSuite) {\n                reporter.jasmineDone({\n                  failedExpectations: topSuite.result.failedExpectations\n                });\n              } else {\n                reporter.suiteDone(suite.getResult());\n              }\n            },\n\n            nodeStart(suite) {\n              currentlyExecutingSuites.push(suite);\n              defaultResourcesForRunnable(suite.id, suite.parentSuite && suite.parentSuite.id);\n\n              if (suite === topSuite) {\n                reporter.jasmineStarted({\n                  totalSpecsDefined\n                });\n              } else {\n                reporter.suiteStarted(suite.result);\n              }\n            },\n\n            queueRunnerFactory,\n            runnableIds: runnablesToRun,\n            tree: suiteTree\n          });\n          currentDeclarationSuite = lastDeclarationSuite;\n\n          if (currentlyExecutingSuites.length === 0) {\n            executionTeardown();\n          }\n        });\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }();\n\n      this.addReporter = function (reporterToAdd) {\n        reporter.addReporter(reporterToAdd);\n      };\n\n      this.provideFallbackReporter = function (reporterToAdd) {\n        reporter.provideFallbackReporter(reporterToAdd);\n      };\n\n      this.clearReporters = function () {\n        reporter.clearReporters();\n      };\n\n      const spyRegistry = new j$.SpyRegistry({\n        currentSpies() {\n          if (!currentRunnable()) {\n            throw new Error('Spies must be created in a before function or a spec');\n          }\n\n          return runnableResources[currentRunnable().id].spies;\n        }\n\n      });\n\n      this.allowRespy = function (allow) {\n        spyRegistry.allowRespy(allow);\n      };\n\n      this.spyOn = function (...args) {\n        return spyRegistry.spyOn.apply(spyRegistry, args);\n      };\n\n      const suiteFactory = function suiteFactory(description) {\n        const suite = new j$.Suite({\n          id: getNextSuiteId(),\n          description,\n          parentSuite: currentDeclarationSuite,\n          throwOnExpectationFailure,\n\n          getTestPath() {\n            return j$.testPath;\n          }\n\n        });\n        return suite;\n      };\n\n      this.describe = function (description, specDefinitions) {\n        const suite = suiteFactory(description);\n\n        if (specDefinitions === undefined) {\n          throw new Error(`Missing second argument. It must be a callback function.`);\n        }\n\n        if (typeof specDefinitions !== 'function') {\n          throw new Error(`Invalid second argument, ${specDefinitions}. It must be a callback function.`);\n        }\n\n        if (specDefinitions.length > 0) {\n          throw new Error('describe does not expect any arguments');\n        }\n\n        if (currentDeclarationSuite.markedPending) {\n          suite.pend();\n        }\n\n        if (currentDeclarationSuite.markedTodo) {\n          // @ts-ignore TODO Possible error: Suite does not have todo method\n          suite.todo();\n        }\n\n        addSpecsToSuite(suite, specDefinitions);\n        return suite;\n      };\n\n      this.xdescribe = function (description, specDefinitions) {\n        const suite = suiteFactory(description);\n        suite.pend();\n        addSpecsToSuite(suite, specDefinitions);\n        return suite;\n      };\n\n      const focusedRunnables = [];\n\n      this.fdescribe = function (description, specDefinitions) {\n        const suite = suiteFactory(description);\n        suite.isFocused = true;\n        focusedRunnables.push(suite.id);\n        unfocusAncestor();\n        addSpecsToSuite(suite, specDefinitions);\n        return suite;\n      };\n\n      const addSpecsToSuite = (suite, specDefinitions) => {\n        const parentSuite = currentDeclarationSuite;\n        parentSuite.addChild(suite);\n        currentDeclarationSuite = suite;\n        let declarationError = undefined;\n        let describeReturnValue = undefined;\n\n        try {\n          describeReturnValue = specDefinitions.call(suite);\n        } catch (e) {\n          declarationError = e;\n        } // TODO throw in Jest 25: declarationError = new Error\n\n\n        if ((0, _jestUtil.isPromise)(describeReturnValue)) {\n          console.log((0, _jestMessageUtil.formatExecError)(new Error(_chalk.default.yellow('Returning a Promise from \"describe\" is not supported. Tests must be defined synchronously.\\n' + 'Returning a value from \"describe\" will fail the test in a future version of Jest.')), {\n            rootDir: '',\n            testMatch: []\n          }, {\n            noStackTrace: false\n          }));\n        } else if (describeReturnValue !== undefined) {\n          console.log((0, _jestMessageUtil.formatExecError)(new Error(_chalk.default.yellow('A \"describe\" callback must not return a value.\\n' + 'Returning a value from \"describe\" will fail the test in a future version of Jest.')), {\n            rootDir: '',\n            testMatch: []\n          }, {\n            noStackTrace: false\n          }));\n        }\n\n        if (declarationError) {\n          this.it('encountered a declaration exception', () => {\n            throw declarationError;\n          });\n        }\n\n        currentDeclarationSuite = parentSuite;\n      };\n\n      function findFocusedAncestor(suite) {\n        while (suite) {\n          if (suite.isFocused) {\n            return suite.id;\n          }\n\n          suite = suite.parentSuite;\n        }\n\n        return null;\n      }\n\n      function unfocusAncestor() {\n        const focusedAncestor = findFocusedAncestor(currentDeclarationSuite);\n\n        if (focusedAncestor) {\n          for (let i = 0; i < focusedRunnables.length; i++) {\n            if (focusedRunnables[i] === focusedAncestor) {\n              focusedRunnables.splice(i, 1);\n              break;\n            }\n          }\n        }\n      }\n\n      const specFactory = (description, fn, suite, timeout) => {\n        totalSpecsDefined++;\n        const spec = new j$.Spec({\n          id: getNextSpecId(),\n          beforeAndAfterFns: beforeAndAfterFns(suite),\n          resultCallback: specResultCallback,\n\n          getSpecName(spec) {\n            return getSpecName(spec, suite);\n          },\n\n          getTestPath() {\n            return j$.testPath;\n          },\n\n          onStart: specStarted,\n          description,\n          queueRunnerFactory,\n\n          userContext() {\n            return suite.clonedSharedUserContext();\n          },\n\n          queueableFn: {\n            fn,\n\n            timeout() {\n              return timeout || j$._DEFAULT_TIMEOUT_INTERVAL;\n            }\n\n          },\n          throwOnExpectationFailure\n        });\n\n        if (!this.specFilter(spec)) {\n          spec.disable();\n        }\n\n        return spec;\n\n        function specResultCallback(result) {\n          clearResourcesForRunnable(spec.id);\n          currentSpec = null;\n          reporter.specDone(result);\n        }\n\n        function specStarted(spec) {\n          currentSpec = spec;\n          defaultResourcesForRunnable(spec.id, suite.id);\n          reporter.specStarted(spec.result);\n        }\n      };\n\n      this.it = function (description, fn, timeout) {\n        if (typeof description !== 'string') {\n          throw new Error(`Invalid first argument, ${description}. It must be a string.`);\n        }\n\n        if (fn === undefined) {\n          throw new Error('Missing second argument. It must be a callback function. Perhaps you want to use `test.todo` for a test placeholder.');\n        }\n\n        if (typeof fn !== 'function') {\n          throw new Error(`Invalid second argument, ${fn}. It must be a callback function.`);\n        }\n\n        const spec = specFactory(description, fn, currentDeclarationSuite, timeout);\n\n        if (currentDeclarationSuite.markedPending) {\n          spec.pend();\n        } // When a test is defined inside another, jasmine will not run it.\n        // This check throws an error to warn the user about the edge-case.\n\n\n        if (currentSpec !== null) {\n          throw new Error('Tests cannot be nested. Test `' + spec.description + '` cannot run because it is nested within `' + currentSpec.description + '`.');\n        }\n\n        currentDeclarationSuite.addChild(spec);\n        return spec;\n      };\n\n      this.xit = function (...args) {\n        const spec = this.it.apply(this, args);\n        spec.pend('Temporarily disabled with xit');\n        return spec;\n      };\n\n      this.todo = function () {\n        const description = arguments[0];\n\n        if (arguments.length !== 1 || typeof description !== 'string') {\n          throw new _jestUtil.ErrorWithStack('Todo must be called with only a description.', test.todo);\n        }\n\n        const spec = specFactory(description, () => {}, currentDeclarationSuite);\n        spec.todo();\n        currentDeclarationSuite.addChild(spec);\n        return spec;\n      };\n\n      this.fit = function (description, fn, timeout) {\n        const spec = specFactory(description, fn, currentDeclarationSuite, timeout);\n        currentDeclarationSuite.addChild(spec);\n        focusedRunnables.push(spec.id);\n        unfocusAncestor();\n        return spec;\n      };\n\n      this.beforeEach = function (beforeEachFunction, timeout) {\n        currentDeclarationSuite.beforeEach({\n          fn: beforeEachFunction,\n\n          timeout() {\n            return timeout || j$._DEFAULT_TIMEOUT_INTERVAL;\n          }\n\n        });\n      };\n\n      this.beforeAll = function (beforeAllFunction, timeout) {\n        currentDeclarationSuite.beforeAll({\n          fn: beforeAllFunction,\n\n          timeout() {\n            return timeout || j$._DEFAULT_TIMEOUT_INTERVAL;\n          }\n\n        });\n      };\n\n      this.afterEach = function (afterEachFunction, timeout) {\n        currentDeclarationSuite.afterEach({\n          fn: afterEachFunction,\n\n          timeout() {\n            return timeout || j$._DEFAULT_TIMEOUT_INTERVAL;\n          }\n\n        });\n      };\n\n      this.afterAll = function (afterAllFunction, timeout) {\n        currentDeclarationSuite.afterAll({\n          fn: afterAllFunction,\n\n          timeout() {\n            return timeout || j$._DEFAULT_TIMEOUT_INTERVAL;\n          }\n\n        });\n      };\n\n      this.pending = function (message) {\n        let fullMessage = j$.Spec.pendingSpecExceptionMessage;\n\n        if (message) {\n          fullMessage += message;\n        }\n\n        throw fullMessage;\n      };\n\n      this.fail = function (error) {\n        let checkIsError;\n        let message;\n\n        if (error instanceof _assert.AssertionError || error && error.name === _assert.AssertionError.name) {\n          checkIsError = false; // @ts-ignore TODO Possible error: j$.Spec does not have expand property\n\n          message = (0, _assertionErrorMessage.default)(error, {\n            expand: j$.Spec.expand\n          });\n        } else {\n          const check = (0, _isError.default)(error);\n          checkIsError = check.isError;\n          message = check.message;\n        }\n\n        const errorAsErrorObject = checkIsError ? error : new Error(message);\n        const runnable = currentRunnable();\n\n        if (!runnable) {\n          errorAsErrorObject.message = 'Caught error after test environment was torn down\\n\\n' + errorAsErrorObject.message;\n          throw errorAsErrorObject;\n        }\n\n        runnable.addExpectationResult(false, {\n          matcherName: '',\n          passed: false,\n          expected: '',\n          actual: '',\n          message,\n          error: errorAsErrorObject\n        });\n      };\n    }\n\n  }, _temp;\n}","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/jest-jasmine2/build/jasmine/Env.js"],"names":["Object","defineProperty","exports","value","default","_default","_assert","require","_chalk","_interopRequireDefault","_jestMessageUtil","_jestUtil","_queueRunner","_treeProcessor","_isError","_assertionErrorMessage","obj","__esModule","Symbol","global","Promise","for","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","_defineProperty","enumerable","configurable","writable","j$","_temp","Env","constructor","_options","totalSpecsDefined","catchExceptions","realSetTimeout","setTimeout","realClearTimeout","clearTimeout","runnableResources","currentlyExecutingSuites","currentSpec","throwOnExpectationFailure","random","seed","nextSpecId","nextSuiteId","getNextSpecId","getNextSuiteId","topSuite","Suite","id","description","getTestPath","testPath","currentDeclarationSuite","currentSuite","length","currentRunnable","reporter","ReportDispatcher","specFilter","defaultResourcesForRunnable","_parentRunnableId","resources","spies","clearResourcesForRunnable","spyRegistry","clearSpies","beforeAndAfterFns","suite","afters","befores","concat","beforeFns","afterFns","parentSuite","reverse","getSpecName","spec","fullName","suiteFullName","getFullName","unshift","join","catchingExceptions","throwingExpectationFailures","randomizeTests","randomTests","queueRunnerFactory","options","fail","uncaught","onException","cancel","console","stack","oldListenersException","oldListenersRejection","executionSetup","process","listeners","slice","removeAllListeners","on","executionTeardown","removeListener","forEach","listener","execute","_ref","runnablesToRun","suiteTree","focusedRunnables","lastDeclarationSuite","nodeComplete","disabled","pop","jasmineDone","failedExpectations","result","suiteDone","getResult","nodeStart","push","jasmineStarted","suiteStarted","runnableIds","tree","_x","addReporter","reporterToAdd","provideFallbackReporter","clearReporters","SpyRegistry","currentSpies","Error","allowRespy","allow","spyOn","suiteFactory","describe","specDefinitions","markedPending","pend","markedTodo","todo","addSpecsToSuite","xdescribe","fdescribe","isFocused","unfocusAncestor","addChild","declarationError","describeReturnValue","call","e","isPromise","log","formatExecError","yellow","rootDir","testMatch","noStackTrace","it","findFocusedAncestor","focusedAncestor","i","splice","specFactory","timeout","Spec","resultCallback","specResultCallback","onStart","specStarted","userContext","clonedSharedUserContext","queueableFn","_DEFAULT_TIMEOUT_INTERVAL","disable","specDone","xit","ErrorWithStack","test","fit","beforeEach","beforeEachFunction","beforeAll","beforeAllFunction","afterEach","afterEachFunction","afterAll","afterAllFunction","pending","message","fullMessage","pendingSpecExceptionMessage","checkIsError","AssertionError","name","expand","check","isError","errorAsErrorObject","runnable","addExpectationResult","matcherName","passed","expected","actual"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,OAAR,GAAkBC,QAAlB;;AAEA,IAAIC,OAAO,GAAGC,OAAO,CAAC,QAAD,CAArB;;AAEA,IAAIC,MAAM,GAAGC,sBAAsB,CAACF,OAAO,CAAC,OAAD,CAAR,CAAnC;;AAEA,IAAIG,gBAAgB,GAAGH,OAAO,CAAC,mBAAD,CAA9B;;AAEA,IAAII,SAAS,GAAGJ,OAAO,CAAC,WAAD,CAAvB;;AAEA,IAAIK,YAAY,GAAGH,sBAAsB,CAACF,OAAO,CAAC,gBAAD,CAAR,CAAzC;;AAEA,IAAIM,cAAc,GAAGJ,sBAAsB,CAACF,OAAO,CAAC,kBAAD,CAAR,CAA3C;;AAEA,IAAIO,QAAQ,GAAGL,sBAAsB,CAACF,OAAO,CAAC,YAAD,CAAR,CAArC;;AAEA,IAAIQ,sBAAsB,GAAGN,sBAAsB,CACjDF,OAAO,CAAC,0BAAD,CAD0C,CAAnD;;AAIA,SAASE,sBAAT,CAAgCO,GAAhC,EAAqC;AACnC,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAACZ,IAAAA,OAAO,EAAEY;AAAV,GAArC;AACD;;AAED,IAAIE,MAAM,GAAGC,MAAM,CAAC,0BAAD,CAAN,IAAsCA,MAAM,CAACD,MAA1D;AACA,IAAIA,MAAM,GAAGC,MAAM,CAAC,0BAAD,CAAN,IAAsCA,MAAM,CAACD,MAA1D;AACA,IAAIE,OAAO,GAAGD,MAAM,CAACD,MAAM,CAACG,GAAP,CAAW,qBAAX,CAAD,CAAN,IAA6CF,MAAM,CAACC,OAAlE;;AAEA,SAASE,kBAAT,CAA4BC,GAA5B,EAAiCC,OAAjC,EAA0CC,MAA1C,EAAkDC,KAAlD,EAAyDC,MAAzD,EAAiEC,GAAjE,EAAsEC,GAAtE,EAA2E;AACzE,MAAI;AACF,QAAIC,IAAI,GAAGP,GAAG,CAACK,GAAD,CAAH,CAASC,GAAT,CAAX;AACA,QAAI1B,KAAK,GAAG2B,IAAI,CAAC3B,KAAjB;AACD,GAHD,CAGE,OAAO4B,KAAP,EAAc;AACdN,IAAAA,MAAM,CAACM,KAAD,CAAN;AACA;AACD;;AACD,MAAID,IAAI,CAACE,IAAT,EAAe;AACbR,IAAAA,OAAO,CAACrB,KAAD,CAAP;AACD,GAFD,MAEO;AACLiB,IAAAA,OAAO,CAACI,OAAR,CAAgBrB,KAAhB,EAAuB8B,IAAvB,CAA4BP,KAA5B,EAAmCC,MAAnC;AACD;AACF;;AAED,SAASO,iBAAT,CAA2BC,EAA3B,EAA+B;AAC7B,SAAO,YAAW;AAChB,QAAIC,IAAI,GAAG,IAAX;AAAA,QACEC,IAAI,GAAGC,SADT;AAEA,WAAO,IAAIlB,OAAJ,CAAY,UAASI,OAAT,EAAkBC,MAAlB,EAA0B;AAC3C,UAAIF,GAAG,GAAGY,EAAE,CAACI,KAAH,CAASH,IAAT,EAAeC,IAAf,CAAV;;AACA,eAASX,KAAT,CAAevB,KAAf,EAAsB;AACpBmB,QAAAA,kBAAkB,CAACC,GAAD,EAAMC,OAAN,EAAeC,MAAf,EAAuBC,KAAvB,EAA8BC,MAA9B,EAAsC,MAAtC,EAA8CxB,KAA9C,CAAlB;AACD;;AACD,eAASwB,MAAT,CAAgBa,GAAhB,EAAqB;AACnBlB,QAAAA,kBAAkB,CAACC,GAAD,EAAMC,OAAN,EAAeC,MAAf,EAAuBC,KAAvB,EAA8BC,MAA9B,EAAsC,OAAtC,EAA+Ca,GAA/C,CAAlB;AACD;;AACDd,MAAAA,KAAK,CAACe,SAAD,CAAL;AACD,KATM,CAAP;AAUD,GAbD;AAcD;;AAED,SAASC,eAAT,CAAyB1B,GAAzB,EAA8BY,GAA9B,EAAmCzB,KAAnC,EAA0C;AACxC,MAAIyB,GAAG,IAAIZ,GAAX,EAAgB;AACdhB,IAAAA,MAAM,CAACC,cAAP,CAAsBe,GAAtB,EAA2BY,GAA3B,EAAgC;AAC9BzB,MAAAA,KAAK,EAAEA,KADuB;AAE9BwC,MAAAA,UAAU,EAAE,IAFkB;AAG9BC,MAAAA,YAAY,EAAE,IAHgB;AAI9BC,MAAAA,QAAQ,EAAE;AAJoB,KAAhC;AAMD,GAPD,MAOO;AACL7B,IAAAA,GAAG,CAACY,GAAD,CAAH,GAAWzB,KAAX;AACD;;AACD,SAAOa,GAAP;AACD;;AAED,SAASX,QAAT,CAAkByC,EAAlB,EAAsB;AACpB,MAAIC,KAAJ;;AAEA,SACGA,KAAK,GAAG,MAAMC,GAAN,CAAU;AACjBC,IAAAA,WAAW,CAACC,QAAD,EAAW;AACpBR,MAAAA,eAAe,CAAC,IAAD,EAAO,YAAP,EAAqB,KAAK,CAA1B,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,iBAAP,EAA0B,KAAK,CAA/B,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,2BAAP,EAAoC,KAAK,CAAzC,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,oBAAP,EAA6B,KAAK,CAAlC,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,UAAP,EAAmB,KAAK,CAAxB,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,MAAP,EAAe,KAAK,CAApB,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,SAAP,EAAkB,KAAK,CAAvB,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,UAAP,EAAmB,KAAK,CAAxB,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,KAAP,EAAc,KAAK,CAAnB,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,6BAAP,EAAsC,KAAK,CAA3C,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,gBAAP,EAAyB,KAAK,CAA9B,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,aAAP,EAAsB,KAAK,CAA3B,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,MAAP,EAAe,KAAK,CAApB,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,SAAP,EAAkB,KAAK,CAAvB,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,WAAP,EAAoB,KAAK,CAAzB,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,OAAP,EAAgB,KAAK,CAArB,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,YAAP,EAAqB,KAAK,CAA1B,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,WAAP,EAAoB,KAAK,CAAzB,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,gBAAP,EAAyB,KAAK,CAA9B,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,aAAP,EAAsB,KAAK,CAA3B,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,IAAP,EAAa,KAAK,CAAlB,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,WAAP,EAAoB,KAAK,CAAzB,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,KAAP,EAAc,KAAK,CAAnB,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,WAAP,EAAoB,KAAK,CAAzB,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,MAAP,EAAe,KAAK,CAApB,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,yBAAP,EAAkC,KAAK,CAAvC,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,YAAP,EAAqB,KAAK,CAA1B,CAAf;;AAEAA,MAAAA,eAAe,CAAC,IAAD,EAAO,UAAP,EAAmB,KAAK,CAAxB,CAAf;;AAEA,UAAIS,iBAAiB,GAAG,CAAxB;AACA,UAAIC,eAAe,GAAG,IAAtB;AACA,YAAMC,cAAc,GAAGlC,MAAM,CAACmC,UAA9B;AACA,YAAMC,gBAAgB,GAAGpC,MAAM,CAACqC,YAAhC;AACA,YAAMC,iBAAiB,GAAG,EAA1B;AACA,YAAMC,wBAAwB,GAAG,EAAjC;AACA,UAAIC,WAAW,GAAG,IAAlB;AACA,UAAIC,yBAAyB,GAAG,KAAhC;AACA,UAAIC,MAAM,GAAG,KAAb;AACA,UAAIC,IAAI,GAAG,IAAX;AACA,UAAIC,UAAU,GAAG,CAAjB;AACA,UAAIC,WAAW,GAAG,CAAlB;;AAEA,YAAMC,aAAa,GAAG,SAASA,aAAT,GAAyB;AAC7C,eAAO,SAASF,UAAU,EAA1B;AACD,OAFD;;AAIA,YAAMG,cAAc,GAAG,SAASA,cAAT,GAA0B;AAC/C,eAAO,UAAUF,WAAW,EAA5B;AACD,OAFD;;AAIA,YAAMG,QAAQ,GAAG,IAAIrB,EAAE,CAACsB,KAAP,CAAa;AAC5BC,QAAAA,EAAE,EAAEH,cAAc,EADU;AAE5BI,QAAAA,WAAW,EAAE,EAFe;;AAI5BC,QAAAA,WAAW,GAAG;AACZ,iBAAOzB,EAAE,CAAC0B,QAAV;AACD;;AAN2B,OAAb,CAAjB;AAQA,UAAIC,uBAAuB,GAAGN,QAA9B;;AAEA,YAAMO,YAAY,GAAG,SAASA,YAAT,GAAwB;AAC3C,eAAOhB,wBAAwB,CAACA,wBAAwB,CAACiB,MAAzB,GAAkC,CAAnC,CAA/B;AACD,OAFD;;AAIA,YAAMC,eAAe,GAAG,SAASA,eAAT,GAA2B;AACjD,eAAOjB,WAAW,IAAIe,YAAY,EAAlC;AACD,OAFD;;AAIA,YAAMG,QAAQ,GAAG,IAAI/B,EAAE,CAACgC,gBAAP,CAAwB,CACvC,gBADuC,EAEvC,aAFuC,EAGvC,cAHuC,EAIvC,WAJuC,EAKvC,aALuC,EAMvC,UANuC,CAAxB,CAAjB;;AASA,WAAKC,UAAL,GAAkB,YAAW;AAC3B,eAAO,IAAP;AACD,OAFD;;AAIA,YAAMC,2BAA2B,GAAG,SAASA,2BAAT,CAClCX,EADkC,EAElCY,iBAFkC,EAGlC;AACA,cAAMC,SAAS,GAAG;AAChBC,UAAAA,KAAK,EAAE;AADS,SAAlB;AAGA1B,QAAAA,iBAAiB,CAACY,EAAD,CAAjB,GAAwBa,SAAxB;AACD,OARD;;AAUA,YAAME,yBAAyB,GAAG,SAASA,yBAAT,CAChCf,EADgC,EAEhC;AACAgB,QAAAA,WAAW,CAACC,UAAZ;AACA,eAAO7B,iBAAiB,CAACY,EAAD,CAAxB;AACD,OALD;;AAOA,YAAMkB,iBAAiB,GAAG,SAASA,iBAAT,CAA2BC,KAA3B,EAAkC;AAC1D,eAAO,YAAW;AAChB,cAAIC,MAAM,GAAG,EAAb;AACA,cAAIC,OAAO,GAAG,EAAd;;AAEA,iBAAOF,KAAP,EAAc;AACZE,YAAAA,OAAO,GAAGA,OAAO,CAACC,MAAR,CAAeH,KAAK,CAACI,SAArB,CAAV;AACAH,YAAAA,MAAM,GAAGA,MAAM,CAACE,MAAP,CAAcH,KAAK,CAACK,QAApB,CAAT;AACAL,YAAAA,KAAK,GAAGA,KAAK,CAACM,WAAd;AACD;;AAED,iBAAO;AACLJ,YAAAA,OAAO,EAAEA,OAAO,CAACK,OAAR,EADJ;AAELN,YAAAA;AAFK,WAAP;AAID,SAdD;AAeD,OAhBD;;AAkBA,YAAMO,WAAW,GAAG,SAASA,WAAT,CAAqBC,IAArB,EAA2BT,KAA3B,EAAkC;AACpD,cAAMU,QAAQ,GAAG,CAACD,IAAI,CAAC3B,WAAN,CAAjB;AACA,cAAM6B,aAAa,GAAGX,KAAK,CAACY,WAAN,EAAtB;;AAEA,YAAID,aAAa,KAAK,EAAtB,EAA0B;AACxBD,UAAAA,QAAQ,CAACG,OAAT,CAAiBF,aAAjB;AACD;;AAED,eAAOD,QAAQ,CAACI,IAAT,CAAc,GAAd,CAAP;AACD,OATD;;AAWA,WAAKlD,eAAL,GAAuB,UAASjD,KAAT,EAAgB;AACrCiD,QAAAA,eAAe,GAAG,CAAC,CAACjD,KAApB;AACA,eAAOiD,eAAP;AACD,OAHD;;AAKA,WAAKmD,kBAAL,GAA0B,YAAW;AACnC,eAAOnD,eAAP;AACD,OAFD;;AAIA,WAAKQ,yBAAL,GAAiC,UAASzD,KAAT,EAAgB;AAC/CyD,QAAAA,yBAAyB,GAAG,CAAC,CAACzD,KAA9B;AACD,OAFD;;AAIA,WAAKqG,2BAAL,GAAmC,YAAW;AAC5C,eAAO5C,yBAAP;AACD,OAFD;;AAIA,WAAK6C,cAAL,GAAsB,UAAStG,KAAT,EAAgB;AACpC0D,QAAAA,MAAM,GAAG,CAAC,CAAC1D,KAAX;AACD,OAFD;;AAIA,WAAKuG,WAAL,GAAmB,YAAW;AAC5B,eAAO7C,MAAP;AACD,OAFD;;AAIA,WAAKC,IAAL,GAAY,UAAS3D,KAAT,EAAgB;AAC1B,YAAIA,KAAJ,EAAW;AACT2D,UAAAA,IAAI,GAAG3D,KAAP;AACD;;AAED,eAAO2D,IAAP;AACD,OAND;;AAQA,YAAM6C,kBAAkB,GAAGC,OAAO,IAAI;AACpCA,QAAAA,OAAO,CAACpD,YAAR,GAAuBD,gBAAvB;AACAqD,QAAAA,OAAO,CAACC,IAAR,GAAe,KAAKA,IAApB;AACAD,QAAAA,OAAO,CAACtD,UAAR,GAAqBD,cAArB;AACA,eAAO,CAAC,GAAGzC,YAAY,CAACR,OAAjB,EAA0BwG,OAA1B,CAAP;AACD,OALD;;AAOA,WAAKzC,QAAL,GAAgB,YAAW;AACzB,eAAOA,QAAP;AACD,OAFD;;AAIA,YAAM2C,QAAQ,GAAGtE,GAAG,IAAI;AACtB,YAAImB,WAAJ,EAAiB;AACfA,UAAAA,WAAW,CAACoD,WAAZ,CAAwBvE,GAAxB;AACAmB,UAAAA,WAAW,CAACqD,MAAZ;AACD,SAHD,MAGO;AACLC,UAAAA,OAAO,CAAClF,KAAR,CAAc,iBAAd;AACAkF,UAAAA,OAAO,CAAClF,KAAR,CAAcS,GAAG,CAAC0E,KAAlB;AACD;AACF,OARD;;AAUA,UAAIC,qBAAJ;AACA,UAAIC,qBAAJ;;AAEA,YAAMC,cAAc,GAAG,SAASA,cAAT,GAA0B;AAC/C;AACAF,QAAAA,qBAAqB,GAAGG,OAAO,CAC5BC,SADqB,CACX,mBADW,EAErBC,KAFqB,EAAxB;AAGAJ,QAAAA,qBAAqB,GAAGE,OAAO,CAC5BC,SADqB,CACX,oBADW,EAErBC,KAFqB,EAAxB;AAGA1E,QAAAA,EAAE,CAACwE,OAAH,CAAWG,kBAAX,CAA8B,mBAA9B;AACA3E,QAAAA,EAAE,CAACwE,OAAH,CAAWG,kBAAX,CAA8B,oBAA9B;AACA3E,QAAAA,EAAE,CAACwE,OAAH,CAAWI,EAAX,CAAc,mBAAd,EAAmCZ,QAAnC;AACAhE,QAAAA,EAAE,CAACwE,OAAH,CAAWI,EAAX,CAAc,oBAAd,EAAoCZ,QAApC;AACD,OAZD;;AAcA,YAAMa,iBAAiB,GAAG,SAASA,iBAAT,GAA6B;AACrD7E,QAAAA,EAAE,CAACwE,OAAH,CAAWM,cAAX,CAA0B,mBAA1B,EAA+Cd,QAA/C;AACAhE,QAAAA,EAAE,CAACwE,OAAH,CAAWM,cAAX,CAA0B,oBAA1B,EAAgDd,QAAhD,EAFqD,CAEM;;AAE3DK,QAAAA,qBAAqB,CAACU,OAAtB,CAA8BC,QAAQ,IAAI;AACxChF,UAAAA,EAAE,CAACwE,OAAH,CAAWI,EAAX,CAAc,mBAAd,EAAmCI,QAAnC;AACD,SAFD;AAGAV,QAAAA,qBAAqB,CAACS,OAAtB,CAA8BC,QAAQ,IAAI;AACxChF,UAAAA,EAAE,CAACwE,OAAH,CAAWI,EAAX,CAAc,oBAAd,EAAoCI,QAApC;AACD,SAFD;AAGD,OAVD;;AAYA,WAAKC,OAAL,GACE,aACC,YAAW;AACV,YAAIC,IAAI,GAAG9F,iBAAiB,CAAC,WAC3B+F,cAD2B,EAE3BC,SAAS,GAAG/D,QAFe,EAG3B;AACA,cAAI,CAAC8D,cAAL,EAAqB;AACnB,gBAAIE,gBAAgB,CAACxD,MAArB,EAA6B;AAC3BsD,cAAAA,cAAc,GAAGE,gBAAjB;AACD,aAFD,MAEO;AACLF,cAAAA,cAAc,GAAG,CAACC,SAAS,CAAC7D,EAAX,CAAjB;AACD;AACF;;AAED,cAAIX,wBAAwB,CAACiB,MAAzB,KAAoC,CAAxC,EAA2C;AACzC0C,YAAAA,cAAc;AACf;;AAED,gBAAMe,oBAAoB,GAAG3D,uBAA7B;AACA,gBAAM,CAAC,GAAG5D,cAAc,CAACT,OAAnB,EAA4B;AAChCiI,YAAAA,YAAY,CAAC7C,KAAD,EAAQ;AAClB,kBAAI,CAACA,KAAK,CAAC8C,QAAX,EAAqB;AACnBlD,gBAAAA,yBAAyB,CAACI,KAAK,CAACnB,EAAP,CAAzB;AACD;;AAEDX,cAAAA,wBAAwB,CAAC6E,GAAzB;;AAEA,kBAAI/C,KAAK,KAAKrB,QAAd,EAAwB;AACtBU,gBAAAA,QAAQ,CAAC2D,WAAT,CAAqB;AACnBC,kBAAAA,kBAAkB,EAAEtE,QAAQ,CAACuE,MAAT,CAAgBD;AADjB,iBAArB;AAGD,eAJD,MAIO;AACL5D,gBAAAA,QAAQ,CAAC8D,SAAT,CAAmBnD,KAAK,CAACoD,SAAN,EAAnB;AACD;AACF,aAf+B;;AAiBhCC,YAAAA,SAAS,CAACrD,KAAD,EAAQ;AACf9B,cAAAA,wBAAwB,CAACoF,IAAzB,CAA8BtD,KAA9B;AACAR,cAAAA,2BAA2B,CACzBQ,KAAK,CAACnB,EADmB,EAEzBmB,KAAK,CAACM,WAAN,IAAqBN,KAAK,CAACM,WAAN,CAAkBzB,EAFd,CAA3B;;AAKA,kBAAImB,KAAK,KAAKrB,QAAd,EAAwB;AACtBU,gBAAAA,QAAQ,CAACkE,cAAT,CAAwB;AACtB5F,kBAAAA;AADsB,iBAAxB;AAGD,eAJD,MAIO;AACL0B,gBAAAA,QAAQ,CAACmE,YAAT,CAAsBxD,KAAK,CAACkD,MAA5B;AACD;AACF,aA/B+B;;AAiChC/B,YAAAA,kBAjCgC;AAkChCsC,YAAAA,WAAW,EAAEhB,cAlCmB;AAmChCiB,YAAAA,IAAI,EAAEhB;AAnC0B,WAA5B,CAAN;AAqCAzD,UAAAA,uBAAuB,GAAG2D,oBAA1B;;AAEA,cAAI1E,wBAAwB,CAACiB,MAAzB,KAAoC,CAAxC,EAA2C;AACzCgD,YAAAA,iBAAiB;AAClB;AACF,SA3D2B,CAA5B;;AA6DA,eAAO,UAASwB,EAAT,EAAa;AAClB,iBAAOnB,IAAI,CAACzF,KAAL,CAAW,IAAX,EAAiBD,SAAjB,CAAP;AACD,SAFD;AAGD,OAjED,EAFF;;AAqEA,WAAK8G,WAAL,GAAmB,UAASC,aAAT,EAAwB;AACzCxE,QAAAA,QAAQ,CAACuE,WAAT,CAAqBC,aAArB;AACD,OAFD;;AAIA,WAAKC,uBAAL,GAA+B,UAASD,aAAT,EAAwB;AACrDxE,QAAAA,QAAQ,CAACyE,uBAAT,CAAiCD,aAAjC;AACD,OAFD;;AAIA,WAAKE,cAAL,GAAsB,YAAW;AAC/B1E,QAAAA,QAAQ,CAAC0E,cAAT;AACD,OAFD;;AAIA,YAAMlE,WAAW,GAAG,IAAIvC,EAAE,CAAC0G,WAAP,CAAmB;AACrCC,QAAAA,YAAY,GAAG;AACb,cAAI,CAAC7E,eAAe,EAApB,EAAwB;AACtB,kBAAM,IAAI8E,KAAJ,CACJ,sDADI,CAAN;AAGD;;AAED,iBAAOjG,iBAAiB,CAACmB,eAAe,GAAGP,EAAnB,CAAjB,CAAwCc,KAA/C;AACD;;AAToC,OAAnB,CAApB;;AAYA,WAAKwE,UAAL,GAAkB,UAASC,KAAT,EAAgB;AAChCvE,QAAAA,WAAW,CAACsE,UAAZ,CAAuBC,KAAvB;AACD,OAFD;;AAIA,WAAKC,KAAL,GAAa,UAAS,GAAGxH,IAAZ,EAAkB;AAC7B,eAAOgD,WAAW,CAACwE,KAAZ,CAAkBtH,KAAlB,CAAwB8C,WAAxB,EAAqChD,IAArC,CAAP;AACD,OAFD;;AAIA,YAAMyH,YAAY,GAAG,SAASA,YAAT,CAAsBxF,WAAtB,EAAmC;AACtD,cAAMkB,KAAK,GAAG,IAAI1C,EAAE,CAACsB,KAAP,CAAa;AACzBC,UAAAA,EAAE,EAAEH,cAAc,EADO;AAEzBI,UAAAA,WAFyB;AAGzBwB,UAAAA,WAAW,EAAErB,uBAHY;AAIzBb,UAAAA,yBAJyB;;AAMzBW,UAAAA,WAAW,GAAG;AACZ,mBAAOzB,EAAE,CAAC0B,QAAV;AACD;;AARwB,SAAb,CAAd;AAUA,eAAOgB,KAAP;AACD,OAZD;;AAcA,WAAKuE,QAAL,GAAgB,UAASzF,WAAT,EAAsB0F,eAAtB,EAAuC;AACrD,cAAMxE,KAAK,GAAGsE,YAAY,CAACxF,WAAD,CAA1B;;AAEA,YAAI0F,eAAe,KAAKvH,SAAxB,EAAmC;AACjC,gBAAM,IAAIiH,KAAJ,CACH,0DADG,CAAN;AAGD;;AAED,YAAI,OAAOM,eAAP,KAA2B,UAA/B,EAA2C;AACzC,gBAAM,IAAIN,KAAJ,CACH,4BAA2BM,eAAgB,mCADxC,CAAN;AAGD;;AAED,YAAIA,eAAe,CAACrF,MAAhB,GAAyB,CAA7B,EAAgC;AAC9B,gBAAM,IAAI+E,KAAJ,CAAU,wCAAV,CAAN;AACD;;AAED,YAAIjF,uBAAuB,CAACwF,aAA5B,EAA2C;AACzCzE,UAAAA,KAAK,CAAC0E,IAAN;AACD;;AAED,YAAIzF,uBAAuB,CAAC0F,UAA5B,EAAwC;AACtC;AACA3E,UAAAA,KAAK,CAAC4E,IAAN;AACD;;AAEDC,QAAAA,eAAe,CAAC7E,KAAD,EAAQwE,eAAR,CAAf;AACA,eAAOxE,KAAP;AACD,OA9BD;;AAgCA,WAAK8E,SAAL,GAAiB,UAAShG,WAAT,EAAsB0F,eAAtB,EAAuC;AACtD,cAAMxE,KAAK,GAAGsE,YAAY,CAACxF,WAAD,CAA1B;AACAkB,QAAAA,KAAK,CAAC0E,IAAN;AACAG,QAAAA,eAAe,CAAC7E,KAAD,EAAQwE,eAAR,CAAf;AACA,eAAOxE,KAAP;AACD,OALD;;AAOA,YAAM2C,gBAAgB,GAAG,EAAzB;;AAEA,WAAKoC,SAAL,GAAiB,UAASjG,WAAT,EAAsB0F,eAAtB,EAAuC;AACtD,cAAMxE,KAAK,GAAGsE,YAAY,CAACxF,WAAD,CAA1B;AACAkB,QAAAA,KAAK,CAACgF,SAAN,GAAkB,IAAlB;AACArC,QAAAA,gBAAgB,CAACW,IAAjB,CAAsBtD,KAAK,CAACnB,EAA5B;AACAoG,QAAAA,eAAe;AACfJ,QAAAA,eAAe,CAAC7E,KAAD,EAAQwE,eAAR,CAAf;AACA,eAAOxE,KAAP;AACD,OAPD;;AASA,YAAM6E,eAAe,GAAG,CAAC7E,KAAD,EAAQwE,eAAR,KAA4B;AAClD,cAAMlE,WAAW,GAAGrB,uBAApB;AACAqB,QAAAA,WAAW,CAAC4E,QAAZ,CAAqBlF,KAArB;AACAf,QAAAA,uBAAuB,GAAGe,KAA1B;AACA,YAAImF,gBAAgB,GAAGlI,SAAvB;AACA,YAAImI,mBAAmB,GAAGnI,SAA1B;;AAEA,YAAI;AACFmI,UAAAA,mBAAmB,GAAGZ,eAAe,CAACa,IAAhB,CAAqBrF,KAArB,CAAtB;AACD,SAFD,CAEE,OAAOsF,CAAP,EAAU;AACVH,UAAAA,gBAAgB,GAAGG,CAAnB;AACD,SAXiD,CAWhD;;;AAEF,YAAI,CAAC,GAAGnK,SAAS,CAACoK,SAAd,EAAyBH,mBAAzB,CAAJ,EAAmD;AACjD3D,UAAAA,OAAO,CAAC+D,GAAR,CACE,CAAC,GAAGtK,gBAAgB,CAACuK,eAArB,EACE,IAAIvB,KAAJ,CACElJ,MAAM,CAACJ,OAAP,CAAe8K,MAAf,CACE,iGACE,mFAFJ,CADF,CADF,EAOE;AACEC,YAAAA,OAAO,EAAE,EADX;AAEEC,YAAAA,SAAS,EAAE;AAFb,WAPF,EAWE;AACEC,YAAAA,YAAY,EAAE;AADhB,WAXF,CADF;AAiBD,SAlBD,MAkBO,IAAIT,mBAAmB,KAAKnI,SAA5B,EAAuC;AAC5CwE,UAAAA,OAAO,CAAC+D,GAAR,CACE,CAAC,GAAGtK,gBAAgB,CAACuK,eAArB,EACE,IAAIvB,KAAJ,CACElJ,MAAM,CAACJ,OAAP,CAAe8K,MAAf,CACE,qDACE,mFAFJ,CADF,CADF,EAOE;AACEC,YAAAA,OAAO,EAAE,EADX;AAEEC,YAAAA,SAAS,EAAE;AAFb,WAPF,EAWE;AACEC,YAAAA,YAAY,EAAE;AADhB,WAXF,CADF;AAiBD;;AAED,YAAIV,gBAAJ,EAAsB;AACpB,eAAKW,EAAL,CAAQ,qCAAR,EAA+C,MAAM;AACnD,kBAAMX,gBAAN;AACD,WAFD;AAGD;;AAEDlG,QAAAA,uBAAuB,GAAGqB,WAA1B;AACD,OA1DD;;AA4DA,eAASyF,mBAAT,CAA6B/F,KAA7B,EAAoC;AAClC,eAAOA,KAAP,EAAc;AACZ,cAAIA,KAAK,CAACgF,SAAV,EAAqB;AACnB,mBAAOhF,KAAK,CAACnB,EAAb;AACD;;AAEDmB,UAAAA,KAAK,GAAGA,KAAK,CAACM,WAAd;AACD;;AAED,eAAO,IAAP;AACD;;AAED,eAAS2E,eAAT,GAA2B;AACzB,cAAMe,eAAe,GAAGD,mBAAmB,CAAC9G,uBAAD,CAA3C;;AAEA,YAAI+G,eAAJ,EAAqB;AACnB,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGtD,gBAAgB,CAACxD,MAArC,EAA6C8G,CAAC,EAA9C,EAAkD;AAChD,gBAAItD,gBAAgB,CAACsD,CAAD,CAAhB,KAAwBD,eAA5B,EAA6C;AAC3CrD,cAAAA,gBAAgB,CAACuD,MAAjB,CAAwBD,CAAxB,EAA2B,CAA3B;AACA;AACD;AACF;AACF;AACF;;AAED,YAAME,WAAW,GAAG,CAACrH,WAAD,EAAcnC,EAAd,EAAkBqD,KAAlB,EAAyBoG,OAAzB,KAAqC;AACvDzI,QAAAA,iBAAiB;AACjB,cAAM8C,IAAI,GAAG,IAAInD,EAAE,CAAC+I,IAAP,CAAY;AACvBxH,UAAAA,EAAE,EAAEJ,aAAa,EADM;AAEvBsB,UAAAA,iBAAiB,EAAEA,iBAAiB,CAACC,KAAD,CAFb;AAGvBsG,UAAAA,cAAc,EAAEC,kBAHO;;AAKvB/F,UAAAA,WAAW,CAACC,IAAD,EAAO;AAChB,mBAAOD,WAAW,CAACC,IAAD,EAAOT,KAAP,CAAlB;AACD,WAPsB;;AASvBjB,UAAAA,WAAW,GAAG;AACZ,mBAAOzB,EAAE,CAAC0B,QAAV;AACD,WAXsB;;AAavBwH,UAAAA,OAAO,EAAEC,WAbc;AAcvB3H,UAAAA,WAduB;AAevBqC,UAAAA,kBAfuB;;AAiBvBuF,UAAAA,WAAW,GAAG;AACZ,mBAAO1G,KAAK,CAAC2G,uBAAN,EAAP;AACD,WAnBsB;;AAqBvBC,UAAAA,WAAW,EAAE;AACXjK,YAAAA,EADW;;AAGXyJ,YAAAA,OAAO,GAAG;AACR,qBAAOA,OAAO,IAAI9I,EAAE,CAACuJ,yBAArB;AACD;;AALU,WArBU;AA4BvBzI,UAAAA;AA5BuB,SAAZ,CAAb;;AA+BA,YAAI,CAAC,KAAKmB,UAAL,CAAgBkB,IAAhB,CAAL,EAA4B;AAC1BA,UAAAA,IAAI,CAACqG,OAAL;AACD;;AAED,eAAOrG,IAAP;;AAEA,iBAAS8F,kBAAT,CAA4BrD,MAA5B,EAAoC;AAClCtD,UAAAA,yBAAyB,CAACa,IAAI,CAAC5B,EAAN,CAAzB;AACAV,UAAAA,WAAW,GAAG,IAAd;AACAkB,UAAAA,QAAQ,CAAC0H,QAAT,CAAkB7D,MAAlB;AACD;;AAED,iBAASuD,WAAT,CAAqBhG,IAArB,EAA2B;AACzBtC,UAAAA,WAAW,GAAGsC,IAAd;AACAjB,UAAAA,2BAA2B,CAACiB,IAAI,CAAC5B,EAAN,EAAUmB,KAAK,CAACnB,EAAhB,CAA3B;AACAQ,UAAAA,QAAQ,CAACoH,WAAT,CAAqBhG,IAAI,CAACyC,MAA1B;AACD;AACF,OAlDD;;AAoDA,WAAK4C,EAAL,GAAU,UAAShH,WAAT,EAAsBnC,EAAtB,EAA0ByJ,OAA1B,EAAmC;AAC3C,YAAI,OAAOtH,WAAP,KAAuB,QAA3B,EAAqC;AACnC,gBAAM,IAAIoF,KAAJ,CACH,2BAA0BpF,WAAY,wBADnC,CAAN;AAGD;;AAED,YAAInC,EAAE,KAAKM,SAAX,EAAsB;AACpB,gBAAM,IAAIiH,KAAJ,CACJ,sHADI,CAAN;AAGD;;AAED,YAAI,OAAOvH,EAAP,KAAc,UAAlB,EAA8B;AAC5B,gBAAM,IAAIuH,KAAJ,CACH,4BAA2BvH,EAAG,mCAD3B,CAAN;AAGD;;AAED,cAAM8D,IAAI,GAAG0F,WAAW,CACtBrH,WADsB,EAEtBnC,EAFsB,EAGtBsC,uBAHsB,EAItBmH,OAJsB,CAAxB;;AAOA,YAAInH,uBAAuB,CAACwF,aAA5B,EAA2C;AACzChE,UAAAA,IAAI,CAACiE,IAAL;AACD,SA5B0C,CA4BzC;AACF;;;AAEA,YAAIvG,WAAW,KAAK,IAApB,EAA0B;AACxB,gBAAM,IAAI+F,KAAJ,CACJ,mCACEzD,IAAI,CAAC3B,WADP,GAEE,4CAFF,GAGEX,WAAW,CAACW,WAHd,GAIE,IALE,CAAN;AAOD;;AAEDG,QAAAA,uBAAuB,CAACiG,QAAxB,CAAiCzE,IAAjC;AACA,eAAOA,IAAP;AACD,OA3CD;;AA6CA,WAAKuG,GAAL,GAAW,UAAS,GAAGnK,IAAZ,EAAkB;AAC3B,cAAM4D,IAAI,GAAG,KAAKqF,EAAL,CAAQ/I,KAAR,CAAc,IAAd,EAAoBF,IAApB,CAAb;AACA4D,QAAAA,IAAI,CAACiE,IAAL,CAAU,+BAAV;AACA,eAAOjE,IAAP;AACD,OAJD;;AAMA,WAAKmE,IAAL,GAAY,YAAW;AACrB,cAAM9F,WAAW,GAAGhC,SAAS,CAAC,CAAD,CAA7B;;AAEA,YAAIA,SAAS,CAACqC,MAAV,KAAqB,CAArB,IAA0B,OAAOL,WAAP,KAAuB,QAArD,EAA+D;AAC7D,gBAAM,IAAI3D,SAAS,CAAC8L,cAAd,CACJ,8CADI,EAEJC,IAAI,CAACtC,IAFD,CAAN;AAID;;AAED,cAAMnE,IAAI,GAAG0F,WAAW,CACtBrH,WADsB,EAEtB,MAAM,CAAE,CAFc,EAGtBG,uBAHsB,CAAxB;AAKAwB,QAAAA,IAAI,CAACmE,IAAL;AACA3F,QAAAA,uBAAuB,CAACiG,QAAxB,CAAiCzE,IAAjC;AACA,eAAOA,IAAP;AACD,OAlBD;;AAoBA,WAAK0G,GAAL,GAAW,UAASrI,WAAT,EAAsBnC,EAAtB,EAA0ByJ,OAA1B,EAAmC;AAC5C,cAAM3F,IAAI,GAAG0F,WAAW,CACtBrH,WADsB,EAEtBnC,EAFsB,EAGtBsC,uBAHsB,EAItBmH,OAJsB,CAAxB;AAMAnH,QAAAA,uBAAuB,CAACiG,QAAxB,CAAiCzE,IAAjC;AACAkC,QAAAA,gBAAgB,CAACW,IAAjB,CAAsB7C,IAAI,CAAC5B,EAA3B;AACAoG,QAAAA,eAAe;AACf,eAAOxE,IAAP;AACD,OAXD;;AAaA,WAAK2G,UAAL,GAAkB,UAASC,kBAAT,EAA6BjB,OAA7B,EAAsC;AACtDnH,QAAAA,uBAAuB,CAACmI,UAAxB,CAAmC;AACjCzK,UAAAA,EAAE,EAAE0K,kBAD6B;;AAGjCjB,UAAAA,OAAO,GAAG;AACR,mBAAOA,OAAO,IAAI9I,EAAE,CAACuJ,yBAArB;AACD;;AALgC,SAAnC;AAOD,OARD;;AAUA,WAAKS,SAAL,GAAiB,UAASC,iBAAT,EAA4BnB,OAA5B,EAAqC;AACpDnH,QAAAA,uBAAuB,CAACqI,SAAxB,CAAkC;AAChC3K,UAAAA,EAAE,EAAE4K,iBAD4B;;AAGhCnB,UAAAA,OAAO,GAAG;AACR,mBAAOA,OAAO,IAAI9I,EAAE,CAACuJ,yBAArB;AACD;;AAL+B,SAAlC;AAOD,OARD;;AAUA,WAAKW,SAAL,GAAiB,UAASC,iBAAT,EAA4BrB,OAA5B,EAAqC;AACpDnH,QAAAA,uBAAuB,CAACuI,SAAxB,CAAkC;AAChC7K,UAAAA,EAAE,EAAE8K,iBAD4B;;AAGhCrB,UAAAA,OAAO,GAAG;AACR,mBAAOA,OAAO,IAAI9I,EAAE,CAACuJ,yBAArB;AACD;;AAL+B,SAAlC;AAOD,OARD;;AAUA,WAAKa,QAAL,GAAgB,UAASC,gBAAT,EAA2BvB,OAA3B,EAAoC;AAClDnH,QAAAA,uBAAuB,CAACyI,QAAxB,CAAiC;AAC/B/K,UAAAA,EAAE,EAAEgL,gBAD2B;;AAG/BvB,UAAAA,OAAO,GAAG;AACR,mBAAOA,OAAO,IAAI9I,EAAE,CAACuJ,yBAArB;AACD;;AAL8B,SAAjC;AAOD,OARD;;AAUA,WAAKe,OAAL,GAAe,UAASC,OAAT,EAAkB;AAC/B,YAAIC,WAAW,GAAGxK,EAAE,CAAC+I,IAAH,CAAQ0B,2BAA1B;;AAEA,YAAIF,OAAJ,EAAa;AACXC,UAAAA,WAAW,IAAID,OAAf;AACD;;AAED,cAAMC,WAAN;AACD,OARD;;AAUA,WAAKzG,IAAL,GAAY,UAAS9E,KAAT,EAAgB;AAC1B,YAAIyL,YAAJ;AACA,YAAIH,OAAJ;;AAEA,YACEtL,KAAK,YAAYzB,OAAO,CAACmN,cAAzB,IACC1L,KAAK,IAAIA,KAAK,CAAC2L,IAAN,KAAepN,OAAO,CAACmN,cAAR,CAAuBC,IAFlD,EAGE;AACAF,UAAAA,YAAY,GAAG,KAAf,CADA,CACsB;;AAEtBH,UAAAA,OAAO,GAAG,CAAC,GAAGtM,sBAAsB,CAACX,OAA3B,EAAoC2B,KAApC,EAA2C;AACnD4L,YAAAA,MAAM,EAAE7K,EAAE,CAAC+I,IAAH,CAAQ8B;AADmC,WAA3C,CAAV;AAGD,SATD,MASO;AACL,gBAAMC,KAAK,GAAG,CAAC,GAAG9M,QAAQ,CAACV,OAAb,EAAsB2B,KAAtB,CAAd;AACAyL,UAAAA,YAAY,GAAGI,KAAK,CAACC,OAArB;AACAR,UAAAA,OAAO,GAAGO,KAAK,CAACP,OAAhB;AACD;;AAED,cAAMS,kBAAkB,GAAGN,YAAY,GAAGzL,KAAH,GAAW,IAAI2H,KAAJ,CAAU2D,OAAV,CAAlD;AACA,cAAMU,QAAQ,GAAGnJ,eAAe,EAAhC;;AAEA,YAAI,CAACmJ,QAAL,EAAe;AACbD,UAAAA,kBAAkB,CAACT,OAAnB,GACE,0DACAS,kBAAkB,CAACT,OAFrB;AAGA,gBAAMS,kBAAN;AACD;;AAEDC,QAAAA,QAAQ,CAACC,oBAAT,CAA8B,KAA9B,EAAqC;AACnCC,UAAAA,WAAW,EAAE,EADsB;AAEnCC,UAAAA,MAAM,EAAE,KAF2B;AAGnCC,UAAAA,QAAQ,EAAE,EAHyB;AAInCC,UAAAA,MAAM,EAAE,EAJ2B;AAKnCf,UAAAA,OALmC;AAMnCtL,UAAAA,KAAK,EAAE+L;AAN4B,SAArC;AAQD,OArCD;AAsCD;;AAzsBgB,GAAnB,EA2sBA/K,KA5sBF;AA8sBD","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.default = _default;\n\nvar _assert = require('assert');\n\nvar _chalk = _interopRequireDefault(require('chalk'));\n\nvar _jestMessageUtil = require('jest-message-util');\n\nvar _jestUtil = require('jest-util');\n\nvar _queueRunner = _interopRequireDefault(require('../queueRunner'));\n\nvar _treeProcessor = _interopRequireDefault(require('../treeProcessor'));\n\nvar _isError = _interopRequireDefault(require('../isError'));\n\nvar _assertionErrorMessage = _interopRequireDefault(\n  require('../assertionErrorMessage')\n);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {default: obj};\n}\n\nvar Symbol = global['jest-symbol-do-not-touch'] || global.Symbol;\nvar Symbol = global['jest-symbol-do-not-touch'] || global.Symbol;\nvar Promise = global[Symbol.for('jest-native-promise')] || global.Promise;\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function() {\n    var self = this,\n      args = arguments;\n    return new Promise(function(resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'next', value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'throw', err);\n      }\n      _next(undefined);\n    });\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nfunction _default(j$) {\n  var _temp;\n\n  return (\n    (_temp = class Env {\n      constructor(_options) {\n        _defineProperty(this, 'specFilter', void 0);\n\n        _defineProperty(this, 'catchExceptions', void 0);\n\n        _defineProperty(this, 'throwOnExpectationFailure', void 0);\n\n        _defineProperty(this, 'catchingExceptions', void 0);\n\n        _defineProperty(this, 'topSuite', void 0);\n\n        _defineProperty(this, 'fail', void 0);\n\n        _defineProperty(this, 'pending', void 0);\n\n        _defineProperty(this, 'afterAll', void 0);\n\n        _defineProperty(this, 'fit', void 0);\n\n        _defineProperty(this, 'throwingExpectationFailures', void 0);\n\n        _defineProperty(this, 'randomizeTests', void 0);\n\n        _defineProperty(this, 'randomTests', void 0);\n\n        _defineProperty(this, 'seed', void 0);\n\n        _defineProperty(this, 'execute', void 0);\n\n        _defineProperty(this, 'fdescribe', void 0);\n\n        _defineProperty(this, 'spyOn', void 0);\n\n        _defineProperty(this, 'beforeEach', void 0);\n\n        _defineProperty(this, 'afterEach', void 0);\n\n        _defineProperty(this, 'clearReporters', void 0);\n\n        _defineProperty(this, 'addReporter', void 0);\n\n        _defineProperty(this, 'it', void 0);\n\n        _defineProperty(this, 'xdescribe', void 0);\n\n        _defineProperty(this, 'xit', void 0);\n\n        _defineProperty(this, 'beforeAll', void 0);\n\n        _defineProperty(this, 'todo', void 0);\n\n        _defineProperty(this, 'provideFallbackReporter', void 0);\n\n        _defineProperty(this, 'allowRespy', void 0);\n\n        _defineProperty(this, 'describe', void 0);\n\n        let totalSpecsDefined = 0;\n        let catchExceptions = true;\n        const realSetTimeout = global.setTimeout;\n        const realClearTimeout = global.clearTimeout;\n        const runnableResources = {};\n        const currentlyExecutingSuites = [];\n        let currentSpec = null;\n        let throwOnExpectationFailure = false;\n        let random = false;\n        let seed = null;\n        let nextSpecId = 0;\n        let nextSuiteId = 0;\n\n        const getNextSpecId = function getNextSpecId() {\n          return 'spec' + nextSpecId++;\n        };\n\n        const getNextSuiteId = function getNextSuiteId() {\n          return 'suite' + nextSuiteId++;\n        };\n\n        const topSuite = new j$.Suite({\n          id: getNextSuiteId(),\n          description: '',\n\n          getTestPath() {\n            return j$.testPath;\n          }\n        });\n        let currentDeclarationSuite = topSuite;\n\n        const currentSuite = function currentSuite() {\n          return currentlyExecutingSuites[currentlyExecutingSuites.length - 1];\n        };\n\n        const currentRunnable = function currentRunnable() {\n          return currentSpec || currentSuite();\n        };\n\n        const reporter = new j$.ReportDispatcher([\n          'jasmineStarted',\n          'jasmineDone',\n          'suiteStarted',\n          'suiteDone',\n          'specStarted',\n          'specDone'\n        ]);\n\n        this.specFilter = function() {\n          return true;\n        };\n\n        const defaultResourcesForRunnable = function defaultResourcesForRunnable(\n          id,\n          _parentRunnableId\n        ) {\n          const resources = {\n            spies: []\n          };\n          runnableResources[id] = resources;\n        };\n\n        const clearResourcesForRunnable = function clearResourcesForRunnable(\n          id\n        ) {\n          spyRegistry.clearSpies();\n          delete runnableResources[id];\n        };\n\n        const beforeAndAfterFns = function beforeAndAfterFns(suite) {\n          return function() {\n            let afters = [];\n            let befores = [];\n\n            while (suite) {\n              befores = befores.concat(suite.beforeFns);\n              afters = afters.concat(suite.afterFns);\n              suite = suite.parentSuite;\n            }\n\n            return {\n              befores: befores.reverse(),\n              afters\n            };\n          };\n        };\n\n        const getSpecName = function getSpecName(spec, suite) {\n          const fullName = [spec.description];\n          const suiteFullName = suite.getFullName();\n\n          if (suiteFullName !== '') {\n            fullName.unshift(suiteFullName);\n          }\n\n          return fullName.join(' ');\n        };\n\n        this.catchExceptions = function(value) {\n          catchExceptions = !!value;\n          return catchExceptions;\n        };\n\n        this.catchingExceptions = function() {\n          return catchExceptions;\n        };\n\n        this.throwOnExpectationFailure = function(value) {\n          throwOnExpectationFailure = !!value;\n        };\n\n        this.throwingExpectationFailures = function() {\n          return throwOnExpectationFailure;\n        };\n\n        this.randomizeTests = function(value) {\n          random = !!value;\n        };\n\n        this.randomTests = function() {\n          return random;\n        };\n\n        this.seed = function(value) {\n          if (value) {\n            seed = value;\n          }\n\n          return seed;\n        };\n\n        const queueRunnerFactory = options => {\n          options.clearTimeout = realClearTimeout;\n          options.fail = this.fail;\n          options.setTimeout = realSetTimeout;\n          return (0, _queueRunner.default)(options);\n        };\n\n        this.topSuite = function() {\n          return topSuite;\n        };\n\n        const uncaught = err => {\n          if (currentSpec) {\n            currentSpec.onException(err);\n            currentSpec.cancel();\n          } else {\n            console.error('Unhandled error');\n            console.error(err.stack);\n          }\n        };\n\n        let oldListenersException;\n        let oldListenersRejection;\n\n        const executionSetup = function executionSetup() {\n          // Need to ensure we are the only ones handling these exceptions.\n          oldListenersException = process\n            .listeners('uncaughtException')\n            .slice();\n          oldListenersRejection = process\n            .listeners('unhandledRejection')\n            .slice();\n          j$.process.removeAllListeners('uncaughtException');\n          j$.process.removeAllListeners('unhandledRejection');\n          j$.process.on('uncaughtException', uncaught);\n          j$.process.on('unhandledRejection', uncaught);\n        };\n\n        const executionTeardown = function executionTeardown() {\n          j$.process.removeListener('uncaughtException', uncaught);\n          j$.process.removeListener('unhandledRejection', uncaught); // restore previous exception handlers\n\n          oldListenersException.forEach(listener => {\n            j$.process.on('uncaughtException', listener);\n          });\n          oldListenersRejection.forEach(listener => {\n            j$.process.on('unhandledRejection', listener);\n          });\n        };\n\n        this.execute =\n          /*#__PURE__*/\n          (function() {\n            var _ref = _asyncToGenerator(function*(\n              runnablesToRun,\n              suiteTree = topSuite\n            ) {\n              if (!runnablesToRun) {\n                if (focusedRunnables.length) {\n                  runnablesToRun = focusedRunnables;\n                } else {\n                  runnablesToRun = [suiteTree.id];\n                }\n              }\n\n              if (currentlyExecutingSuites.length === 0) {\n                executionSetup();\n              }\n\n              const lastDeclarationSuite = currentDeclarationSuite;\n              yield (0, _treeProcessor.default)({\n                nodeComplete(suite) {\n                  if (!suite.disabled) {\n                    clearResourcesForRunnable(suite.id);\n                  }\n\n                  currentlyExecutingSuites.pop();\n\n                  if (suite === topSuite) {\n                    reporter.jasmineDone({\n                      failedExpectations: topSuite.result.failedExpectations\n                    });\n                  } else {\n                    reporter.suiteDone(suite.getResult());\n                  }\n                },\n\n                nodeStart(suite) {\n                  currentlyExecutingSuites.push(suite);\n                  defaultResourcesForRunnable(\n                    suite.id,\n                    suite.parentSuite && suite.parentSuite.id\n                  );\n\n                  if (suite === topSuite) {\n                    reporter.jasmineStarted({\n                      totalSpecsDefined\n                    });\n                  } else {\n                    reporter.suiteStarted(suite.result);\n                  }\n                },\n\n                queueRunnerFactory,\n                runnableIds: runnablesToRun,\n                tree: suiteTree\n              });\n              currentDeclarationSuite = lastDeclarationSuite;\n\n              if (currentlyExecutingSuites.length === 0) {\n                executionTeardown();\n              }\n            });\n\n            return function(_x) {\n              return _ref.apply(this, arguments);\n            };\n          })();\n\n        this.addReporter = function(reporterToAdd) {\n          reporter.addReporter(reporterToAdd);\n        };\n\n        this.provideFallbackReporter = function(reporterToAdd) {\n          reporter.provideFallbackReporter(reporterToAdd);\n        };\n\n        this.clearReporters = function() {\n          reporter.clearReporters();\n        };\n\n        const spyRegistry = new j$.SpyRegistry({\n          currentSpies() {\n            if (!currentRunnable()) {\n              throw new Error(\n                'Spies must be created in a before function or a spec'\n              );\n            }\n\n            return runnableResources[currentRunnable().id].spies;\n          }\n        });\n\n        this.allowRespy = function(allow) {\n          spyRegistry.allowRespy(allow);\n        };\n\n        this.spyOn = function(...args) {\n          return spyRegistry.spyOn.apply(spyRegistry, args);\n        };\n\n        const suiteFactory = function suiteFactory(description) {\n          const suite = new j$.Suite({\n            id: getNextSuiteId(),\n            description,\n            parentSuite: currentDeclarationSuite,\n            throwOnExpectationFailure,\n\n            getTestPath() {\n              return j$.testPath;\n            }\n          });\n          return suite;\n        };\n\n        this.describe = function(description, specDefinitions) {\n          const suite = suiteFactory(description);\n\n          if (specDefinitions === undefined) {\n            throw new Error(\n              `Missing second argument. It must be a callback function.`\n            );\n          }\n\n          if (typeof specDefinitions !== 'function') {\n            throw new Error(\n              `Invalid second argument, ${specDefinitions}. It must be a callback function.`\n            );\n          }\n\n          if (specDefinitions.length > 0) {\n            throw new Error('describe does not expect any arguments');\n          }\n\n          if (currentDeclarationSuite.markedPending) {\n            suite.pend();\n          }\n\n          if (currentDeclarationSuite.markedTodo) {\n            // @ts-ignore TODO Possible error: Suite does not have todo method\n            suite.todo();\n          }\n\n          addSpecsToSuite(suite, specDefinitions);\n          return suite;\n        };\n\n        this.xdescribe = function(description, specDefinitions) {\n          const suite = suiteFactory(description);\n          suite.pend();\n          addSpecsToSuite(suite, specDefinitions);\n          return suite;\n        };\n\n        const focusedRunnables = [];\n\n        this.fdescribe = function(description, specDefinitions) {\n          const suite = suiteFactory(description);\n          suite.isFocused = true;\n          focusedRunnables.push(suite.id);\n          unfocusAncestor();\n          addSpecsToSuite(suite, specDefinitions);\n          return suite;\n        };\n\n        const addSpecsToSuite = (suite, specDefinitions) => {\n          const parentSuite = currentDeclarationSuite;\n          parentSuite.addChild(suite);\n          currentDeclarationSuite = suite;\n          let declarationError = undefined;\n          let describeReturnValue = undefined;\n\n          try {\n            describeReturnValue = specDefinitions.call(suite);\n          } catch (e) {\n            declarationError = e;\n          } // TODO throw in Jest 25: declarationError = new Error\n\n          if ((0, _jestUtil.isPromise)(describeReturnValue)) {\n            console.log(\n              (0, _jestMessageUtil.formatExecError)(\n                new Error(\n                  _chalk.default.yellow(\n                    'Returning a Promise from \"describe\" is not supported. Tests must be defined synchronously.\\n' +\n                      'Returning a value from \"describe\" will fail the test in a future version of Jest.'\n                  )\n                ),\n                {\n                  rootDir: '',\n                  testMatch: []\n                },\n                {\n                  noStackTrace: false\n                }\n              )\n            );\n          } else if (describeReturnValue !== undefined) {\n            console.log(\n              (0, _jestMessageUtil.formatExecError)(\n                new Error(\n                  _chalk.default.yellow(\n                    'A \"describe\" callback must not return a value.\\n' +\n                      'Returning a value from \"describe\" will fail the test in a future version of Jest.'\n                  )\n                ),\n                {\n                  rootDir: '',\n                  testMatch: []\n                },\n                {\n                  noStackTrace: false\n                }\n              )\n            );\n          }\n\n          if (declarationError) {\n            this.it('encountered a declaration exception', () => {\n              throw declarationError;\n            });\n          }\n\n          currentDeclarationSuite = parentSuite;\n        };\n\n        function findFocusedAncestor(suite) {\n          while (suite) {\n            if (suite.isFocused) {\n              return suite.id;\n            }\n\n            suite = suite.parentSuite;\n          }\n\n          return null;\n        }\n\n        function unfocusAncestor() {\n          const focusedAncestor = findFocusedAncestor(currentDeclarationSuite);\n\n          if (focusedAncestor) {\n            for (let i = 0; i < focusedRunnables.length; i++) {\n              if (focusedRunnables[i] === focusedAncestor) {\n                focusedRunnables.splice(i, 1);\n                break;\n              }\n            }\n          }\n        }\n\n        const specFactory = (description, fn, suite, timeout) => {\n          totalSpecsDefined++;\n          const spec = new j$.Spec({\n            id: getNextSpecId(),\n            beforeAndAfterFns: beforeAndAfterFns(suite),\n            resultCallback: specResultCallback,\n\n            getSpecName(spec) {\n              return getSpecName(spec, suite);\n            },\n\n            getTestPath() {\n              return j$.testPath;\n            },\n\n            onStart: specStarted,\n            description,\n            queueRunnerFactory,\n\n            userContext() {\n              return suite.clonedSharedUserContext();\n            },\n\n            queueableFn: {\n              fn,\n\n              timeout() {\n                return timeout || j$._DEFAULT_TIMEOUT_INTERVAL;\n              }\n            },\n            throwOnExpectationFailure\n          });\n\n          if (!this.specFilter(spec)) {\n            spec.disable();\n          }\n\n          return spec;\n\n          function specResultCallback(result) {\n            clearResourcesForRunnable(spec.id);\n            currentSpec = null;\n            reporter.specDone(result);\n          }\n\n          function specStarted(spec) {\n            currentSpec = spec;\n            defaultResourcesForRunnable(spec.id, suite.id);\n            reporter.specStarted(spec.result);\n          }\n        };\n\n        this.it = function(description, fn, timeout) {\n          if (typeof description !== 'string') {\n            throw new Error(\n              `Invalid first argument, ${description}. It must be a string.`\n            );\n          }\n\n          if (fn === undefined) {\n            throw new Error(\n              'Missing second argument. It must be a callback function. Perhaps you want to use `test.todo` for a test placeholder.'\n            );\n          }\n\n          if (typeof fn !== 'function') {\n            throw new Error(\n              `Invalid second argument, ${fn}. It must be a callback function.`\n            );\n          }\n\n          const spec = specFactory(\n            description,\n            fn,\n            currentDeclarationSuite,\n            timeout\n          );\n\n          if (currentDeclarationSuite.markedPending) {\n            spec.pend();\n          } // When a test is defined inside another, jasmine will not run it.\n          // This check throws an error to warn the user about the edge-case.\n\n          if (currentSpec !== null) {\n            throw new Error(\n              'Tests cannot be nested. Test `' +\n                spec.description +\n                '` cannot run because it is nested within `' +\n                currentSpec.description +\n                '`.'\n            );\n          }\n\n          currentDeclarationSuite.addChild(spec);\n          return spec;\n        };\n\n        this.xit = function(...args) {\n          const spec = this.it.apply(this, args);\n          spec.pend('Temporarily disabled with xit');\n          return spec;\n        };\n\n        this.todo = function() {\n          const description = arguments[0];\n\n          if (arguments.length !== 1 || typeof description !== 'string') {\n            throw new _jestUtil.ErrorWithStack(\n              'Todo must be called with only a description.',\n              test.todo\n            );\n          }\n\n          const spec = specFactory(\n            description,\n            () => {},\n            currentDeclarationSuite\n          );\n          spec.todo();\n          currentDeclarationSuite.addChild(spec);\n          return spec;\n        };\n\n        this.fit = function(description, fn, timeout) {\n          const spec = specFactory(\n            description,\n            fn,\n            currentDeclarationSuite,\n            timeout\n          );\n          currentDeclarationSuite.addChild(spec);\n          focusedRunnables.push(spec.id);\n          unfocusAncestor();\n          return spec;\n        };\n\n        this.beforeEach = function(beforeEachFunction, timeout) {\n          currentDeclarationSuite.beforeEach({\n            fn: beforeEachFunction,\n\n            timeout() {\n              return timeout || j$._DEFAULT_TIMEOUT_INTERVAL;\n            }\n          });\n        };\n\n        this.beforeAll = function(beforeAllFunction, timeout) {\n          currentDeclarationSuite.beforeAll({\n            fn: beforeAllFunction,\n\n            timeout() {\n              return timeout || j$._DEFAULT_TIMEOUT_INTERVAL;\n            }\n          });\n        };\n\n        this.afterEach = function(afterEachFunction, timeout) {\n          currentDeclarationSuite.afterEach({\n            fn: afterEachFunction,\n\n            timeout() {\n              return timeout || j$._DEFAULT_TIMEOUT_INTERVAL;\n            }\n          });\n        };\n\n        this.afterAll = function(afterAllFunction, timeout) {\n          currentDeclarationSuite.afterAll({\n            fn: afterAllFunction,\n\n            timeout() {\n              return timeout || j$._DEFAULT_TIMEOUT_INTERVAL;\n            }\n          });\n        };\n\n        this.pending = function(message) {\n          let fullMessage = j$.Spec.pendingSpecExceptionMessage;\n\n          if (message) {\n            fullMessage += message;\n          }\n\n          throw fullMessage;\n        };\n\n        this.fail = function(error) {\n          let checkIsError;\n          let message;\n\n          if (\n            error instanceof _assert.AssertionError ||\n            (error && error.name === _assert.AssertionError.name)\n          ) {\n            checkIsError = false; // @ts-ignore TODO Possible error: j$.Spec does not have expand property\n\n            message = (0, _assertionErrorMessage.default)(error, {\n              expand: j$.Spec.expand\n            });\n          } else {\n            const check = (0, _isError.default)(error);\n            checkIsError = check.isError;\n            message = check.message;\n          }\n\n          const errorAsErrorObject = checkIsError ? error : new Error(message);\n          const runnable = currentRunnable();\n\n          if (!runnable) {\n            errorAsErrorObject.message =\n              'Caught error after test environment was torn down\\n\\n' +\n              errorAsErrorObject.message;\n            throw errorAsErrorObject;\n          }\n\n          runnable.addExpectationResult(false, {\n            matcherName: '',\n            passed: false,\n            expected: '',\n            actual: '',\n            message,\n            error: errorAsErrorObject\n          });\n        };\n      }\n    }),\n    _temp\n  );\n}\n"]},"metadata":{},"sourceType":"script"}