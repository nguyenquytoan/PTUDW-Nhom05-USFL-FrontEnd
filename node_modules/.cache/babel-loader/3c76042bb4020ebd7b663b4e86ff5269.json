{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.run = run;\nexports.buildArgv = void 0;\n\nfunction _path() {\n  const data = _interopRequireDefault(require('path'));\n\n  _path = function _path() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _jestUtil() {\n  const data = require('jest-util');\n\n  _jestUtil = function _jestUtil() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _jestValidate() {\n  const data = require('jest-validate');\n\n  _jestValidate = function _jestValidate() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _jestConfig() {\n  const data = require('jest-config');\n\n  _jestConfig = function _jestConfig() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _core() {\n  const data = require('@jest/core');\n\n  _core = function _core() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _chalk() {\n  const data = _interopRequireDefault(require('chalk'));\n\n  _chalk = function _chalk() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _exit() {\n  const data = _interopRequireDefault(require('exit'));\n\n  _exit = function _exit() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _yargs() {\n  const data = _interopRequireDefault(require('yargs'));\n\n  _yargs = function _yargs() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _realpathNative() {\n  const data = require('realpath-native');\n\n  _realpathNative = function _realpathNative() {\n    return data;\n  };\n\n  return data;\n}\n\nvar _init = _interopRequireDefault(require('../init'));\n\nvar args = _interopRequireWildcard(require('./args'));\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'next', value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'throw', err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction run(_x, _x2) {\n  return _run.apply(this, arguments);\n}\n\nfunction _run() {\n  _run = _asyncToGenerator(function* (maybeArgv, project) {\n    try {\n      const argv = buildArgv(maybeArgv);\n\n      if (argv.init) {\n        yield (0, _init.default)();\n        return;\n      }\n\n      const projects = getProjectListFromCLIArgs(argv, project);\n\n      const _ref = yield (0, _core().runCLI)(argv, projects),\n            results = _ref.results,\n            globalConfig = _ref.globalConfig;\n\n      readResultsAndExit(results, globalConfig);\n    } catch (error) {\n      (0, _jestUtil().clearLine)(process.stderr);\n      (0, _jestUtil().clearLine)(process.stdout);\n\n      if (error.stack) {\n        console.error(_chalk().default.red(error.stack));\n      } else {\n        console.error(_chalk().default.red(error));\n      }\n\n      (0, _exit().default)(1);\n      throw error;\n    }\n  });\n  return _run.apply(this, arguments);\n}\n\nconst buildArgv = maybeArgv => {\n  const version = (0, _core().getVersion)() + (__dirname.includes(`packages${_path().default.sep}jest-cli`) ? '-dev' : '');\n  const rawArgv = maybeArgv || process.argv.slice(2);\n  const argv = (0, _yargs().default)(rawArgv).usage(args.usage).version(version).alias('help', 'h').options(args.options).epilogue(args.docs).check(args.check).argv;\n  (0, _jestValidate().validateCLIOptions)(argv, _objectSpread({}, args.options, {\n    deprecationEntries: _jestConfig().deprecationEntries\n  }), // strip leading dashes\n  Array.isArray(rawArgv) ? rawArgv.map(rawArgv => rawArgv.replace(/^--?/, '')) : Object.keys(rawArgv)); // strip dashed args\n\n  return Object.keys(argv).reduce((result, key) => {\n    if (!key.includes('-')) {\n      result[key] = argv[key];\n    }\n\n    return result;\n  }, {});\n};\n\nexports.buildArgv = buildArgv;\n\nconst getProjectListFromCLIArgs = (argv, project) => {\n  const projects = argv.projects ? argv.projects : [];\n\n  if (project) {\n    projects.push(project);\n  }\n\n  if (!projects.length && process.platform === 'win32') {\n    try {\n      projects.push((0, _realpathNative().sync)(process.cwd()));\n    } catch (err) {// do nothing, just catch error\n      // process.binding('fs').realpath can throw, e.g. on mapped drives\n    }\n  }\n\n  if (!projects.length) {\n    projects.push(process.cwd());\n  }\n\n  return projects;\n};\n\nconst readResultsAndExit = (result, globalConfig) => {\n  const code = !result || result.success ? 0 : globalConfig.testFailureExitCode; // Only exit if needed\n\n  process.on('exit', () => {\n    if (typeof code === 'number' && code !== 0) {\n      process.exitCode = code;\n    }\n  });\n\n  if (globalConfig.forceExit) {\n    if (!globalConfig.detectOpenHandles) {\n      console.warn(_chalk().default.bold('Force exiting Jest: ') + 'Have you considered using `--detectOpenHandles` to detect ' + 'async operations that kept running after all tests finished?');\n    }\n\n    (0, _exit().default)(code);\n  } else if (!globalConfig.detectOpenHandles) {\n    setTimeout(() => {\n      console.warn(_chalk().default.yellow.bold('Jest did not exit one second after the test run has completed.\\n\\n') + _chalk().default.yellow('This usually means that there are asynchronous operations that ' + \"weren't stopped in your tests. Consider running Jest with \" + '`--detectOpenHandles` to troubleshoot this issue.'));\n    }, 1000).unref();\n  }\n};","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/jest/node_modules/jest-cli/build/cli/index.js"],"names":["Object","defineProperty","exports","value","run","buildArgv","_path","data","_interopRequireDefault","require","_jestUtil","_jestValidate","_jestConfig","_core","_chalk","_exit","_yargs","_realpathNative","_init","args","_interopRequireWildcard","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","desc","getOwnPropertyDescriptor","get","set","default","_objectSpread","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","enumerable","forEach","_defineProperty","configurable","writable","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","apply","err","undefined","_x","_x2","_run","maybeArgv","project","argv","init","projects","getProjectListFromCLIArgs","_ref","runCLI","results","globalConfig","readResultsAndExit","clearLine","process","stderr","stdout","stack","console","red","version","getVersion","__dirname","includes","sep","rawArgv","slice","usage","alias","options","epilogue","docs","check","validateCLIOptions","deprecationEntries","Array","isArray","map","replace","reduce","result","push","platform","sync","cwd","code","success","testFailureExitCode","on","exitCode","forceExit","detectOpenHandles","warn","bold","setTimeout","yellow","unref"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.run = run;\nexports.buildArgv = void 0;\n\nfunction _path() {\n  const data = _interopRequireDefault(require('path'));\n\n  _path = function _path() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _jestUtil() {\n  const data = require('jest-util');\n\n  _jestUtil = function _jestUtil() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _jestValidate() {\n  const data = require('jest-validate');\n\n  _jestValidate = function _jestValidate() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _jestConfig() {\n  const data = require('jest-config');\n\n  _jestConfig = function _jestConfig() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _core() {\n  const data = require('@jest/core');\n\n  _core = function _core() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _chalk() {\n  const data = _interopRequireDefault(require('chalk'));\n\n  _chalk = function _chalk() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _exit() {\n  const data = _interopRequireDefault(require('exit'));\n\n  _exit = function _exit() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _yargs() {\n  const data = _interopRequireDefault(require('yargs'));\n\n  _yargs = function _yargs() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _realpathNative() {\n  const data = require('realpath-native');\n\n  _realpathNative = function _realpathNative() {\n    return data;\n  };\n\n  return data;\n}\n\nvar _init = _interopRequireDefault(require('../init'));\n\nvar args = _interopRequireWildcard(require('./args'));\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc =\n            Object.defineProperty && Object.getOwnPropertyDescriptor\n              ? Object.getOwnPropertyDescriptor(obj, key)\n              : {};\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {default: obj};\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(\n        Object.getOwnPropertySymbols(source).filter(function(sym) {\n          return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n        })\n      );\n    }\n    ownKeys.forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function() {\n    var self = this,\n      args = arguments;\n    return new Promise(function(resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'next', value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'throw', err);\n      }\n      _next(undefined);\n    });\n  };\n}\n\nfunction run(_x, _x2) {\n  return _run.apply(this, arguments);\n}\n\nfunction _run() {\n  _run = _asyncToGenerator(function*(maybeArgv, project) {\n    try {\n      const argv = buildArgv(maybeArgv);\n\n      if (argv.init) {\n        yield (0, _init.default)();\n        return;\n      }\n\n      const projects = getProjectListFromCLIArgs(argv, project);\n\n      const _ref = yield (0, _core().runCLI)(argv, projects),\n        results = _ref.results,\n        globalConfig = _ref.globalConfig;\n\n      readResultsAndExit(results, globalConfig);\n    } catch (error) {\n      (0, _jestUtil().clearLine)(process.stderr);\n      (0, _jestUtil().clearLine)(process.stdout);\n\n      if (error.stack) {\n        console.error(_chalk().default.red(error.stack));\n      } else {\n        console.error(_chalk().default.red(error));\n      }\n\n      (0, _exit().default)(1);\n      throw error;\n    }\n  });\n  return _run.apply(this, arguments);\n}\n\nconst buildArgv = maybeArgv => {\n  const version =\n    (0, _core().getVersion)() +\n    (__dirname.includes(`packages${_path().default.sep}jest-cli`)\n      ? '-dev'\n      : '');\n  const rawArgv = maybeArgv || process.argv.slice(2);\n  const argv = (0, _yargs().default)(rawArgv)\n    .usage(args.usage)\n    .version(version)\n    .alias('help', 'h')\n    .options(args.options)\n    .epilogue(args.docs)\n    .check(args.check).argv;\n  (0, _jestValidate().validateCLIOptions)(\n    argv,\n    _objectSpread({}, args.options, {\n      deprecationEntries: _jestConfig().deprecationEntries\n    }), // strip leading dashes\n    Array.isArray(rawArgv)\n      ? rawArgv.map(rawArgv => rawArgv.replace(/^--?/, ''))\n      : Object.keys(rawArgv)\n  ); // strip dashed args\n\n  return Object.keys(argv).reduce((result, key) => {\n    if (!key.includes('-')) {\n      result[key] = argv[key];\n    }\n\n    return result;\n  }, {});\n};\n\nexports.buildArgv = buildArgv;\n\nconst getProjectListFromCLIArgs = (argv, project) => {\n  const projects = argv.projects ? argv.projects : [];\n\n  if (project) {\n    projects.push(project);\n  }\n\n  if (!projects.length && process.platform === 'win32') {\n    try {\n      projects.push((0, _realpathNative().sync)(process.cwd()));\n    } catch (err) {\n      // do nothing, just catch error\n      // process.binding('fs').realpath can throw, e.g. on mapped drives\n    }\n  }\n\n  if (!projects.length) {\n    projects.push(process.cwd());\n  }\n\n  return projects;\n};\n\nconst readResultsAndExit = (result, globalConfig) => {\n  const code = !result || result.success ? 0 : globalConfig.testFailureExitCode; // Only exit if needed\n\n  process.on('exit', () => {\n    if (typeof code === 'number' && code !== 0) {\n      process.exitCode = code;\n    }\n  });\n\n  if (globalConfig.forceExit) {\n    if (!globalConfig.detectOpenHandles) {\n      console.warn(\n        _chalk().default.bold('Force exiting Jest: ') +\n          'Have you considered using `--detectOpenHandles` to detect ' +\n          'async operations that kept running after all tests finished?'\n      );\n    }\n\n    (0, _exit().default)(code);\n  } else if (!globalConfig.detectOpenHandles) {\n    setTimeout(() => {\n      console.warn(\n        _chalk().default.yellow.bold(\n          'Jest did not exit one second after the test run has completed.\\n\\n'\n        ) +\n          _chalk().default.yellow(\n            'This usually means that there are asynchronous operations that ' +\n              \"weren't stopped in your tests. Consider running Jest with \" +\n              '`--detectOpenHandles` to troubleshoot this issue.'\n          )\n      );\n    }, 1000).unref();\n  }\n};\n"]},"metadata":{},"sourceType":"script"}