{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.default = void 0;\n\nfunction _chalk() {\n  const data = _interopRequireDefault(require('chalk'));\n\n  _chalk = function _chalk() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _ansiEscapes() {\n  const data = _interopRequireDefault(require('ansi-escapes'));\n\n  _ansiEscapes = function _ansiEscapes() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _jestUtil() {\n  const data = require('jest-util');\n\n  _jestUtil = function _jestUtil() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nconst CLEAR = _jestUtil().specialChars.CLEAR;\n\nconst usage = entity => `\\n${_chalk().default.bold('Pattern Mode Usage')}\\n` + ` ${_chalk().default.dim('\\u203A Press')} Esc ${_chalk().default.dim('to exit pattern mode.')}\\n` + ` ${_chalk().default.dim('\\u203A Press')} Enter ` + `${_chalk().default.dim(`to filter by a ${entity} regex pattern.`)}\\n` + `\\n`;\n\nconst usageRows = usage('').split('\\n').length;\n\nclass PatternPrompt {\n  constructor(pipe, prompt) {\n    _defineProperty(this, '_pipe', void 0);\n\n    _defineProperty(this, '_prompt', void 0);\n\n    _defineProperty(this, '_entityName', void 0);\n\n    _defineProperty(this, '_currentUsageRows', void 0); // TODO: Should come in the constructor\n\n\n    this._entityName = '';\n    this._pipe = pipe;\n    this._prompt = prompt;\n    this._currentUsageRows = usageRows;\n  }\n\n  run(onSuccess, onCancel, options) {\n    this._pipe.write(_ansiEscapes().default.cursorHide);\n\n    this._pipe.write(CLEAR);\n\n    if (options && options.header) {\n      this._pipe.write(options.header + '\\n');\n\n      this._currentUsageRows = usageRows + options.header.split('\\n').length;\n    } else {\n      this._currentUsageRows = usageRows;\n    }\n\n    this._pipe.write(usage(this._entityName));\n\n    this._pipe.write(_ansiEscapes().default.cursorShow);\n\n    this._prompt.enter(this._onChange.bind(this), onSuccess, onCancel);\n  }\n\n  _onChange(_pattern, _options) {\n    this._pipe.write(_ansiEscapes().default.eraseLine);\n\n    this._pipe.write(_ansiEscapes().default.cursorLeft);\n  }\n\n}\n\nexports.default = PatternPrompt;","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/jest-watcher/build/PatternPrompt.js"],"names":["Object","defineProperty","exports","value","default","_chalk","data","_interopRequireDefault","require","_ansiEscapes","_jestUtil","obj","__esModule","_defineProperty","key","enumerable","configurable","writable","CLEAR","specialChars","usage","entity","bold","dim","usageRows","split","length","PatternPrompt","constructor","pipe","prompt","_entityName","_pipe","_prompt","_currentUsageRows","run","onSuccess","onCancel","options","write","cursorHide","header","cursorShow","enter","_onChange","bind","_pattern","_options","eraseLine","cursorLeft"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.default = void 0;\n\nfunction _chalk() {\n  const data = _interopRequireDefault(require('chalk'));\n\n  _chalk = function _chalk() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _ansiEscapes() {\n  const data = _interopRequireDefault(require('ansi-escapes'));\n\n  _ansiEscapes = function _ansiEscapes() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _jestUtil() {\n  const data = require('jest-util');\n\n  _jestUtil = function _jestUtil() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {default: obj};\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nconst CLEAR = _jestUtil().specialChars.CLEAR;\n\nconst usage = entity =>\n  `\\n${_chalk().default.bold('Pattern Mode Usage')}\\n` +\n  ` ${_chalk().default.dim('\\u203A Press')} Esc ${_chalk().default.dim(\n    'to exit pattern mode.'\n  )}\\n` +\n  ` ${_chalk().default.dim('\\u203A Press')} Enter ` +\n  `${_chalk().default.dim(`to filter by a ${entity} regex pattern.`)}\\n` +\n  `\\n`;\n\nconst usageRows = usage('').split('\\n').length;\n\nclass PatternPrompt {\n  constructor(pipe, prompt) {\n    _defineProperty(this, '_pipe', void 0);\n\n    _defineProperty(this, '_prompt', void 0);\n\n    _defineProperty(this, '_entityName', void 0);\n\n    _defineProperty(this, '_currentUsageRows', void 0);\n\n    // TODO: Should come in the constructor\n    this._entityName = '';\n    this._pipe = pipe;\n    this._prompt = prompt;\n    this._currentUsageRows = usageRows;\n  }\n\n  run(onSuccess, onCancel, options) {\n    this._pipe.write(_ansiEscapes().default.cursorHide);\n\n    this._pipe.write(CLEAR);\n\n    if (options && options.header) {\n      this._pipe.write(options.header + '\\n');\n\n      this._currentUsageRows = usageRows + options.header.split('\\n').length;\n    } else {\n      this._currentUsageRows = usageRows;\n    }\n\n    this._pipe.write(usage(this._entityName));\n\n    this._pipe.write(_ansiEscapes().default.cursorShow);\n\n    this._prompt.enter(this._onChange.bind(this), onSuccess, onCancel);\n  }\n\n  _onChange(_pattern, _options) {\n    this._pipe.write(_ansiEscapes().default.eraseLine);\n\n    this._pipe.write(_ansiEscapes().default.cursorLeft);\n  }\n}\n\nexports.default = PatternPrompt;\n"]},"metadata":{},"sourceType":"script"}