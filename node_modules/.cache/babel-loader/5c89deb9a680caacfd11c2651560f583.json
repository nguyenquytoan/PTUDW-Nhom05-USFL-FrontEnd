{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar async_1 = require(\"../scheduler/async\");\n\nvar scan_1 = require(\"./scan\");\n\nvar defer_1 = require(\"../observable/defer\");\n\nvar map_1 = require(\"./map\");\n\nfunction timeInterval(scheduler) {\n  if (scheduler === void 0) {\n    scheduler = async_1.async;\n  }\n\n  return function (source) {\n    return defer_1.defer(function () {\n      return source.pipe(scan_1.scan(function (_a, value) {\n        var current = _a.current;\n        return {\n          value: value,\n          current: scheduler.now(),\n          last: current\n        };\n      }, {\n        current: scheduler.now(),\n        value: undefined,\n        last: undefined\n      }), map_1.map(function (_a) {\n        var current = _a.current,\n            last = _a.last,\n            value = _a.value;\n        return new TimeInterval(value, current - last);\n      }));\n    });\n  };\n}\n\nexports.timeInterval = timeInterval;\n\nvar TimeInterval = function () {\n  function TimeInterval(value, interval) {\n    this.value = value;\n    this.interval = interval;\n  }\n\n  return TimeInterval;\n}();\n\nexports.TimeInterval = TimeInterval;","map":{"version":3,"sources":["../../src/internal/operators/timeInterval.ts"],"names":[],"mappings":";;;;;;AAEA,IAAA,OAAA,GAAA,OAAA,CAAA,oBAAA,CAAA;;AAEA,IAAA,MAAA,GAAA,OAAA,CAAA,QAAA,CAAA;;AACA,IAAA,OAAA,GAAA,OAAA,CAAA,qBAAA,CAAA;;AACA,IAAA,KAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AA+CA,SAAgB,YAAhB,CAAgC,SAAhC,EAAgE;AAAhC,MAAA,SAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,SAAA,GAA2B,OAAA,CAAA,KAA3B;AAAgC;;AAC9D,SAAO,UAAC,MAAD,EAAsB;AAAK,WAAA,OAAA,CAAA,KAAA,CAAM,YAAA;AACtC,aAAO,MAAM,CAAC,IAAP,CAEL,MAAA,CAAA,IAAA,CACE,UAAC,EAAD,EAAc,KAAd,EAAmB;YAAhB,OAAA,GAAA,EAAA,CAAA,O;AAAqB,eAAC;AAAE,UAAA,KAAK,EAAA,KAAP;AAAS,UAAA,OAAO,EAAE,SAAS,CAAC,GAAV,EAAlB;AAAmC,UAAA,IAAI,EAAE;AAAzC,SAAD;AAAoD,OAD9E,EAEE;AAAE,QAAA,OAAO,EAAE,SAAS,CAAC,GAAV,EAAX;AAA4B,QAAA,KAAK,EAAE,SAAnC;AAA+C,QAAA,IAAI,EAAE;AAArD,OAFF,CAFK,EAML,KAAA,CAAA,GAAA,CAA0B,UAAC,EAAD,EAAyB;YAAtB,OAAA,GAAA,EAAA,CAAA,O;YAAS,IAAA,GAAA,EAAA,CAAA,I;YAAM,KAAA,GAAA,EAAA,CAAA,K;AAAY,eAAA,IAAI,YAAJ,CAAiB,KAAjB,EAAwB,OAAO,GAAG,IAAlC,CAAA;AAAuC,OAA/F,CANK,CAAP;AADgC,KAAA,CAAA;AAShC,GATF;AAUD;;AAXD,OAAA,CAAA,YAAA,GAAA,YAAA;;AAmBA,IAAA,YAAA,GAAA,YAAA;AACE,WAAA,YAAA,CAAmB,KAAnB,EAAoC,QAApC,EAAoD;AAAjC,SAAA,KAAA,GAAA,KAAA;AAAiB,SAAA,QAAA,GAAA,QAAA;AAAoB;;AAC1D,SAAA,YAAA;AAAC,CAFD,EAAA;;AAAa,OAAA,CAAA,YAAA,GAAA,YAAA","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar async_1 = require(\"../scheduler/async\");\nvar scan_1 = require(\"./scan\");\nvar defer_1 = require(\"../observable/defer\");\nvar map_1 = require(\"./map\");\nfunction timeInterval(scheduler) {\n    if (scheduler === void 0) { scheduler = async_1.async; }\n    return function (source) { return defer_1.defer(function () {\n        return source.pipe(scan_1.scan(function (_a, value) {\n            var current = _a.current;\n            return ({ value: value, current: scheduler.now(), last: current });\n        }, { current: scheduler.now(), value: undefined, last: undefined }), map_1.map(function (_a) {\n            var current = _a.current, last = _a.last, value = _a.value;\n            return new TimeInterval(value, current - last);\n        }));\n    }); };\n}\nexports.timeInterval = timeInterval;\nvar TimeInterval = (function () {\n    function TimeInterval(value, interval) {\n        this.value = value;\n        this.interval = interval;\n    }\n    return TimeInterval;\n}());\nexports.TimeInterval = TimeInterval;\n//# sourceMappingURL=timeInterval.js.map"]},"metadata":{},"sourceType":"script"}