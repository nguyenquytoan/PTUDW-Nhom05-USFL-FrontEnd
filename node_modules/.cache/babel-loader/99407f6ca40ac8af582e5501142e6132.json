{"ast":null,"code":"/**\n * @fileoverview Ensure handling of errors when we know they exist.\n * @author Jamund Ferguson\n */\n\"use strict\"; //------------------------------------------------------------------------------\n// Rule Definition\n//------------------------------------------------------------------------------\n\nmodule.exports = {\n  meta: {\n    type: \"suggestion\",\n    docs: {\n      description: \"require error handling in callbacks\",\n      category: \"Node.js and CommonJS\",\n      recommended: false,\n      url: \"https://eslint.org/docs/rules/handle-callback-err\"\n    },\n    schema: [{\n      type: \"string\"\n    }],\n    messages: {\n      expected: \"Expected error to be handled.\"\n    }\n  },\n\n  create(context) {\n    const errorArgument = context.options[0] || \"err\";\n    /**\n     * Checks if the given argument should be interpreted as a regexp pattern.\n     * @param {string} stringToCheck The string which should be checked.\n     * @returns {boolean} Whether or not the string should be interpreted as a pattern.\n     */\n\n    function isPattern(stringToCheck) {\n      const firstChar = stringToCheck[0];\n      return firstChar === \"^\";\n    }\n    /**\n     * Checks if the given name matches the configured error argument.\n     * @param {string} name The name which should be compared.\n     * @returns {boolean} Whether or not the given name matches the configured error variable name.\n     */\n\n\n    function matchesConfiguredErrorName(name) {\n      if (isPattern(errorArgument)) {\n        const regexp = new RegExp(errorArgument, \"u\");\n        return regexp.test(name);\n      }\n\n      return name === errorArgument;\n    }\n    /**\n     * Get the parameters of a given function scope.\n     * @param {Object} scope The function scope.\n     * @returns {Array} All parameters of the given scope.\n     */\n\n\n    function getParameters(scope) {\n      return scope.variables.filter(variable => variable.defs[0] && variable.defs[0].type === \"Parameter\");\n    }\n    /**\n     * Check to see if we're handling the error object properly.\n     * @param {ASTNode} node The AST node to check.\n     * @returns {void}\n     */\n\n\n    function checkForError(node) {\n      const scope = context.getScope(),\n            parameters = getParameters(scope),\n            firstParameter = parameters[0];\n\n      if (firstParameter && matchesConfiguredErrorName(firstParameter.name)) {\n        if (firstParameter.references.length === 0) {\n          context.report({\n            node,\n            messageId: \"expected\"\n          });\n        }\n      }\n    }\n\n    return {\n      FunctionDeclaration: checkForError,\n      FunctionExpression: checkForError,\n      ArrowFunctionExpression: checkForError\n    };\n  }\n\n};","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/eslint/lib/rules/handle-callback-err.js"],"names":["module","exports","meta","type","docs","description","category","recommended","url","schema","messages","expected","create","context","errorArgument","options","isPattern","stringToCheck","firstChar","matchesConfiguredErrorName","name","regexp","RegExp","test","getParameters","scope","variables","filter","variable","defs","checkForError","node","getScope","parameters","firstParameter","references","length","report","messageId","FunctionDeclaration","FunctionExpression","ArrowFunctionExpression"],"mappings":"AAAA;;;;AAKA,a,CAEA;AACA;AACA;;AAEAA,MAAM,CAACC,OAAP,GAAiB;AACbC,EAAAA,IAAI,EAAE;AACFC,IAAAA,IAAI,EAAE,YADJ;AAGFC,IAAAA,IAAI,EAAE;AACFC,MAAAA,WAAW,EAAE,qCADX;AAEFC,MAAAA,QAAQ,EAAE,sBAFR;AAGFC,MAAAA,WAAW,EAAE,KAHX;AAIFC,MAAAA,GAAG,EAAE;AAJH,KAHJ;AAUFC,IAAAA,MAAM,EAAE,CACJ;AACIN,MAAAA,IAAI,EAAE;AADV,KADI,CAVN;AAeFO,IAAAA,QAAQ,EAAE;AACNC,MAAAA,QAAQ,EAAE;AADJ;AAfR,GADO;;AAqBbC,EAAAA,MAAM,CAACC,OAAD,EAAU;AAEZ,UAAMC,aAAa,GAAGD,OAAO,CAACE,OAAR,CAAgB,CAAhB,KAAsB,KAA5C;AAEA;;;;;;AAKA,aAASC,SAAT,CAAmBC,aAAnB,EAAkC;AAC9B,YAAMC,SAAS,GAAGD,aAAa,CAAC,CAAD,CAA/B;AAEA,aAAOC,SAAS,KAAK,GAArB;AACH;AAED;;;;;;;AAKA,aAASC,0BAAT,CAAoCC,IAApC,EAA0C;AACtC,UAAIJ,SAAS,CAACF,aAAD,CAAb,EAA8B;AAC1B,cAAMO,MAAM,GAAG,IAAIC,MAAJ,CAAWR,aAAX,EAA0B,GAA1B,CAAf;AAEA,eAAOO,MAAM,CAACE,IAAP,CAAYH,IAAZ,CAAP;AACH;;AACD,aAAOA,IAAI,KAAKN,aAAhB;AACH;AAED;;;;;;;AAKA,aAASU,aAAT,CAAuBC,KAAvB,EAA8B;AAC1B,aAAOA,KAAK,CAACC,SAAN,CAAgBC,MAAhB,CAAuBC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,CAAc,CAAd,KAAoBD,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiB1B,IAAjB,KAA0B,WAAjF,CAAP;AACH;AAED;;;;;;;AAKA,aAAS2B,aAAT,CAAuBC,IAAvB,EAA6B;AACzB,YAAMN,KAAK,GAAGZ,OAAO,CAACmB,QAAR,EAAd;AAAA,YACIC,UAAU,GAAGT,aAAa,CAACC,KAAD,CAD9B;AAAA,YAEIS,cAAc,GAAGD,UAAU,CAAC,CAAD,CAF/B;;AAIA,UAAIC,cAAc,IAAIf,0BAA0B,CAACe,cAAc,CAACd,IAAhB,CAAhD,EAAuE;AACnE,YAAIc,cAAc,CAACC,UAAf,CAA0BC,MAA1B,KAAqC,CAAzC,EAA4C;AACxCvB,UAAAA,OAAO,CAACwB,MAAR,CAAe;AAAEN,YAAAA,IAAF;AAAQO,YAAAA,SAAS,EAAE;AAAnB,WAAf;AACH;AACJ;AACJ;;AAED,WAAO;AACHC,MAAAA,mBAAmB,EAAET,aADlB;AAEHU,MAAAA,kBAAkB,EAAEV,aAFjB;AAGHW,MAAAA,uBAAuB,EAAEX;AAHtB,KAAP;AAMH;;AAlFY,CAAjB","sourcesContent":["/**\n * @fileoverview Ensure handling of errors when we know they exist.\n * @author Jamund Ferguson\n */\n\n\"use strict\";\n\n//------------------------------------------------------------------------------\n// Rule Definition\n//------------------------------------------------------------------------------\n\nmodule.exports = {\n    meta: {\n        type: \"suggestion\",\n\n        docs: {\n            description: \"require error handling in callbacks\",\n            category: \"Node.js and CommonJS\",\n            recommended: false,\n            url: \"https://eslint.org/docs/rules/handle-callback-err\"\n        },\n\n        schema: [\n            {\n                type: \"string\"\n            }\n        ],\n        messages: {\n            expected: \"Expected error to be handled.\"\n        }\n    },\n\n    create(context) {\n\n        const errorArgument = context.options[0] || \"err\";\n\n        /**\n         * Checks if the given argument should be interpreted as a regexp pattern.\n         * @param {string} stringToCheck The string which should be checked.\n         * @returns {boolean} Whether or not the string should be interpreted as a pattern.\n         */\n        function isPattern(stringToCheck) {\n            const firstChar = stringToCheck[0];\n\n            return firstChar === \"^\";\n        }\n\n        /**\n         * Checks if the given name matches the configured error argument.\n         * @param {string} name The name which should be compared.\n         * @returns {boolean} Whether or not the given name matches the configured error variable name.\n         */\n        function matchesConfiguredErrorName(name) {\n            if (isPattern(errorArgument)) {\n                const regexp = new RegExp(errorArgument, \"u\");\n\n                return regexp.test(name);\n            }\n            return name === errorArgument;\n        }\n\n        /**\n         * Get the parameters of a given function scope.\n         * @param {Object} scope The function scope.\n         * @returns {Array} All parameters of the given scope.\n         */\n        function getParameters(scope) {\n            return scope.variables.filter(variable => variable.defs[0] && variable.defs[0].type === \"Parameter\");\n        }\n\n        /**\n         * Check to see if we're handling the error object properly.\n         * @param {ASTNode} node The AST node to check.\n         * @returns {void}\n         */\n        function checkForError(node) {\n            const scope = context.getScope(),\n                parameters = getParameters(scope),\n                firstParameter = parameters[0];\n\n            if (firstParameter && matchesConfiguredErrorName(firstParameter.name)) {\n                if (firstParameter.references.length === 0) {\n                    context.report({ node, messageId: \"expected\" });\n                }\n            }\n        }\n\n        return {\n            FunctionDeclaration: checkForError,\n            FunctionExpression: checkForError,\n            ArrowFunctionExpression: checkForError\n        };\n\n    }\n};\n"]},"metadata":{},"sourceType":"script"}