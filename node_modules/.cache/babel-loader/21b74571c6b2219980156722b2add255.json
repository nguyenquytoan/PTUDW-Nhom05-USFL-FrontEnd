{"ast":null,"code":"var InvalidPropertyError = require('./invalid-property-error');\n\nvar wrapSingle = require('../wrap-for-optimizing').single;\n\nvar Token = require('../../tokenizer/token');\n\nvar Marker = require('../../tokenizer/marker');\n\nvar formatPosition = require('../../utils/format-position');\n\nfunction _anyIsInherit(values) {\n  var i, l;\n\n  for (i = 0, l = values.length; i < l; i++) {\n    if (values[i][1] == 'inherit') {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction _colorFilter(validator) {\n  return function (value) {\n    return value[1] == 'invert' || validator.isColor(value[1]) || validator.isPrefixed(value[1]);\n  };\n}\n\nfunction _styleFilter(validator) {\n  return function (value) {\n    return value[1] != 'inherit' && validator.isStyleKeyword(value[1]) && !validator.isColorFunction(value[1]);\n  };\n}\n\nfunction _wrapDefault(name, property, compactable) {\n  var descriptor = compactable[name];\n\n  if (descriptor.doubleValues && descriptor.defaultValue.length == 2) {\n    return wrapSingle([Token.PROPERTY, [Token.PROPERTY_NAME, name], [Token.PROPERTY_VALUE, descriptor.defaultValue[0]], [Token.PROPERTY_VALUE, descriptor.defaultValue[1]]]);\n  } else if (descriptor.doubleValues && descriptor.defaultValue.length == 1) {\n    return wrapSingle([Token.PROPERTY, [Token.PROPERTY_NAME, name], [Token.PROPERTY_VALUE, descriptor.defaultValue[0]]]);\n  } else {\n    return wrapSingle([Token.PROPERTY, [Token.PROPERTY_NAME, name], [Token.PROPERTY_VALUE, descriptor.defaultValue]]);\n  }\n}\n\nfunction _widthFilter(validator) {\n  return function (value) {\n    return value[1] != 'inherit' && (validator.isWidth(value[1]) || validator.isUnit(value[1]) && !validator.isDynamicUnit(value[1])) && !validator.isStyleKeyword(value[1]) && !validator.isColorFunction(value[1]);\n  };\n}\n\nfunction animation(property, compactable, validator) {\n  var duration = _wrapDefault(property.name + '-duration', property, compactable);\n\n  var timing = _wrapDefault(property.name + '-timing-function', property, compactable);\n\n  var delay = _wrapDefault(property.name + '-delay', property, compactable);\n\n  var iteration = _wrapDefault(property.name + '-iteration-count', property, compactable);\n\n  var direction = _wrapDefault(property.name + '-direction', property, compactable);\n\n  var fill = _wrapDefault(property.name + '-fill-mode', property, compactable);\n\n  var play = _wrapDefault(property.name + '-play-state', property, compactable);\n\n  var name = _wrapDefault(property.name + '-name', property, compactable);\n\n  var components = [duration, timing, delay, iteration, direction, fill, play, name];\n  var values = property.value;\n  var value;\n  var durationSet = false;\n  var timingSet = false;\n  var delaySet = false;\n  var iterationSet = false;\n  var directionSet = false;\n  var fillSet = false;\n  var playSet = false;\n  var nameSet = false;\n  var i;\n  var l;\n\n  if (property.value.length == 1 && property.value[0][1] == 'inherit') {\n    duration.value = timing.value = delay.value = iteration.value = direction.value = fill.value = play.value = name.value = property.value;\n    return components;\n  }\n\n  if (values.length > 1 && _anyIsInherit(values)) {\n    throw new InvalidPropertyError('Invalid animation values at ' + formatPosition(values[0][2][0]) + '. Ignoring.');\n  }\n\n  for (i = 0, l = values.length; i < l; i++) {\n    value = values[i];\n\n    if (validator.isTime(value[1]) && !durationSet) {\n      duration.value = [value];\n      durationSet = true;\n    } else if (validator.isTime(value[1]) && !delaySet) {\n      delay.value = [value];\n      delaySet = true;\n    } else if ((validator.isGlobal(value[1]) || validator.isTimingFunction(value[1])) && !timingSet) {\n      timing.value = [value];\n      timingSet = true;\n    } else if ((validator.isAnimationIterationCountKeyword(value[1]) || validator.isPositiveNumber(value[1])) && !iterationSet) {\n      iteration.value = [value];\n      iterationSet = true;\n    } else if (validator.isAnimationDirectionKeyword(value[1]) && !directionSet) {\n      direction.value = [value];\n      directionSet = true;\n    } else if (validator.isAnimationFillModeKeyword(value[1]) && !fillSet) {\n      fill.value = [value];\n      fillSet = true;\n    } else if (validator.isAnimationPlayStateKeyword(value[1]) && !playSet) {\n      play.value = [value];\n      playSet = true;\n    } else if ((validator.isAnimationNameKeyword(value[1]) || validator.isIdentifier(value[1])) && !nameSet) {\n      name.value = [value];\n      nameSet = true;\n    } else {\n      throw new InvalidPropertyError('Invalid animation value at ' + formatPosition(value[2][0]) + '. Ignoring.');\n    }\n  }\n\n  return components;\n}\n\nfunction background(property, compactable, validator) {\n  var image = _wrapDefault('background-image', property, compactable);\n\n  var position = _wrapDefault('background-position', property, compactable);\n\n  var size = _wrapDefault('background-size', property, compactable);\n\n  var repeat = _wrapDefault('background-repeat', property, compactable);\n\n  var attachment = _wrapDefault('background-attachment', property, compactable);\n\n  var origin = _wrapDefault('background-origin', property, compactable);\n\n  var clip = _wrapDefault('background-clip', property, compactable);\n\n  var color = _wrapDefault('background-color', property, compactable);\n\n  var components = [image, position, size, repeat, attachment, origin, clip, color];\n  var values = property.value;\n  var positionSet = false;\n  var clipSet = false;\n  var originSet = false;\n  var repeatSet = false;\n  var anyValueSet = false;\n\n  if (property.value.length == 1 && property.value[0][1] == 'inherit') {\n    // NOTE: 'inherit' is not a valid value for background-attachment\n    color.value = image.value = repeat.value = position.value = size.value = origin.value = clip.value = property.value;\n    return components;\n  }\n\n  if (property.value.length == 1 && property.value[0][1] == '0 0') {\n    return components;\n  }\n\n  for (var i = values.length - 1; i >= 0; i--) {\n    var value = values[i];\n\n    if (validator.isBackgroundAttachmentKeyword(value[1])) {\n      attachment.value = [value];\n      anyValueSet = true;\n    } else if (validator.isBackgroundClipKeyword(value[1]) || validator.isBackgroundOriginKeyword(value[1])) {\n      if (clipSet) {\n        origin.value = [value];\n        originSet = true;\n      } else {\n        clip.value = [value];\n        clipSet = true;\n      }\n\n      anyValueSet = true;\n    } else if (validator.isBackgroundRepeatKeyword(value[1])) {\n      if (repeatSet) {\n        repeat.value.unshift(value);\n      } else {\n        repeat.value = [value];\n        repeatSet = true;\n      }\n\n      anyValueSet = true;\n    } else if (validator.isBackgroundPositionKeyword(value[1]) || validator.isBackgroundSizeKeyword(value[1]) || validator.isUnit(value[1]) || validator.isDynamicUnit(value[1])) {\n      if (i > 0) {\n        var previousValue = values[i - 1];\n\n        if (previousValue[1] == Marker.FORWARD_SLASH) {\n          size.value = [value];\n        } else if (i > 1 && values[i - 2][1] == Marker.FORWARD_SLASH) {\n          size.value = [previousValue, value];\n          i -= 2;\n        } else {\n          if (!positionSet) position.value = [];\n          position.value.unshift(value);\n          positionSet = true;\n        }\n      } else {\n        if (!positionSet) position.value = [];\n        position.value.unshift(value);\n        positionSet = true;\n      }\n\n      anyValueSet = true;\n    } else if ((color.value[0][1] == compactable[color.name].defaultValue || color.value[0][1] == 'none') && (validator.isColor(value[1]) || validator.isPrefixed(value[1]))) {\n      color.value = [value];\n      anyValueSet = true;\n    } else if (validator.isUrl(value[1]) || validator.isFunction(value[1])) {\n      image.value = [value];\n      anyValueSet = true;\n    }\n  }\n\n  if (clipSet && !originSet) origin.value = clip.value.slice(0);\n\n  if (!anyValueSet) {\n    throw new InvalidPropertyError('Invalid background value at ' + formatPosition(values[0][2][0]) + '. Ignoring.');\n  }\n\n  return components;\n}\n\nfunction borderRadius(property, compactable) {\n  var values = property.value;\n  var splitAt = -1;\n\n  for (var i = 0, l = values.length; i < l; i++) {\n    if (values[i][1] == Marker.FORWARD_SLASH) {\n      splitAt = i;\n      break;\n    }\n  }\n\n  if (splitAt === 0 || splitAt === values.length - 1) {\n    throw new InvalidPropertyError('Invalid border-radius value at ' + formatPosition(values[0][2][0]) + '. Ignoring.');\n  }\n\n  var target = _wrapDefault(property.name, property, compactable);\n\n  target.value = splitAt > -1 ? values.slice(0, splitAt) : values.slice(0);\n  target.components = fourValues(target, compactable);\n\n  var remainder = _wrapDefault(property.name, property, compactable);\n\n  remainder.value = splitAt > -1 ? values.slice(splitAt + 1) : values.slice(0);\n  remainder.components = fourValues(remainder, compactable);\n\n  for (var j = 0; j < 4; j++) {\n    target.components[j].multiplex = true;\n    target.components[j].value = target.components[j].value.concat(remainder.components[j].value);\n  }\n\n  return target.components;\n}\n\nfunction font(property, compactable, validator) {\n  var style = _wrapDefault('font-style', property, compactable);\n\n  var variant = _wrapDefault('font-variant', property, compactable);\n\n  var weight = _wrapDefault('font-weight', property, compactable);\n\n  var stretch = _wrapDefault('font-stretch', property, compactable);\n\n  var size = _wrapDefault('font-size', property, compactable);\n\n  var height = _wrapDefault('line-height', property, compactable);\n\n  var family = _wrapDefault('font-family', property, compactable);\n\n  var components = [style, variant, weight, stretch, size, height, family];\n  var values = property.value;\n  var fuzzyMatched = 4; // style, variant, weight, and stretch\n\n  var index = 0;\n  var isStretchSet = false;\n  var isStretchValid;\n  var isStyleSet = false;\n  var isStyleValid;\n  var isVariantSet = false;\n  var isVariantValid;\n  var isWeightSet = false;\n  var isWeightValid;\n  var isSizeSet = false;\n  var appendableFamilyName = false;\n\n  if (!values[index]) {\n    throw new InvalidPropertyError('Missing font values at ' + formatPosition(property.all[property.position][1][2][0]) + '. Ignoring.');\n  }\n\n  if (values.length == 1 && values[0][1] == 'inherit') {\n    style.value = variant.value = weight.value = stretch.value = size.value = height.value = family.value = values;\n    return components;\n  }\n\n  if (values.length == 1 && (validator.isFontKeyword(values[0][1]) || validator.isGlobal(values[0][1]) || validator.isPrefixed(values[0][1]))) {\n    values[0][1] = Marker.INTERNAL + values[0][1];\n    style.value = variant.value = weight.value = stretch.value = size.value = height.value = family.value = values;\n    return components;\n  }\n\n  if (values.length < 2 || !_anyIsFontSize(values, validator) || !_anyIsFontFamily(values, validator)) {\n    throw new InvalidPropertyError('Invalid font values at ' + formatPosition(property.all[property.position][1][2][0]) + '. Ignoring.');\n  }\n\n  if (values.length > 1 && _anyIsInherit(values)) {\n    throw new InvalidPropertyError('Invalid font values at ' + formatPosition(values[0][2][0]) + '. Ignoring.');\n  } // fuzzy match style, variant, weight, and stretch on first elements\n\n\n  while (index < fuzzyMatched) {\n    isStretchValid = validator.isFontStretchKeyword(values[index][1]) || validator.isGlobal(values[index][1]);\n    isStyleValid = validator.isFontStyleKeyword(values[index][1]) || validator.isGlobal(values[index][1]);\n    isVariantValid = validator.isFontVariantKeyword(values[index][1]) || validator.isGlobal(values[index][1]);\n    isWeightValid = validator.isFontWeightKeyword(values[index][1]) || validator.isGlobal(values[index][1]);\n\n    if (isStyleValid && !isStyleSet) {\n      style.value = [values[index]];\n      isStyleSet = true;\n    } else if (isVariantValid && !isVariantSet) {\n      variant.value = [values[index]];\n      isVariantSet = true;\n    } else if (isWeightValid && !isWeightSet) {\n      weight.value = [values[index]];\n      isWeightSet = true;\n    } else if (isStretchValid && !isStretchSet) {\n      stretch.value = [values[index]];\n      isStretchSet = true;\n    } else if (isStyleValid && isStyleSet || isVariantValid && isVariantSet || isWeightValid && isWeightSet || isStretchValid && isStretchSet) {\n      throw new InvalidPropertyError('Invalid font style / variant / weight / stretch value at ' + formatPosition(values[0][2][0]) + '. Ignoring.');\n    } else {\n      break;\n    }\n\n    index++;\n  } // now comes font-size ...\n\n\n  if (validator.isFontSizeKeyword(values[index][1]) || validator.isUnit(values[index][1]) && !validator.isDynamicUnit(values[index][1])) {\n    size.value = [values[index]];\n    isSizeSet = true;\n    index++;\n  } else {\n    throw new InvalidPropertyError('Missing font size at ' + formatPosition(values[0][2][0]) + '. Ignoring.');\n  }\n\n  if (!values[index]) {\n    throw new InvalidPropertyError('Missing font family at ' + formatPosition(values[0][2][0]) + '. Ignoring.');\n  } // ... and perhaps line-height\n\n\n  if (isSizeSet && values[index] && values[index][1] == Marker.FORWARD_SLASH && values[index + 1] && (validator.isLineHeightKeyword(values[index + 1][1]) || validator.isUnit(values[index + 1][1]) || validator.isNumber(values[index + 1][1]))) {\n    height.value = [values[index + 1]];\n    index++;\n    index++;\n  } // ... and whatever comes next is font-family\n\n\n  family.value = [];\n\n  while (values[index]) {\n    if (values[index][1] == Marker.COMMA) {\n      appendableFamilyName = false;\n    } else {\n      if (appendableFamilyName) {\n        family.value[family.value.length - 1][1] += Marker.SPACE + values[index][1];\n      } else {\n        family.value.push(values[index]);\n      }\n\n      appendableFamilyName = true;\n    }\n\n    index++;\n  }\n\n  if (family.value.length === 0) {\n    throw new InvalidPropertyError('Missing font family at ' + formatPosition(values[0][2][0]) + '. Ignoring.');\n  }\n\n  return components;\n}\n\nfunction _anyIsFontSize(values, validator) {\n  var value;\n  var i, l;\n\n  for (i = 0, l = values.length; i < l; i++) {\n    value = values[i];\n\n    if (validator.isFontSizeKeyword(value[1]) || validator.isUnit(value[1]) && !validator.isDynamicUnit(value[1]) || validator.isFunction(value[1])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction _anyIsFontFamily(values, validator) {\n  var value;\n  var i, l;\n\n  for (i = 0, l = values.length; i < l; i++) {\n    value = values[i];\n\n    if (validator.isIdentifier(value[1])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction fourValues(property, compactable) {\n  var componentNames = compactable[property.name].components;\n  var components = [];\n  var value = property.value;\n  if (value.length < 1) return [];\n  if (value.length < 2) value[1] = value[0].slice(0);\n  if (value.length < 3) value[2] = value[0].slice(0);\n  if (value.length < 4) value[3] = value[1].slice(0);\n\n  for (var i = componentNames.length - 1; i >= 0; i--) {\n    var component = wrapSingle([Token.PROPERTY, [Token.PROPERTY_NAME, componentNames[i]]]);\n    component.value = [value[i]];\n    components.unshift(component);\n  }\n\n  return components;\n}\n\nfunction multiplex(splitWith) {\n  return function (property, compactable, validator) {\n    var splitsAt = [];\n    var values = property.value;\n    var i, j, l, m; // find split commas\n\n    for (i = 0, l = values.length; i < l; i++) {\n      if (values[i][1] == ',') splitsAt.push(i);\n    }\n\n    if (splitsAt.length === 0) return splitWith(property, compactable, validator);\n    var splitComponents = []; // split over commas, and into components\n\n    for (i = 0, l = splitsAt.length; i <= l; i++) {\n      var from = i === 0 ? 0 : splitsAt[i - 1] + 1;\n      var to = i < l ? splitsAt[i] : values.length;\n\n      var _property = _wrapDefault(property.name, property, compactable);\n\n      _property.value = values.slice(from, to);\n      splitComponents.push(splitWith(_property, compactable, validator));\n    }\n\n    var components = splitComponents[0]; // group component values from each split\n\n    for (i = 0, l = components.length; i < l; i++) {\n      components[i].multiplex = true;\n\n      for (j = 1, m = splitComponents.length; j < m; j++) {\n        components[i].value.push([Token.PROPERTY_VALUE, Marker.COMMA]);\n        Array.prototype.push.apply(components[i].value, splitComponents[j][i].value);\n      }\n    }\n\n    return components;\n  };\n}\n\nfunction listStyle(property, compactable, validator) {\n  var type = _wrapDefault('list-style-type', property, compactable);\n\n  var position = _wrapDefault('list-style-position', property, compactable);\n\n  var image = _wrapDefault('list-style-image', property, compactable);\n\n  var components = [type, position, image];\n\n  if (property.value.length == 1 && property.value[0][1] == 'inherit') {\n    type.value = position.value = image.value = [property.value[0]];\n    return components;\n  }\n\n  var values = property.value.slice(0);\n  var total = values.length;\n  var index = 0; // `image` first...\n\n  for (index = 0, total = values.length; index < total; index++) {\n    if (validator.isUrl(values[index][1]) || values[index][1] == '0') {\n      image.value = [values[index]];\n      values.splice(index, 1);\n      break;\n    }\n  } // ... then `position`\n\n\n  for (index = 0, total = values.length; index < total; index++) {\n    if (validator.isListStylePositionKeyword(values[index][1])) {\n      position.value = [values[index]];\n      values.splice(index, 1);\n      break;\n    }\n  } // ... and what's left is a `type`\n\n\n  if (values.length > 0 && (validator.isListStyleTypeKeyword(values[0][1]) || validator.isIdentifier(values[0][1]))) {\n    type.value = [values[0]];\n  }\n\n  return components;\n}\n\nfunction transition(property, compactable, validator) {\n  var prop = _wrapDefault(property.name + '-property', property, compactable);\n\n  var duration = _wrapDefault(property.name + '-duration', property, compactable);\n\n  var timing = _wrapDefault(property.name + '-timing-function', property, compactable);\n\n  var delay = _wrapDefault(property.name + '-delay', property, compactable);\n\n  var components = [prop, duration, timing, delay];\n  var values = property.value;\n  var value;\n  var durationSet = false;\n  var delaySet = false;\n  var propSet = false;\n  var timingSet = false;\n  var i;\n  var l;\n\n  if (property.value.length == 1 && property.value[0][1] == 'inherit') {\n    prop.value = duration.value = timing.value = delay.value = property.value;\n    return components;\n  }\n\n  if (values.length > 1 && _anyIsInherit(values)) {\n    throw new InvalidPropertyError('Invalid animation values at ' + formatPosition(values[0][2][0]) + '. Ignoring.');\n  }\n\n  for (i = 0, l = values.length; i < l; i++) {\n    value = values[i];\n\n    if (validator.isTime(value[1]) && !durationSet) {\n      duration.value = [value];\n      durationSet = true;\n    } else if (validator.isTime(value[1]) && !delaySet) {\n      delay.value = [value];\n      delaySet = true;\n    } else if ((validator.isGlobal(value[1]) || validator.isTimingFunction(value[1])) && !timingSet) {\n      timing.value = [value];\n      timingSet = true;\n    } else if (validator.isIdentifier(value[1]) && !propSet) {\n      prop.value = [value];\n      propSet = true;\n    } else {\n      throw new InvalidPropertyError('Invalid animation value at ' + formatPosition(value[2][0]) + '. Ignoring.');\n    }\n  }\n\n  return components;\n}\n\nfunction widthStyleColor(property, compactable, validator) {\n  var descriptor = compactable[property.name];\n  var components = [_wrapDefault(descriptor.components[0], property, compactable), _wrapDefault(descriptor.components[1], property, compactable), _wrapDefault(descriptor.components[2], property, compactable)];\n  var color, style, width;\n\n  for (var i = 0; i < 3; i++) {\n    var component = components[i];\n    if (component.name.indexOf('color') > 0) color = component;else if (component.name.indexOf('style') > 0) style = component;else width = component;\n  }\n\n  if (property.value.length == 1 && property.value[0][1] == 'inherit' || property.value.length == 3 && property.value[0][1] == 'inherit' && property.value[1][1] == 'inherit' && property.value[2][1] == 'inherit') {\n    color.value = style.value = width.value = [property.value[0]];\n    return components;\n  }\n\n  var values = property.value.slice(0);\n  var match, matches; // NOTE: usually users don't follow the required order of parts in this shorthand,\n  // so we'll try to parse it caring as little about order as possible\n\n  if (values.length > 0) {\n    matches = values.filter(_widthFilter(validator));\n    match = matches.length > 1 && (matches[0][1] == 'none' || matches[0][1] == 'auto') ? matches[1] : matches[0];\n\n    if (match) {\n      width.value = [match];\n      values.splice(values.indexOf(match), 1);\n    }\n  }\n\n  if (values.length > 0) {\n    match = values.filter(_styleFilter(validator))[0];\n\n    if (match) {\n      style.value = [match];\n      values.splice(values.indexOf(match), 1);\n    }\n  }\n\n  if (values.length > 0) {\n    match = values.filter(_colorFilter(validator))[0];\n\n    if (match) {\n      color.value = [match];\n      values.splice(values.indexOf(match), 1);\n    }\n  }\n\n  return components;\n}\n\nmodule.exports = {\n  animation: animation,\n  background: background,\n  border: widthStyleColor,\n  borderRadius: borderRadius,\n  font: font,\n  fourValues: fourValues,\n  listStyle: listStyle,\n  multiplex: multiplex,\n  outline: widthStyleColor,\n  transition: transition\n};","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/clean-css/lib/optimizer/level-2/break-up.js"],"names":["InvalidPropertyError","require","wrapSingle","single","Token","Marker","formatPosition","_anyIsInherit","values","i","l","length","_colorFilter","validator","value","isColor","isPrefixed","_styleFilter","isStyleKeyword","isColorFunction","_wrapDefault","name","property","compactable","descriptor","doubleValues","defaultValue","PROPERTY","PROPERTY_NAME","PROPERTY_VALUE","_widthFilter","isWidth","isUnit","isDynamicUnit","animation","duration","timing","delay","iteration","direction","fill","play","components","durationSet","timingSet","delaySet","iterationSet","directionSet","fillSet","playSet","nameSet","isTime","isGlobal","isTimingFunction","isAnimationIterationCountKeyword","isPositiveNumber","isAnimationDirectionKeyword","isAnimationFillModeKeyword","isAnimationPlayStateKeyword","isAnimationNameKeyword","isIdentifier","background","image","position","size","repeat","attachment","origin","clip","color","positionSet","clipSet","originSet","repeatSet","anyValueSet","isBackgroundAttachmentKeyword","isBackgroundClipKeyword","isBackgroundOriginKeyword","isBackgroundRepeatKeyword","unshift","isBackgroundPositionKeyword","isBackgroundSizeKeyword","previousValue","FORWARD_SLASH","isUrl","isFunction","slice","borderRadius","splitAt","target","fourValues","remainder","j","multiplex","concat","font","style","variant","weight","stretch","height","family","fuzzyMatched","index","isStretchSet","isStretchValid","isStyleSet","isStyleValid","isVariantSet","isVariantValid","isWeightSet","isWeightValid","isSizeSet","appendableFamilyName","all","isFontKeyword","INTERNAL","_anyIsFontSize","_anyIsFontFamily","isFontStretchKeyword","isFontStyleKeyword","isFontVariantKeyword","isFontWeightKeyword","isFontSizeKeyword","isLineHeightKeyword","isNumber","COMMA","SPACE","push","componentNames","component","splitWith","splitsAt","m","splitComponents","from","to","_property","Array","prototype","apply","listStyle","type","total","splice","isListStylePositionKeyword","isListStyleTypeKeyword","transition","prop","propSet","widthStyleColor","width","indexOf","match","matches","filter","module","exports","border","outline"],"mappings":"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","sourcesContent":["var InvalidPropertyError = require('./invalid-property-error');\n\nvar wrapSingle = require('../wrap-for-optimizing').single;\n\nvar Token = require('../../tokenizer/token');\nvar Marker = require('../../tokenizer/marker');\n\nvar formatPosition = require('../../utils/format-position');\n\nfunction _anyIsInherit(values) {\n  var i, l;\n\n  for (i = 0, l = values.length; i < l; i++) {\n    if (values[i][1] == 'inherit') {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction _colorFilter(validator) {\n  return function (value) {\n    return value[1] == 'invert' || validator.isColor(value[1]) || validator.isPrefixed(value[1]);\n  };\n}\n\nfunction _styleFilter(validator) {\n  return function (value) {\n    return value[1] != 'inherit' && validator.isStyleKeyword(value[1]) && !validator.isColorFunction(value[1]);\n  };\n}\n\nfunction _wrapDefault(name, property, compactable) {\n  var descriptor = compactable[name];\n  if (descriptor.doubleValues && descriptor.defaultValue.length == 2) {\n    return wrapSingle([\n      Token.PROPERTY,\n      [Token.PROPERTY_NAME, name],\n      [Token.PROPERTY_VALUE, descriptor.defaultValue[0]],\n      [Token.PROPERTY_VALUE, descriptor.defaultValue[1]]\n    ]);\n  } else if (descriptor.doubleValues && descriptor.defaultValue.length == 1) {\n    return wrapSingle([\n      Token.PROPERTY,\n      [Token.PROPERTY_NAME, name],\n      [Token.PROPERTY_VALUE, descriptor.defaultValue[0]]\n    ]);\n  } else {\n    return wrapSingle([\n      Token.PROPERTY,\n      [Token.PROPERTY_NAME, name],\n      [Token.PROPERTY_VALUE, descriptor.defaultValue]\n    ]);\n  }\n}\n\nfunction _widthFilter(validator) {\n  return function (value) {\n    return value[1] != 'inherit' &&\n      (validator.isWidth(value[1]) || validator.isUnit(value[1]) && !validator.isDynamicUnit(value[1])) &&\n      !validator.isStyleKeyword(value[1]) &&\n      !validator.isColorFunction(value[1]);\n  };\n}\n\nfunction animation(property, compactable, validator) {\n  var duration = _wrapDefault(property.name + '-duration', property, compactable);\n  var timing = _wrapDefault(property.name + '-timing-function', property, compactable);\n  var delay = _wrapDefault(property.name + '-delay', property, compactable);\n  var iteration = _wrapDefault(property.name + '-iteration-count', property, compactable);\n  var direction = _wrapDefault(property.name + '-direction', property, compactable);\n  var fill = _wrapDefault(property.name + '-fill-mode', property, compactable);\n  var play = _wrapDefault(property.name + '-play-state', property, compactable);\n  var name = _wrapDefault(property.name + '-name', property, compactable);\n  var components = [duration, timing, delay, iteration, direction, fill, play, name];\n  var values = property.value;\n  var value;\n  var durationSet = false;\n  var timingSet = false;\n  var delaySet = false;\n  var iterationSet = false;\n  var directionSet = false;\n  var fillSet = false;\n  var playSet = false;\n  var nameSet = false;\n  var i;\n  var l;\n\n  if (property.value.length == 1 && property.value[0][1] == 'inherit') {\n    duration.value = timing.value = delay.value = iteration.value = direction.value = fill.value = play.value = name.value = property.value;\n    return components;\n  }\n\n  if (values.length > 1 && _anyIsInherit(values)) {\n    throw new InvalidPropertyError('Invalid animation values at ' + formatPosition(values[0][2][0]) + '. Ignoring.');\n  }\n\n  for (i = 0, l = values.length; i < l; i++) {\n    value = values[i];\n\n    if (validator.isTime(value[1]) && !durationSet) {\n      duration.value = [value];\n      durationSet = true;\n    } else if (validator.isTime(value[1]) && !delaySet) {\n      delay.value = [value];\n      delaySet = true;\n    } else if ((validator.isGlobal(value[1]) || validator.isTimingFunction(value[1])) && !timingSet) {\n      timing.value = [value];\n      timingSet = true;\n    } else if ((validator.isAnimationIterationCountKeyword(value[1]) || validator.isPositiveNumber(value[1])) && !iterationSet) {\n      iteration.value = [value];\n      iterationSet = true;\n    } else if (validator.isAnimationDirectionKeyword(value[1]) && !directionSet) {\n      direction.value = [value];\n      directionSet = true;\n    } else if (validator.isAnimationFillModeKeyword(value[1]) && !fillSet) {\n      fill.value = [value];\n      fillSet = true;\n    } else if (validator.isAnimationPlayStateKeyword(value[1]) && !playSet) {\n      play.value = [value];\n      playSet = true;\n    } else if ((validator.isAnimationNameKeyword(value[1]) || validator.isIdentifier(value[1])) && !nameSet) {\n      name.value = [value];\n      nameSet = true;\n    } else {\n      throw new InvalidPropertyError('Invalid animation value at ' + formatPosition(value[2][0]) + '. Ignoring.');\n    }\n  }\n\n  return components;\n}\n\nfunction background(property, compactable, validator) {\n  var image = _wrapDefault('background-image', property, compactable);\n  var position = _wrapDefault('background-position', property, compactable);\n  var size = _wrapDefault('background-size', property, compactable);\n  var repeat = _wrapDefault('background-repeat', property, compactable);\n  var attachment = _wrapDefault('background-attachment', property, compactable);\n  var origin = _wrapDefault('background-origin', property, compactable);\n  var clip = _wrapDefault('background-clip', property, compactable);\n  var color = _wrapDefault('background-color', property, compactable);\n  var components = [image, position, size, repeat, attachment, origin, clip, color];\n  var values = property.value;\n\n  var positionSet = false;\n  var clipSet = false;\n  var originSet = false;\n  var repeatSet = false;\n\n  var anyValueSet = false;\n\n  if (property.value.length == 1 && property.value[0][1] == 'inherit') {\n    // NOTE: 'inherit' is not a valid value for background-attachment\n    color.value = image.value =  repeat.value = position.value = size.value = origin.value = clip.value = property.value;\n    return components;\n  }\n\n  if (property.value.length == 1 && property.value[0][1] == '0 0') {\n    return components;\n  }\n\n  for (var i = values.length - 1; i >= 0; i--) {\n    var value = values[i];\n\n    if (validator.isBackgroundAttachmentKeyword(value[1])) {\n      attachment.value = [value];\n      anyValueSet = true;\n    } else if (validator.isBackgroundClipKeyword(value[1]) || validator.isBackgroundOriginKeyword(value[1])) {\n      if (clipSet) {\n        origin.value = [value];\n        originSet = true;\n      } else {\n        clip.value = [value];\n        clipSet = true;\n      }\n      anyValueSet = true;\n    } else if (validator.isBackgroundRepeatKeyword(value[1])) {\n      if (repeatSet) {\n        repeat.value.unshift(value);\n      } else {\n        repeat.value = [value];\n        repeatSet = true;\n      }\n      anyValueSet = true;\n    } else if (validator.isBackgroundPositionKeyword(value[1]) || validator.isBackgroundSizeKeyword(value[1]) || validator.isUnit(value[1]) || validator.isDynamicUnit(value[1])) {\n      if (i > 0) {\n        var previousValue = values[i - 1];\n\n        if (previousValue[1] == Marker.FORWARD_SLASH) {\n          size.value = [value];\n        } else if (i > 1 && values[i - 2][1] == Marker.FORWARD_SLASH) {\n          size.value = [previousValue, value];\n          i -= 2;\n        } else {\n          if (!positionSet)\n            position.value = [];\n\n          position.value.unshift(value);\n          positionSet = true;\n        }\n      } else {\n        if (!positionSet)\n          position.value = [];\n\n        position.value.unshift(value);\n        positionSet = true;\n      }\n      anyValueSet = true;\n    } else if ((color.value[0][1] == compactable[color.name].defaultValue || color.value[0][1] == 'none') && (validator.isColor(value[1]) || validator.isPrefixed(value[1]))) {\n      color.value = [value];\n      anyValueSet = true;\n    } else if (validator.isUrl(value[1]) || validator.isFunction(value[1])) {\n      image.value = [value];\n      anyValueSet = true;\n    }\n  }\n\n  if (clipSet && !originSet)\n    origin.value = clip.value.slice(0);\n\n  if (!anyValueSet) {\n    throw new InvalidPropertyError('Invalid background value at ' + formatPosition(values[0][2][0]) + '. Ignoring.');\n  }\n\n  return components;\n}\n\nfunction borderRadius(property, compactable) {\n  var values = property.value;\n  var splitAt = -1;\n\n  for (var i = 0, l = values.length; i < l; i++) {\n    if (values[i][1] == Marker.FORWARD_SLASH) {\n      splitAt = i;\n      break;\n    }\n  }\n\n  if (splitAt === 0 || splitAt === values.length - 1) {\n    throw new InvalidPropertyError('Invalid border-radius value at ' + formatPosition(values[0][2][0]) + '. Ignoring.');\n  }\n\n  var target = _wrapDefault(property.name, property, compactable);\n  target.value = splitAt > -1 ?\n    values.slice(0, splitAt) :\n    values.slice(0);\n  target.components = fourValues(target, compactable);\n\n  var remainder = _wrapDefault(property.name, property, compactable);\n  remainder.value = splitAt > -1 ?\n    values.slice(splitAt + 1) :\n    values.slice(0);\n  remainder.components = fourValues(remainder, compactable);\n\n  for (var j = 0; j < 4; j++) {\n    target.components[j].multiplex = true;\n    target.components[j].value = target.components[j].value.concat(remainder.components[j].value);\n  }\n\n  return target.components;\n}\n\nfunction font(property, compactable, validator) {\n  var style = _wrapDefault('font-style', property, compactable);\n  var variant = _wrapDefault('font-variant', property, compactable);\n  var weight = _wrapDefault('font-weight', property, compactable);\n  var stretch = _wrapDefault('font-stretch', property, compactable);\n  var size = _wrapDefault('font-size', property, compactable);\n  var height = _wrapDefault('line-height', property, compactable);\n  var family = _wrapDefault('font-family', property, compactable);\n  var components = [style, variant, weight, stretch, size, height, family];\n  var values = property.value;\n  var fuzzyMatched = 4; // style, variant, weight, and stretch\n  var index = 0;\n  var isStretchSet = false;\n  var isStretchValid;\n  var isStyleSet = false;\n  var isStyleValid;\n  var isVariantSet = false;\n  var isVariantValid;\n  var isWeightSet = false;\n  var isWeightValid;\n  var isSizeSet = false;\n  var appendableFamilyName = false;\n\n  if (!values[index]) {\n    throw new InvalidPropertyError('Missing font values at ' + formatPosition(property.all[property.position][1][2][0]) + '. Ignoring.');\n  }\n\n  if (values.length == 1 && values[0][1] == 'inherit') {\n    style.value = variant.value = weight.value = stretch.value = size.value = height.value = family.value = values;\n    return components;\n  }\n\n  if (values.length == 1 && (validator.isFontKeyword(values[0][1]) || validator.isGlobal(values[0][1]) || validator.isPrefixed(values[0][1]))) {\n    values[0][1] = Marker.INTERNAL + values[0][1];\n    style.value = variant.value = weight.value = stretch.value = size.value = height.value = family.value = values;\n    return components;\n  }\n\n  if (values.length < 2 || !_anyIsFontSize(values, validator) || !_anyIsFontFamily(values, validator)) {\n    throw new InvalidPropertyError('Invalid font values at ' + formatPosition(property.all[property.position][1][2][0]) + '. Ignoring.');\n  }\n\n  if (values.length > 1 && _anyIsInherit(values)) {\n    throw new InvalidPropertyError('Invalid font values at ' + formatPosition(values[0][2][0]) + '. Ignoring.');\n  }\n\n  // fuzzy match style, variant, weight, and stretch on first elements\n  while (index < fuzzyMatched) {\n    isStretchValid = validator.isFontStretchKeyword(values[index][1]) || validator.isGlobal(values[index][1]);\n    isStyleValid = validator.isFontStyleKeyword(values[index][1]) || validator.isGlobal(values[index][1]);\n    isVariantValid = validator.isFontVariantKeyword(values[index][1]) || validator.isGlobal(values[index][1]);\n    isWeightValid = validator.isFontWeightKeyword(values[index][1]) || validator.isGlobal(values[index][1]);\n\n    if (isStyleValid && !isStyleSet) {\n      style.value = [values[index]];\n      isStyleSet = true;\n    } else if (isVariantValid && !isVariantSet) {\n      variant.value = [values[index]];\n      isVariantSet = true;\n    } else if (isWeightValid && !isWeightSet) {\n      weight.value = [values[index]];\n      isWeightSet = true;\n    } else if (isStretchValid && !isStretchSet) {\n      stretch.value = [values[index]];\n      isStretchSet = true;\n    } else if (isStyleValid && isStyleSet || isVariantValid && isVariantSet || isWeightValid && isWeightSet || isStretchValid && isStretchSet) {\n      throw new InvalidPropertyError('Invalid font style / variant / weight / stretch value at ' + formatPosition(values[0][2][0]) + '. Ignoring.');\n    } else {\n      break;\n    }\n\n    index++;\n  }\n\n  // now comes font-size ...\n  if (validator.isFontSizeKeyword(values[index][1]) || validator.isUnit(values[index][1]) && !validator.isDynamicUnit(values[index][1])) {\n    size.value = [values[index]];\n    isSizeSet = true;\n    index++;\n  } else {\n    throw new InvalidPropertyError('Missing font size at ' + formatPosition(values[0][2][0]) + '. Ignoring.');\n  }\n\n  if (!values[index]) {\n    throw new InvalidPropertyError('Missing font family at ' + formatPosition(values[0][2][0]) + '. Ignoring.');\n  }\n\n  // ... and perhaps line-height\n  if (isSizeSet && values[index] && values[index][1] == Marker.FORWARD_SLASH && values[index + 1] && (validator.isLineHeightKeyword(values[index + 1][1]) || validator.isUnit(values[index + 1][1]) || validator.isNumber(values[index + 1][1]))) {\n    height.value = [values[index + 1]];\n    index++;\n    index++;\n  }\n\n  // ... and whatever comes next is font-family\n  family.value = [];\n\n  while (values[index]) {\n    if (values[index][1] == Marker.COMMA) {\n      appendableFamilyName = false;\n    } else {\n      if (appendableFamilyName) {\n        family.value[family.value.length - 1][1] += Marker.SPACE + values[index][1];\n      } else {\n        family.value.push(values[index]);\n      }\n\n      appendableFamilyName = true;\n    }\n\n    index++;\n  }\n\n  if (family.value.length === 0) {\n    throw new InvalidPropertyError('Missing font family at ' + formatPosition(values[0][2][0]) + '. Ignoring.');\n  }\n\n  return components;\n}\n\nfunction _anyIsFontSize(values, validator) {\n  var value;\n  var i, l;\n\n  for (i = 0, l = values.length; i < l; i++) {\n    value = values[i];\n\n    if (validator.isFontSizeKeyword(value[1]) || validator.isUnit(value[1]) && !validator.isDynamicUnit(value[1]) || validator.isFunction(value[1])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction _anyIsFontFamily(values, validator) {\n  var value;\n  var i, l;\n\n  for (i = 0, l = values.length; i < l; i++) {\n    value = values[i];\n\n    if (validator.isIdentifier(value[1])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction fourValues(property, compactable) {\n  var componentNames = compactable[property.name].components;\n  var components = [];\n  var value = property.value;\n\n  if (value.length < 1)\n    return [];\n\n  if (value.length < 2)\n    value[1] = value[0].slice(0);\n  if (value.length < 3)\n    value[2] = value[0].slice(0);\n  if (value.length < 4)\n    value[3] = value[1].slice(0);\n\n  for (var i = componentNames.length - 1; i >= 0; i--) {\n    var component = wrapSingle([\n      Token.PROPERTY,\n      [Token.PROPERTY_NAME, componentNames[i]]\n    ]);\n    component.value = [value[i]];\n    components.unshift(component);\n  }\n\n  return components;\n}\n\nfunction multiplex(splitWith) {\n  return function (property, compactable, validator) {\n    var splitsAt = [];\n    var values = property.value;\n    var i, j, l, m;\n\n    // find split commas\n    for (i = 0, l = values.length; i < l; i++) {\n      if (values[i][1] == ',')\n        splitsAt.push(i);\n    }\n\n    if (splitsAt.length === 0)\n      return splitWith(property, compactable, validator);\n\n    var splitComponents = [];\n\n    // split over commas, and into components\n    for (i = 0, l = splitsAt.length; i <= l; i++) {\n      var from = i === 0 ? 0 : splitsAt[i - 1] + 1;\n      var to = i < l ? splitsAt[i] : values.length;\n\n      var _property = _wrapDefault(property.name, property, compactable);\n      _property.value = values.slice(from, to);\n\n      splitComponents.push(splitWith(_property, compactable, validator));\n    }\n\n    var components = splitComponents[0];\n\n    // group component values from each split\n    for (i = 0, l = components.length; i < l; i++) {\n      components[i].multiplex = true;\n\n      for (j = 1, m = splitComponents.length; j < m; j++) {\n        components[i].value.push([Token.PROPERTY_VALUE, Marker.COMMA]);\n        Array.prototype.push.apply(components[i].value, splitComponents[j][i].value);\n      }\n    }\n\n    return components;\n  };\n}\n\nfunction listStyle(property, compactable, validator) {\n  var type = _wrapDefault('list-style-type', property, compactable);\n  var position = _wrapDefault('list-style-position', property, compactable);\n  var image = _wrapDefault('list-style-image', property, compactable);\n  var components = [type, position, image];\n\n  if (property.value.length == 1 && property.value[0][1] == 'inherit') {\n    type.value = position.value = image.value = [property.value[0]];\n    return components;\n  }\n\n  var values = property.value.slice(0);\n  var total = values.length;\n  var index = 0;\n\n  // `image` first...\n  for (index = 0, total = values.length; index < total; index++) {\n    if (validator.isUrl(values[index][1]) || values[index][1] == '0') {\n      image.value = [values[index]];\n      values.splice(index, 1);\n      break;\n    }\n  }\n\n  // ... then `position`\n  for (index = 0, total = values.length; index < total; index++) {\n    if (validator.isListStylePositionKeyword(values[index][1])) {\n      position.value = [values[index]];\n      values.splice(index, 1);\n      break;\n    }\n  }\n\n  // ... and what's left is a `type`\n  if (values.length > 0 && (validator.isListStyleTypeKeyword(values[0][1]) || validator.isIdentifier(values[0][1]))) {\n    type.value = [values[0]];\n  }\n\n  return components;\n}\n\nfunction transition(property, compactable, validator) {\n  var prop = _wrapDefault(property.name + '-property', property, compactable);\n  var duration = _wrapDefault(property.name + '-duration', property, compactable);\n  var timing = _wrapDefault(property.name + '-timing-function', property, compactable);\n  var delay = _wrapDefault(property.name + '-delay', property, compactable);\n  var components = [prop, duration, timing, delay];\n  var values = property.value;\n  var value;\n  var durationSet = false;\n  var delaySet = false;\n  var propSet = false;\n  var timingSet = false;\n  var i;\n  var l;\n\n  if (property.value.length == 1 && property.value[0][1] == 'inherit') {\n    prop.value = duration.value = timing.value = delay.value = property.value;\n    return components;\n  }\n\n  if (values.length > 1 && _anyIsInherit(values)) {\n    throw new InvalidPropertyError('Invalid animation values at ' + formatPosition(values[0][2][0]) + '. Ignoring.');\n  }\n\n  for (i = 0, l = values.length; i < l; i++) {\n    value = values[i];\n\n    if (validator.isTime(value[1]) && !durationSet) {\n      duration.value = [value];\n      durationSet = true;\n    } else if (validator.isTime(value[1]) && !delaySet) {\n      delay.value = [value];\n      delaySet = true;\n    } else if ((validator.isGlobal(value[1]) || validator.isTimingFunction(value[1])) && !timingSet) {\n      timing.value = [value];\n      timingSet = true;\n    } else if (validator.isIdentifier(value[1]) && !propSet) {\n      prop.value = [value];\n      propSet = true;\n    } else {\n      throw new InvalidPropertyError('Invalid animation value at ' + formatPosition(value[2][0]) + '. Ignoring.');\n    }\n  }\n\n  return components;\n}\n\nfunction widthStyleColor(property, compactable, validator) {\n  var descriptor = compactable[property.name];\n  var components = [\n    _wrapDefault(descriptor.components[0], property, compactable),\n    _wrapDefault(descriptor.components[1], property, compactable),\n    _wrapDefault(descriptor.components[2], property, compactable)\n  ];\n  var color, style, width;\n\n  for (var i = 0; i < 3; i++) {\n    var component = components[i];\n\n    if (component.name.indexOf('color') > 0)\n      color = component;\n    else if (component.name.indexOf('style') > 0)\n      style = component;\n    else\n      width = component;\n  }\n\n  if ((property.value.length == 1 && property.value[0][1] == 'inherit') ||\n      (property.value.length == 3 && property.value[0][1] == 'inherit' && property.value[1][1] == 'inherit' && property.value[2][1] == 'inherit')) {\n    color.value = style.value = width.value = [property.value[0]];\n    return components;\n  }\n\n  var values = property.value.slice(0);\n  var match, matches;\n\n  // NOTE: usually users don't follow the required order of parts in this shorthand,\n  // so we'll try to parse it caring as little about order as possible\n\n  if (values.length > 0) {\n    matches = values.filter(_widthFilter(validator));\n    match = matches.length > 1 && (matches[0][1] == 'none' || matches[0][1] == 'auto') ? matches[1] : matches[0];\n    if (match) {\n      width.value = [match];\n      values.splice(values.indexOf(match), 1);\n    }\n  }\n\n  if (values.length > 0) {\n    match = values.filter(_styleFilter(validator))[0];\n    if (match) {\n      style.value = [match];\n      values.splice(values.indexOf(match), 1);\n    }\n  }\n\n  if (values.length > 0) {\n    match = values.filter(_colorFilter(validator))[0];\n    if (match) {\n      color.value = [match];\n      values.splice(values.indexOf(match), 1);\n    }\n  }\n\n  return components;\n}\n\nmodule.exports = {\n  animation: animation,\n  background: background,\n  border: widthStyleColor,\n  borderRadius: borderRadius,\n  font: font,\n  fourValues: fourValues,\n  listStyle: listStyle,\n  multiplex: multiplex,\n  outline: widthStyleColor,\n  transition: transition\n};\n"]},"metadata":{},"sourceType":"script"}