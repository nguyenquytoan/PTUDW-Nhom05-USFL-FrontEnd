{"ast":null,"code":"var path = require('path');\n\nvar test = require('tape');\n\nvar resolve = require('../');\n\ntest('filter', function (t) {\n  t.plan(4);\n  var dir = path.join(__dirname, 'resolver');\n  var packageFilterArgs;\n  resolve('./baz', {\n    basedir: dir,\n    packageFilter: function (pkg, pkgfile) {\n      pkg.main = 'doom'; // eslint-disable-line no-param-reassign\n\n      packageFilterArgs = [pkg, pkgfile];\n      return pkg;\n    }\n  }, function (err, res, pkg) {\n    if (err) t.fail(err);\n    t.equal(res, path.join(dir, 'baz/doom.js'), 'changing the package \"main\" works');\n    var packageData = packageFilterArgs[0];\n    t.equal(pkg, packageData, 'first packageFilter argument is \"pkg\"');\n    t.equal(packageData.main, 'doom', 'package \"main\" was altered');\n    var packageFile = packageFilterArgs[1];\n    t.equal(packageFile, path.join(dir, 'baz/package.json'), 'second packageFilter argument is \"pkgfile\"');\n    t.end();\n  });\n});","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/resolve/test/filter.js"],"names":["path","require","test","resolve","t","plan","dir","join","__dirname","packageFilterArgs","basedir","packageFilter","pkg","pkgfile","main","err","res","fail","equal","packageData","packageFile","end"],"mappings":"AAAA,IAAIA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAIC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAIE,OAAO,GAAGF,OAAO,CAAC,KAAD,CAArB;;AAEAC,IAAI,CAAC,QAAD,EAAW,UAAUE,CAAV,EAAa;AACxBA,EAAAA,CAAC,CAACC,IAAF,CAAO,CAAP;AACA,MAAIC,GAAG,GAAGN,IAAI,CAACO,IAAL,CAAUC,SAAV,EAAqB,UAArB,CAAV;AACA,MAAIC,iBAAJ;AACAN,EAAAA,OAAO,CAAC,OAAD,EAAU;AACbO,IAAAA,OAAO,EAAEJ,GADI;AAEbK,IAAAA,aAAa,EAAE,UAAUC,GAAV,EAAeC,OAAf,EAAwB;AACnCD,MAAAA,GAAG,CAACE,IAAJ,GAAW,MAAX,CADmC,CAChB;;AACnBL,MAAAA,iBAAiB,GAAG,CAACG,GAAD,EAAMC,OAAN,CAApB;AACA,aAAOD,GAAP;AACH;AANY,GAAV,EAOJ,UAAUG,GAAV,EAAeC,GAAf,EAAoBJ,GAApB,EAAyB;AACxB,QAAIG,GAAJ,EAASX,CAAC,CAACa,IAAF,CAAOF,GAAP;AAETX,IAAAA,CAAC,CAACc,KAAF,CAAQF,GAAR,EAAahB,IAAI,CAACO,IAAL,CAAUD,GAAV,EAAe,aAAf,CAAb,EAA4C,mCAA5C;AAEA,QAAIa,WAAW,GAAGV,iBAAiB,CAAC,CAAD,CAAnC;AACAL,IAAAA,CAAC,CAACc,KAAF,CAAQN,GAAR,EAAaO,WAAb,EAA0B,uCAA1B;AACAf,IAAAA,CAAC,CAACc,KAAF,CAAQC,WAAW,CAACL,IAApB,EAA0B,MAA1B,EAAkC,4BAAlC;AAEA,QAAIM,WAAW,GAAGX,iBAAiB,CAAC,CAAD,CAAnC;AACAL,IAAAA,CAAC,CAACc,KAAF,CACIE,WADJ,EAEIpB,IAAI,CAACO,IAAL,CAAUD,GAAV,EAAe,kBAAf,CAFJ,EAGI,4CAHJ;AAMAF,IAAAA,CAAC,CAACiB,GAAF;AACH,GAxBM,CAAP;AAyBH,CA7BG,CAAJ","sourcesContent":["var path = require('path');\nvar test = require('tape');\nvar resolve = require('../');\n\ntest('filter', function (t) {\n    t.plan(4);\n    var dir = path.join(__dirname, 'resolver');\n    var packageFilterArgs;\n    resolve('./baz', {\n        basedir: dir,\n        packageFilter: function (pkg, pkgfile) {\n            pkg.main = 'doom'; // eslint-disable-line no-param-reassign\n            packageFilterArgs = [pkg, pkgfile];\n            return pkg;\n        }\n    }, function (err, res, pkg) {\n        if (err) t.fail(err);\n\n        t.equal(res, path.join(dir, 'baz/doom.js'), 'changing the package \"main\" works');\n\n        var packageData = packageFilterArgs[0];\n        t.equal(pkg, packageData, 'first packageFilter argument is \"pkg\"');\n        t.equal(packageData.main, 'doom', 'package \"main\" was altered');\n\n        var packageFile = packageFilterArgs[1];\n        t.equal(\n            packageFile,\n            path.join(dir, 'baz/package.json'),\n            'second packageFilter argument is \"pkgfile\"'\n        );\n\n        t.end();\n    });\n});\n"]},"metadata":{},"sourceType":"script"}