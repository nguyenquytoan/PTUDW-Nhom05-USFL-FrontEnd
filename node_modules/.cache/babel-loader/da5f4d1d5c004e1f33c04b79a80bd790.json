{"ast":null,"code":"/**\n * @fileoverview Rule to flag use of duplicate keys in an object.\n * @author Ian Christian Myers\n */\n\"use strict\"; //------------------------------------------------------------------------------\n// Requirements\n//------------------------------------------------------------------------------\n\nconst astUtils = require(\"./utils/ast-utils\"); //------------------------------------------------------------------------------\n// Helpers\n//------------------------------------------------------------------------------\n\n\nconst GET_KIND = /^(?:init|get)$/u;\nconst SET_KIND = /^(?:init|set)$/u;\n/**\n * The class which stores properties' information of an object.\n */\n\nclass ObjectInfo {\n  // eslint-disable-next-line jsdoc/require-description\n\n  /**\n   * @param {ObjectInfo|null} upper The information of the outer object.\n   * @param {ASTNode} node The ObjectExpression node of this information.\n   */\n  constructor(upper, node) {\n    this.upper = upper;\n    this.node = node;\n    this.properties = new Map();\n  }\n  /**\n   * Gets the information of the given Property node.\n   * @param {ASTNode} node The Property node to get.\n   * @returns {{get: boolean, set: boolean}} The information of the property.\n   */\n\n\n  getPropertyInfo(node) {\n    const name = astUtils.getStaticPropertyName(node);\n\n    if (!this.properties.has(name)) {\n      this.properties.set(name, {\n        get: false,\n        set: false\n      });\n    }\n\n    return this.properties.get(name);\n  }\n  /**\n   * Checks whether the given property has been defined already or not.\n   * @param {ASTNode} node The Property node to check.\n   * @returns {boolean} `true` if the property has been defined.\n   */\n\n\n  isPropertyDefined(node) {\n    const entry = this.getPropertyInfo(node);\n    return GET_KIND.test(node.kind) && entry.get || SET_KIND.test(node.kind) && entry.set;\n  }\n  /**\n   * Defines the given property.\n   * @param {ASTNode} node The Property node to define.\n   * @returns {void}\n   */\n\n\n  defineProperty(node) {\n    const entry = this.getPropertyInfo(node);\n\n    if (GET_KIND.test(node.kind)) {\n      entry.get = true;\n    }\n\n    if (SET_KIND.test(node.kind)) {\n      entry.set = true;\n    }\n  }\n\n} //------------------------------------------------------------------------------\n// Rule Definition\n//------------------------------------------------------------------------------\n\n\nmodule.exports = {\n  meta: {\n    type: \"problem\",\n    docs: {\n      description: \"disallow duplicate keys in object literals\",\n      category: \"Possible Errors\",\n      recommended: true,\n      url: \"https://eslint.org/docs/rules/no-dupe-keys\"\n    },\n    schema: [],\n    messages: {\n      unexpected: \"Duplicate key '{{name}}'.\"\n    }\n  },\n\n  create(context) {\n    let info = null;\n    return {\n      ObjectExpression(node) {\n        info = new ObjectInfo(info, node);\n      },\n\n      \"ObjectExpression:exit\"() {\n        info = info.upper;\n      },\n\n      Property(node) {\n        const name = astUtils.getStaticPropertyName(node); // Skip destructuring.\n\n        if (node.parent.type !== \"ObjectExpression\") {\n          return;\n        } // Skip if the name is not static.\n\n\n        if (name === null) {\n          return;\n        } // Reports if the name is defined already.\n\n\n        if (info.isPropertyDefined(node)) {\n          context.report({\n            node: info.node,\n            loc: node.key.loc,\n            messageId: \"unexpected\",\n            data: {\n              name\n            }\n          });\n        } // Update info.\n\n\n        info.defineProperty(node);\n      }\n\n    };\n  }\n\n};","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/eslint/lib/rules/no-dupe-keys.js"],"names":["astUtils","require","GET_KIND","SET_KIND","ObjectInfo","constructor","upper","node","properties","Map","getPropertyInfo","name","getStaticPropertyName","has","set","get","isPropertyDefined","entry","test","kind","defineProperty","module","exports","meta","type","docs","description","category","recommended","url","schema","messages","unexpected","create","context","info","ObjectExpression","Property","parent","report","loc","key","messageId","data"],"mappings":"AAAA;;;;AAKA,a,CAEA;AACA;AACA;;AAEA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,mBAAD,CAAxB,C,CAEA;AACA;AACA;;;AAEA,MAAMC,QAAQ,GAAG,iBAAjB;AACA,MAAMC,QAAQ,GAAG,iBAAjB;AAEA;;;;AAGA,MAAMC,UAAN,CAAiB;AAEb;;AACA;;;;AAIAC,EAAAA,WAAW,CAACC,KAAD,EAAQC,IAAR,EAAc;AACrB,SAAKD,KAAL,GAAaA,KAAb;AACA,SAAKC,IAAL,GAAYA,IAAZ;AACA,SAAKC,UAAL,GAAkB,IAAIC,GAAJ,EAAlB;AACH;AAED;;;;;;;AAKAC,EAAAA,eAAe,CAACH,IAAD,EAAO;AAClB,UAAMI,IAAI,GAAGX,QAAQ,CAACY,qBAAT,CAA+BL,IAA/B,CAAb;;AAEA,QAAI,CAAC,KAAKC,UAAL,CAAgBK,GAAhB,CAAoBF,IAApB,CAAL,EAAgC;AAC5B,WAAKH,UAAL,CAAgBM,GAAhB,CAAoBH,IAApB,EAA0B;AAAEI,QAAAA,GAAG,EAAE,KAAP;AAAcD,QAAAA,GAAG,EAAE;AAAnB,OAA1B;AACH;;AACD,WAAO,KAAKN,UAAL,CAAgBO,GAAhB,CAAoBJ,IAApB,CAAP;AACH;AAED;;;;;;;AAKAK,EAAAA,iBAAiB,CAACT,IAAD,EAAO;AACpB,UAAMU,KAAK,GAAG,KAAKP,eAAL,CAAqBH,IAArB,CAAd;AAEA,WACKL,QAAQ,CAACgB,IAAT,CAAcX,IAAI,CAACY,IAAnB,KAA4BF,KAAK,CAACF,GAAnC,IACCZ,QAAQ,CAACe,IAAT,CAAcX,IAAI,CAACY,IAAnB,KAA4BF,KAAK,CAACH,GAFvC;AAIH;AAED;;;;;;;AAKAM,EAAAA,cAAc,CAACb,IAAD,EAAO;AACjB,UAAMU,KAAK,GAAG,KAAKP,eAAL,CAAqBH,IAArB,CAAd;;AAEA,QAAIL,QAAQ,CAACgB,IAAT,CAAcX,IAAI,CAACY,IAAnB,CAAJ,EAA8B;AAC1BF,MAAAA,KAAK,CAACF,GAAN,GAAY,IAAZ;AACH;;AACD,QAAIZ,QAAQ,CAACe,IAAT,CAAcX,IAAI,CAACY,IAAnB,CAAJ,EAA8B;AAC1BF,MAAAA,KAAK,CAACH,GAAN,GAAY,IAAZ;AACH;AACJ;;AAvDY,C,CA0DjB;AACA;AACA;;;AAEAO,MAAM,CAACC,OAAP,GAAiB;AACbC,EAAAA,IAAI,EAAE;AACFC,IAAAA,IAAI,EAAE,SADJ;AAGFC,IAAAA,IAAI,EAAE;AACFC,MAAAA,WAAW,EAAE,4CADX;AAEFC,MAAAA,QAAQ,EAAE,iBAFR;AAGFC,MAAAA,WAAW,EAAE,IAHX;AAIFC,MAAAA,GAAG,EAAE;AAJH,KAHJ;AAUFC,IAAAA,MAAM,EAAE,EAVN;AAYFC,IAAAA,QAAQ,EAAE;AACNC,MAAAA,UAAU,EAAE;AADN;AAZR,GADO;;AAkBbC,EAAAA,MAAM,CAACC,OAAD,EAAU;AACZ,QAAIC,IAAI,GAAG,IAAX;AAEA,WAAO;AACHC,MAAAA,gBAAgB,CAAC7B,IAAD,EAAO;AACnB4B,QAAAA,IAAI,GAAG,IAAI/B,UAAJ,CAAe+B,IAAf,EAAqB5B,IAArB,CAAP;AACH,OAHE;;AAIH,gCAA0B;AACtB4B,QAAAA,IAAI,GAAGA,IAAI,CAAC7B,KAAZ;AACH,OANE;;AAQH+B,MAAAA,QAAQ,CAAC9B,IAAD,EAAO;AACX,cAAMI,IAAI,GAAGX,QAAQ,CAACY,qBAAT,CAA+BL,IAA/B,CAAb,CADW,CAGX;;AACA,YAAIA,IAAI,CAAC+B,MAAL,CAAYd,IAAZ,KAAqB,kBAAzB,EAA6C;AACzC;AACH,SANU,CAQX;;;AACA,YAAIb,IAAI,KAAK,IAAb,EAAmB;AACf;AACH,SAXU,CAaX;;;AACA,YAAIwB,IAAI,CAACnB,iBAAL,CAAuBT,IAAvB,CAAJ,EAAkC;AAC9B2B,UAAAA,OAAO,CAACK,MAAR,CAAe;AACXhC,YAAAA,IAAI,EAAE4B,IAAI,CAAC5B,IADA;AAEXiC,YAAAA,GAAG,EAAEjC,IAAI,CAACkC,GAAL,CAASD,GAFH;AAGXE,YAAAA,SAAS,EAAE,YAHA;AAIXC,YAAAA,IAAI,EAAE;AAAEhC,cAAAA;AAAF;AAJK,WAAf;AAMH,SArBU,CAuBX;;;AACAwB,QAAAA,IAAI,CAACf,cAAL,CAAoBb,IAApB;AACH;;AAjCE,KAAP;AAmCH;;AAxDY,CAAjB","sourcesContent":["/**\n * @fileoverview Rule to flag use of duplicate keys in an object.\n * @author Ian Christian Myers\n */\n\n\"use strict\";\n\n//------------------------------------------------------------------------------\n// Requirements\n//------------------------------------------------------------------------------\n\nconst astUtils = require(\"./utils/ast-utils\");\n\n//------------------------------------------------------------------------------\n// Helpers\n//------------------------------------------------------------------------------\n\nconst GET_KIND = /^(?:init|get)$/u;\nconst SET_KIND = /^(?:init|set)$/u;\n\n/**\n * The class which stores properties' information of an object.\n */\nclass ObjectInfo {\n\n    // eslint-disable-next-line jsdoc/require-description\n    /**\n     * @param {ObjectInfo|null} upper The information of the outer object.\n     * @param {ASTNode} node The ObjectExpression node of this information.\n     */\n    constructor(upper, node) {\n        this.upper = upper;\n        this.node = node;\n        this.properties = new Map();\n    }\n\n    /**\n     * Gets the information of the given Property node.\n     * @param {ASTNode} node The Property node to get.\n     * @returns {{get: boolean, set: boolean}} The information of the property.\n     */\n    getPropertyInfo(node) {\n        const name = astUtils.getStaticPropertyName(node);\n\n        if (!this.properties.has(name)) {\n            this.properties.set(name, { get: false, set: false });\n        }\n        return this.properties.get(name);\n    }\n\n    /**\n     * Checks whether the given property has been defined already or not.\n     * @param {ASTNode} node The Property node to check.\n     * @returns {boolean} `true` if the property has been defined.\n     */\n    isPropertyDefined(node) {\n        const entry = this.getPropertyInfo(node);\n\n        return (\n            (GET_KIND.test(node.kind) && entry.get) ||\n            (SET_KIND.test(node.kind) && entry.set)\n        );\n    }\n\n    /**\n     * Defines the given property.\n     * @param {ASTNode} node The Property node to define.\n     * @returns {void}\n     */\n    defineProperty(node) {\n        const entry = this.getPropertyInfo(node);\n\n        if (GET_KIND.test(node.kind)) {\n            entry.get = true;\n        }\n        if (SET_KIND.test(node.kind)) {\n            entry.set = true;\n        }\n    }\n}\n\n//------------------------------------------------------------------------------\n// Rule Definition\n//------------------------------------------------------------------------------\n\nmodule.exports = {\n    meta: {\n        type: \"problem\",\n\n        docs: {\n            description: \"disallow duplicate keys in object literals\",\n            category: \"Possible Errors\",\n            recommended: true,\n            url: \"https://eslint.org/docs/rules/no-dupe-keys\"\n        },\n\n        schema: [],\n\n        messages: {\n            unexpected: \"Duplicate key '{{name}}'.\"\n        }\n    },\n\n    create(context) {\n        let info = null;\n\n        return {\n            ObjectExpression(node) {\n                info = new ObjectInfo(info, node);\n            },\n            \"ObjectExpression:exit\"() {\n                info = info.upper;\n            },\n\n            Property(node) {\n                const name = astUtils.getStaticPropertyName(node);\n\n                // Skip destructuring.\n                if (node.parent.type !== \"ObjectExpression\") {\n                    return;\n                }\n\n                // Skip if the name is not static.\n                if (name === null) {\n                    return;\n                }\n\n                // Reports if the name is defined already.\n                if (info.isPropertyDefined(node)) {\n                    context.report({\n                        node: info.node,\n                        loc: node.key.loc,\n                        messageId: \"unexpected\",\n                        data: { name }\n                    });\n                }\n\n                // Update info.\n                info.defineProperty(node);\n            }\n        };\n    }\n};\n"]},"metadata":{},"sourceType":"script"}