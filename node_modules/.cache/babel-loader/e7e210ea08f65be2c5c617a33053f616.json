{"ast":null,"code":"var shellwords = require('shellwords');\n\nvar cp = require('child_process');\n\nvar semver = require('semver');\n\nvar isWSL = require('is-wsl');\n\nvar path = require('path');\n\nvar url = require('url');\n\nvar os = require('os');\n\nvar fs = require('fs');\n\nfunction clone(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nmodule.exports.clone = clone;\n\nvar escapeQuotes = function (str) {\n  if (typeof str === 'string') {\n    return str.replace(/([\"$`\\\\])/g, '\\\\$1');\n  } else {\n    return str;\n  }\n};\n\nvar inArray = function (arr, val) {\n  return arr.indexOf(val) !== -1;\n};\n\nvar notifySendFlags = {\n  u: 'urgency',\n  urgency: 'urgency',\n  t: 'expire-time',\n  time: 'expire-time',\n  timeout: 'expire-time',\n  e: 'expire-time',\n  expire: 'expire-time',\n  'expire-time': 'expire-time',\n  i: 'icon',\n  icon: 'icon',\n  c: 'category',\n  category: 'category',\n  subtitle: 'category',\n  h: 'hint',\n  hint: 'hint'\n};\n\nmodule.exports.command = function (notifier, options, cb) {\n  notifier = shellwords.escape(notifier);\n\n  if (process.env.DEBUG && process.env.DEBUG.indexOf('notifier') !== -1) {\n    console.info('node-notifier debug info (command):');\n    console.info('[notifier path]', notifier);\n    console.info('[notifier options]', options.join(' '));\n  }\n\n  return cp.exec(notifier + ' ' + options.join(' '), function (error, stdout, stderr) {\n    if (error) return cb(error);\n    cb(stderr, stdout);\n  });\n};\n\nmodule.exports.fileCommand = function (notifier, options, cb) {\n  if (process.env.DEBUG && process.env.DEBUG.indexOf('notifier') !== -1) {\n    console.info('node-notifier debug info (fileCommand):');\n    console.info('[notifier path]', notifier);\n    console.info('[notifier options]', options.join(' '));\n  }\n\n  return cp.execFile(notifier, options, function (error, stdout, stderr) {\n    if (error) return cb(error, stdout);\n    cb(stderr, stdout);\n  });\n};\n\nmodule.exports.fileCommandJson = function (notifier, options, cb) {\n  if (process.env.DEBUG && process.env.DEBUG.indexOf('notifier') !== -1) {\n    console.info('node-notifier debug info (fileCommandJson):');\n    console.info('[notifier path]', notifier);\n    console.info('[notifier options]', options.join(' '));\n  }\n\n  return cp.execFile(notifier, options, function (error, stdout, stderr) {\n    if (error) return cb(error, stdout);\n    if (!stdout) return cb(error, {});\n\n    try {\n      var data = JSON.parse(stdout);\n      cb(stderr, data);\n    } catch (e) {\n      cb(e, stdout);\n    }\n  });\n};\n\nmodule.exports.immediateFileCommand = function (notifier, options, cb) {\n  if (process.env.DEBUG && process.env.DEBUG.indexOf('notifier') !== -1) {\n    console.info('node-notifier debug info (notifier):');\n    console.info('[notifier path]', notifier);\n  }\n\n  notifierExists(notifier, function (_, exists) {\n    if (!exists) {\n      return cb(new Error('Notifier (' + notifier + ') not found on system.'));\n    }\n\n    cp.execFile(notifier, options);\n    cb();\n  });\n};\n\nfunction notifierExists(notifier, cb) {\n  return fs.stat(notifier, function (err, stat) {\n    if (!err) return cb(err, stat.isFile()); // Check if Windows alias\n\n    if (path.extname(notifier)) {\n      // Has extentioon, no need to check more\n      return cb(err, false);\n    } // Check if there is an exe file in the directory\n\n\n    return fs.stat(notifier + '.exe', function (err, stat) {\n      if (err) return cb(err, false);\n      cb(err, stat.isFile());\n    });\n  });\n}\n\nvar mapAppIcon = function (options) {\n  if (options.appIcon) {\n    options.icon = options.appIcon;\n    delete options.appIcon;\n  }\n\n  return options;\n};\n\nvar mapText = function (options) {\n  if (options.text) {\n    options.message = options.text;\n    delete options.text;\n  }\n\n  return options;\n};\n\nvar mapIconShorthand = function (options) {\n  if (options.i) {\n    options.icon = options.i;\n    delete options.i;\n  }\n\n  return options;\n};\n\nmodule.exports.mapToNotifySend = function (options) {\n  options = mapAppIcon(options);\n  options = mapText(options);\n\n  for (var key in options) {\n    if (key === 'message' || key === 'title') continue;\n\n    if (options.hasOwnProperty(key) && notifySendFlags[key] !== key) {\n      options[notifySendFlags[key]] = options[key];\n      delete options[key];\n    }\n  }\n\n  return options;\n};\n\nmodule.exports.mapToGrowl = function (options) {\n  options = mapAppIcon(options);\n  options = mapIconShorthand(options);\n  options = mapText(options);\n\n  if (options.icon && !Buffer.isBuffer(options.icon)) {\n    try {\n      options.icon = fs.readFileSync(options.icon);\n    } catch (ex) {}\n  }\n\n  return options;\n};\n\nmodule.exports.mapToMac = function (options) {\n  options = mapIconShorthand(options);\n  options = mapText(options);\n\n  if (options.icon) {\n    options.appIcon = options.icon;\n    delete options.icon;\n  }\n\n  if (options.sound === true) {\n    options.sound = 'Bottle';\n  }\n\n  if (options.sound === false) {\n    delete options.sound;\n  }\n\n  if (options.sound && options.sound.indexOf('Notification.') === 0) {\n    options.sound = 'Bottle';\n  }\n\n  if (options.wait === true) {\n    if (!options.timeout) {\n      options.timeout = 5;\n    }\n\n    delete options.wait;\n  }\n\n  options.json = true;\n  return options;\n};\n\nfunction isArray(arr) {\n  return Object.prototype.toString.call(arr) === '[object Array]';\n}\n\nfunction noop() {}\n\nmodule.exports.actionJackerDecorator = function (emitter, options, fn, mapper) {\n  options = clone(options);\n  fn = fn || noop;\n\n  if (typeof fn !== 'function') {\n    throw new TypeError('The second argument must be a function callback. You have passed ' + typeof fn);\n  }\n\n  return function (err, data) {\n    var resultantData = data;\n    var metadata = {}; // Allow for extra data if resultantData is an object\n\n    if (resultantData && typeof resultantData === 'object') {\n      metadata = resultantData;\n      resultantData = resultantData.activationType;\n    } // Sanitize the data\n\n\n    if (resultantData) {\n      resultantData = resultantData.toLowerCase().trim();\n\n      if (resultantData.match(/^activate|clicked$/)) {\n        resultantData = 'activate';\n      }\n    }\n\n    fn.apply(emitter, [err, resultantData, metadata]);\n    if (!mapper || !resultantData) return;\n    var key = mapper(resultantData);\n    if (!key) return;\n    emitter.emit(key, emitter, options, metadata);\n  };\n};\n\nmodule.exports.constructArgumentList = function (options, extra) {\n  var args = [];\n  extra = extra || {}; // Massive ugly setup. Default args\n\n  var initial = extra.initial || [];\n  var keyExtra = extra.keyExtra || '';\n  var allowedArguments = extra.allowedArguments || [];\n  var noEscape = extra.noEscape !== void 0;\n  var checkForAllowed = extra.allowedArguments !== void 0;\n  var explicitTrue = !!extra.explicitTrue;\n  var keepNewlines = !!extra.keepNewlines;\n  var wrapper = extra.wrapper === void 0 ? '\"' : extra.wrapper;\n\n  var escapeFn = function (arg) {\n    if (isArray(arg)) {\n      return removeNewLines(arg.join(','));\n    }\n\n    if (!noEscape) {\n      arg = escapeQuotes(arg);\n    }\n\n    if (typeof arg === 'string' && !keepNewlines) {\n      arg = removeNewLines(arg);\n    }\n\n    return wrapper + arg + wrapper;\n  };\n\n  initial.forEach(function (val) {\n    args.push(escapeFn(val));\n  });\n\n  for (var key in options) {\n    if (options.hasOwnProperty(key) && (!checkForAllowed || inArray(allowedArguments, key))) {\n      if (explicitTrue && options[key] === true) {\n        args.push('-' + keyExtra + key);\n      } else if (explicitTrue && options[key] === false) continue;else args.push('-' + keyExtra + key, escapeFn(options[key]));\n    }\n  }\n\n  return args;\n};\n\nfunction removeNewLines(str) {\n  var excapedNewline = process.platform === 'win32' ? '\\\\r\\\\n' : '\\\\n';\n  return str.replace(/\\r?\\n/g, excapedNewline);\n}\n/*\n---- Options ----\n[-t] <title string>     | Displayed on the first line of the toast.\n[-m] <message string>   | Displayed on the remaining lines, wrapped.\n[-p] <image URI>        | Display toast with an image, local files only.\n[-w]                    | Wait for toast to expire or activate.\n[-id] <id>              | sets the id for a notification to be able to close it later.\n[-s] <sound URI>        | Sets the sound of the notifications, for possible values see http://msdn.microsoft.com/en-us/library/windows/apps/hh761492.aspx.\n[-silent]               | Don't play a sound file when showing the notifications.\n[-appID] <App.ID>       | Don't create a shortcut but use the provided app id.\n-close <id>             | Closes a currently displayed notification, in order to be able to close a notification the parameter -w must be used to create the notification.\n*/\n\n\nvar allowedToasterFlags = ['t', 'm', 'p', 'w', 'id', 's', 'silent', 'appID', 'close', 'install'];\nvar toasterSoundPrefix = 'Notification.';\nvar toasterDefaultSound = 'Notification.Default';\n\nmodule.exports.mapToWin8 = function (options) {\n  options = mapAppIcon(options);\n  options = mapText(options);\n\n  if (options.icon) {\n    if (/^file:\\/+/.test(options.icon)) {\n      // should parse file protocol URL to path\n      options.p = new url.URL(options.icon).pathname.replace(/^\\/(\\w:\\/)/, '$1').replace(/\\//g, '\\\\');\n    } else {\n      options.p = options.icon;\n    }\n\n    delete options.icon;\n  }\n\n  if (options.message) {\n    // Remove escape char to debug \"HRESULT : 0xC00CE508\" exception\n    options.m = options.message.replace(/\\x1b/g, '');\n    delete options.message;\n  }\n\n  if (options.title) {\n    options.t = options.title;\n    delete options.title;\n  }\n\n  if (options.appName) {\n    options.appID = options.appName;\n    delete options.appName;\n  }\n\n  if (typeof options.remove !== 'undefined') {\n    options.close = options.remove;\n    delete options.remove;\n  }\n\n  if (options.quiet || options.silent) {\n    options.silent = options.quiet || options.silent;\n    delete options.quiet;\n  }\n\n  if (typeof options.sound !== 'undefined') {\n    options.s = options.sound;\n    delete options.sound;\n  }\n\n  if (options.s === false) {\n    options.silent = true;\n    delete options.s;\n  } // Silent takes precedence. Remove sound.\n\n\n  if (options.s && options.silent) {\n    delete options.s;\n  }\n\n  if (options.s === true) {\n    options.s = toasterDefaultSound;\n  }\n\n  if (options.s && options.s.indexOf(toasterSoundPrefix) !== 0) {\n    options.s = toasterDefaultSound;\n  }\n\n  if (options.wait) {\n    options.w = options.wait;\n    delete options.wait;\n  }\n\n  for (var key in options) {\n    // Check if is allowed. If not, delete!\n    if (options.hasOwnProperty(key) && allowedToasterFlags.indexOf(key) === -1) {\n      delete options[key];\n    }\n  }\n\n  return options;\n};\n\nmodule.exports.mapToNotifu = function (options) {\n  options = mapAppIcon(options);\n  options = mapText(options);\n\n  if (options.icon) {\n    options.i = options.icon;\n    delete options.icon;\n  }\n\n  if (options.message) {\n    options.m = options.message;\n    delete options.message;\n  }\n\n  if (options.title) {\n    options.p = options.title;\n    delete options.title;\n  }\n\n  if (options.time) {\n    options.d = options.time;\n    delete options.time;\n  }\n\n  if (options.q !== false) {\n    options.q = true;\n  } else {\n    delete options.q;\n  }\n\n  if (options.quiet === false) {\n    delete options.q;\n    delete options.quiet;\n  }\n\n  if (options.sound) {\n    delete options.q;\n    delete options.sound;\n  }\n\n  if (options.t) {\n    options.d = options.t;\n    delete options.t;\n  }\n\n  if (options.type) {\n    options.t = sanitizeNotifuTypeArgument(options.type);\n    delete options.type;\n  }\n\n  return options;\n};\n\nmodule.exports.isMac = function () {\n  return os.type() === 'Darwin';\n};\n\nmodule.exports.isMountainLion = function () {\n  return os.type() === 'Darwin' && semver.satisfies(garanteeSemverFormat(os.release()), '>=12.0.0');\n};\n\nmodule.exports.isWin8 = function () {\n  return os.type() === 'Windows_NT' && semver.satisfies(garanteeSemverFormat(os.release()), '>=6.2.9200');\n};\n\nmodule.exports.isWSL = function () {\n  return isWSL;\n};\n\nmodule.exports.isLessThanWin8 = function () {\n  return os.type() === 'Windows_NT' && semver.satisfies(garanteeSemverFormat(os.release()), '<6.2.9200');\n};\n\nfunction garanteeSemverFormat(version) {\n  if (version.split('.').length === 2) {\n    version += '.0';\n  }\n\n  return version;\n}\n\nfunction sanitizeNotifuTypeArgument(type) {\n  if (typeof type === 'string' || type instanceof String) {\n    if (type.toLowerCase() === 'info') return 'info';\n    if (type.toLowerCase() === 'warn') return 'warn';\n    if (type.toLowerCase() === 'error') return 'error';\n  }\n\n  return 'info';\n}","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/node-notifier/lib/utils.js"],"names":["shellwords","require","cp","semver","isWSL","path","url","os","fs","clone","obj","JSON","parse","stringify","module","exports","escapeQuotes","str","replace","inArray","arr","val","indexOf","notifySendFlags","u","urgency","t","time","timeout","e","expire","i","icon","c","category","subtitle","h","hint","command","notifier","options","cb","escape","process","env","DEBUG","console","info","join","exec","error","stdout","stderr","fileCommand","execFile","fileCommandJson","data","immediateFileCommand","notifierExists","_","exists","Error","stat","err","isFile","extname","mapAppIcon","appIcon","mapText","text","message","mapIconShorthand","mapToNotifySend","key","hasOwnProperty","mapToGrowl","Buffer","isBuffer","readFileSync","ex","mapToMac","sound","wait","json","isArray","Object","prototype","toString","call","noop","actionJackerDecorator","emitter","fn","mapper","TypeError","resultantData","metadata","activationType","toLowerCase","trim","match","apply","emit","constructArgumentList","extra","args","initial","keyExtra","allowedArguments","noEscape","checkForAllowed","explicitTrue","keepNewlines","wrapper","escapeFn","arg","removeNewLines","forEach","push","excapedNewline","platform","allowedToasterFlags","toasterSoundPrefix","toasterDefaultSound","mapToWin8","test","p","URL","pathname","m","title","appName","appID","remove","close","quiet","silent","s","w","mapToNotifu","d","q","type","sanitizeNotifuTypeArgument","isMac","isMountainLion","satisfies","garanteeSemverFormat","release","isWin8","isLessThanWin8","version","split","length","String"],"mappings":"AAAA,IAAIA,UAAU,GAAGC,OAAO,CAAC,YAAD,CAAxB;;AACA,IAAIC,EAAE,GAAGD,OAAO,CAAC,eAAD,CAAhB;;AACA,IAAIE,MAAM,GAAGF,OAAO,CAAC,QAAD,CAApB;;AACA,IAAIG,KAAK,GAAGH,OAAO,CAAC,QAAD,CAAnB;;AACA,IAAII,IAAI,GAAGJ,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAIK,GAAG,GAAGL,OAAO,CAAC,KAAD,CAAjB;;AACA,IAAIM,EAAE,GAAGN,OAAO,CAAC,IAAD,CAAhB;;AACA,IAAIO,EAAE,GAAGP,OAAO,CAAC,IAAD,CAAhB;;AAEA,SAASQ,KAAT,CAAeC,GAAf,EAAoB;AAClB,SAAOC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeH,GAAf,CAAX,CAAP;AACD;;AAEDI,MAAM,CAACC,OAAP,CAAeN,KAAf,GAAuBA,KAAvB;;AAEA,IAAIO,YAAY,GAAG,UAASC,GAAT,EAAc;AAC/B,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AAC3B,WAAOA,GAAG,CAACC,OAAJ,CAAY,YAAZ,EAA0B,MAA1B,CAAP;AACD,GAFD,MAEO;AACL,WAAOD,GAAP;AACD;AACF,CAND;;AAQA,IAAIE,OAAO,GAAG,UAASC,GAAT,EAAcC,GAAd,EAAmB;AAC/B,SAAOD,GAAG,CAACE,OAAJ,CAAYD,GAAZ,MAAqB,CAAC,CAA7B;AACD,CAFD;;AAIA,IAAIE,eAAe,GAAG;AACpBC,EAAAA,CAAC,EAAE,SADiB;AAEpBC,EAAAA,OAAO,EAAE,SAFW;AAGpBC,EAAAA,CAAC,EAAE,aAHiB;AAIpBC,EAAAA,IAAI,EAAE,aAJc;AAKpBC,EAAAA,OAAO,EAAE,aALW;AAMpBC,EAAAA,CAAC,EAAE,aANiB;AAOpBC,EAAAA,MAAM,EAAE,aAPY;AAQpB,iBAAe,aARK;AASpBC,EAAAA,CAAC,EAAE,MATiB;AAUpBC,EAAAA,IAAI,EAAE,MAVc;AAWpBC,EAAAA,CAAC,EAAE,UAXiB;AAYpBC,EAAAA,QAAQ,EAAE,UAZU;AAapBC,EAAAA,QAAQ,EAAE,UAbU;AAcpBC,EAAAA,CAAC,EAAE,MAdiB;AAepBC,EAAAA,IAAI,EAAE;AAfc,CAAtB;;AAkBAvB,MAAM,CAACC,OAAP,CAAeuB,OAAf,GAAyB,UAASC,QAAT,EAAmBC,OAAnB,EAA4BC,EAA5B,EAAgC;AACvDF,EAAAA,QAAQ,GAAGvC,UAAU,CAAC0C,MAAX,CAAkBH,QAAlB,CAAX;;AACA,MAAII,OAAO,CAACC,GAAR,CAAYC,KAAZ,IAAqBF,OAAO,CAACC,GAAR,CAAYC,KAAZ,CAAkBvB,OAAlB,CAA0B,UAA1B,MAA0C,CAAC,CAApE,EAAuE;AACrEwB,IAAAA,OAAO,CAACC,IAAR,CAAa,qCAAb;AACAD,IAAAA,OAAO,CAACC,IAAR,CAAa,iBAAb,EAAgCR,QAAhC;AACAO,IAAAA,OAAO,CAACC,IAAR,CAAa,oBAAb,EAAmCP,OAAO,CAACQ,IAAR,CAAa,GAAb,CAAnC;AACD;;AAED,SAAO9C,EAAE,CAAC+C,IAAH,CAAQV,QAAQ,GAAG,GAAX,GAAiBC,OAAO,CAACQ,IAAR,CAAa,GAAb,CAAzB,EAA4C,UACjDE,KADiD,EAEjDC,MAFiD,EAGjDC,MAHiD,EAIjD;AACA,QAAIF,KAAJ,EAAW,OAAOT,EAAE,CAACS,KAAD,CAAT;AACXT,IAAAA,EAAE,CAACW,MAAD,EAASD,MAAT,CAAF;AACD,GAPM,CAAP;AAQD,CAhBD;;AAkBArC,MAAM,CAACC,OAAP,CAAesC,WAAf,GAA6B,UAASd,QAAT,EAAmBC,OAAnB,EAA4BC,EAA5B,EAAgC;AAC3D,MAAIE,OAAO,CAACC,GAAR,CAAYC,KAAZ,IAAqBF,OAAO,CAACC,GAAR,CAAYC,KAAZ,CAAkBvB,OAAlB,CAA0B,UAA1B,MAA0C,CAAC,CAApE,EAAuE;AACrEwB,IAAAA,OAAO,CAACC,IAAR,CAAa,yCAAb;AACAD,IAAAA,OAAO,CAACC,IAAR,CAAa,iBAAb,EAAgCR,QAAhC;AACAO,IAAAA,OAAO,CAACC,IAAR,CAAa,oBAAb,EAAmCP,OAAO,CAACQ,IAAR,CAAa,GAAb,CAAnC;AACD;;AAED,SAAO9C,EAAE,CAACoD,QAAH,CAAYf,QAAZ,EAAsBC,OAAtB,EAA+B,UAASU,KAAT,EAAgBC,MAAhB,EAAwBC,MAAxB,EAAgC;AACpE,QAAIF,KAAJ,EAAW,OAAOT,EAAE,CAACS,KAAD,EAAQC,MAAR,CAAT;AACXV,IAAAA,EAAE,CAACW,MAAD,EAASD,MAAT,CAAF;AACD,GAHM,CAAP;AAID,CAXD;;AAaArC,MAAM,CAACC,OAAP,CAAewC,eAAf,GAAiC,UAAShB,QAAT,EAAmBC,OAAnB,EAA4BC,EAA5B,EAAgC;AAC/D,MAAIE,OAAO,CAACC,GAAR,CAAYC,KAAZ,IAAqBF,OAAO,CAACC,GAAR,CAAYC,KAAZ,CAAkBvB,OAAlB,CAA0B,UAA1B,MAA0C,CAAC,CAApE,EAAuE;AACrEwB,IAAAA,OAAO,CAACC,IAAR,CAAa,6CAAb;AACAD,IAAAA,OAAO,CAACC,IAAR,CAAa,iBAAb,EAAgCR,QAAhC;AACAO,IAAAA,OAAO,CAACC,IAAR,CAAa,oBAAb,EAAmCP,OAAO,CAACQ,IAAR,CAAa,GAAb,CAAnC;AACD;;AACD,SAAO9C,EAAE,CAACoD,QAAH,CAAYf,QAAZ,EAAsBC,OAAtB,EAA+B,UAASU,KAAT,EAAgBC,MAAhB,EAAwBC,MAAxB,EAAgC;AACpE,QAAIF,KAAJ,EAAW,OAAOT,EAAE,CAACS,KAAD,EAAQC,MAAR,CAAT;AACX,QAAI,CAACA,MAAL,EAAa,OAAOV,EAAE,CAACS,KAAD,EAAQ,EAAR,CAAT;;AAEb,QAAI;AACF,UAAIM,IAAI,GAAG7C,IAAI,CAACC,KAAL,CAAWuC,MAAX,CAAX;AACAV,MAAAA,EAAE,CAACW,MAAD,EAASI,IAAT,CAAF;AACD,KAHD,CAGE,OAAO3B,CAAP,EAAU;AACVY,MAAAA,EAAE,CAACZ,CAAD,EAAIsB,MAAJ,CAAF;AACD;AACF,GAVM,CAAP;AAWD,CAjBD;;AAmBArC,MAAM,CAACC,OAAP,CAAe0C,oBAAf,GAAsC,UAASlB,QAAT,EAAmBC,OAAnB,EAA4BC,EAA5B,EAAgC;AACpE,MAAIE,OAAO,CAACC,GAAR,CAAYC,KAAZ,IAAqBF,OAAO,CAACC,GAAR,CAAYC,KAAZ,CAAkBvB,OAAlB,CAA0B,UAA1B,MAA0C,CAAC,CAApE,EAAuE;AACrEwB,IAAAA,OAAO,CAACC,IAAR,CAAa,sCAAb;AACAD,IAAAA,OAAO,CAACC,IAAR,CAAa,iBAAb,EAAgCR,QAAhC;AACD;;AAEDmB,EAAAA,cAAc,CAACnB,QAAD,EAAW,UAASoB,CAAT,EAAYC,MAAZ,EAAoB;AAC3C,QAAI,CAACA,MAAL,EAAa;AACX,aAAOnB,EAAE,CAAC,IAAIoB,KAAJ,CAAU,eAAetB,QAAf,GAA0B,wBAApC,CAAD,CAAT;AACD;;AACDrC,IAAAA,EAAE,CAACoD,QAAH,CAAYf,QAAZ,EAAsBC,OAAtB;AACAC,IAAAA,EAAE;AACH,GANa,CAAd;AAOD,CAbD;;AAeA,SAASiB,cAAT,CAAwBnB,QAAxB,EAAkCE,EAAlC,EAAsC;AACpC,SAAOjC,EAAE,CAACsD,IAAH,CAAQvB,QAAR,EAAkB,UAASwB,GAAT,EAAcD,IAAd,EAAoB;AAC3C,QAAI,CAACC,GAAL,EAAU,OAAOtB,EAAE,CAACsB,GAAD,EAAMD,IAAI,CAACE,MAAL,EAAN,CAAT,CADiC,CAG3C;;AACA,QAAI3D,IAAI,CAAC4D,OAAL,CAAa1B,QAAb,CAAJ,EAA4B;AAC1B;AACA,aAAOE,EAAE,CAACsB,GAAD,EAAM,KAAN,CAAT;AACD,KAP0C,CAS3C;;;AACA,WAAOvD,EAAE,CAACsD,IAAH,CAAQvB,QAAQ,GAAG,MAAnB,EAA2B,UAASwB,GAAT,EAAcD,IAAd,EAAoB;AACpD,UAAIC,GAAJ,EAAS,OAAOtB,EAAE,CAACsB,GAAD,EAAM,KAAN,CAAT;AACTtB,MAAAA,EAAE,CAACsB,GAAD,EAAMD,IAAI,CAACE,MAAL,EAAN,CAAF;AACD,KAHM,CAAP;AAID,GAdM,CAAP;AAeD;;AAED,IAAIE,UAAU,GAAG,UAAS1B,OAAT,EAAkB;AACjC,MAAIA,OAAO,CAAC2B,OAAZ,EAAqB;AACnB3B,IAAAA,OAAO,CAACR,IAAR,GAAeQ,OAAO,CAAC2B,OAAvB;AACA,WAAO3B,OAAO,CAAC2B,OAAf;AACD;;AAED,SAAO3B,OAAP;AACD,CAPD;;AASA,IAAI4B,OAAO,GAAG,UAAS5B,OAAT,EAAkB;AAC9B,MAAIA,OAAO,CAAC6B,IAAZ,EAAkB;AAChB7B,IAAAA,OAAO,CAAC8B,OAAR,GAAkB9B,OAAO,CAAC6B,IAA1B;AACA,WAAO7B,OAAO,CAAC6B,IAAf;AACD;;AAED,SAAO7B,OAAP;AACD,CAPD;;AASA,IAAI+B,gBAAgB,GAAG,UAAS/B,OAAT,EAAkB;AACvC,MAAIA,OAAO,CAACT,CAAZ,EAAe;AACbS,IAAAA,OAAO,CAACR,IAAR,GAAeQ,OAAO,CAACT,CAAvB;AACA,WAAOS,OAAO,CAACT,CAAf;AACD;;AAED,SAAOS,OAAP;AACD,CAPD;;AASA1B,MAAM,CAACC,OAAP,CAAeyD,eAAf,GAAiC,UAAShC,OAAT,EAAkB;AACjDA,EAAAA,OAAO,GAAG0B,UAAU,CAAC1B,OAAD,CAApB;AACAA,EAAAA,OAAO,GAAG4B,OAAO,CAAC5B,OAAD,CAAjB;;AAEA,OAAK,IAAIiC,GAAT,IAAgBjC,OAAhB,EAAyB;AACvB,QAAIiC,GAAG,KAAK,SAAR,IAAqBA,GAAG,KAAK,OAAjC,EAA0C;;AAC1C,QAAIjC,OAAO,CAACkC,cAAR,CAAuBD,GAAvB,KAA+BlD,eAAe,CAACkD,GAAD,CAAf,KAAyBA,GAA5D,EAAiE;AAC/DjC,MAAAA,OAAO,CAACjB,eAAe,CAACkD,GAAD,CAAhB,CAAP,GAAgCjC,OAAO,CAACiC,GAAD,CAAvC;AACA,aAAOjC,OAAO,CAACiC,GAAD,CAAd;AACD;AACF;;AAED,SAAOjC,OAAP;AACD,CAbD;;AAeA1B,MAAM,CAACC,OAAP,CAAe4D,UAAf,GAA4B,UAASnC,OAAT,EAAkB;AAC5CA,EAAAA,OAAO,GAAG0B,UAAU,CAAC1B,OAAD,CAApB;AACAA,EAAAA,OAAO,GAAG+B,gBAAgB,CAAC/B,OAAD,CAA1B;AACAA,EAAAA,OAAO,GAAG4B,OAAO,CAAC5B,OAAD,CAAjB;;AAEA,MAAIA,OAAO,CAACR,IAAR,IAAgB,CAAC4C,MAAM,CAACC,QAAP,CAAgBrC,OAAO,CAACR,IAAxB,CAArB,EAAoD;AAClD,QAAI;AACFQ,MAAAA,OAAO,CAACR,IAAR,GAAexB,EAAE,CAACsE,YAAH,CAAgBtC,OAAO,CAACR,IAAxB,CAAf;AACD,KAFD,CAEE,OAAO+C,EAAP,EAAW,CAAE;AAChB;;AAED,SAAOvC,OAAP;AACD,CAZD;;AAcA1B,MAAM,CAACC,OAAP,CAAeiE,QAAf,GAA0B,UAASxC,OAAT,EAAkB;AAC1CA,EAAAA,OAAO,GAAG+B,gBAAgB,CAAC/B,OAAD,CAA1B;AACAA,EAAAA,OAAO,GAAG4B,OAAO,CAAC5B,OAAD,CAAjB;;AAEA,MAAIA,OAAO,CAACR,IAAZ,EAAkB;AAChBQ,IAAAA,OAAO,CAAC2B,OAAR,GAAkB3B,OAAO,CAACR,IAA1B;AACA,WAAOQ,OAAO,CAACR,IAAf;AACD;;AAED,MAAIQ,OAAO,CAACyC,KAAR,KAAkB,IAAtB,EAA4B;AAC1BzC,IAAAA,OAAO,CAACyC,KAAR,GAAgB,QAAhB;AACD;;AAED,MAAIzC,OAAO,CAACyC,KAAR,KAAkB,KAAtB,EAA6B;AAC3B,WAAOzC,OAAO,CAACyC,KAAf;AACD;;AAED,MAAIzC,OAAO,CAACyC,KAAR,IAAiBzC,OAAO,CAACyC,KAAR,CAAc3D,OAAd,CAAsB,eAAtB,MAA2C,CAAhE,EAAmE;AACjEkB,IAAAA,OAAO,CAACyC,KAAR,GAAgB,QAAhB;AACD;;AAED,MAAIzC,OAAO,CAAC0C,IAAR,KAAiB,IAArB,EAA2B;AACzB,QAAI,CAAC1C,OAAO,CAACZ,OAAb,EAAsB;AACpBY,MAAAA,OAAO,CAACZ,OAAR,GAAkB,CAAlB;AACD;;AACD,WAAOY,OAAO,CAAC0C,IAAf;AACD;;AAED1C,EAAAA,OAAO,CAAC2C,IAAR,GAAe,IAAf;AACA,SAAO3C,OAAP;AACD,CA9BD;;AAgCA,SAAS4C,OAAT,CAAiBhE,GAAjB,EAAsB;AACpB,SAAOiE,MAAM,CAACC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BpE,GAA/B,MAAwC,gBAA/C;AACD;;AAED,SAASqE,IAAT,GAAgB,CAAE;;AAClB3E,MAAM,CAACC,OAAP,CAAe2E,qBAAf,GAAuC,UAASC,OAAT,EAAkBnD,OAAlB,EAA2BoD,EAA3B,EAA+BC,MAA/B,EAAuC;AAC5ErD,EAAAA,OAAO,GAAG/B,KAAK,CAAC+B,OAAD,CAAf;AACAoD,EAAAA,EAAE,GAAGA,EAAE,IAAIH,IAAX;;AAEA,MAAI,OAAOG,EAAP,KAAc,UAAlB,EAA8B;AAC5B,UAAM,IAAIE,SAAJ,CACJ,sEACE,OAAOF,EAFL,CAAN;AAID;;AAED,SAAO,UAAS7B,GAAT,EAAcP,IAAd,EAAoB;AACzB,QAAIuC,aAAa,GAAGvC,IAApB;AACA,QAAIwC,QAAQ,GAAG,EAAf,CAFyB,CAGzB;;AACA,QAAID,aAAa,IAAI,OAAOA,aAAP,KAAyB,QAA9C,EAAwD;AACtDC,MAAAA,QAAQ,GAAGD,aAAX;AACAA,MAAAA,aAAa,GAAGA,aAAa,CAACE,cAA9B;AACD,KAPwB,CASzB;;;AACA,QAAIF,aAAJ,EAAmB;AACjBA,MAAAA,aAAa,GAAGA,aAAa,CAACG,WAAd,GAA4BC,IAA5B,EAAhB;;AACA,UAAIJ,aAAa,CAACK,KAAd,CAAoB,oBAApB,CAAJ,EAA+C;AAC7CL,QAAAA,aAAa,GAAG,UAAhB;AACD;AACF;;AAEDH,IAAAA,EAAE,CAACS,KAAH,CAASV,OAAT,EAAkB,CAAC5B,GAAD,EAAMgC,aAAN,EAAqBC,QAArB,CAAlB;AACA,QAAI,CAACH,MAAD,IAAW,CAACE,aAAhB,EAA+B;AAE/B,QAAItB,GAAG,GAAGoB,MAAM,CAACE,aAAD,CAAhB;AACA,QAAI,CAACtB,GAAL,EAAU;AACVkB,IAAAA,OAAO,CAACW,IAAR,CAAa7B,GAAb,EAAkBkB,OAAlB,EAA2BnD,OAA3B,EAAoCwD,QAApC;AACD,GAvBD;AAwBD,CAnCD;;AAqCAlF,MAAM,CAACC,OAAP,CAAewF,qBAAf,GAAuC,UAAS/D,OAAT,EAAkBgE,KAAlB,EAAyB;AAC9D,MAAIC,IAAI,GAAG,EAAX;AACAD,EAAAA,KAAK,GAAGA,KAAK,IAAI,EAAjB,CAF8D,CAI9D;;AACA,MAAIE,OAAO,GAAGF,KAAK,CAACE,OAAN,IAAiB,EAA/B;AACA,MAAIC,QAAQ,GAAGH,KAAK,CAACG,QAAN,IAAkB,EAAjC;AACA,MAAIC,gBAAgB,GAAGJ,KAAK,CAACI,gBAAN,IAA0B,EAAjD;AACA,MAAIC,QAAQ,GAAGL,KAAK,CAACK,QAAN,KAAmB,KAAK,CAAvC;AACA,MAAIC,eAAe,GAAGN,KAAK,CAACI,gBAAN,KAA2B,KAAK,CAAtD;AACA,MAAIG,YAAY,GAAG,CAAC,CAACP,KAAK,CAACO,YAA3B;AACA,MAAIC,YAAY,GAAG,CAAC,CAACR,KAAK,CAACQ,YAA3B;AACA,MAAIC,OAAO,GAAGT,KAAK,CAACS,OAAN,KAAkB,KAAK,CAAvB,GAA2B,GAA3B,GAAiCT,KAAK,CAACS,OAArD;;AAEA,MAAIC,QAAQ,GAAG,UAASC,GAAT,EAAc;AAC3B,QAAI/B,OAAO,CAAC+B,GAAD,CAAX,EAAkB;AAChB,aAAOC,cAAc,CAACD,GAAG,CAACnE,IAAJ,CAAS,GAAT,CAAD,CAArB;AACD;;AAED,QAAI,CAAC6D,QAAL,EAAe;AACbM,MAAAA,GAAG,GAAGnG,YAAY,CAACmG,GAAD,CAAlB;AACD;;AACD,QAAI,OAAOA,GAAP,KAAe,QAAf,IAA2B,CAACH,YAAhC,EAA8C;AAC5CG,MAAAA,GAAG,GAAGC,cAAc,CAACD,GAAD,CAApB;AACD;;AACD,WAAOF,OAAO,GAAGE,GAAV,GAAgBF,OAAvB;AACD,GAZD;;AAcAP,EAAAA,OAAO,CAACW,OAAR,CAAgB,UAAShG,GAAT,EAAc;AAC5BoF,IAAAA,IAAI,CAACa,IAAL,CAAUJ,QAAQ,CAAC7F,GAAD,CAAlB;AACD,GAFD;;AAGA,OAAK,IAAIoD,GAAT,IAAgBjC,OAAhB,EAAyB;AACvB,QACEA,OAAO,CAACkC,cAAR,CAAuBD,GAAvB,MACC,CAACqC,eAAD,IAAoB3F,OAAO,CAACyF,gBAAD,EAAmBnC,GAAnB,CAD5B,CADF,EAGE;AACA,UAAIsC,YAAY,IAAIvE,OAAO,CAACiC,GAAD,CAAP,KAAiB,IAArC,EAA2C;AACzCgC,QAAAA,IAAI,CAACa,IAAL,CAAU,MAAMX,QAAN,GAAiBlC,GAA3B;AACD,OAFD,MAEO,IAAIsC,YAAY,IAAIvE,OAAO,CAACiC,GAAD,CAAP,KAAiB,KAArC,EAA4C,SAA5C,KACFgC,IAAI,CAACa,IAAL,CAAU,MAAMX,QAAN,GAAiBlC,GAA3B,EAAgCyC,QAAQ,CAAC1E,OAAO,CAACiC,GAAD,CAAR,CAAxC;AACN;AACF;;AACD,SAAOgC,IAAP;AACD,CA3CD;;AA6CA,SAASW,cAAT,CAAwBnG,GAAxB,EAA6B;AAC3B,MAAIsG,cAAc,GAAG5E,OAAO,CAAC6E,QAAR,KAAqB,OAArB,GAA+B,QAA/B,GAA0C,KAA/D;AACA,SAAOvG,GAAG,CAACC,OAAJ,CAAY,QAAZ,EAAsBqG,cAAtB,CAAP;AACD;AAED;;;;;;;;;;;;;;AAYA,IAAIE,mBAAmB,GAAG,CACxB,GADwB,EAExB,GAFwB,EAGxB,GAHwB,EAIxB,GAJwB,EAKxB,IALwB,EAMxB,GANwB,EAOxB,QAPwB,EAQxB,OARwB,EASxB,OATwB,EAUxB,SAVwB,CAA1B;AAYA,IAAIC,kBAAkB,GAAG,eAAzB;AACA,IAAIC,mBAAmB,GAAG,sBAA1B;;AACA7G,MAAM,CAACC,OAAP,CAAe6G,SAAf,GAA2B,UAASpF,OAAT,EAAkB;AAC3CA,EAAAA,OAAO,GAAG0B,UAAU,CAAC1B,OAAD,CAApB;AACAA,EAAAA,OAAO,GAAG4B,OAAO,CAAC5B,OAAD,CAAjB;;AAEA,MAAIA,OAAO,CAACR,IAAZ,EAAkB;AAChB,QAAI,YAAY6F,IAAZ,CAAiBrF,OAAO,CAACR,IAAzB,CAAJ,EAAoC;AAClC;AACAQ,MAAAA,OAAO,CAACsF,CAAR,GAAY,IAAIxH,GAAG,CAACyH,GAAR,CAAYvF,OAAO,CAACR,IAApB,EAA0BgG,QAA1B,CACT9G,OADS,CACD,YADC,EACa,IADb,EAETA,OAFS,CAED,KAFC,EAEM,IAFN,CAAZ;AAGD,KALD,MAKO;AACLsB,MAAAA,OAAO,CAACsF,CAAR,GAAYtF,OAAO,CAACR,IAApB;AACD;;AACD,WAAOQ,OAAO,CAACR,IAAf;AACD;;AAED,MAAIQ,OAAO,CAAC8B,OAAZ,EAAqB;AACnB;AACA9B,IAAAA,OAAO,CAACyF,CAAR,GAAYzF,OAAO,CAAC8B,OAAR,CAAgBpD,OAAhB,CAAwB,OAAxB,EAAiC,EAAjC,CAAZ;AACA,WAAOsB,OAAO,CAAC8B,OAAf;AACD;;AAED,MAAI9B,OAAO,CAAC0F,KAAZ,EAAmB;AACjB1F,IAAAA,OAAO,CAACd,CAAR,GAAYc,OAAO,CAAC0F,KAApB;AACA,WAAO1F,OAAO,CAAC0F,KAAf;AACD;;AAED,MAAI1F,OAAO,CAAC2F,OAAZ,EAAqB;AACnB3F,IAAAA,OAAO,CAAC4F,KAAR,GAAgB5F,OAAO,CAAC2F,OAAxB;AACA,WAAO3F,OAAO,CAAC2F,OAAf;AACD;;AAED,MAAI,OAAO3F,OAAO,CAAC6F,MAAf,KAA0B,WAA9B,EAA2C;AACzC7F,IAAAA,OAAO,CAAC8F,KAAR,GAAgB9F,OAAO,CAAC6F,MAAxB;AACA,WAAO7F,OAAO,CAAC6F,MAAf;AACD;;AAED,MAAI7F,OAAO,CAAC+F,KAAR,IAAiB/F,OAAO,CAACgG,MAA7B,EAAqC;AACnChG,IAAAA,OAAO,CAACgG,MAAR,GAAiBhG,OAAO,CAAC+F,KAAR,IAAiB/F,OAAO,CAACgG,MAA1C;AACA,WAAOhG,OAAO,CAAC+F,KAAf;AACD;;AAED,MAAI,OAAO/F,OAAO,CAACyC,KAAf,KAAyB,WAA7B,EAA0C;AACxCzC,IAAAA,OAAO,CAACiG,CAAR,GAAYjG,OAAO,CAACyC,KAApB;AACA,WAAOzC,OAAO,CAACyC,KAAf;AACD;;AAED,MAAIzC,OAAO,CAACiG,CAAR,KAAc,KAAlB,EAAyB;AACvBjG,IAAAA,OAAO,CAACgG,MAAR,GAAiB,IAAjB;AACA,WAAOhG,OAAO,CAACiG,CAAf;AACD,GAlD0C,CAoD3C;;;AACA,MAAIjG,OAAO,CAACiG,CAAR,IAAajG,OAAO,CAACgG,MAAzB,EAAiC;AAC/B,WAAOhG,OAAO,CAACiG,CAAf;AACD;;AAED,MAAIjG,OAAO,CAACiG,CAAR,KAAc,IAAlB,EAAwB;AACtBjG,IAAAA,OAAO,CAACiG,CAAR,GAAYd,mBAAZ;AACD;;AAED,MAAInF,OAAO,CAACiG,CAAR,IAAajG,OAAO,CAACiG,CAAR,CAAUnH,OAAV,CAAkBoG,kBAAlB,MAA0C,CAA3D,EAA8D;AAC5DlF,IAAAA,OAAO,CAACiG,CAAR,GAAYd,mBAAZ;AACD;;AAED,MAAInF,OAAO,CAAC0C,IAAZ,EAAkB;AAChB1C,IAAAA,OAAO,CAACkG,CAAR,GAAYlG,OAAO,CAAC0C,IAApB;AACA,WAAO1C,OAAO,CAAC0C,IAAf;AACD;;AAED,OAAK,IAAIT,GAAT,IAAgBjC,OAAhB,EAAyB;AACvB;AACA,QACEA,OAAO,CAACkC,cAAR,CAAuBD,GAAvB,KACAgD,mBAAmB,CAACnG,OAApB,CAA4BmD,GAA5B,MAAqC,CAAC,CAFxC,EAGE;AACA,aAAOjC,OAAO,CAACiC,GAAD,CAAd;AACD;AACF;;AAED,SAAOjC,OAAP;AACD,CAjFD;;AAmFA1B,MAAM,CAACC,OAAP,CAAe4H,WAAf,GAA6B,UAASnG,OAAT,EAAkB;AAC7CA,EAAAA,OAAO,GAAG0B,UAAU,CAAC1B,OAAD,CAApB;AACAA,EAAAA,OAAO,GAAG4B,OAAO,CAAC5B,OAAD,CAAjB;;AAEA,MAAIA,OAAO,CAACR,IAAZ,EAAkB;AAChBQ,IAAAA,OAAO,CAACT,CAAR,GAAYS,OAAO,CAACR,IAApB;AACA,WAAOQ,OAAO,CAACR,IAAf;AACD;;AAED,MAAIQ,OAAO,CAAC8B,OAAZ,EAAqB;AACnB9B,IAAAA,OAAO,CAACyF,CAAR,GAAYzF,OAAO,CAAC8B,OAApB;AACA,WAAO9B,OAAO,CAAC8B,OAAf;AACD;;AAED,MAAI9B,OAAO,CAAC0F,KAAZ,EAAmB;AACjB1F,IAAAA,OAAO,CAACsF,CAAR,GAAYtF,OAAO,CAAC0F,KAApB;AACA,WAAO1F,OAAO,CAAC0F,KAAf;AACD;;AAED,MAAI1F,OAAO,CAACb,IAAZ,EAAkB;AAChBa,IAAAA,OAAO,CAACoG,CAAR,GAAYpG,OAAO,CAACb,IAApB;AACA,WAAOa,OAAO,CAACb,IAAf;AACD;;AAED,MAAIa,OAAO,CAACqG,CAAR,KAAc,KAAlB,EAAyB;AACvBrG,IAAAA,OAAO,CAACqG,CAAR,GAAY,IAAZ;AACD,GAFD,MAEO;AACL,WAAOrG,OAAO,CAACqG,CAAf;AACD;;AAED,MAAIrG,OAAO,CAAC+F,KAAR,KAAkB,KAAtB,EAA6B;AAC3B,WAAO/F,OAAO,CAACqG,CAAf;AACA,WAAOrG,OAAO,CAAC+F,KAAf;AACD;;AAED,MAAI/F,OAAO,CAACyC,KAAZ,EAAmB;AACjB,WAAOzC,OAAO,CAACqG,CAAf;AACA,WAAOrG,OAAO,CAACyC,KAAf;AACD;;AAED,MAAIzC,OAAO,CAACd,CAAZ,EAAe;AACbc,IAAAA,OAAO,CAACoG,CAAR,GAAYpG,OAAO,CAACd,CAApB;AACA,WAAOc,OAAO,CAACd,CAAf;AACD;;AAED,MAAIc,OAAO,CAACsG,IAAZ,EAAkB;AAChBtG,IAAAA,OAAO,CAACd,CAAR,GAAYqH,0BAA0B,CAACvG,OAAO,CAACsG,IAAT,CAAtC;AACA,WAAOtG,OAAO,CAACsG,IAAf;AACD;;AAED,SAAOtG,OAAP;AACD,CAnDD;;AAqDA1B,MAAM,CAACC,OAAP,CAAeiI,KAAf,GAAuB,YAAW;AAChC,SAAOzI,EAAE,CAACuI,IAAH,OAAc,QAArB;AACD,CAFD;;AAIAhI,MAAM,CAACC,OAAP,CAAekI,cAAf,GAAgC,YAAW;AACzC,SACE1I,EAAE,CAACuI,IAAH,OAAc,QAAd,IACA3I,MAAM,CAAC+I,SAAP,CAAiBC,oBAAoB,CAAC5I,EAAE,CAAC6I,OAAH,EAAD,CAArC,EAAqD,UAArD,CAFF;AAID,CALD;;AAOAtI,MAAM,CAACC,OAAP,CAAesI,MAAf,GAAwB,YAAW;AACjC,SACE9I,EAAE,CAACuI,IAAH,OAAc,YAAd,IACA3I,MAAM,CAAC+I,SAAP,CAAiBC,oBAAoB,CAAC5I,EAAE,CAAC6I,OAAH,EAAD,CAArC,EAAqD,YAArD,CAFF;AAID,CALD;;AAOAtI,MAAM,CAACC,OAAP,CAAeX,KAAf,GAAuB,YAAW;AAChC,SAAOA,KAAP;AACD,CAFD;;AAIAU,MAAM,CAACC,OAAP,CAAeuI,cAAf,GAAgC,YAAW;AACzC,SACE/I,EAAE,CAACuI,IAAH,OAAc,YAAd,IACA3I,MAAM,CAAC+I,SAAP,CAAiBC,oBAAoB,CAAC5I,EAAE,CAAC6I,OAAH,EAAD,CAArC,EAAqD,WAArD,CAFF;AAID,CALD;;AAOA,SAASD,oBAAT,CAA8BI,OAA9B,EAAuC;AACrC,MAAIA,OAAO,CAACC,KAAR,CAAc,GAAd,EAAmBC,MAAnB,KAA8B,CAAlC,EAAqC;AACnCF,IAAAA,OAAO,IAAI,IAAX;AACD;;AACD,SAAOA,OAAP;AACD;;AAED,SAASR,0BAAT,CAAoCD,IAApC,EAA0C;AACxC,MAAI,OAAOA,IAAP,KAAgB,QAAhB,IAA4BA,IAAI,YAAYY,MAAhD,EAAwD;AACtD,QAAIZ,IAAI,CAAC5C,WAAL,OAAuB,MAA3B,EAAmC,OAAO,MAAP;AACnC,QAAI4C,IAAI,CAAC5C,WAAL,OAAuB,MAA3B,EAAmC,OAAO,MAAP;AACnC,QAAI4C,IAAI,CAAC5C,WAAL,OAAuB,OAA3B,EAAoC,OAAO,OAAP;AACrC;;AAED,SAAO,MAAP;AACD","sourcesContent":["var shellwords = require('shellwords');\nvar cp = require('child_process');\nvar semver = require('semver');\nvar isWSL = require('is-wsl');\nvar path = require('path');\nvar url = require('url');\nvar os = require('os');\nvar fs = require('fs');\n\nfunction clone(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nmodule.exports.clone = clone;\n\nvar escapeQuotes = function(str) {\n  if (typeof str === 'string') {\n    return str.replace(/([\"$`\\\\])/g, '\\\\$1');\n  } else {\n    return str;\n  }\n};\n\nvar inArray = function(arr, val) {\n  return arr.indexOf(val) !== -1;\n};\n\nvar notifySendFlags = {\n  u: 'urgency',\n  urgency: 'urgency',\n  t: 'expire-time',\n  time: 'expire-time',\n  timeout: 'expire-time',\n  e: 'expire-time',\n  expire: 'expire-time',\n  'expire-time': 'expire-time',\n  i: 'icon',\n  icon: 'icon',\n  c: 'category',\n  category: 'category',\n  subtitle: 'category',\n  h: 'hint',\n  hint: 'hint'\n};\n\nmodule.exports.command = function(notifier, options, cb) {\n  notifier = shellwords.escape(notifier);\n  if (process.env.DEBUG && process.env.DEBUG.indexOf('notifier') !== -1) {\n    console.info('node-notifier debug info (command):');\n    console.info('[notifier path]', notifier);\n    console.info('[notifier options]', options.join(' '));\n  }\n\n  return cp.exec(notifier + ' ' + options.join(' '), function(\n    error,\n    stdout,\n    stderr\n  ) {\n    if (error) return cb(error);\n    cb(stderr, stdout);\n  });\n};\n\nmodule.exports.fileCommand = function(notifier, options, cb) {\n  if (process.env.DEBUG && process.env.DEBUG.indexOf('notifier') !== -1) {\n    console.info('node-notifier debug info (fileCommand):');\n    console.info('[notifier path]', notifier);\n    console.info('[notifier options]', options.join(' '));\n  }\n\n  return cp.execFile(notifier, options, function(error, stdout, stderr) {\n    if (error) return cb(error, stdout);\n    cb(stderr, stdout);\n  });\n};\n\nmodule.exports.fileCommandJson = function(notifier, options, cb) {\n  if (process.env.DEBUG && process.env.DEBUG.indexOf('notifier') !== -1) {\n    console.info('node-notifier debug info (fileCommandJson):');\n    console.info('[notifier path]', notifier);\n    console.info('[notifier options]', options.join(' '));\n  }\n  return cp.execFile(notifier, options, function(error, stdout, stderr) {\n    if (error) return cb(error, stdout);\n    if (!stdout) return cb(error, {});\n\n    try {\n      var data = JSON.parse(stdout);\n      cb(stderr, data);\n    } catch (e) {\n      cb(e, stdout);\n    }\n  });\n};\n\nmodule.exports.immediateFileCommand = function(notifier, options, cb) {\n  if (process.env.DEBUG && process.env.DEBUG.indexOf('notifier') !== -1) {\n    console.info('node-notifier debug info (notifier):');\n    console.info('[notifier path]', notifier);\n  }\n\n  notifierExists(notifier, function(_, exists) {\n    if (!exists) {\n      return cb(new Error('Notifier (' + notifier + ') not found on system.'));\n    }\n    cp.execFile(notifier, options);\n    cb();\n  });\n};\n\nfunction notifierExists(notifier, cb) {\n  return fs.stat(notifier, function(err, stat) {\n    if (!err) return cb(err, stat.isFile());\n\n    // Check if Windows alias\n    if (path.extname(notifier)) {\n      // Has extentioon, no need to check more\n      return cb(err, false);\n    }\n\n    // Check if there is an exe file in the directory\n    return fs.stat(notifier + '.exe', function(err, stat) {\n      if (err) return cb(err, false);\n      cb(err, stat.isFile());\n    });\n  });\n}\n\nvar mapAppIcon = function(options) {\n  if (options.appIcon) {\n    options.icon = options.appIcon;\n    delete options.appIcon;\n  }\n\n  return options;\n};\n\nvar mapText = function(options) {\n  if (options.text) {\n    options.message = options.text;\n    delete options.text;\n  }\n\n  return options;\n};\n\nvar mapIconShorthand = function(options) {\n  if (options.i) {\n    options.icon = options.i;\n    delete options.i;\n  }\n\n  return options;\n};\n\nmodule.exports.mapToNotifySend = function(options) {\n  options = mapAppIcon(options);\n  options = mapText(options);\n\n  for (var key in options) {\n    if (key === 'message' || key === 'title') continue;\n    if (options.hasOwnProperty(key) && notifySendFlags[key] !== key) {\n      options[notifySendFlags[key]] = options[key];\n      delete options[key];\n    }\n  }\n\n  return options;\n};\n\nmodule.exports.mapToGrowl = function(options) {\n  options = mapAppIcon(options);\n  options = mapIconShorthand(options);\n  options = mapText(options);\n\n  if (options.icon && !Buffer.isBuffer(options.icon)) {\n    try {\n      options.icon = fs.readFileSync(options.icon);\n    } catch (ex) {}\n  }\n\n  return options;\n};\n\nmodule.exports.mapToMac = function(options) {\n  options = mapIconShorthand(options);\n  options = mapText(options);\n\n  if (options.icon) {\n    options.appIcon = options.icon;\n    delete options.icon;\n  }\n\n  if (options.sound === true) {\n    options.sound = 'Bottle';\n  }\n\n  if (options.sound === false) {\n    delete options.sound;\n  }\n\n  if (options.sound && options.sound.indexOf('Notification.') === 0) {\n    options.sound = 'Bottle';\n  }\n\n  if (options.wait === true) {\n    if (!options.timeout) {\n      options.timeout = 5;\n    }\n    delete options.wait;\n  }\n\n  options.json = true;\n  return options;\n};\n\nfunction isArray(arr) {\n  return Object.prototype.toString.call(arr) === '[object Array]';\n}\n\nfunction noop() {}\nmodule.exports.actionJackerDecorator = function(emitter, options, fn, mapper) {\n  options = clone(options);\n  fn = fn || noop;\n\n  if (typeof fn !== 'function') {\n    throw new TypeError(\n      'The second argument must be a function callback. You have passed ' +\n        typeof fn\n    );\n  }\n\n  return function(err, data) {\n    var resultantData = data;\n    var metadata = {};\n    // Allow for extra data if resultantData is an object\n    if (resultantData && typeof resultantData === 'object') {\n      metadata = resultantData;\n      resultantData = resultantData.activationType;\n    }\n\n    // Sanitize the data\n    if (resultantData) {\n      resultantData = resultantData.toLowerCase().trim();\n      if (resultantData.match(/^activate|clicked$/)) {\n        resultantData = 'activate';\n      }\n    }\n\n    fn.apply(emitter, [err, resultantData, metadata]);\n    if (!mapper || !resultantData) return;\n\n    var key = mapper(resultantData);\n    if (!key) return;\n    emitter.emit(key, emitter, options, metadata);\n  };\n};\n\nmodule.exports.constructArgumentList = function(options, extra) {\n  var args = [];\n  extra = extra || {};\n\n  // Massive ugly setup. Default args\n  var initial = extra.initial || [];\n  var keyExtra = extra.keyExtra || '';\n  var allowedArguments = extra.allowedArguments || [];\n  var noEscape = extra.noEscape !== void 0;\n  var checkForAllowed = extra.allowedArguments !== void 0;\n  var explicitTrue = !!extra.explicitTrue;\n  var keepNewlines = !!extra.keepNewlines;\n  var wrapper = extra.wrapper === void 0 ? '\"' : extra.wrapper;\n\n  var escapeFn = function(arg) {\n    if (isArray(arg)) {\n      return removeNewLines(arg.join(','));\n    }\n\n    if (!noEscape) {\n      arg = escapeQuotes(arg);\n    }\n    if (typeof arg === 'string' && !keepNewlines) {\n      arg = removeNewLines(arg);\n    }\n    return wrapper + arg + wrapper;\n  };\n\n  initial.forEach(function(val) {\n    args.push(escapeFn(val));\n  });\n  for (var key in options) {\n    if (\n      options.hasOwnProperty(key) &&\n      (!checkForAllowed || inArray(allowedArguments, key))\n    ) {\n      if (explicitTrue && options[key] === true) {\n        args.push('-' + keyExtra + key);\n      } else if (explicitTrue && options[key] === false) continue;\n      else args.push('-' + keyExtra + key, escapeFn(options[key]));\n    }\n  }\n  return args;\n};\n\nfunction removeNewLines(str) {\n  var excapedNewline = process.platform === 'win32' ? '\\\\r\\\\n' : '\\\\n';\n  return str.replace(/\\r?\\n/g, excapedNewline);\n}\n\n/*\n---- Options ----\n[-t] <title string>     | Displayed on the first line of the toast.\n[-m] <message string>   | Displayed on the remaining lines, wrapped.\n[-p] <image URI>        | Display toast with an image, local files only.\n[-w]                    | Wait for toast to expire or activate.\n[-id] <id>              | sets the id for a notification to be able to close it later.\n[-s] <sound URI>        | Sets the sound of the notifications, for possible values see http://msdn.microsoft.com/en-us/library/windows/apps/hh761492.aspx.\n[-silent]               | Don't play a sound file when showing the notifications.\n[-appID] <App.ID>       | Don't create a shortcut but use the provided app id.\n-close <id>             | Closes a currently displayed notification, in order to be able to close a notification the parameter -w must be used to create the notification.\n*/\nvar allowedToasterFlags = [\n  't',\n  'm',\n  'p',\n  'w',\n  'id',\n  's',\n  'silent',\n  'appID',\n  'close',\n  'install'\n];\nvar toasterSoundPrefix = 'Notification.';\nvar toasterDefaultSound = 'Notification.Default';\nmodule.exports.mapToWin8 = function(options) {\n  options = mapAppIcon(options);\n  options = mapText(options);\n\n  if (options.icon) {\n    if (/^file:\\/+/.test(options.icon)) {\n      // should parse file protocol URL to path\n      options.p = new url.URL(options.icon).pathname\n        .replace(/^\\/(\\w:\\/)/, '$1')\n        .replace(/\\//g, '\\\\');\n    } else {\n      options.p = options.icon;\n    }\n    delete options.icon;\n  }\n\n  if (options.message) {\n    // Remove escape char to debug \"HRESULT : 0xC00CE508\" exception\n    options.m = options.message.replace(/\\x1b/g, '');\n    delete options.message;\n  }\n\n  if (options.title) {\n    options.t = options.title;\n    delete options.title;\n  }\n\n  if (options.appName) {\n    options.appID = options.appName;\n    delete options.appName;\n  }\n\n  if (typeof options.remove !== 'undefined') {\n    options.close = options.remove;\n    delete options.remove;\n  }\n\n  if (options.quiet || options.silent) {\n    options.silent = options.quiet || options.silent;\n    delete options.quiet;\n  }\n\n  if (typeof options.sound !== 'undefined') {\n    options.s = options.sound;\n    delete options.sound;\n  }\n\n  if (options.s === false) {\n    options.silent = true;\n    delete options.s;\n  }\n\n  // Silent takes precedence. Remove sound.\n  if (options.s && options.silent) {\n    delete options.s;\n  }\n\n  if (options.s === true) {\n    options.s = toasterDefaultSound;\n  }\n\n  if (options.s && options.s.indexOf(toasterSoundPrefix) !== 0) {\n    options.s = toasterDefaultSound;\n  }\n\n  if (options.wait) {\n    options.w = options.wait;\n    delete options.wait;\n  }\n\n  for (var key in options) {\n    // Check if is allowed. If not, delete!\n    if (\n      options.hasOwnProperty(key) &&\n      allowedToasterFlags.indexOf(key) === -1\n    ) {\n      delete options[key];\n    }\n  }\n\n  return options;\n};\n\nmodule.exports.mapToNotifu = function(options) {\n  options = mapAppIcon(options);\n  options = mapText(options);\n\n  if (options.icon) {\n    options.i = options.icon;\n    delete options.icon;\n  }\n\n  if (options.message) {\n    options.m = options.message;\n    delete options.message;\n  }\n\n  if (options.title) {\n    options.p = options.title;\n    delete options.title;\n  }\n\n  if (options.time) {\n    options.d = options.time;\n    delete options.time;\n  }\n\n  if (options.q !== false) {\n    options.q = true;\n  } else {\n    delete options.q;\n  }\n\n  if (options.quiet === false) {\n    delete options.q;\n    delete options.quiet;\n  }\n\n  if (options.sound) {\n    delete options.q;\n    delete options.sound;\n  }\n\n  if (options.t) {\n    options.d = options.t;\n    delete options.t;\n  }\n\n  if (options.type) {\n    options.t = sanitizeNotifuTypeArgument(options.type);\n    delete options.type;\n  }\n\n  return options;\n};\n\nmodule.exports.isMac = function() {\n  return os.type() === 'Darwin';\n};\n\nmodule.exports.isMountainLion = function() {\n  return (\n    os.type() === 'Darwin' &&\n    semver.satisfies(garanteeSemverFormat(os.release()), '>=12.0.0')\n  );\n};\n\nmodule.exports.isWin8 = function() {\n  return (\n    os.type() === 'Windows_NT' &&\n    semver.satisfies(garanteeSemverFormat(os.release()), '>=6.2.9200')\n  );\n};\n\nmodule.exports.isWSL = function() {\n  return isWSL;\n};\n\nmodule.exports.isLessThanWin8 = function() {\n  return (\n    os.type() === 'Windows_NT' &&\n    semver.satisfies(garanteeSemverFormat(os.release()), '<6.2.9200')\n  );\n};\n\nfunction garanteeSemverFormat(version) {\n  if (version.split('.').length === 2) {\n    version += '.0';\n  }\n  return version;\n}\n\nfunction sanitizeNotifuTypeArgument(type) {\n  if (typeof type === 'string' || type instanceof String) {\n    if (type.toLowerCase() === 'info') return 'info';\n    if (type.toLowerCase() === 'warn') return 'warn';\n    if (type.toLowerCase() === 'error') return 'error';\n  }\n\n  return 'info';\n}\n"]},"metadata":{},"sourceType":"script"}