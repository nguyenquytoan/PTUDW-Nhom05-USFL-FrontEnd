{"ast":null,"code":"\"use strict\";\n\nvar _ava = _interopRequireDefault(require(\"ava\"));\n\nvar _ = _interopRequireDefault(require(\"..\"));\n\nvar _helpers = require(\"./util/helpers\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\n(0, _ava.default)('container#append', function (t) {\n  var out = (0, _helpers.parse)('h1', function (selectors) {\n    var selector = selectors.first;\n    var clone = selector.first.clone({\n      value: 'h2'\n    });\n    selectors.append(clone);\n  });\n  t.deepEqual(out, 'h1,h2');\n});\n(0, _ava.default)('container#prepend', function (t) {\n  var out = (0, _helpers.parse)('h2', function (selectors) {\n    var selector = selectors.first;\n    var clone = selector.first.clone({\n      value: 'h1'\n    });\n    selectors.prepend(clone);\n  });\n  t.deepEqual(out, 'h1,h2');\n});\n(0, _ava.default)('container#each', function (t) {\n  var str = '';\n  (0, _helpers.parse)('h1, h2:not(h3, h4)', function (selectors) {\n    selectors.each(function (selector) {\n      if (selector.first.type === 'tag') {\n        str += selector.first.value;\n      }\n    });\n  });\n  t.deepEqual(str, 'h1h2');\n});\n(0, _ava.default)('container#each (safe iteration)', function (t) {\n  var out = (0, _helpers.parse)('.x, .y', function (selectors) {\n    selectors.each(function (selector) {\n      selector.parent.insertBefore(selector, _.default.className({\n        value: 'b'\n      }));\n      selector.parent.insertAfter(selector, _.default.className({\n        value: 'a'\n      }));\n    });\n  });\n  t.deepEqual(out, '.b,.x,.a,.b, .y,.a');\n});\n(0, _ava.default)('container#each (early exit)', function (t) {\n  var str = '';\n  (0, _helpers.parse)('h1, h2, h3, h4', function (selectors) {\n    var eachReturn = selectors.each(function (selector) {\n      var tag = selector.first.value;\n      str += tag;\n      return tag !== 'h2';\n    });\n    t.false(eachReturn);\n  });\n  t.deepEqual(str, 'h1h2');\n});\n(0, _ava.default)('container#walk', function (t) {\n  var str = '';\n  (0, _helpers.parse)('h1, h2:not(h3, h4)', function (selectors) {\n    selectors.walk(function (selector) {\n      if (selector.type === 'tag') {\n        str += selector.value;\n      }\n    });\n  });\n  t.deepEqual(str, 'h1h2h3h4');\n});\n(0, _ava.default)('container#walk (safe iteration)', function (t) {\n  var out = (0, _helpers.parse)('[class] + *[href] *:not(*.green)', function (selectors) {\n    selectors.walkUniversals(function (selector) {\n      var next = selector.next();\n\n      if (next && next.type !== 'combinator') {\n        selector.remove();\n      }\n    });\n  });\n  t.deepEqual(out, '[class] + [href] :not(.green)');\n});\n(0, _ava.default)('container#walk (early exit)', function (t) {\n  var str = '';\n  (0, _helpers.parse)('h1, h2:not(h3, h4)', function (selectors) {\n    var walkReturn = selectors.walk(function (selector) {\n      if (selector.type === 'tag') {\n        var tag = selector.value;\n        str += tag;\n        return tag !== 'h3';\n      }\n    });\n    t.false(walkReturn);\n  });\n  t.deepEqual(str, 'h1h2h3');\n});\n(0, _ava.default)('container#walkAttribute', function (t) {\n  var out = (0, _helpers.parse)('[href][class].class', function (selectors) {\n    selectors.walkAttributes(function (attr) {\n      if (attr.attribute === 'class') {\n        attr.remove();\n      }\n    });\n  });\n  t.deepEqual(out, '[href].class');\n});\n(0, _ava.default)('container#walkClass', function (t) {\n  var out = (0, _helpers.parse)('.one, .two, .three:not(.four, .five)', function (selectors) {\n    selectors.walkClasses(function (className) {\n      className.value = className.value.slice(0, 1);\n    });\n  });\n  t.deepEqual(out, '.o, .t, .t:not(.f, .f)');\n});\n(0, _ava.default)('container#walkCombinator', function (t) {\n  var out = (0, _helpers.parse)('h1 h2 h3 h4', function (selectors) {\n    selectors.walkCombinators(function (comment) {\n      comment.remove();\n    });\n  });\n  t.deepEqual(out, 'h1h2h3h4');\n});\n(0, _ava.default)('container#walkComment', function (t) {\n  var out = (0, _helpers.parse)('.one/*test*/.two', function (selectors) {\n    selectors.walkComments(function (comment) {\n      comment.remove();\n    });\n  });\n  t.deepEqual(out, '.one.two');\n});\n(0, _ava.default)('container#walkId', function (t) {\n  var out = (0, _helpers.parse)('h1#one, h2#two', function (selectors) {\n    selectors.walkIds(function (id) {\n      id.value = id.value.slice(0, 1);\n    });\n  });\n  t.deepEqual(out, 'h1#o, h2#t');\n});\n(0, _ava.default)('container#walkNesting', function (t) {\n  var out = (0, _helpers.parse)('& h1', function (selectors) {\n    selectors.walkNesting(function (node) {\n      node.replaceWith(_.default.tag({\n        value: 'body'\n      }));\n    });\n  });\n  t.deepEqual(out, 'body h1');\n});\n(0, _ava.default)('container#walkPseudo', function (t) {\n  var out = (0, _helpers.parse)('a:before, a:after', function (selectors) {\n    selectors.walkPseudos(function (pseudo) {\n      pseudo.value = pseudo.value.slice(0, 2);\n    });\n  });\n  t.deepEqual(out, 'a:b, a:a');\n});\n(0, _ava.default)('container#walkTag', function (t) {\n  var out = (0, _helpers.parse)('1 2 3', function (selectors) {\n    selectors.walkTags(function (tag) {\n      tag.value = 'h' + tag.value;\n    });\n  });\n  t.deepEqual(out, 'h1 h2 h3');\n});\n(0, _ava.default)('container#walkUniversal', function (t) {\n  var out = (0, _helpers.parse)('*.class,*.class,*.class', function (selectors) {\n    selectors.walkUniversals(function (universal) {\n      universal.remove();\n    });\n  });\n  t.deepEqual(out, '.class,.class,.class');\n});\n(0, _ava.default)('container#map', function (t) {\n  (0, _helpers.parse)('1 2 3', function (selectors) {\n    var arr = selectors.first.map(function (selector) {\n      if (/[0-9]/.test(selector.value)) {\n        return 'h' + selector.value;\n      }\n\n      return selector.value;\n    });\n    t.deepEqual(arr, ['h1', ' ', 'h2', ' ', 'h3']);\n  });\n});\n(0, _ava.default)('container#every', function (t) {\n  (0, _helpers.parse)('.one.two.three', function (selectors) {\n    var allClasses = selectors.first.every(function (selector) {\n      return selector.type === 'class';\n    });\n    t.truthy(allClasses);\n  });\n});\n(0, _ava.default)('container#some', function (t) {\n  (0, _helpers.parse)('one#two.three', function (selectors) {\n    var someClasses = selectors.first.some(function (selector) {\n      return selector.type === 'class';\n    });\n    t.truthy(someClasses);\n  });\n});\n(0, _ava.default)('container#reduce', function (t) {\n  (0, _helpers.parse)('h1, h2, h3, h4', function (selectors) {\n    var str = selectors.reduce(function (memo, selector) {\n      if (selector.first.type === 'tag') {\n        memo += selector.first.value;\n      }\n\n      return memo;\n    }, '');\n    t.deepEqual(str, 'h1h2h3h4');\n  });\n});\n(0, _ava.default)('container#filter', function (t) {\n  (0, _helpers.parse)('h1, h2, c1, c2', function (selectors) {\n    var ast = selectors.filter(function (selector) {\n      return ~selector.first.value.indexOf('h');\n    });\n    t.deepEqual(String(ast), 'h1, h2');\n  });\n});\n(0, _ava.default)('container#split', function (t) {\n  (0, _helpers.parse)('h1 h2 >> h3', function (selectors) {\n    var list = selectors.first.split(function (selector) {\n      return selector.value === '>>';\n    }).map(function (group) {\n      return group.map(String);\n    });\n    t.deepEqual(list, [['h1', ' ', 'h2', ' >> '], ['h3']]);\n    t.deepEqual(list.length, 2);\n  });\n});\n(0, _ava.default)('container#sort', function (t) {\n  var out = (0, _helpers.parse)('h2,h3,h1,h4', function (selectors) {\n    selectors.sort(function (a, b) {\n      return a.first.value.slice(-1) - b.first.value.slice(-1);\n    });\n  });\n  t.deepEqual(out, 'h1,h2,h3,h4');\n});\n(0, _ava.default)('container#at', function (t) {\n  (0, _helpers.parse)('h1, h2, h3', function (selectors) {\n    t.deepEqual(selectors.at(1).first.value, 'h2');\n  });\n});\n(0, _ava.default)('container#first, container#last', function (t) {\n  (0, _helpers.parse)('h1, h2, h3, h4', function (selectors) {\n    t.deepEqual(selectors.first.first.value, 'h1');\n    t.deepEqual(selectors.last.last.value, 'h4');\n  });\n});\n(0, _ava.default)('container#index', function (t) {\n  (0, _helpers.parse)('h1 h2 h3', function (selectors) {\n    var middle = selectors.first.at(1);\n    t.deepEqual(selectors.first.index(middle), 1);\n  });\n});\n(0, _ava.default)('container#length', function (t) {\n  (0, _helpers.parse)('h1, h2, h3', function (selectors) {\n    t.deepEqual(selectors.length, 3);\n  });\n});\n(0, _ava.default)('container#removeChild', function (t) {\n  var out = (0, _helpers.parse)('h1.class h2.class h3.class', function (selectors) {\n    selectors.walk(function (selector) {\n      if (selector.type === 'class') {\n        selector.parent.removeChild(selector);\n      }\n    });\n  });\n  t.deepEqual(out, 'h1 h2 h3');\n});\n(0, _ava.default)('container#removeAll, container#empty', function (t) {\n  var wipe = function wipe(method) {\n    return function (selectors) {\n      return selectors[method]();\n    };\n  };\n\n  var out1 = (0, _helpers.parse)('h1 h2, h2 h3, h3 h4', wipe('empty'));\n  var out2 = (0, _helpers.parse)('h1 h2, h2 h3, h3 h4', wipe('removeAll'));\n  t.deepEqual(out1, '');\n  t.deepEqual(out2, '');\n});\n(0, _ava.default)('container#insertBefore', function (t) {\n  var out = (0, _helpers.parse)('h2', function (selectors) {\n    var selector = selectors.first;\n    var clone = selector.first.clone({\n      value: 'h1'\n    });\n    selectors.insertBefore(selector, clone);\n  });\n  t.deepEqual(out, 'h1,h2');\n});\n(0, _ava.default)('container#insertBefore and node#remove', function (t) {\n  var out = (0, _helpers.parse)('h2', function (selectors) {\n    var selector = selectors.first;\n\n    var newSel = _.default.tag({\n      value: 'h1'\n    });\n\n    selectors.insertBefore(selector, newSel);\n    newSel.remove();\n  });\n  t.deepEqual(out, 'h2');\n});\n(0, _ava.default)('container#insertAfter', function (t) {\n  var out = (0, _helpers.parse)('h1', function (selectors) {\n    var selector = selectors.first;\n    var clone = selector.first.clone({\n      value: 'h2'\n    });\n    selectors.insertAfter(selector, clone);\n  });\n  t.deepEqual(out, 'h1,h2');\n});\n(0, _ava.default)('container#insertAfter and node#remove', function (t) {\n  var out = (0, _helpers.parse)('h2', function (selectors) {\n    var selector = selectors.first;\n\n    var newSel = _.default.tag({\n      value: 'h1'\n    });\n\n    selectors.insertAfter(selector, newSel);\n    newSel.remove();\n  });\n  t.deepEqual(out, 'h2');\n});\n(0, _ava.default)('container#insertAfter (during iteration)', function (t) {\n  var out = (0, _helpers.parse)('h1, h2, h3', function (selectors) {\n    selectors.walkTags(function (selector) {\n      var attribute = _.default.attribute({\n        attribute: 'class'\n      });\n\n      selector.parent.insertAfter(selector, attribute);\n    });\n  });\n  t.deepEqual(out, 'h1[class], h2[class], h3[class]');\n});\n(0, _ava.default)('Container#atPosition first pseudo', function (t) {\n  (0, _helpers.parse)(':not(.foo),\\n#foo > :matches(ol, ul)', function (root) {\n    var node = root.atPosition(1, 1);\n    t.deepEqual(node.type, \"pseudo\");\n    t.deepEqual(node.toString(), \":not(.foo)\");\n  });\n});\n(0, _ava.default)('Container#atPosition class in pseudo', function (t) {\n  (0, _helpers.parse)(':not(.foo),\\n#foo > :matches(ol, ul)', function (root) {\n    var node = root.atPosition(1, 6);\n    t.deepEqual(node.type, \"class\");\n    t.deepEqual(node.toString(), \".foo\");\n  });\n});\n(0, _ava.default)('Container#atPosition id in second selector', function (t) {\n  (0, _helpers.parse)(':not(.foo),\\n#foo > :matches(ol, ul)', function (root) {\n    var node = root.atPosition(2, 1);\n    t.deepEqual(node.type, \"id\");\n    t.deepEqual(node.toString(), \"\\n#foo\");\n  });\n});\n(0, _ava.default)('Container#atPosition combinator in second selector', function (t) {\n  (0, _helpers.parse)(':not(.foo),\\n#foo > :matches(ol, ul)', function (root) {\n    var node = root.atPosition(2, 6);\n    t.deepEqual(node.type, \"combinator\");\n    t.deepEqual(node.toString(), \" > \");\n    var nodeSpace = root.atPosition(2, 5);\n    t.deepEqual(nodeSpace.type, \"selector\");\n    t.deepEqual(nodeSpace.toString(), \"\\n#foo > :matches(ol, ul)\");\n  });\n});\n(0, _ava.default)('Container#atPosition tag in second selector pseudo', function (t) {\n  (0, _helpers.parse)(':not(.foo),\\n#foo > :matches(ol, ul)', function (root) {\n    var node = root.atPosition(2, 17);\n    t.deepEqual(node.type, \"tag\");\n    t.deepEqual(node.toString(), \"ol\");\n  });\n});\n(0, _ava.default)('Container#atPosition comma in second selector pseudo', function (t) {\n  (0, _helpers.parse)(':not(.foo),\\n#foo > :matches(ol, ul)', function (root) {\n    var node = root.atPosition(2, 19);\n    t.deepEqual(node.type, \"pseudo\");\n    t.deepEqual(node.toString(), \":matches(ol, ul)\");\n  });\n});","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/postcss-selector-parser/dist/__tests__/container.js"],"names":["_ava","_interopRequireDefault","require","_","_helpers","obj","__esModule","default","t","out","parse","selectors","selector","first","clone","value","append","deepEqual","prepend","str","each","type","parent","insertBefore","className","insertAfter","eachReturn","tag","false","walk","walkUniversals","next","remove","walkReturn","walkAttributes","attr","attribute","walkClasses","slice","walkCombinators","comment","walkComments","walkIds","id","walkNesting","node","replaceWith","walkPseudos","pseudo","walkTags","universal","arr","map","test","allClasses","every","truthy","someClasses","some","reduce","memo","ast","filter","indexOf","String","list","split","group","length","sort","a","b","at","last","middle","index","removeChild","wipe","method","out1","out2","newSel","root","atPosition","toString","nodeSpace"],"mappings":"AAAA;;AAEA,IAAIA,IAAI,GAAGC,sBAAsB,CAACC,OAAO,CAAC,KAAD,CAAR,CAAjC;;AAEA,IAAIC,CAAC,GAAGF,sBAAsB,CAACC,OAAO,CAAC,IAAD,CAAR,CAA9B;;AAEA,IAAIE,QAAQ,GAAGF,OAAO,CAAC,gBAAD,CAAtB;;AAEA,SAASD,sBAAT,CAAgCI,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEE,IAAAA,OAAO,EAAEF;AAAX,GAArC;AAAwD;;AAE/F,CAAC,GAAGL,IAAI,CAACO,OAAT,EAAkB,kBAAlB,EAAsC,UAAUC,CAAV,EAAa;AACjD,MAAIC,GAAG,GAAG,CAAC,GAAGL,QAAQ,CAACM,KAAb,EAAoB,IAApB,EAA0B,UAAUC,SAAV,EAAqB;AACvD,QAAIC,QAAQ,GAAGD,SAAS,CAACE,KAAzB;AACA,QAAIC,KAAK,GAAGF,QAAQ,CAACC,KAAT,CAAeC,KAAf,CAAqB;AAC/BC,MAAAA,KAAK,EAAE;AADwB,KAArB,CAAZ;AAGAJ,IAAAA,SAAS,CAACK,MAAV,CAAiBF,KAAjB;AACD,GANS,CAAV;AAOAN,EAAAA,CAAC,CAACS,SAAF,CAAYR,GAAZ,EAAiB,OAAjB;AACD,CATD;AAUA,CAAC,GAAGT,IAAI,CAACO,OAAT,EAAkB,mBAAlB,EAAuC,UAAUC,CAAV,EAAa;AAClD,MAAIC,GAAG,GAAG,CAAC,GAAGL,QAAQ,CAACM,KAAb,EAAoB,IAApB,EAA0B,UAAUC,SAAV,EAAqB;AACvD,QAAIC,QAAQ,GAAGD,SAAS,CAACE,KAAzB;AACA,QAAIC,KAAK,GAAGF,QAAQ,CAACC,KAAT,CAAeC,KAAf,CAAqB;AAC/BC,MAAAA,KAAK,EAAE;AADwB,KAArB,CAAZ;AAGAJ,IAAAA,SAAS,CAACO,OAAV,CAAkBJ,KAAlB;AACD,GANS,CAAV;AAOAN,EAAAA,CAAC,CAACS,SAAF,CAAYR,GAAZ,EAAiB,OAAjB;AACD,CATD;AAUA,CAAC,GAAGT,IAAI,CAACO,OAAT,EAAkB,gBAAlB,EAAoC,UAAUC,CAAV,EAAa;AAC/C,MAAIW,GAAG,GAAG,EAAV;AACA,GAAC,GAAGf,QAAQ,CAACM,KAAb,EAAoB,oBAApB,EAA0C,UAAUC,SAAV,EAAqB;AAC7DA,IAAAA,SAAS,CAACS,IAAV,CAAe,UAAUR,QAAV,EAAoB;AACjC,UAAIA,QAAQ,CAACC,KAAT,CAAeQ,IAAf,KAAwB,KAA5B,EAAmC;AACjCF,QAAAA,GAAG,IAAIP,QAAQ,CAACC,KAAT,CAAeE,KAAtB;AACD;AACF,KAJD;AAKD,GAND;AAOAP,EAAAA,CAAC,CAACS,SAAF,CAAYE,GAAZ,EAAiB,MAAjB;AACD,CAVD;AAWA,CAAC,GAAGnB,IAAI,CAACO,OAAT,EAAkB,iCAAlB,EAAqD,UAAUC,CAAV,EAAa;AAChE,MAAIC,GAAG,GAAG,CAAC,GAAGL,QAAQ,CAACM,KAAb,EAAoB,QAApB,EAA8B,UAAUC,SAAV,EAAqB;AAC3DA,IAAAA,SAAS,CAACS,IAAV,CAAe,UAAUR,QAAV,EAAoB;AACjCA,MAAAA,QAAQ,CAACU,MAAT,CAAgBC,YAAhB,CAA6BX,QAA7B,EAAuCT,CAAC,CAACI,OAAF,CAAUiB,SAAV,CAAoB;AACzDT,QAAAA,KAAK,EAAE;AADkD,OAApB,CAAvC;AAGAH,MAAAA,QAAQ,CAACU,MAAT,CAAgBG,WAAhB,CAA4Bb,QAA5B,EAAsCT,CAAC,CAACI,OAAF,CAAUiB,SAAV,CAAoB;AACxDT,QAAAA,KAAK,EAAE;AADiD,OAApB,CAAtC;AAGD,KAPD;AAQD,GATS,CAAV;AAUAP,EAAAA,CAAC,CAACS,SAAF,CAAYR,GAAZ,EAAiB,oBAAjB;AACD,CAZD;AAaA,CAAC,GAAGT,IAAI,CAACO,OAAT,EAAkB,6BAAlB,EAAiD,UAAUC,CAAV,EAAa;AAC5D,MAAIW,GAAG,GAAG,EAAV;AACA,GAAC,GAAGf,QAAQ,CAACM,KAAb,EAAoB,gBAApB,EAAsC,UAAUC,SAAV,EAAqB;AACzD,QAAIe,UAAU,GAAGf,SAAS,CAACS,IAAV,CAAe,UAAUR,QAAV,EAAoB;AAClD,UAAIe,GAAG,GAAGf,QAAQ,CAACC,KAAT,CAAeE,KAAzB;AACAI,MAAAA,GAAG,IAAIQ,GAAP;AACA,aAAOA,GAAG,KAAK,IAAf;AACD,KAJgB,CAAjB;AAKAnB,IAAAA,CAAC,CAACoB,KAAF,CAAQF,UAAR;AACD,GAPD;AAQAlB,EAAAA,CAAC,CAACS,SAAF,CAAYE,GAAZ,EAAiB,MAAjB;AACD,CAXD;AAYA,CAAC,GAAGnB,IAAI,CAACO,OAAT,EAAkB,gBAAlB,EAAoC,UAAUC,CAAV,EAAa;AAC/C,MAAIW,GAAG,GAAG,EAAV;AACA,GAAC,GAAGf,QAAQ,CAACM,KAAb,EAAoB,oBAApB,EAA0C,UAAUC,SAAV,EAAqB;AAC7DA,IAAAA,SAAS,CAACkB,IAAV,CAAe,UAAUjB,QAAV,EAAoB;AACjC,UAAIA,QAAQ,CAACS,IAAT,KAAkB,KAAtB,EAA6B;AAC3BF,QAAAA,GAAG,IAAIP,QAAQ,CAACG,KAAhB;AACD;AACF,KAJD;AAKD,GAND;AAOAP,EAAAA,CAAC,CAACS,SAAF,CAAYE,GAAZ,EAAiB,UAAjB;AACD,CAVD;AAWA,CAAC,GAAGnB,IAAI,CAACO,OAAT,EAAkB,iCAAlB,EAAqD,UAAUC,CAAV,EAAa;AAChE,MAAIC,GAAG,GAAG,CAAC,GAAGL,QAAQ,CAACM,KAAb,EAAoB,kCAApB,EAAwD,UAAUC,SAAV,EAAqB;AACrFA,IAAAA,SAAS,CAACmB,cAAV,CAAyB,UAAUlB,QAAV,EAAoB;AAC3C,UAAImB,IAAI,GAAGnB,QAAQ,CAACmB,IAAT,EAAX;;AAEA,UAAIA,IAAI,IAAIA,IAAI,CAACV,IAAL,KAAc,YAA1B,EAAwC;AACtCT,QAAAA,QAAQ,CAACoB,MAAT;AACD;AACF,KAND;AAOD,GARS,CAAV;AASAxB,EAAAA,CAAC,CAACS,SAAF,CAAYR,GAAZ,EAAiB,+BAAjB;AACD,CAXD;AAYA,CAAC,GAAGT,IAAI,CAACO,OAAT,EAAkB,6BAAlB,EAAiD,UAAUC,CAAV,EAAa;AAC5D,MAAIW,GAAG,GAAG,EAAV;AACA,GAAC,GAAGf,QAAQ,CAACM,KAAb,EAAoB,oBAApB,EAA0C,UAAUC,SAAV,EAAqB;AAC7D,QAAIsB,UAAU,GAAGtB,SAAS,CAACkB,IAAV,CAAe,UAAUjB,QAAV,EAAoB;AAClD,UAAIA,QAAQ,CAACS,IAAT,KAAkB,KAAtB,EAA6B;AAC3B,YAAIM,GAAG,GAAGf,QAAQ,CAACG,KAAnB;AACAI,QAAAA,GAAG,IAAIQ,GAAP;AACA,eAAOA,GAAG,KAAK,IAAf;AACD;AACF,KANgB,CAAjB;AAOAnB,IAAAA,CAAC,CAACoB,KAAF,CAAQK,UAAR;AACD,GATD;AAUAzB,EAAAA,CAAC,CAACS,SAAF,CAAYE,GAAZ,EAAiB,QAAjB;AACD,CAbD;AAcA,CAAC,GAAGnB,IAAI,CAACO,OAAT,EAAkB,yBAAlB,EAA6C,UAAUC,CAAV,EAAa;AACxD,MAAIC,GAAG,GAAG,CAAC,GAAGL,QAAQ,CAACM,KAAb,EAAoB,qBAApB,EAA2C,UAAUC,SAAV,EAAqB;AACxEA,IAAAA,SAAS,CAACuB,cAAV,CAAyB,UAAUC,IAAV,EAAgB;AACvC,UAAIA,IAAI,CAACC,SAAL,KAAmB,OAAvB,EAAgC;AAC9BD,QAAAA,IAAI,CAACH,MAAL;AACD;AACF,KAJD;AAKD,GANS,CAAV;AAOAxB,EAAAA,CAAC,CAACS,SAAF,CAAYR,GAAZ,EAAiB,cAAjB;AACD,CATD;AAUA,CAAC,GAAGT,IAAI,CAACO,OAAT,EAAkB,qBAAlB,EAAyC,UAAUC,CAAV,EAAa;AACpD,MAAIC,GAAG,GAAG,CAAC,GAAGL,QAAQ,CAACM,KAAb,EAAoB,sCAApB,EAA4D,UAAUC,SAAV,EAAqB;AACzFA,IAAAA,SAAS,CAAC0B,WAAV,CAAsB,UAAUb,SAAV,EAAqB;AACzCA,MAAAA,SAAS,CAACT,KAAV,GAAkBS,SAAS,CAACT,KAAV,CAAgBuB,KAAhB,CAAsB,CAAtB,EAAyB,CAAzB,CAAlB;AACD,KAFD;AAGD,GAJS,CAAV;AAKA9B,EAAAA,CAAC,CAACS,SAAF,CAAYR,GAAZ,EAAiB,wBAAjB;AACD,CAPD;AAQA,CAAC,GAAGT,IAAI,CAACO,OAAT,EAAkB,0BAAlB,EAA8C,UAAUC,CAAV,EAAa;AACzD,MAAIC,GAAG,GAAG,CAAC,GAAGL,QAAQ,CAACM,KAAb,EAAoB,aAApB,EAAmC,UAAUC,SAAV,EAAqB;AAChEA,IAAAA,SAAS,CAAC4B,eAAV,CAA0B,UAAUC,OAAV,EAAmB;AAC3CA,MAAAA,OAAO,CAACR,MAAR;AACD,KAFD;AAGD,GAJS,CAAV;AAKAxB,EAAAA,CAAC,CAACS,SAAF,CAAYR,GAAZ,EAAiB,UAAjB;AACD,CAPD;AAQA,CAAC,GAAGT,IAAI,CAACO,OAAT,EAAkB,uBAAlB,EAA2C,UAAUC,CAAV,EAAa;AACtD,MAAIC,GAAG,GAAG,CAAC,GAAGL,QAAQ,CAACM,KAAb,EAAoB,kBAApB,EAAwC,UAAUC,SAAV,EAAqB;AACrEA,IAAAA,SAAS,CAAC8B,YAAV,CAAuB,UAAUD,OAAV,EAAmB;AACxCA,MAAAA,OAAO,CAACR,MAAR;AACD,KAFD;AAGD,GAJS,CAAV;AAKAxB,EAAAA,CAAC,CAACS,SAAF,CAAYR,GAAZ,EAAiB,UAAjB;AACD,CAPD;AAQA,CAAC,GAAGT,IAAI,CAACO,OAAT,EAAkB,kBAAlB,EAAsC,UAAUC,CAAV,EAAa;AACjD,MAAIC,GAAG,GAAG,CAAC,GAAGL,QAAQ,CAACM,KAAb,EAAoB,gBAApB,EAAsC,UAAUC,SAAV,EAAqB;AACnEA,IAAAA,SAAS,CAAC+B,OAAV,CAAkB,UAAUC,EAAV,EAAc;AAC9BA,MAAAA,EAAE,CAAC5B,KAAH,GAAW4B,EAAE,CAAC5B,KAAH,CAASuB,KAAT,CAAe,CAAf,EAAkB,CAAlB,CAAX;AACD,KAFD;AAGD,GAJS,CAAV;AAKA9B,EAAAA,CAAC,CAACS,SAAF,CAAYR,GAAZ,EAAiB,YAAjB;AACD,CAPD;AAQA,CAAC,GAAGT,IAAI,CAACO,OAAT,EAAkB,uBAAlB,EAA2C,UAAUC,CAAV,EAAa;AACtD,MAAIC,GAAG,GAAG,CAAC,GAAGL,QAAQ,CAACM,KAAb,EAAoB,MAApB,EAA4B,UAAUC,SAAV,EAAqB;AACzDA,IAAAA,SAAS,CAACiC,WAAV,CAAsB,UAAUC,IAAV,EAAgB;AACpCA,MAAAA,IAAI,CAACC,WAAL,CAAiB3C,CAAC,CAACI,OAAF,CAAUoB,GAAV,CAAc;AAC7BZ,QAAAA,KAAK,EAAE;AADsB,OAAd,CAAjB;AAGD,KAJD;AAKD,GANS,CAAV;AAOAP,EAAAA,CAAC,CAACS,SAAF,CAAYR,GAAZ,EAAiB,SAAjB;AACD,CATD;AAUA,CAAC,GAAGT,IAAI,CAACO,OAAT,EAAkB,sBAAlB,EAA0C,UAAUC,CAAV,EAAa;AACrD,MAAIC,GAAG,GAAG,CAAC,GAAGL,QAAQ,CAACM,KAAb,EAAoB,mBAApB,EAAyC,UAAUC,SAAV,EAAqB;AACtEA,IAAAA,SAAS,CAACoC,WAAV,CAAsB,UAAUC,MAAV,EAAkB;AACtCA,MAAAA,MAAM,CAACjC,KAAP,GAAeiC,MAAM,CAACjC,KAAP,CAAauB,KAAb,CAAmB,CAAnB,EAAsB,CAAtB,CAAf;AACD,KAFD;AAGD,GAJS,CAAV;AAKA9B,EAAAA,CAAC,CAACS,SAAF,CAAYR,GAAZ,EAAiB,UAAjB;AACD,CAPD;AAQA,CAAC,GAAGT,IAAI,CAACO,OAAT,EAAkB,mBAAlB,EAAuC,UAAUC,CAAV,EAAa;AAClD,MAAIC,GAAG,GAAG,CAAC,GAAGL,QAAQ,CAACM,KAAb,EAAoB,OAApB,EAA6B,UAAUC,SAAV,EAAqB;AAC1DA,IAAAA,SAAS,CAACsC,QAAV,CAAmB,UAAUtB,GAAV,EAAe;AAChCA,MAAAA,GAAG,CAACZ,KAAJ,GAAY,MAAMY,GAAG,CAACZ,KAAtB;AACD,KAFD;AAGD,GAJS,CAAV;AAKAP,EAAAA,CAAC,CAACS,SAAF,CAAYR,GAAZ,EAAiB,UAAjB;AACD,CAPD;AAQA,CAAC,GAAGT,IAAI,CAACO,OAAT,EAAkB,yBAAlB,EAA6C,UAAUC,CAAV,EAAa;AACxD,MAAIC,GAAG,GAAG,CAAC,GAAGL,QAAQ,CAACM,KAAb,EAAoB,yBAApB,EAA+C,UAAUC,SAAV,EAAqB;AAC5EA,IAAAA,SAAS,CAACmB,cAAV,CAAyB,UAAUoB,SAAV,EAAqB;AAC5CA,MAAAA,SAAS,CAAClB,MAAV;AACD,KAFD;AAGD,GAJS,CAAV;AAKAxB,EAAAA,CAAC,CAACS,SAAF,CAAYR,GAAZ,EAAiB,sBAAjB;AACD,CAPD;AAQA,CAAC,GAAGT,IAAI,CAACO,OAAT,EAAkB,eAAlB,EAAmC,UAAUC,CAAV,EAAa;AAC9C,GAAC,GAAGJ,QAAQ,CAACM,KAAb,EAAoB,OAApB,EAA6B,UAAUC,SAAV,EAAqB;AAChD,QAAIwC,GAAG,GAAGxC,SAAS,CAACE,KAAV,CAAgBuC,GAAhB,CAAoB,UAAUxC,QAAV,EAAoB;AAChD,UAAI,QAAQyC,IAAR,CAAazC,QAAQ,CAACG,KAAtB,CAAJ,EAAkC;AAChC,eAAO,MAAMH,QAAQ,CAACG,KAAtB;AACD;;AAED,aAAOH,QAAQ,CAACG,KAAhB;AACD,KANS,CAAV;AAOAP,IAAAA,CAAC,CAACS,SAAF,CAAYkC,GAAZ,EAAiB,CAAC,IAAD,EAAO,GAAP,EAAY,IAAZ,EAAkB,GAAlB,EAAuB,IAAvB,CAAjB;AACD,GATD;AAUD,CAXD;AAYA,CAAC,GAAGnD,IAAI,CAACO,OAAT,EAAkB,iBAAlB,EAAqC,UAAUC,CAAV,EAAa;AAChD,GAAC,GAAGJ,QAAQ,CAACM,KAAb,EAAoB,gBAApB,EAAsC,UAAUC,SAAV,EAAqB;AACzD,QAAI2C,UAAU,GAAG3C,SAAS,CAACE,KAAV,CAAgB0C,KAAhB,CAAsB,UAAU3C,QAAV,EAAoB;AACzD,aAAOA,QAAQ,CAACS,IAAT,KAAkB,OAAzB;AACD,KAFgB,CAAjB;AAGAb,IAAAA,CAAC,CAACgD,MAAF,CAASF,UAAT;AACD,GALD;AAMD,CAPD;AAQA,CAAC,GAAGtD,IAAI,CAACO,OAAT,EAAkB,gBAAlB,EAAoC,UAAUC,CAAV,EAAa;AAC/C,GAAC,GAAGJ,QAAQ,CAACM,KAAb,EAAoB,eAApB,EAAqC,UAAUC,SAAV,EAAqB;AACxD,QAAI8C,WAAW,GAAG9C,SAAS,CAACE,KAAV,CAAgB6C,IAAhB,CAAqB,UAAU9C,QAAV,EAAoB;AACzD,aAAOA,QAAQ,CAACS,IAAT,KAAkB,OAAzB;AACD,KAFiB,CAAlB;AAGAb,IAAAA,CAAC,CAACgD,MAAF,CAASC,WAAT;AACD,GALD;AAMD,CAPD;AAQA,CAAC,GAAGzD,IAAI,CAACO,OAAT,EAAkB,kBAAlB,EAAsC,UAAUC,CAAV,EAAa;AACjD,GAAC,GAAGJ,QAAQ,CAACM,KAAb,EAAoB,gBAApB,EAAsC,UAAUC,SAAV,EAAqB;AACzD,QAAIQ,GAAG,GAAGR,SAAS,CAACgD,MAAV,CAAiB,UAAUC,IAAV,EAAgBhD,QAAhB,EAA0B;AACnD,UAAIA,QAAQ,CAACC,KAAT,CAAeQ,IAAf,KAAwB,KAA5B,EAAmC;AACjCuC,QAAAA,IAAI,IAAIhD,QAAQ,CAACC,KAAT,CAAeE,KAAvB;AACD;;AAED,aAAO6C,IAAP;AACD,KANS,EAMP,EANO,CAAV;AAOApD,IAAAA,CAAC,CAACS,SAAF,CAAYE,GAAZ,EAAiB,UAAjB;AACD,GATD;AAUD,CAXD;AAYA,CAAC,GAAGnB,IAAI,CAACO,OAAT,EAAkB,kBAAlB,EAAsC,UAAUC,CAAV,EAAa;AACjD,GAAC,GAAGJ,QAAQ,CAACM,KAAb,EAAoB,gBAApB,EAAsC,UAAUC,SAAV,EAAqB;AACzD,QAAIkD,GAAG,GAAGlD,SAAS,CAACmD,MAAV,CAAiB,UAAUlD,QAAV,EAAoB;AAC7C,aAAO,CAACA,QAAQ,CAACC,KAAT,CAAeE,KAAf,CAAqBgD,OAArB,CAA6B,GAA7B,CAAR;AACD,KAFS,CAAV;AAGAvD,IAAAA,CAAC,CAACS,SAAF,CAAY+C,MAAM,CAACH,GAAD,CAAlB,EAAyB,QAAzB;AACD,GALD;AAMD,CAPD;AAQA,CAAC,GAAG7D,IAAI,CAACO,OAAT,EAAkB,iBAAlB,EAAqC,UAAUC,CAAV,EAAa;AAChD,GAAC,GAAGJ,QAAQ,CAACM,KAAb,EAAoB,aAApB,EAAmC,UAAUC,SAAV,EAAqB;AACtD,QAAIsD,IAAI,GAAGtD,SAAS,CAACE,KAAV,CAAgBqD,KAAhB,CAAsB,UAAUtD,QAAV,EAAoB;AACnD,aAAOA,QAAQ,CAACG,KAAT,KAAmB,IAA1B;AACD,KAFU,EAERqC,GAFQ,CAEJ,UAAUe,KAAV,EAAiB;AACtB,aAAOA,KAAK,CAACf,GAAN,CAAUY,MAAV,CAAP;AACD,KAJU,CAAX;AAKAxD,IAAAA,CAAC,CAACS,SAAF,CAAYgD,IAAZ,EAAkB,CAAC,CAAC,IAAD,EAAO,GAAP,EAAY,IAAZ,EAAkB,MAAlB,CAAD,EAA4B,CAAC,IAAD,CAA5B,CAAlB;AACAzD,IAAAA,CAAC,CAACS,SAAF,CAAYgD,IAAI,CAACG,MAAjB,EAAyB,CAAzB;AACD,GARD;AASD,CAVD;AAWA,CAAC,GAAGpE,IAAI,CAACO,OAAT,EAAkB,gBAAlB,EAAoC,UAAUC,CAAV,EAAa;AAC/C,MAAIC,GAAG,GAAG,CAAC,GAAGL,QAAQ,CAACM,KAAb,EAAoB,aAApB,EAAmC,UAAUC,SAAV,EAAqB;AAChEA,IAAAA,SAAS,CAAC0D,IAAV,CAAe,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAC7B,aAAOD,CAAC,CAACzD,KAAF,CAAQE,KAAR,CAAcuB,KAAd,CAAoB,CAAC,CAArB,IAA0BiC,CAAC,CAAC1D,KAAF,CAAQE,KAAR,CAAcuB,KAAd,CAAoB,CAAC,CAArB,CAAjC;AACD,KAFD;AAGD,GAJS,CAAV;AAKA9B,EAAAA,CAAC,CAACS,SAAF,CAAYR,GAAZ,EAAiB,aAAjB;AACD,CAPD;AAQA,CAAC,GAAGT,IAAI,CAACO,OAAT,EAAkB,cAAlB,EAAkC,UAAUC,CAAV,EAAa;AAC7C,GAAC,GAAGJ,QAAQ,CAACM,KAAb,EAAoB,YAApB,EAAkC,UAAUC,SAAV,EAAqB;AACrDH,IAAAA,CAAC,CAACS,SAAF,CAAYN,SAAS,CAAC6D,EAAV,CAAa,CAAb,EAAgB3D,KAAhB,CAAsBE,KAAlC,EAAyC,IAAzC;AACD,GAFD;AAGD,CAJD;AAKA,CAAC,GAAGf,IAAI,CAACO,OAAT,EAAkB,iCAAlB,EAAqD,UAAUC,CAAV,EAAa;AAChE,GAAC,GAAGJ,QAAQ,CAACM,KAAb,EAAoB,gBAApB,EAAsC,UAAUC,SAAV,EAAqB;AACzDH,IAAAA,CAAC,CAACS,SAAF,CAAYN,SAAS,CAACE,KAAV,CAAgBA,KAAhB,CAAsBE,KAAlC,EAAyC,IAAzC;AACAP,IAAAA,CAAC,CAACS,SAAF,CAAYN,SAAS,CAAC8D,IAAV,CAAeA,IAAf,CAAoB1D,KAAhC,EAAuC,IAAvC;AACD,GAHD;AAID,CALD;AAMA,CAAC,GAAGf,IAAI,CAACO,OAAT,EAAkB,iBAAlB,EAAqC,UAAUC,CAAV,EAAa;AAChD,GAAC,GAAGJ,QAAQ,CAACM,KAAb,EAAoB,UAApB,EAAgC,UAAUC,SAAV,EAAqB;AACnD,QAAI+D,MAAM,GAAG/D,SAAS,CAACE,KAAV,CAAgB2D,EAAhB,CAAmB,CAAnB,CAAb;AACAhE,IAAAA,CAAC,CAACS,SAAF,CAAYN,SAAS,CAACE,KAAV,CAAgB8D,KAAhB,CAAsBD,MAAtB,CAAZ,EAA2C,CAA3C;AACD,GAHD;AAID,CALD;AAMA,CAAC,GAAG1E,IAAI,CAACO,OAAT,EAAkB,kBAAlB,EAAsC,UAAUC,CAAV,EAAa;AACjD,GAAC,GAAGJ,QAAQ,CAACM,KAAb,EAAoB,YAApB,EAAkC,UAAUC,SAAV,EAAqB;AACrDH,IAAAA,CAAC,CAACS,SAAF,CAAYN,SAAS,CAACyD,MAAtB,EAA8B,CAA9B;AACD,GAFD;AAGD,CAJD;AAKA,CAAC,GAAGpE,IAAI,CAACO,OAAT,EAAkB,uBAAlB,EAA2C,UAAUC,CAAV,EAAa;AACtD,MAAIC,GAAG,GAAG,CAAC,GAAGL,QAAQ,CAACM,KAAb,EAAoB,4BAApB,EAAkD,UAAUC,SAAV,EAAqB;AAC/EA,IAAAA,SAAS,CAACkB,IAAV,CAAe,UAAUjB,QAAV,EAAoB;AACjC,UAAIA,QAAQ,CAACS,IAAT,KAAkB,OAAtB,EAA+B;AAC7BT,QAAAA,QAAQ,CAACU,MAAT,CAAgBsD,WAAhB,CAA4BhE,QAA5B;AACD;AACF,KAJD;AAKD,GANS,CAAV;AAOAJ,EAAAA,CAAC,CAACS,SAAF,CAAYR,GAAZ,EAAiB,UAAjB;AACD,CATD;AAUA,CAAC,GAAGT,IAAI,CAACO,OAAT,EAAkB,sCAAlB,EAA0D,UAAUC,CAAV,EAAa;AACrE,MAAIqE,IAAI,GAAG,SAASA,IAAT,CAAcC,MAAd,EAAsB;AAC/B,WAAO,UAAUnE,SAAV,EAAqB;AAC1B,aAAOA,SAAS,CAACmE,MAAD,CAAT,EAAP;AACD,KAFD;AAGD,GAJD;;AAMA,MAAIC,IAAI,GAAG,CAAC,GAAG3E,QAAQ,CAACM,KAAb,EAAoB,qBAApB,EAA2CmE,IAAI,CAAC,OAAD,CAA/C,CAAX;AACA,MAAIG,IAAI,GAAG,CAAC,GAAG5E,QAAQ,CAACM,KAAb,EAAoB,qBAApB,EAA2CmE,IAAI,CAAC,WAAD,CAA/C,CAAX;AACArE,EAAAA,CAAC,CAACS,SAAF,CAAY8D,IAAZ,EAAkB,EAAlB;AACAvE,EAAAA,CAAC,CAACS,SAAF,CAAY+D,IAAZ,EAAkB,EAAlB;AACD,CAXD;AAYA,CAAC,GAAGhF,IAAI,CAACO,OAAT,EAAkB,wBAAlB,EAA4C,UAAUC,CAAV,EAAa;AACvD,MAAIC,GAAG,GAAG,CAAC,GAAGL,QAAQ,CAACM,KAAb,EAAoB,IAApB,EAA0B,UAAUC,SAAV,EAAqB;AACvD,QAAIC,QAAQ,GAAGD,SAAS,CAACE,KAAzB;AACA,QAAIC,KAAK,GAAGF,QAAQ,CAACC,KAAT,CAAeC,KAAf,CAAqB;AAC/BC,MAAAA,KAAK,EAAE;AADwB,KAArB,CAAZ;AAGAJ,IAAAA,SAAS,CAACY,YAAV,CAAuBX,QAAvB,EAAiCE,KAAjC;AACD,GANS,CAAV;AAOAN,EAAAA,CAAC,CAACS,SAAF,CAAYR,GAAZ,EAAiB,OAAjB;AACD,CATD;AAUA,CAAC,GAAGT,IAAI,CAACO,OAAT,EAAkB,wCAAlB,EAA4D,UAAUC,CAAV,EAAa;AACvE,MAAIC,GAAG,GAAG,CAAC,GAAGL,QAAQ,CAACM,KAAb,EAAoB,IAApB,EAA0B,UAAUC,SAAV,EAAqB;AACvD,QAAIC,QAAQ,GAAGD,SAAS,CAACE,KAAzB;;AAEA,QAAIoE,MAAM,GAAG9E,CAAC,CAACI,OAAF,CAAUoB,GAAV,CAAc;AACzBZ,MAAAA,KAAK,EAAE;AADkB,KAAd,CAAb;;AAIAJ,IAAAA,SAAS,CAACY,YAAV,CAAuBX,QAAvB,EAAiCqE,MAAjC;AACAA,IAAAA,MAAM,CAACjD,MAAP;AACD,GATS,CAAV;AAUAxB,EAAAA,CAAC,CAACS,SAAF,CAAYR,GAAZ,EAAiB,IAAjB;AACD,CAZD;AAaA,CAAC,GAAGT,IAAI,CAACO,OAAT,EAAkB,uBAAlB,EAA2C,UAAUC,CAAV,EAAa;AACtD,MAAIC,GAAG,GAAG,CAAC,GAAGL,QAAQ,CAACM,KAAb,EAAoB,IAApB,EAA0B,UAAUC,SAAV,EAAqB;AACvD,QAAIC,QAAQ,GAAGD,SAAS,CAACE,KAAzB;AACA,QAAIC,KAAK,GAAGF,QAAQ,CAACC,KAAT,CAAeC,KAAf,CAAqB;AAC/BC,MAAAA,KAAK,EAAE;AADwB,KAArB,CAAZ;AAGAJ,IAAAA,SAAS,CAACc,WAAV,CAAsBb,QAAtB,EAAgCE,KAAhC;AACD,GANS,CAAV;AAOAN,EAAAA,CAAC,CAACS,SAAF,CAAYR,GAAZ,EAAiB,OAAjB;AACD,CATD;AAUA,CAAC,GAAGT,IAAI,CAACO,OAAT,EAAkB,uCAAlB,EAA2D,UAAUC,CAAV,EAAa;AACtE,MAAIC,GAAG,GAAG,CAAC,GAAGL,QAAQ,CAACM,KAAb,EAAoB,IAApB,EAA0B,UAAUC,SAAV,EAAqB;AACvD,QAAIC,QAAQ,GAAGD,SAAS,CAACE,KAAzB;;AAEA,QAAIoE,MAAM,GAAG9E,CAAC,CAACI,OAAF,CAAUoB,GAAV,CAAc;AACzBZ,MAAAA,KAAK,EAAE;AADkB,KAAd,CAAb;;AAIAJ,IAAAA,SAAS,CAACc,WAAV,CAAsBb,QAAtB,EAAgCqE,MAAhC;AACAA,IAAAA,MAAM,CAACjD,MAAP;AACD,GATS,CAAV;AAUAxB,EAAAA,CAAC,CAACS,SAAF,CAAYR,GAAZ,EAAiB,IAAjB;AACD,CAZD;AAaA,CAAC,GAAGT,IAAI,CAACO,OAAT,EAAkB,0CAAlB,EAA8D,UAAUC,CAAV,EAAa;AACzE,MAAIC,GAAG,GAAG,CAAC,GAAGL,QAAQ,CAACM,KAAb,EAAoB,YAApB,EAAkC,UAAUC,SAAV,EAAqB;AAC/DA,IAAAA,SAAS,CAACsC,QAAV,CAAmB,UAAUrC,QAAV,EAAoB;AACrC,UAAIwB,SAAS,GAAGjC,CAAC,CAACI,OAAF,CAAU6B,SAAV,CAAoB;AAClCA,QAAAA,SAAS,EAAE;AADuB,OAApB,CAAhB;;AAIAxB,MAAAA,QAAQ,CAACU,MAAT,CAAgBG,WAAhB,CAA4Bb,QAA5B,EAAsCwB,SAAtC;AACD,KAND;AAOD,GARS,CAAV;AASA5B,EAAAA,CAAC,CAACS,SAAF,CAAYR,GAAZ,EAAiB,iCAAjB;AACD,CAXD;AAYA,CAAC,GAAGT,IAAI,CAACO,OAAT,EAAkB,mCAAlB,EAAuD,UAAUC,CAAV,EAAa;AAClE,GAAC,GAAGJ,QAAQ,CAACM,KAAb,EAAoB,sCAApB,EAA4D,UAAUwE,IAAV,EAAgB;AAC1E,QAAIrC,IAAI,GAAGqC,IAAI,CAACC,UAAL,CAAgB,CAAhB,EAAmB,CAAnB,CAAX;AACA3E,IAAAA,CAAC,CAACS,SAAF,CAAY4B,IAAI,CAACxB,IAAjB,EAAuB,QAAvB;AACAb,IAAAA,CAAC,CAACS,SAAF,CAAY4B,IAAI,CAACuC,QAAL,EAAZ,EAA6B,YAA7B;AACD,GAJD;AAKD,CAND;AAOA,CAAC,GAAGpF,IAAI,CAACO,OAAT,EAAkB,sCAAlB,EAA0D,UAAUC,CAAV,EAAa;AACrE,GAAC,GAAGJ,QAAQ,CAACM,KAAb,EAAoB,sCAApB,EAA4D,UAAUwE,IAAV,EAAgB;AAC1E,QAAIrC,IAAI,GAAGqC,IAAI,CAACC,UAAL,CAAgB,CAAhB,EAAmB,CAAnB,CAAX;AACA3E,IAAAA,CAAC,CAACS,SAAF,CAAY4B,IAAI,CAACxB,IAAjB,EAAuB,OAAvB;AACAb,IAAAA,CAAC,CAACS,SAAF,CAAY4B,IAAI,CAACuC,QAAL,EAAZ,EAA6B,MAA7B;AACD,GAJD;AAKD,CAND;AAOA,CAAC,GAAGpF,IAAI,CAACO,OAAT,EAAkB,4CAAlB,EAAgE,UAAUC,CAAV,EAAa;AAC3E,GAAC,GAAGJ,QAAQ,CAACM,KAAb,EAAoB,sCAApB,EAA4D,UAAUwE,IAAV,EAAgB;AAC1E,QAAIrC,IAAI,GAAGqC,IAAI,CAACC,UAAL,CAAgB,CAAhB,EAAmB,CAAnB,CAAX;AACA3E,IAAAA,CAAC,CAACS,SAAF,CAAY4B,IAAI,CAACxB,IAAjB,EAAuB,IAAvB;AACAb,IAAAA,CAAC,CAACS,SAAF,CAAY4B,IAAI,CAACuC,QAAL,EAAZ,EAA6B,QAA7B;AACD,GAJD;AAKD,CAND;AAOA,CAAC,GAAGpF,IAAI,CAACO,OAAT,EAAkB,oDAAlB,EAAwE,UAAUC,CAAV,EAAa;AACnF,GAAC,GAAGJ,QAAQ,CAACM,KAAb,EAAoB,sCAApB,EAA4D,UAAUwE,IAAV,EAAgB;AAC1E,QAAIrC,IAAI,GAAGqC,IAAI,CAACC,UAAL,CAAgB,CAAhB,EAAmB,CAAnB,CAAX;AACA3E,IAAAA,CAAC,CAACS,SAAF,CAAY4B,IAAI,CAACxB,IAAjB,EAAuB,YAAvB;AACAb,IAAAA,CAAC,CAACS,SAAF,CAAY4B,IAAI,CAACuC,QAAL,EAAZ,EAA6B,KAA7B;AACA,QAAIC,SAAS,GAAGH,IAAI,CAACC,UAAL,CAAgB,CAAhB,EAAmB,CAAnB,CAAhB;AACA3E,IAAAA,CAAC,CAACS,SAAF,CAAYoE,SAAS,CAAChE,IAAtB,EAA4B,UAA5B;AACAb,IAAAA,CAAC,CAACS,SAAF,CAAYoE,SAAS,CAACD,QAAV,EAAZ,EAAkC,2BAAlC;AACD,GAPD;AAQD,CATD;AAUA,CAAC,GAAGpF,IAAI,CAACO,OAAT,EAAkB,oDAAlB,EAAwE,UAAUC,CAAV,EAAa;AACnF,GAAC,GAAGJ,QAAQ,CAACM,KAAb,EAAoB,sCAApB,EAA4D,UAAUwE,IAAV,EAAgB;AAC1E,QAAIrC,IAAI,GAAGqC,IAAI,CAACC,UAAL,CAAgB,CAAhB,EAAmB,EAAnB,CAAX;AACA3E,IAAAA,CAAC,CAACS,SAAF,CAAY4B,IAAI,CAACxB,IAAjB,EAAuB,KAAvB;AACAb,IAAAA,CAAC,CAACS,SAAF,CAAY4B,IAAI,CAACuC,QAAL,EAAZ,EAA6B,IAA7B;AACD,GAJD;AAKD,CAND;AAOA,CAAC,GAAGpF,IAAI,CAACO,OAAT,EAAkB,sDAAlB,EAA0E,UAAUC,CAAV,EAAa;AACrF,GAAC,GAAGJ,QAAQ,CAACM,KAAb,EAAoB,sCAApB,EAA4D,UAAUwE,IAAV,EAAgB;AAC1E,QAAIrC,IAAI,GAAGqC,IAAI,CAACC,UAAL,CAAgB,CAAhB,EAAmB,EAAnB,CAAX;AACA3E,IAAAA,CAAC,CAACS,SAAF,CAAY4B,IAAI,CAACxB,IAAjB,EAAuB,QAAvB;AACAb,IAAAA,CAAC,CAACS,SAAF,CAAY4B,IAAI,CAACuC,QAAL,EAAZ,EAA6B,kBAA7B;AACD,GAJD;AAKD,CAND","sourcesContent":["\"use strict\";\n\nvar _ava = _interopRequireDefault(require(\"ava\"));\n\nvar _ = _interopRequireDefault(require(\"..\"));\n\nvar _helpers = require(\"./util/helpers\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(0, _ava.default)('container#append', function (t) {\n  var out = (0, _helpers.parse)('h1', function (selectors) {\n    var selector = selectors.first;\n    var clone = selector.first.clone({\n      value: 'h2'\n    });\n    selectors.append(clone);\n  });\n  t.deepEqual(out, 'h1,h2');\n});\n(0, _ava.default)('container#prepend', function (t) {\n  var out = (0, _helpers.parse)('h2', function (selectors) {\n    var selector = selectors.first;\n    var clone = selector.first.clone({\n      value: 'h1'\n    });\n    selectors.prepend(clone);\n  });\n  t.deepEqual(out, 'h1,h2');\n});\n(0, _ava.default)('container#each', function (t) {\n  var str = '';\n  (0, _helpers.parse)('h1, h2:not(h3, h4)', function (selectors) {\n    selectors.each(function (selector) {\n      if (selector.first.type === 'tag') {\n        str += selector.first.value;\n      }\n    });\n  });\n  t.deepEqual(str, 'h1h2');\n});\n(0, _ava.default)('container#each (safe iteration)', function (t) {\n  var out = (0, _helpers.parse)('.x, .y', function (selectors) {\n    selectors.each(function (selector) {\n      selector.parent.insertBefore(selector, _.default.className({\n        value: 'b'\n      }));\n      selector.parent.insertAfter(selector, _.default.className({\n        value: 'a'\n      }));\n    });\n  });\n  t.deepEqual(out, '.b,.x,.a,.b, .y,.a');\n});\n(0, _ava.default)('container#each (early exit)', function (t) {\n  var str = '';\n  (0, _helpers.parse)('h1, h2, h3, h4', function (selectors) {\n    var eachReturn = selectors.each(function (selector) {\n      var tag = selector.first.value;\n      str += tag;\n      return tag !== 'h2';\n    });\n    t.false(eachReturn);\n  });\n  t.deepEqual(str, 'h1h2');\n});\n(0, _ava.default)('container#walk', function (t) {\n  var str = '';\n  (0, _helpers.parse)('h1, h2:not(h3, h4)', function (selectors) {\n    selectors.walk(function (selector) {\n      if (selector.type === 'tag') {\n        str += selector.value;\n      }\n    });\n  });\n  t.deepEqual(str, 'h1h2h3h4');\n});\n(0, _ava.default)('container#walk (safe iteration)', function (t) {\n  var out = (0, _helpers.parse)('[class] + *[href] *:not(*.green)', function (selectors) {\n    selectors.walkUniversals(function (selector) {\n      var next = selector.next();\n\n      if (next && next.type !== 'combinator') {\n        selector.remove();\n      }\n    });\n  });\n  t.deepEqual(out, '[class] + [href] :not(.green)');\n});\n(0, _ava.default)('container#walk (early exit)', function (t) {\n  var str = '';\n  (0, _helpers.parse)('h1, h2:not(h3, h4)', function (selectors) {\n    var walkReturn = selectors.walk(function (selector) {\n      if (selector.type === 'tag') {\n        var tag = selector.value;\n        str += tag;\n        return tag !== 'h3';\n      }\n    });\n    t.false(walkReturn);\n  });\n  t.deepEqual(str, 'h1h2h3');\n});\n(0, _ava.default)('container#walkAttribute', function (t) {\n  var out = (0, _helpers.parse)('[href][class].class', function (selectors) {\n    selectors.walkAttributes(function (attr) {\n      if (attr.attribute === 'class') {\n        attr.remove();\n      }\n    });\n  });\n  t.deepEqual(out, '[href].class');\n});\n(0, _ava.default)('container#walkClass', function (t) {\n  var out = (0, _helpers.parse)('.one, .two, .three:not(.four, .five)', function (selectors) {\n    selectors.walkClasses(function (className) {\n      className.value = className.value.slice(0, 1);\n    });\n  });\n  t.deepEqual(out, '.o, .t, .t:not(.f, .f)');\n});\n(0, _ava.default)('container#walkCombinator', function (t) {\n  var out = (0, _helpers.parse)('h1 h2 h3 h4', function (selectors) {\n    selectors.walkCombinators(function (comment) {\n      comment.remove();\n    });\n  });\n  t.deepEqual(out, 'h1h2h3h4');\n});\n(0, _ava.default)('container#walkComment', function (t) {\n  var out = (0, _helpers.parse)('.one/*test*/.two', function (selectors) {\n    selectors.walkComments(function (comment) {\n      comment.remove();\n    });\n  });\n  t.deepEqual(out, '.one.two');\n});\n(0, _ava.default)('container#walkId', function (t) {\n  var out = (0, _helpers.parse)('h1#one, h2#two', function (selectors) {\n    selectors.walkIds(function (id) {\n      id.value = id.value.slice(0, 1);\n    });\n  });\n  t.deepEqual(out, 'h1#o, h2#t');\n});\n(0, _ava.default)('container#walkNesting', function (t) {\n  var out = (0, _helpers.parse)('& h1', function (selectors) {\n    selectors.walkNesting(function (node) {\n      node.replaceWith(_.default.tag({\n        value: 'body'\n      }));\n    });\n  });\n  t.deepEqual(out, 'body h1');\n});\n(0, _ava.default)('container#walkPseudo', function (t) {\n  var out = (0, _helpers.parse)('a:before, a:after', function (selectors) {\n    selectors.walkPseudos(function (pseudo) {\n      pseudo.value = pseudo.value.slice(0, 2);\n    });\n  });\n  t.deepEqual(out, 'a:b, a:a');\n});\n(0, _ava.default)('container#walkTag', function (t) {\n  var out = (0, _helpers.parse)('1 2 3', function (selectors) {\n    selectors.walkTags(function (tag) {\n      tag.value = 'h' + tag.value;\n    });\n  });\n  t.deepEqual(out, 'h1 h2 h3');\n});\n(0, _ava.default)('container#walkUniversal', function (t) {\n  var out = (0, _helpers.parse)('*.class,*.class,*.class', function (selectors) {\n    selectors.walkUniversals(function (universal) {\n      universal.remove();\n    });\n  });\n  t.deepEqual(out, '.class,.class,.class');\n});\n(0, _ava.default)('container#map', function (t) {\n  (0, _helpers.parse)('1 2 3', function (selectors) {\n    var arr = selectors.first.map(function (selector) {\n      if (/[0-9]/.test(selector.value)) {\n        return 'h' + selector.value;\n      }\n\n      return selector.value;\n    });\n    t.deepEqual(arr, ['h1', ' ', 'h2', ' ', 'h3']);\n  });\n});\n(0, _ava.default)('container#every', function (t) {\n  (0, _helpers.parse)('.one.two.three', function (selectors) {\n    var allClasses = selectors.first.every(function (selector) {\n      return selector.type === 'class';\n    });\n    t.truthy(allClasses);\n  });\n});\n(0, _ava.default)('container#some', function (t) {\n  (0, _helpers.parse)('one#two.three', function (selectors) {\n    var someClasses = selectors.first.some(function (selector) {\n      return selector.type === 'class';\n    });\n    t.truthy(someClasses);\n  });\n});\n(0, _ava.default)('container#reduce', function (t) {\n  (0, _helpers.parse)('h1, h2, h3, h4', function (selectors) {\n    var str = selectors.reduce(function (memo, selector) {\n      if (selector.first.type === 'tag') {\n        memo += selector.first.value;\n      }\n\n      return memo;\n    }, '');\n    t.deepEqual(str, 'h1h2h3h4');\n  });\n});\n(0, _ava.default)('container#filter', function (t) {\n  (0, _helpers.parse)('h1, h2, c1, c2', function (selectors) {\n    var ast = selectors.filter(function (selector) {\n      return ~selector.first.value.indexOf('h');\n    });\n    t.deepEqual(String(ast), 'h1, h2');\n  });\n});\n(0, _ava.default)('container#split', function (t) {\n  (0, _helpers.parse)('h1 h2 >> h3', function (selectors) {\n    var list = selectors.first.split(function (selector) {\n      return selector.value === '>>';\n    }).map(function (group) {\n      return group.map(String);\n    });\n    t.deepEqual(list, [['h1', ' ', 'h2', ' >> '], ['h3']]);\n    t.deepEqual(list.length, 2);\n  });\n});\n(0, _ava.default)('container#sort', function (t) {\n  var out = (0, _helpers.parse)('h2,h3,h1,h4', function (selectors) {\n    selectors.sort(function (a, b) {\n      return a.first.value.slice(-1) - b.first.value.slice(-1);\n    });\n  });\n  t.deepEqual(out, 'h1,h2,h3,h4');\n});\n(0, _ava.default)('container#at', function (t) {\n  (0, _helpers.parse)('h1, h2, h3', function (selectors) {\n    t.deepEqual(selectors.at(1).first.value, 'h2');\n  });\n});\n(0, _ava.default)('container#first, container#last', function (t) {\n  (0, _helpers.parse)('h1, h2, h3, h4', function (selectors) {\n    t.deepEqual(selectors.first.first.value, 'h1');\n    t.deepEqual(selectors.last.last.value, 'h4');\n  });\n});\n(0, _ava.default)('container#index', function (t) {\n  (0, _helpers.parse)('h1 h2 h3', function (selectors) {\n    var middle = selectors.first.at(1);\n    t.deepEqual(selectors.first.index(middle), 1);\n  });\n});\n(0, _ava.default)('container#length', function (t) {\n  (0, _helpers.parse)('h1, h2, h3', function (selectors) {\n    t.deepEqual(selectors.length, 3);\n  });\n});\n(0, _ava.default)('container#removeChild', function (t) {\n  var out = (0, _helpers.parse)('h1.class h2.class h3.class', function (selectors) {\n    selectors.walk(function (selector) {\n      if (selector.type === 'class') {\n        selector.parent.removeChild(selector);\n      }\n    });\n  });\n  t.deepEqual(out, 'h1 h2 h3');\n});\n(0, _ava.default)('container#removeAll, container#empty', function (t) {\n  var wipe = function wipe(method) {\n    return function (selectors) {\n      return selectors[method]();\n    };\n  };\n\n  var out1 = (0, _helpers.parse)('h1 h2, h2 h3, h3 h4', wipe('empty'));\n  var out2 = (0, _helpers.parse)('h1 h2, h2 h3, h3 h4', wipe('removeAll'));\n  t.deepEqual(out1, '');\n  t.deepEqual(out2, '');\n});\n(0, _ava.default)('container#insertBefore', function (t) {\n  var out = (0, _helpers.parse)('h2', function (selectors) {\n    var selector = selectors.first;\n    var clone = selector.first.clone({\n      value: 'h1'\n    });\n    selectors.insertBefore(selector, clone);\n  });\n  t.deepEqual(out, 'h1,h2');\n});\n(0, _ava.default)('container#insertBefore and node#remove', function (t) {\n  var out = (0, _helpers.parse)('h2', function (selectors) {\n    var selector = selectors.first;\n\n    var newSel = _.default.tag({\n      value: 'h1'\n    });\n\n    selectors.insertBefore(selector, newSel);\n    newSel.remove();\n  });\n  t.deepEqual(out, 'h2');\n});\n(0, _ava.default)('container#insertAfter', function (t) {\n  var out = (0, _helpers.parse)('h1', function (selectors) {\n    var selector = selectors.first;\n    var clone = selector.first.clone({\n      value: 'h2'\n    });\n    selectors.insertAfter(selector, clone);\n  });\n  t.deepEqual(out, 'h1,h2');\n});\n(0, _ava.default)('container#insertAfter and node#remove', function (t) {\n  var out = (0, _helpers.parse)('h2', function (selectors) {\n    var selector = selectors.first;\n\n    var newSel = _.default.tag({\n      value: 'h1'\n    });\n\n    selectors.insertAfter(selector, newSel);\n    newSel.remove();\n  });\n  t.deepEqual(out, 'h2');\n});\n(0, _ava.default)('container#insertAfter (during iteration)', function (t) {\n  var out = (0, _helpers.parse)('h1, h2, h3', function (selectors) {\n    selectors.walkTags(function (selector) {\n      var attribute = _.default.attribute({\n        attribute: 'class'\n      });\n\n      selector.parent.insertAfter(selector, attribute);\n    });\n  });\n  t.deepEqual(out, 'h1[class], h2[class], h3[class]');\n});\n(0, _ava.default)('Container#atPosition first pseudo', function (t) {\n  (0, _helpers.parse)(':not(.foo),\\n#foo > :matches(ol, ul)', function (root) {\n    var node = root.atPosition(1, 1);\n    t.deepEqual(node.type, \"pseudo\");\n    t.deepEqual(node.toString(), \":not(.foo)\");\n  });\n});\n(0, _ava.default)('Container#atPosition class in pseudo', function (t) {\n  (0, _helpers.parse)(':not(.foo),\\n#foo > :matches(ol, ul)', function (root) {\n    var node = root.atPosition(1, 6);\n    t.deepEqual(node.type, \"class\");\n    t.deepEqual(node.toString(), \".foo\");\n  });\n});\n(0, _ava.default)('Container#atPosition id in second selector', function (t) {\n  (0, _helpers.parse)(':not(.foo),\\n#foo > :matches(ol, ul)', function (root) {\n    var node = root.atPosition(2, 1);\n    t.deepEqual(node.type, \"id\");\n    t.deepEqual(node.toString(), \"\\n#foo\");\n  });\n});\n(0, _ava.default)('Container#atPosition combinator in second selector', function (t) {\n  (0, _helpers.parse)(':not(.foo),\\n#foo > :matches(ol, ul)', function (root) {\n    var node = root.atPosition(2, 6);\n    t.deepEqual(node.type, \"combinator\");\n    t.deepEqual(node.toString(), \" > \");\n    var nodeSpace = root.atPosition(2, 5);\n    t.deepEqual(nodeSpace.type, \"selector\");\n    t.deepEqual(nodeSpace.toString(), \"\\n#foo > :matches(ol, ul)\");\n  });\n});\n(0, _ava.default)('Container#atPosition tag in second selector pseudo', function (t) {\n  (0, _helpers.parse)(':not(.foo),\\n#foo > :matches(ol, ul)', function (root) {\n    var node = root.atPosition(2, 17);\n    t.deepEqual(node.type, \"tag\");\n    t.deepEqual(node.toString(), \"ol\");\n  });\n});\n(0, _ava.default)('Container#atPosition comma in second selector pseudo', function (t) {\n  (0, _helpers.parse)(':not(.foo),\\n#foo > :matches(ol, ul)', function (root) {\n    var node = root.atPosition(2, 19);\n    t.deepEqual(node.type, \"pseudo\");\n    t.deepEqual(node.toString(), \":matches(ol, ul)\");\n  });\n});"]},"metadata":{},"sourceType":"script"}