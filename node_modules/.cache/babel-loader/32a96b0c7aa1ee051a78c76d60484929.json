{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.worker = worker;\nexports.getSha1 = getSha1;\n\nfunction _crypto() {\n  const data = _interopRequireDefault(require('crypto'));\n\n  _crypto = function _crypto() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _path() {\n  const data = _interopRequireDefault(require('path'));\n\n  _path = function _path() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _gracefulFs() {\n  const data = _interopRequireDefault(require('graceful-fs'));\n\n  _gracefulFs = function _gracefulFs() {\n    return data;\n  };\n\n  return data;\n}\n\nvar _blacklist = _interopRequireDefault(require('./blacklist'));\n\nvar _constants = _interopRequireDefault(require('./constants'));\n\nvar dependencyExtractor = _interopRequireWildcard(require('./lib/dependencyExtractor'));\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'next', value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'throw', err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nconst PACKAGE_JSON = _path().default.sep + 'package.json';\nlet hasteImpl = null;\nlet hasteImplModulePath = null;\n\nfunction sha1hex(content) {\n  return _crypto().default.createHash('sha1').update(content).digest('hex');\n}\n\nfunction worker(_x) {\n  return _worker.apply(this, arguments);\n}\n\nfunction _worker() {\n  _worker = _asyncToGenerator(function* (data) {\n    if (data.hasteImplModulePath && data.hasteImplModulePath !== hasteImplModulePath) {\n      if (hasteImpl) {\n        throw new Error('jest-haste-map: hasteImplModulePath changed');\n      }\n\n      hasteImplModulePath = data.hasteImplModulePath;\n      hasteImpl = require(hasteImplModulePath);\n    }\n\n    let content;\n    let dependencies;\n    let id;\n    let module;\n    let sha1;\n    const computeDependencies = data.computeDependencies,\n          computeSha1 = data.computeSha1,\n          rootDir = data.rootDir,\n          filePath = data.filePath;\n\n    const getContent = () => {\n      if (content === undefined) {\n        content = _gracefulFs().default.readFileSync(filePath, 'utf8');\n      }\n\n      return content;\n    };\n\n    if (filePath.endsWith(PACKAGE_JSON)) {\n      // Process a package.json that is returned as a PACKAGE type with its name.\n      try {\n        const fileData = JSON.parse(getContent());\n\n        if (fileData.name) {\n          const relativeFilePath = _path().default.relative(rootDir, filePath);\n\n          id = fileData.name;\n          module = [relativeFilePath, _constants.default.PACKAGE];\n        }\n      } catch (err) {\n        throw new Error(`Cannot parse ${filePath} as JSON: ${err.message}`);\n      }\n    } else if (!_blacklist.default.has(filePath.substr(filePath.lastIndexOf('.')))) {\n      // Process a random file that is returned as a MODULE.\n      if (hasteImpl) {\n        id = hasteImpl.getHasteName(filePath);\n      }\n\n      if (computeDependencies) {\n        const content = getContent();\n        dependencies = Array.from(data.dependencyExtractor ? require(data.dependencyExtractor).extract(content, filePath, dependencyExtractor.extract) : dependencyExtractor.extract(content));\n      }\n\n      if (id) {\n        const relativeFilePath = _path().default.relative(rootDir, filePath);\n\n        module = [relativeFilePath, _constants.default.MODULE];\n      }\n    } // If a SHA-1 is requested on update, compute it.\n\n\n    if (computeSha1) {\n      sha1 = sha1hex(getContent() || _gracefulFs().default.readFileSync(filePath));\n    }\n\n    return {\n      dependencies,\n      id,\n      module,\n      sha1\n    };\n  });\n  return _worker.apply(this, arguments);\n}\n\nfunction getSha1(_x2) {\n  return _getSha.apply(this, arguments);\n}\n\nfunction _getSha() {\n  _getSha = _asyncToGenerator(function* (data) {\n    const sha1 = data.computeSha1 ? sha1hex(_gracefulFs().default.readFileSync(data.filePath)) : null;\n    return {\n      dependencies: undefined,\n      id: undefined,\n      module: undefined,\n      sha1\n    };\n  });\n  return _getSha.apply(this, arguments);\n}","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/jest-haste-map/build/worker.js"],"names":["Object","defineProperty","exports","value","worker","getSha1","_crypto","data","_interopRequireDefault","require","_path","_gracefulFs","_blacklist","_constants","dependencyExtractor","_interopRequireWildcard","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","desc","getOwnPropertyDescriptor","get","set","default","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","PACKAGE_JSON","sep","hasteImpl","hasteImplModulePath","sha1hex","content","createHash","update","digest","_x","_worker","Error","dependencies","id","module","sha1","computeDependencies","computeSha1","rootDir","filePath","getContent","readFileSync","endsWith","fileData","JSON","parse","name","relativeFilePath","relative","PACKAGE","message","has","substr","lastIndexOf","getHasteName","Array","from","extract","MODULE","_x2","_getSha"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.worker = worker;\nexports.getSha1 = getSha1;\n\nfunction _crypto() {\n  const data = _interopRequireDefault(require('crypto'));\n\n  _crypto = function _crypto() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _path() {\n  const data = _interopRequireDefault(require('path'));\n\n  _path = function _path() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _gracefulFs() {\n  const data = _interopRequireDefault(require('graceful-fs'));\n\n  _gracefulFs = function _gracefulFs() {\n    return data;\n  };\n\n  return data;\n}\n\nvar _blacklist = _interopRequireDefault(require('./blacklist'));\n\nvar _constants = _interopRequireDefault(require('./constants'));\n\nvar dependencyExtractor = _interopRequireWildcard(\n  require('./lib/dependencyExtractor')\n);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc =\n            Object.defineProperty && Object.getOwnPropertyDescriptor\n              ? Object.getOwnPropertyDescriptor(obj, key)\n              : {};\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {default: obj};\n}\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function() {\n    var self = this,\n      args = arguments;\n    return new Promise(function(resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'next', value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'throw', err);\n      }\n      _next(undefined);\n    });\n  };\n}\n\nconst PACKAGE_JSON = _path().default.sep + 'package.json';\nlet hasteImpl = null;\nlet hasteImplModulePath = null;\n\nfunction sha1hex(content) {\n  return _crypto()\n    .default.createHash('sha1')\n    .update(content)\n    .digest('hex');\n}\n\nfunction worker(_x) {\n  return _worker.apply(this, arguments);\n}\n\nfunction _worker() {\n  _worker = _asyncToGenerator(function*(data) {\n    if (\n      data.hasteImplModulePath &&\n      data.hasteImplModulePath !== hasteImplModulePath\n    ) {\n      if (hasteImpl) {\n        throw new Error('jest-haste-map: hasteImplModulePath changed');\n      }\n\n      hasteImplModulePath = data.hasteImplModulePath;\n      hasteImpl = require(hasteImplModulePath);\n    }\n\n    let content;\n    let dependencies;\n    let id;\n    let module;\n    let sha1;\n    const computeDependencies = data.computeDependencies,\n      computeSha1 = data.computeSha1,\n      rootDir = data.rootDir,\n      filePath = data.filePath;\n\n    const getContent = () => {\n      if (content === undefined) {\n        content = _gracefulFs().default.readFileSync(filePath, 'utf8');\n      }\n\n      return content;\n    };\n\n    if (filePath.endsWith(PACKAGE_JSON)) {\n      // Process a package.json that is returned as a PACKAGE type with its name.\n      try {\n        const fileData = JSON.parse(getContent());\n\n        if (fileData.name) {\n          const relativeFilePath = _path().default.relative(rootDir, filePath);\n\n          id = fileData.name;\n          module = [relativeFilePath, _constants.default.PACKAGE];\n        }\n      } catch (err) {\n        throw new Error(`Cannot parse ${filePath} as JSON: ${err.message}`);\n      }\n    } else if (\n      !_blacklist.default.has(filePath.substr(filePath.lastIndexOf('.')))\n    ) {\n      // Process a random file that is returned as a MODULE.\n      if (hasteImpl) {\n        id = hasteImpl.getHasteName(filePath);\n      }\n\n      if (computeDependencies) {\n        const content = getContent();\n        dependencies = Array.from(\n          data.dependencyExtractor\n            ? require(data.dependencyExtractor).extract(\n                content,\n                filePath,\n                dependencyExtractor.extract\n              )\n            : dependencyExtractor.extract(content)\n        );\n      }\n\n      if (id) {\n        const relativeFilePath = _path().default.relative(rootDir, filePath);\n\n        module = [relativeFilePath, _constants.default.MODULE];\n      }\n    } // If a SHA-1 is requested on update, compute it.\n\n    if (computeSha1) {\n      sha1 = sha1hex(\n        getContent() || _gracefulFs().default.readFileSync(filePath)\n      );\n    }\n\n    return {\n      dependencies,\n      id,\n      module,\n      sha1\n    };\n  });\n  return _worker.apply(this, arguments);\n}\n\nfunction getSha1(_x2) {\n  return _getSha.apply(this, arguments);\n}\n\nfunction _getSha() {\n  _getSha = _asyncToGenerator(function*(data) {\n    const sha1 = data.computeSha1\n      ? sha1hex(_gracefulFs().default.readFileSync(data.filePath))\n      : null;\n    return {\n      dependencies: undefined,\n      id: undefined,\n      module: undefined,\n      sha1\n    };\n  });\n  return _getSha.apply(this, arguments);\n}\n"]},"metadata":{},"sourceType":"script"}