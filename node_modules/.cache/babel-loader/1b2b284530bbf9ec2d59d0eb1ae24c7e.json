{"ast":null,"code":"/**\n * @fileoverview Rule to flag use of alert, confirm, prompt\n * @author Nicholas C. Zakas\n */\n\"use strict\"; //------------------------------------------------------------------------------\n// Requirements\n//------------------------------------------------------------------------------\n\nconst getPropertyName = require(\"./utils/ast-utils\").getStaticPropertyName; //------------------------------------------------------------------------------\n// Helpers\n//------------------------------------------------------------------------------\n\n/**\n * Checks if the given name is a prohibited identifier.\n * @param {string} name The name to check\n * @returns {boolean} Whether or not the name is prohibited.\n */\n\n\nfunction isProhibitedIdentifier(name) {\n  return /^(alert|confirm|prompt)$/u.test(name);\n}\n/**\n * Finds the eslint-scope reference in the given scope.\n * @param {Object} scope The scope to search.\n * @param {ASTNode} node The identifier node.\n * @returns {Reference|null} Returns the found reference or null if none were found.\n */\n\n\nfunction findReference(scope, node) {\n  const references = scope.references.filter(reference => reference.identifier.range[0] === node.range[0] && reference.identifier.range[1] === node.range[1]);\n\n  if (references.length === 1) {\n    return references[0];\n  }\n\n  return null;\n}\n/**\n * Checks if the given identifier node is shadowed in the given scope.\n * @param {Object} scope The current scope.\n * @param {string} node The identifier node to check\n * @returns {boolean} Whether or not the name is shadowed.\n */\n\n\nfunction isShadowed(scope, node) {\n  const reference = findReference(scope, node);\n  return reference && reference.resolved && reference.resolved.defs.length > 0;\n}\n/**\n * Checks if the given identifier node is a ThisExpression in the global scope or the global window property.\n * @param {Object} scope The current scope.\n * @param {string} node The identifier node to check\n * @returns {boolean} Whether or not the node is a reference to the global object.\n */\n\n\nfunction isGlobalThisReferenceOrGlobalWindow(scope, node) {\n  if (scope.type === \"global\" && node.type === \"ThisExpression\") {\n    return true;\n  }\n\n  if (node.name === \"window\") {\n    return !isShadowed(scope, node);\n  }\n\n  return false;\n} //------------------------------------------------------------------------------\n// Rule Definition\n//------------------------------------------------------------------------------\n\n\nmodule.exports = {\n  meta: {\n    type: \"suggestion\",\n    docs: {\n      description: \"disallow the use of `alert`, `confirm`, and `prompt`\",\n      category: \"Best Practices\",\n      recommended: false,\n      url: \"https://eslint.org/docs/rules/no-alert\"\n    },\n    schema: [],\n    messages: {\n      unexpected: \"Unexpected {{name}}.\"\n    }\n  },\n\n  create(context) {\n    return {\n      CallExpression(node) {\n        const callee = node.callee,\n              currentScope = context.getScope(); // without window.\n\n        if (callee.type === \"Identifier\") {\n          const name = callee.name;\n\n          if (!isShadowed(currentScope, callee) && isProhibitedIdentifier(callee.name)) {\n            context.report({\n              node,\n              messageId: \"unexpected\",\n              data: {\n                name\n              }\n            });\n          }\n        } else if (callee.type === \"MemberExpression\" && isGlobalThisReferenceOrGlobalWindow(currentScope, callee.object)) {\n          const name = getPropertyName(callee);\n\n          if (isProhibitedIdentifier(name)) {\n            context.report({\n              node,\n              messageId: \"unexpected\",\n              data: {\n                name\n              }\n            });\n          }\n        }\n      }\n\n    };\n  }\n\n};","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/eslint/lib/rules/no-alert.js"],"names":["getPropertyName","require","getStaticPropertyName","isProhibitedIdentifier","name","test","findReference","scope","node","references","filter","reference","identifier","range","length","isShadowed","resolved","defs","isGlobalThisReferenceOrGlobalWindow","type","module","exports","meta","docs","description","category","recommended","url","schema","messages","unexpected","create","context","CallExpression","callee","currentScope","getScope","report","messageId","data","object"],"mappings":"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","sourcesContent":["/**\n * @fileoverview Rule to flag use of alert, confirm, prompt\n * @author Nicholas C. Zakas\n */\n\"use strict\";\n\n//------------------------------------------------------------------------------\n// Requirements\n//------------------------------------------------------------------------------\n\nconst getPropertyName = require(\"./utils/ast-utils\").getStaticPropertyName;\n\n//------------------------------------------------------------------------------\n// Helpers\n//------------------------------------------------------------------------------\n\n/**\n * Checks if the given name is a prohibited identifier.\n * @param {string} name The name to check\n * @returns {boolean} Whether or not the name is prohibited.\n */\nfunction isProhibitedIdentifier(name) {\n    return /^(alert|confirm|prompt)$/u.test(name);\n}\n\n/**\n * Finds the eslint-scope reference in the given scope.\n * @param {Object} scope The scope to search.\n * @param {ASTNode} node The identifier node.\n * @returns {Reference|null} Returns the found reference or null if none were found.\n */\nfunction findReference(scope, node) {\n    const references = scope.references.filter(reference => reference.identifier.range[0] === node.range[0] &&\n            reference.identifier.range[1] === node.range[1]);\n\n    if (references.length === 1) {\n        return references[0];\n    }\n    return null;\n}\n\n/**\n * Checks if the given identifier node is shadowed in the given scope.\n * @param {Object} scope The current scope.\n * @param {string} node The identifier node to check\n * @returns {boolean} Whether or not the name is shadowed.\n */\nfunction isShadowed(scope, node) {\n    const reference = findReference(scope, node);\n\n    return reference && reference.resolved && reference.resolved.defs.length > 0;\n}\n\n/**\n * Checks if the given identifier node is a ThisExpression in the global scope or the global window property.\n * @param {Object} scope The current scope.\n * @param {string} node The identifier node to check\n * @returns {boolean} Whether or not the node is a reference to the global object.\n */\nfunction isGlobalThisReferenceOrGlobalWindow(scope, node) {\n    if (scope.type === \"global\" && node.type === \"ThisExpression\") {\n        return true;\n    }\n    if (node.name === \"window\") {\n        return !isShadowed(scope, node);\n    }\n\n    return false;\n}\n\n//------------------------------------------------------------------------------\n// Rule Definition\n//------------------------------------------------------------------------------\n\nmodule.exports = {\n    meta: {\n        type: \"suggestion\",\n\n        docs: {\n            description: \"disallow the use of `alert`, `confirm`, and `prompt`\",\n            category: \"Best Practices\",\n            recommended: false,\n            url: \"https://eslint.org/docs/rules/no-alert\"\n        },\n\n        schema: [],\n\n        messages: {\n            unexpected: \"Unexpected {{name}}.\"\n        }\n    },\n\n    create(context) {\n        return {\n            CallExpression(node) {\n                const callee = node.callee,\n                    currentScope = context.getScope();\n\n                // without window.\n                if (callee.type === \"Identifier\") {\n                    const name = callee.name;\n\n                    if (!isShadowed(currentScope, callee) && isProhibitedIdentifier(callee.name)) {\n                        context.report({\n                            node,\n                            messageId: \"unexpected\",\n                            data: { name }\n                        });\n                    }\n\n                } else if (callee.type === \"MemberExpression\" && isGlobalThisReferenceOrGlobalWindow(currentScope, callee.object)) {\n                    const name = getPropertyName(callee);\n\n                    if (isProhibitedIdentifier(name)) {\n                        context.report({\n                            node,\n                            messageId: \"unexpected\",\n                            data: { name }\n                        });\n                    }\n                }\n\n            }\n        };\n\n    }\n};\n"]},"metadata":{},"sourceType":"script"}