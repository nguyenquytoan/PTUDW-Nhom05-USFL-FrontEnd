{"ast":null,"code":"'use strict';\n\nexports.type = 'perItem';\nexports.active = true;\nexports.description = 'removes useless stroke and fill attributes';\nexports.params = {\n  stroke: true,\n  fill: true,\n  removeNone: false,\n  hasStyleOrScript: false\n};\n\nvar shape = require('./_collections').elemsGroups.shape,\n    regStrokeProps = /^stroke/,\n    regFillProps = /^fill-/,\n    styleOrScript = ['style', 'script'];\n/**\n * Remove useless stroke and fill attrs.\n *\n * @param {Object} item current iteration item\n * @param {Object} params plugin params\n * @return {Boolean} if false, item will be filtered out\n *\n * @author Kir Belevich\n */\n\n\nexports.fn = function (item, params) {\n  if (item.isElem(styleOrScript)) {\n    params.hasStyleOrScript = true;\n  }\n\n  if (!params.hasStyleOrScript && item.isElem(shape) && !item.computedAttr('id')) {\n    var stroke = params.stroke && item.computedAttr('stroke'),\n        fill = params.fill && !item.computedAttr('fill', 'none'); // remove stroke*\n\n    if (params.stroke && (!stroke || stroke == 'none' || item.computedAttr('stroke-opacity', '0') || item.computedAttr('stroke-width', '0'))) {\n      var parentStroke = item.parentNode.computedAttr('stroke'),\n          declineStroke = parentStroke && parentStroke != 'none';\n      item.eachAttr(function (attr) {\n        if (regStrokeProps.test(attr.name)) {\n          item.removeAttr(attr.name);\n        }\n      });\n      if (declineStroke) item.addAttr({\n        name: 'stroke',\n        value: 'none',\n        prefix: '',\n        local: 'stroke'\n      });\n    } // remove fill*\n\n\n    if (params.fill && (!fill || item.computedAttr('fill-opacity', '0'))) {\n      item.eachAttr(function (attr) {\n        if (regFillProps.test(attr.name)) {\n          item.removeAttr(attr.name);\n        }\n      });\n\n      if (fill) {\n        if (item.hasAttr('fill')) item.attr('fill').value = 'none';else item.addAttr({\n          name: 'fill',\n          value: 'none',\n          prefix: '',\n          local: 'fill'\n        });\n      }\n    }\n\n    if (params.removeNone && (!stroke || item.hasAttr('stroke') && item.attr('stroke').value == 'none') && (!fill || item.hasAttr('fill') && item.attr('fill').value == 'none')) {\n      return false;\n    }\n  }\n};","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/svgo/plugins/removeUselessStrokeAndFill.js"],"names":["exports","type","active","description","params","stroke","fill","removeNone","hasStyleOrScript","shape","require","elemsGroups","regStrokeProps","regFillProps","styleOrScript","fn","item","isElem","computedAttr","parentStroke","parentNode","declineStroke","eachAttr","attr","test","name","removeAttr","addAttr","value","prefix","local","hasAttr"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.type = 'perItem';\n\nexports.active = true;\n\nexports.description = 'removes useless stroke and fill attributes';\n\nexports.params = {\n    stroke: true,\n    fill: true,\n    removeNone: false,\n    hasStyleOrScript: false\n};\n\nvar shape = require('./_collections').elemsGroups.shape,\n    regStrokeProps = /^stroke/,\n    regFillProps = /^fill-/,\n    styleOrScript = ['style', 'script'];\n\n/**\n * Remove useless stroke and fill attrs.\n *\n * @param {Object} item current iteration item\n * @param {Object} params plugin params\n * @return {Boolean} if false, item will be filtered out\n *\n * @author Kir Belevich\n */\nexports.fn = function(item, params) {\n    \n    if (item.isElem(styleOrScript)) {\n        params.hasStyleOrScript = true;\n    }\n\n    if (!params.hasStyleOrScript && item.isElem(shape) && !item.computedAttr('id')) {\n\n        var stroke = params.stroke && item.computedAttr('stroke'),\n            fill = params.fill && !item.computedAttr('fill', 'none');\n\n        // remove stroke*\n        if (\n            params.stroke &&\n            (!stroke ||\n                stroke == 'none' ||\n                item.computedAttr('stroke-opacity', '0') ||\n                item.computedAttr('stroke-width', '0')\n            )\n        ) {\n            var parentStroke = item.parentNode.computedAttr('stroke'),\n                declineStroke = parentStroke && parentStroke != 'none';\n\n            item.eachAttr(function(attr) {\n                if (regStrokeProps.test(attr.name)) {\n                    item.removeAttr(attr.name);\n                }\n            });\n\n            if (declineStroke) item.addAttr({\n                name: 'stroke',\n                value: 'none',\n                prefix: '',\n                local: 'stroke'\n            });\n        }\n\n        // remove fill*\n        if (\n            params.fill &&\n            (!fill || item.computedAttr('fill-opacity', '0'))\n        ) {\n            item.eachAttr(function(attr) {\n                if (regFillProps.test(attr.name)) {\n                    item.removeAttr(attr.name);\n                }\n            });\n\n            if (fill) {\n                if (item.hasAttr('fill'))\n                    item.attr('fill').value = 'none';\n                else\n                    item.addAttr({\n                        name: 'fill',\n                        value: 'none',\n                        prefix: '',\n                        local: 'fill'\n                    });\n            }\n        }\n\n        if (params.removeNone && \n            (!stroke || item.hasAttr('stroke') && item.attr('stroke').value=='none') &&\n            (!fill || item.hasAttr('fill') && item.attr('fill').value=='none')) {\n\n            return false;\n        }\n\n    }\n\n};\n"]},"metadata":{},"sourceType":"script"}