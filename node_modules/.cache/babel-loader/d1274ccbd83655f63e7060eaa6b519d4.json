{"ast":null,"code":"/*\r\n * QUnit - A JavaScript Unit Testing Framework\r\n * \r\n * http://docs.jquery.com/QUnit\r\n *\r\n * Copyright (c) 2009 John Resig, Jörn Zaefferer\r\n * Dual licensed under the MIT (MIT-LICENSE.txt)\r\n * and GPL (GPL-LICENSE.txt) licenses.\r\n */\n(function (window) {\n  var QUnit = {\n    // Initialize the configuration options\n    init: function () {\n      config = {\n        stats: {\n          all: 0,\n          bad: 0\n        },\n        moduleStats: {\n          all: 0,\n          bad: 0\n        },\n        started: +new Date(),\n        blocking: false,\n        autorun: false,\n        assertions: [],\n        filters: [],\n        queue: []\n      };\n      var tests = id(\"qunit-tests\"),\n          banner = id(\"qunit-banner\"),\n          result = id(\"qunit-testresult\");\n\n      if (tests) {\n        tests.innerHTML = \"\";\n      }\n\n      if (banner) {\n        banner.className = \"\";\n      }\n\n      if (result) {\n        result.parentNode.removeChild(result);\n      }\n    },\n    // call on start of module test to prepend name to all tests\n    module: function (name, testEnvironment) {\n      config.currentModule = name;\n      synchronize(function () {\n        if (config.currentModule) {\n          QUnit.moduleDone(config.currentModule, config.moduleStats.bad, config.moduleStats.all);\n        }\n\n        config.currentModule = name;\n        config.moduleTestEnvironment = testEnvironment;\n        config.moduleStats = {\n          all: 0,\n          bad: 0\n        };\n        QUnit.moduleStart(name, testEnvironment);\n      });\n    },\n    asyncTest: function (testName, expected, callback) {\n      if (arguments.length === 2) {\n        callback = expected;\n        expected = 0;\n      }\n\n      QUnit.test(testName, expected, callback, true);\n    },\n    test: function (testName, expected, callback, async) {\n      var name = testName,\n          testEnvironment,\n          testEnvironmentArg;\n\n      if (arguments.length === 2) {\n        callback = expected;\n        expected = null;\n      } // is 2nd argument a testEnvironment?\n\n\n      if (expected && typeof expected === 'object') {\n        testEnvironmentArg = expected;\n        expected = null;\n      }\n\n      if (config.currentModule) {\n        name = config.currentModule + \" module: \" + name;\n      }\n\n      if (!validTest(name)) {\n        return;\n      }\n\n      synchronize(function () {\n        QUnit.testStart(testName);\n        testEnvironment = extend({\n          setup: function () {},\n          teardown: function () {}\n        }, config.moduleTestEnvironment);\n\n        if (testEnvironmentArg) {\n          extend(testEnvironment, testEnvironmentArg);\n        } // allow utility functions to access the current test environment\n\n\n        QUnit.current_testEnvironment = testEnvironment;\n        config.assertions = [];\n        config.expected = expected;\n\n        try {\n          if (!config.pollution) {\n            saveGlobal();\n          }\n\n          testEnvironment.setup.call(testEnvironment);\n        } catch (e) {\n          QUnit.ok(false, \"Setup failed on \" + name + \": \" + e.message);\n        }\n\n        if (async) {\n          QUnit.stop();\n        }\n\n        try {\n          callback.call(testEnvironment);\n        } catch (e) {\n          fail(\"Test \" + name + \" died, exception and test follows\", e, callback);\n          QUnit.ok(false, \"Died on test #\" + (config.assertions.length + 1) + \": \" + e.message); // else next test will carry the responsibility\n\n          saveGlobal(); // Restart the tests if they're blocking\n\n          if (config.blocking) {\n            start();\n          }\n        }\n      });\n      synchronize(function () {\n        try {\n          checkPollution();\n          testEnvironment.teardown.call(testEnvironment);\n        } catch (e) {\n          QUnit.ok(false, \"Teardown failed on \" + name + \": \" + e.message);\n        }\n\n        try {\n          QUnit.reset();\n        } catch (e) {\n          fail(\"reset() failed, following Test \" + name + \", exception and reset fn follows\", e, reset);\n        }\n\n        if (config.expected && config.expected != config.assertions.length) {\n          QUnit.ok(false, \"Expected \" + config.expected + \" assertions, but \" + config.assertions.length + \" were run\");\n        }\n\n        var good = 0,\n            bad = 0,\n            tests = id(\"qunit-tests\");\n        config.stats.all += config.assertions.length;\n        config.moduleStats.all += config.assertions.length;\n\n        if (tests) {\n          var ol = document.createElement(\"ol\");\n          ol.style.display = \"none\";\n\n          for (var i = 0; i < config.assertions.length; i++) {\n            var assertion = config.assertions[i];\n            var li = document.createElement(\"li\");\n            li.className = assertion.result ? \"pass\" : \"fail\";\n            li.appendChild(document.createTextNode(assertion.message || \"(no message)\"));\n            ol.appendChild(li);\n\n            if (assertion.result) {\n              good++;\n            } else {\n              bad++;\n              config.stats.bad++;\n              config.moduleStats.bad++;\n            }\n          }\n\n          var b = document.createElement(\"strong\");\n          b.innerHTML = name + \" <b style='color:black;'>(<b class='fail'>\" + bad + \"</b>, <b class='pass'>\" + good + \"</b>, \" + config.assertions.length + \")</b>\";\n          addEvent(b, \"click\", function () {\n            var next = b.nextSibling,\n                display = next.style.display;\n            next.style.display = display === \"none\" ? \"block\" : \"none\";\n          });\n          addEvent(b, \"dblclick\", function (e) {\n            var target = e && e.target ? e.target : window.event.srcElement;\n\n            if (target.nodeName.toLowerCase() === \"strong\") {\n              var text = \"\",\n                  node = target.firstChild;\n\n              while (node.nodeType === 3) {\n                text += node.nodeValue;\n                node = node.nextSibling;\n              }\n\n              text = text.replace(/(^\\s*|\\s*$)/g, \"\");\n\n              if (window.location) {\n                window.location.href = window.location.href.match(/^(.+?)(\\?.*)?$/)[1] + \"?\" + encodeURIComponent(text);\n              }\n            }\n          });\n          var li = document.createElement(\"li\");\n          li.className = bad ? \"fail\" : \"pass\";\n          li.appendChild(b);\n          li.appendChild(ol);\n          tests.appendChild(li);\n\n          if (bad) {\n            var toolbar = id(\"qunit-testrunner-toolbar\");\n\n            if (toolbar) {\n              toolbar.style.display = \"block\";\n              id(\"qunit-filter-pass\").disabled = null;\n              id(\"qunit-filter-missing\").disabled = null;\n            }\n          }\n        } else {\n          for (var i = 0; i < config.assertions.length; i++) {\n            if (!config.assertions[i].result) {\n              bad++;\n              config.stats.bad++;\n              config.moduleStats.bad++;\n            }\n          }\n        }\n\n        QUnit.testDone(testName, bad, config.assertions.length);\n\n        if (!window.setTimeout && !config.queue.length) {\n          done();\n        }\n      });\n\n      if (window.setTimeout && !config.doneTimer) {\n        config.doneTimer = window.setTimeout(function () {\n          if (!config.queue.length) {\n            done();\n          } else {\n            synchronize(done);\n          }\n        }, 13);\n      }\n    },\n\n    /**\r\n     * Specify the number of expected assertions to gurantee that failed test (no assertions are run at all) don't slip through.\r\n     */\n    expect: function (asserts) {\n      config.expected = asserts;\n    },\n\n    /**\r\n     * Asserts true.\r\n     * @example ok( \"asdfasdf\".length > 5, \"There must be at least 5 chars\" );\r\n     */\n    ok: function (a, msg) {\n      QUnit.log(a, msg);\n      config.assertions.push({\n        result: !!a,\n        message: msg\n      });\n    },\n\n    /**\r\n     * Checks that the first two arguments are equal, with an optional message.\r\n     * Prints out both actual and expected values.\r\n     *\r\n     * Prefered to ok( actual == expected, message )\r\n     *\r\n     * @example equal( format(\"Received {0} bytes.\", 2), \"Received 2 bytes.\" );\r\n     *\r\n     * @param Object actual\r\n     * @param Object expected\r\n     * @param String message (optional)\r\n     */\n    equal: function (actual, expected, message) {\n      push(expected == actual, actual, expected, message);\n    },\n    notEqual: function (actual, expected, message) {\n      push(expected != actual, actual, expected, message);\n    },\n    deepEqual: function (a, b, message) {\n      push(QUnit.equiv(a, b), a, b, message);\n    },\n    notDeepEqual: function (a, b, message) {\n      push(!QUnit.equiv(a, b), a, b, message);\n    },\n    strictEqual: function (actual, expected, message) {\n      push(expected === actual, actual, expected, message);\n    },\n    notStrictEqual: function (actual, expected, message) {\n      push(expected !== actual, actual, expected, message);\n    },\n    start: function () {\n      // A slight delay, to avoid any current callbacks\n      if (window.setTimeout) {\n        window.setTimeout(function () {\n          if (config.timeout) {\n            clearTimeout(config.timeout);\n          }\n\n          config.blocking = false;\n          process();\n        }, 13);\n      } else {\n        config.blocking = false;\n        process();\n      }\n    },\n    stop: function (timeout) {\n      config.blocking = true;\n\n      if (timeout && window.setTimeout) {\n        config.timeout = window.setTimeout(function () {\n          QUnit.ok(false, \"Test timed out\");\n          QUnit.start();\n        }, timeout);\n      }\n    },\n\n    /**\r\n     * Resets the test setup. Useful for tests that modify the DOM.\r\n     */\n    reset: function () {\n      if (window.jQuery) {\n        jQuery(\"#main\").html(config.fixture);\n        jQuery.event.global = {};\n        jQuery.ajaxSettings = extend({}, config.ajaxSettings);\n      }\n    },\n\n    /**\r\n     * Trigger an event on an element.\r\n     *\r\n     * @example triggerEvent( document.body, \"click\" );\r\n     *\r\n     * @param DOMElement elem\r\n     * @param String type\r\n     */\n    triggerEvent: function (elem, type, event) {\n      if (document.createEvent) {\n        event = document.createEvent(\"MouseEvents\");\n        event.initMouseEvent(type, true, true, elem.ownerDocument.defaultView, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n        elem.dispatchEvent(event);\n      } else if (elem.fireEvent) {\n        elem.fireEvent(\"on\" + type);\n      }\n    },\n    // Safe object type checking\n    is: function (type, obj) {\n      return Object.prototype.toString.call(obj) === \"[object \" + type + \"]\";\n    },\n    // Logging callbacks\n    done: function (failures, total) {},\n    log: function (result, message) {},\n    testStart: function (name) {},\n    testDone: function (name, failures, total) {},\n    moduleStart: function (name, testEnvironment) {},\n    moduleDone: function (name, failures, total) {}\n  }; // Backwards compatibility, deprecated\n\n  QUnit.equals = QUnit.equal;\n  QUnit.same = QUnit.deepEqual; // Maintain internal state\n\n  var config = {\n    // The queue of tests to run\n    queue: [],\n    // block until document ready\n    blocking: true\n  }; // Load paramaters\n\n  (function () {\n    var location = window.location || {\n      search: \"\",\n      protocol: \"file:\"\n    },\n        GETParams = location.search.slice(1).split('&');\n\n    for (var i = 0; i < GETParams.length; i++) {\n      GETParams[i] = decodeURIComponent(GETParams[i]);\n\n      if (GETParams[i] === \"noglobals\") {\n        GETParams.splice(i, 1);\n        i--;\n        config.noglobals = true;\n      } else if (GETParams[i].search('=') > -1) {\n        GETParams.splice(i, 1);\n        i--;\n      }\n    } // restrict modules/tests by get parameters\n\n\n    config.filters = GETParams; // Figure out if we're running the tests from a server or not\n\n    QUnit.isLocal = !!(location.protocol === 'file:');\n  })(); // Expose the API as global variables, unless an 'exports'\n  // object exists, in that case we assume we're in CommonJS\n\n\n  if (typeof exports === \"undefined\" || typeof require === \"undefined\") {\n    extend(window, QUnit);\n    window.QUnit = QUnit;\n  } else {\n    extend(exports, QUnit);\n    exports.QUnit = QUnit;\n  }\n\n  if (typeof document === \"undefined\" || document.readyState === \"complete\") {\n    config.autorun = true;\n  }\n\n  addEvent(window, \"load\", function () {\n    // Initialize the config, saving the execution queue\n    var oldconfig = extend({}, config);\n    QUnit.init();\n    extend(config, oldconfig);\n    config.blocking = false;\n    var userAgent = id(\"qunit-userAgent\");\n\n    if (userAgent) {\n      userAgent.innerHTML = navigator.userAgent;\n    }\n\n    var toolbar = id(\"qunit-testrunner-toolbar\");\n\n    if (toolbar) {\n      toolbar.style.display = \"none\";\n      var filter = document.createElement(\"input\");\n      filter.type = \"checkbox\";\n      filter.id = \"qunit-filter-pass\";\n      filter.disabled = true;\n      addEvent(filter, \"click\", function () {\n        var li = document.getElementsByTagName(\"li\");\n\n        for (var i = 0; i < li.length; i++) {\n          if (li[i].className.indexOf(\"pass\") > -1) {\n            li[i].style.display = filter.checked ? \"none\" : \"\";\n          }\n        }\n      });\n      toolbar.appendChild(filter);\n      var label = document.createElement(\"label\");\n      label.setAttribute(\"for\", \"qunit-filter-pass\");\n      label.innerHTML = \"Hide passed tests\";\n      toolbar.appendChild(label);\n      var missing = document.createElement(\"input\");\n      missing.type = \"checkbox\";\n      missing.id = \"qunit-filter-missing\";\n      missing.disabled = true;\n      addEvent(missing, \"click\", function () {\n        var li = document.getElementsByTagName(\"li\");\n\n        for (var i = 0; i < li.length; i++) {\n          if (li[i].className.indexOf(\"fail\") > -1 && li[i].innerHTML.indexOf('missing test - untested code is broken code') > -1) {\n            li[i].parentNode.parentNode.style.display = missing.checked ? \"none\" : \"block\";\n          }\n        }\n      });\n      toolbar.appendChild(missing);\n      label = document.createElement(\"label\");\n      label.setAttribute(\"for\", \"qunit-filter-missing\");\n      label.innerHTML = \"Hide missing tests (untested code is broken code)\";\n      toolbar.appendChild(label);\n    }\n\n    var main = id('main');\n\n    if (main) {\n      config.fixture = main.innerHTML;\n    }\n\n    if (window.jQuery) {\n      config.ajaxSettings = window.jQuery.ajaxSettings;\n    }\n\n    QUnit.start();\n  });\n\n  function done() {\n    if (config.doneTimer && window.clearTimeout) {\n      window.clearTimeout(config.doneTimer);\n      config.doneTimer = null;\n    }\n\n    if (config.queue.length) {\n      config.doneTimer = window.setTimeout(function () {\n        if (!config.queue.length) {\n          done();\n        } else {\n          synchronize(done);\n        }\n      }, 13);\n      return;\n    }\n\n    config.autorun = true; // Log the last module results\n\n    if (config.currentModule) {\n      QUnit.moduleDone(config.currentModule, config.moduleStats.bad, config.moduleStats.all);\n    }\n\n    var banner = id(\"qunit-banner\"),\n        tests = id(\"qunit-tests\"),\n        html = ['Tests completed in ', +new Date() - config.started, ' milliseconds.<br/>', '<span class=\"passed\">', config.stats.all - config.stats.bad, '</span> tests of <span class=\"total\">', config.stats.all, '</span> passed, <span class=\"failed\">', config.stats.bad, '</span> failed.'].join('');\n\n    if (banner) {\n      banner.className = config.stats.bad ? \"qunit-fail\" : \"qunit-pass\";\n    }\n\n    if (tests) {\n      var result = id(\"qunit-testresult\");\n\n      if (!result) {\n        result = document.createElement(\"p\");\n        result.id = \"qunit-testresult\";\n        result.className = \"result\";\n        tests.parentNode.insertBefore(result, tests.nextSibling);\n      }\n\n      result.innerHTML = html;\n    }\n\n    QUnit.done(config.stats.bad, config.stats.all);\n  }\n\n  function validTest(name) {\n    var i = config.filters.length,\n        run = false;\n\n    if (!i) {\n      return true;\n    }\n\n    while (i--) {\n      var filter = config.filters[i],\n          not = filter.charAt(0) == '!';\n\n      if (not) {\n        filter = filter.slice(1);\n      }\n\n      if (name.indexOf(filter) !== -1) {\n        return !not;\n      }\n\n      if (not) {\n        run = true;\n      }\n    }\n\n    return run;\n  }\n\n  function push(result, actual, expected, message) {\n    message = message || (result ? \"okay\" : \"failed\");\n    QUnit.ok(result, result ? message + \": \" + expected : message + \", expected: \" + QUnit.jsDump.parse(expected) + \" result: \" + QUnit.jsDump.parse(actual));\n  }\n\n  function synchronize(callback) {\n    config.queue.push(callback);\n\n    if (config.autorun && !config.blocking) {\n      process();\n    }\n  }\n\n  function process() {\n    while (config.queue.length && !config.blocking) {\n      config.queue.shift()();\n    }\n  }\n\n  function saveGlobal() {\n    config.pollution = [];\n\n    if (config.noglobals) {\n      for (var key in window) {\n        config.pollution.push(key);\n      }\n    }\n  }\n\n  function checkPollution(name) {\n    var old = config.pollution;\n    saveGlobal();\n    var newGlobals = diff(old, config.pollution);\n\n    if (newGlobals.length > 0) {\n      ok(false, \"Introduced global variable(s): \" + newGlobals.join(\", \"));\n      config.expected++;\n    }\n\n    var deletedGlobals = diff(config.pollution, old);\n\n    if (deletedGlobals.length > 0) {\n      ok(false, \"Deleted global variable(s): \" + deletedGlobals.join(\", \"));\n      config.expected++;\n    }\n  } // returns a new Array with the elements that are in a but not in b\n\n\n  function diff(a, b) {\n    var result = a.slice();\n\n    for (var i = 0; i < result.length; i++) {\n      for (var j = 0; j < b.length; j++) {\n        if (result[i] === b[j]) {\n          result.splice(i, 1);\n          i--;\n          break;\n        }\n      }\n    }\n\n    return result;\n  }\n\n  function fail(message, exception, callback) {\n    if (typeof console !== \"undefined\" && console.error && console.warn) {\n      console.error(message);\n      console.error(exception);\n      console.warn(callback.toString());\n    } else if (window.opera && opera.postError) {\n      opera.postError(message, exception, callback.toString);\n    }\n  }\n\n  function extend(a, b) {\n    for (var prop in b) {\n      a[prop] = b[prop];\n    }\n\n    return a;\n  }\n\n  function addEvent(elem, type, fn) {\n    if (elem.addEventListener) {\n      elem.addEventListener(type, fn, false);\n    } else if (elem.attachEvent) {\n      elem.attachEvent(\"on\" + type, fn);\n    } else {\n      fn();\n    }\n  }\n\n  function id(name) {\n    return !!(typeof document !== \"undefined\" && document && document.getElementById) && document.getElementById(name);\n  } // Test for equality any JavaScript type.\n  // Discussions and reference: http://philrathe.com/articles/equiv\n  // Test suites: http://philrathe.com/tests/equiv\n  // Author: Philippe Rathé <prathe@gmail.com>\n\n\n  QUnit.equiv = function () {\n    var innerEquiv; // the real equiv function\n\n    var callers = []; // stack to decide between skip/abort functions\n    // Determine what is o.\n\n    function hoozit(o) {\n      if (QUnit.is(\"String\", o)) {\n        return \"string\";\n      } else if (QUnit.is(\"Boolean\", o)) {\n        return \"boolean\";\n      } else if (QUnit.is(\"Number\", o)) {\n        if (isNaN(o)) {\n          return \"nan\";\n        } else {\n          return \"number\";\n        }\n      } else if (typeof o === \"undefined\") {\n        return \"undefined\"; // consider: typeof null === object\n      } else if (o === null) {\n        return \"null\"; // consider: typeof [] === object\n      } else if (QUnit.is(\"Array\", o)) {\n        return \"array\"; // consider: typeof new Date() === object\n      } else if (QUnit.is(\"Date\", o)) {\n        return \"date\"; // consider: /./ instanceof Object;\n        //           /./ instanceof RegExp;\n        //          typeof /./ === \"function\"; // => false in IE and Opera,\n        //                                          true in FF and Safari\n      } else if (QUnit.is(\"RegExp\", o)) {\n        return \"regexp\";\n      } else if (typeof o === \"object\") {\n        return \"object\";\n      } else if (QUnit.is(\"Function\", o)) {\n        return \"function\";\n      } else {\n        return undefined;\n      }\n    } // Call the o related callback with the given arguments.\n\n\n    function bindCallbacks(o, callbacks, args) {\n      var prop = hoozit(o);\n\n      if (prop) {\n        if (hoozit(callbacks[prop]) === \"function\") {\n          return callbacks[prop].apply(callbacks, args);\n        } else {\n          return callbacks[prop]; // or undefined\n        }\n      }\n    }\n\n    var callbacks = function () {\n      // for string, boolean, number and null\n      function useStrictEquality(b, a) {\n        if (b instanceof a.constructor || a instanceof b.constructor) {\n          // to catch short annotaion VS 'new' annotation of a declaration\n          // e.g. var i = 1;\n          //      var j = new Number(1);\n          return a == b;\n        } else {\n          return a === b;\n        }\n      }\n\n      return {\n        \"string\": useStrictEquality,\n        \"boolean\": useStrictEquality,\n        \"number\": useStrictEquality,\n        \"null\": useStrictEquality,\n        \"undefined\": useStrictEquality,\n        \"nan\": function (b) {\n          return isNaN(b);\n        },\n        \"date\": function (b, a) {\n          return hoozit(b) === \"date\" && a.valueOf() === b.valueOf();\n        },\n        \"regexp\": function (b, a) {\n          return hoozit(b) === \"regexp\" && a.source === b.source && // the regex itself\n          a.global === b.global && // and its modifers (gmi) ...\n          a.ignoreCase === b.ignoreCase && a.multiline === b.multiline;\n        },\n        // - skip when the property is a method of an instance (OOP)\n        // - abort otherwise,\n        //   initial === would have catch identical references anyway\n        \"function\": function () {\n          var caller = callers[callers.length - 1];\n          return caller !== Object && typeof caller !== \"undefined\";\n        },\n        \"array\": function (b, a) {\n          var i;\n          var len; // b could be an object literal here\n\n          if (!(hoozit(b) === \"array\")) {\n            return false;\n          }\n\n          len = a.length;\n\n          if (len !== b.length) {\n            // safe and faster\n            return false;\n          }\n\n          for (i = 0; i < len; i++) {\n            if (!innerEquiv(a[i], b[i])) {\n              return false;\n            }\n          }\n\n          return true;\n        },\n        \"object\": function (b, a) {\n          var i;\n          var eq = true; // unless we can proove it\n\n          var aProperties = [],\n              bProperties = []; // collection of strings\n          // comparing constructors is more strict than using instanceof\n\n          if (a.constructor !== b.constructor) {\n            return false;\n          } // stack constructor before traversing properties\n\n\n          callers.push(a.constructor);\n\n          for (i in a) {\n            // be strict: don't ensures hasOwnProperty and go deep\n            aProperties.push(i); // collect a's properties\n\n            if (!innerEquiv(a[i], b[i])) {\n              eq = false;\n            }\n          }\n\n          callers.pop(); // unstack, we are done\n\n          for (i in b) {\n            bProperties.push(i); // collect b's properties\n          } // Ensures identical properties name\n\n\n          return eq && innerEquiv(aProperties.sort(), bProperties.sort());\n        }\n      };\n    }();\n\n    innerEquiv = function () {\n      // can take multiple arguments\n      var args = Array.prototype.slice.apply(arguments);\n\n      if (args.length < 2) {\n        return true; // end transition\n      }\n\n      return function (a, b) {\n        if (a === b) {\n          return true; // catch the most you can\n        } else if (a === null || b === null || typeof a === \"undefined\" || typeof b === \"undefined\" || hoozit(a) !== hoozit(b)) {\n          return false; // don't lose time with error prone cases\n        } else {\n          return bindCallbacks(a, callbacks, [b, a]);\n        } // apply transition with (1..n) arguments\n\n      }(args[0], args[1]) && arguments.callee.apply(this, args.splice(1, args.length - 1));\n    };\n\n    return innerEquiv;\n  }();\n  /**\r\n   * jsDump\r\n   * Copyright (c) 2008 Ariel Flesler - aflesler(at)gmail(dot)com | http://flesler.blogspot.com\r\n   * Licensed under BSD (http://www.opensource.org/licenses/bsd-license.php)\r\n   * Date: 5/15/2008\r\n   * @projectDescription Advanced and extensible data dumping for Javascript.\r\n   * @version 1.0.0\r\n   * @author Ariel Flesler\r\n   * @link {http://flesler.blogspot.com/2008/05/jsdump-pretty-dump-of-any-javascript.html}\r\n   */\n\n\n  QUnit.jsDump = function () {\n    function quote(str) {\n      return '\"' + str.toString().replace(/\"/g, '\\\\\"') + '\"';\n    }\n\n    ;\n\n    function literal(o) {\n      return o + '';\n    }\n\n    ;\n\n    function join(pre, arr, post) {\n      var s = jsDump.separator(),\n          base = jsDump.indent(),\n          inner = jsDump.indent(1);\n      if (arr.join) arr = arr.join(',' + s + inner);\n      if (!arr) return pre + post;\n      return [pre, inner + arr, base + post].join(s);\n    }\n\n    ;\n\n    function array(arr) {\n      var i = arr.length,\n          ret = Array(i);\n      this.up();\n\n      while (i--) ret[i] = this.parse(arr[i]);\n\n      this.down();\n      return join('[', ret, ']');\n    }\n\n    ;\n    var reName = /^function (\\w+)/;\n    var jsDump = {\n      parse: function (obj, type) {\n        //type is used mostly internally, you can fix a (custom)type in advance\n        var parser = this.parsers[type || this.typeOf(obj)];\n        type = typeof parser;\n        return type == 'function' ? parser.call(this, obj) : type == 'string' ? parser : this.parsers.error;\n      },\n      typeOf: function (obj) {\n        var type;\n\n        if (obj === null) {\n          type = \"null\";\n        } else if (typeof obj === \"undefined\") {\n          type = \"undefined\";\n        } else if (QUnit.is(\"RegExp\", obj)) {\n          type = \"regexp\";\n        } else if (QUnit.is(\"Date\", obj)) {\n          type = \"date\";\n        } else if (QUnit.is(\"Function\", obj)) {\n          type = \"function\";\n        } else if (QUnit.is(\"Array\", obj)) {\n          type = \"array\";\n        } else if (QUnit.is(\"Window\", obj) || QUnit.is(\"global\", obj)) {\n          type = \"window\";\n        } else if (QUnit.is(\"HTMLDocument\", obj)) {\n          type = \"document\";\n        } else if (QUnit.is(\"HTMLCollection\", obj) || QUnit.is(\"NodeList\", obj)) {\n          type = \"nodelist\";\n        } else if (/^\\[object HTML/.test(Object.prototype.toString.call(obj))) {\n          type = \"node\";\n        } else {\n          type = typeof obj;\n        }\n\n        return type;\n      },\n      separator: function () {\n        return this.multiline ? this.HTML ? '<br />' : '\\n' : this.HTML ? '&nbsp;' : ' ';\n      },\n      indent: function (extra) {\n        // extra can be a number, shortcut for increasing-calling-decreasing\n        if (!this.multiline) return '';\n        var chr = this.indentChar;\n        if (this.HTML) chr = chr.replace(/\\t/g, '   ').replace(/ /g, '&nbsp;');\n        return Array(this._depth_ + (extra || 0)).join(chr);\n      },\n      up: function (a) {\n        this._depth_ += a || 1;\n      },\n      down: function (a) {\n        this._depth_ -= a || 1;\n      },\n      setParser: function (name, parser) {\n        this.parsers[name] = parser;\n      },\n      // The next 3 are exposed so you can use them\n      quote: quote,\n      literal: literal,\n      join: join,\n      //\n      _depth_: 1,\n      // This is the list of parsers, to modify them, use jsDump.setParser\n      parsers: {\n        window: '[Window]',\n        document: '[Document]',\n        error: '[ERROR]',\n        //when no parser is found, shouldn't happen\n        unknown: '[Unknown]',\n        'null': 'null',\n        undefined: 'undefined',\n        'function': function (fn) {\n          var ret = 'function',\n              name = 'name' in fn ? fn.name : (reName.exec(fn) || [])[1]; //functions never have name in IE\n\n          if (name) ret += ' ' + name;\n          ret += '(';\n          ret = [ret, this.parse(fn, 'functionArgs'), '){'].join('');\n          return join(ret, this.parse(fn, 'functionCode'), '}');\n        },\n        array: array,\n        nodelist: array,\n        arguments: array,\n        object: function (map) {\n          var ret = [];\n          this.up();\n\n          for (var key in map) ret.push(this.parse(key, 'key') + ': ' + this.parse(map[key]));\n\n          this.down();\n          return join('{', ret, '}');\n        },\n        node: function (node) {\n          var open = this.HTML ? '&lt;' : '<',\n              close = this.HTML ? '&gt;' : '>';\n          var tag = node.nodeName.toLowerCase(),\n              ret = open + tag;\n\n          for (var a in this.DOMAttrs) {\n            var val = node[this.DOMAttrs[a]];\n            if (val) ret += ' ' + a + '=' + this.parse(val, 'attribute');\n          }\n\n          return ret + close + open + '/' + tag + close;\n        },\n        functionArgs: function (fn) {\n          //function calls it internally, it's the arguments part of the function\n          var l = fn.length;\n          if (!l) return '';\n          var args = Array(l);\n\n          while (l--) args[l] = String.fromCharCode(97 + l); //97 is 'a'\n\n\n          return ' ' + args.join(', ') + ' ';\n        },\n        key: quote,\n        //object calls it internally, the key part of an item in a map\n        functionCode: '[code]',\n        //function calls it internally, it's the content of the function\n        attribute: quote,\n        //node calls it internally, it's an html attribute value\n        string: quote,\n        date: quote,\n        regexp: literal,\n        //regex\n        number: literal,\n        'boolean': literal\n      },\n      DOMAttrs: {\n        //attributes to dump from nodes, name=>realName\n        id: 'id',\n        name: 'name',\n        'class': 'className'\n      },\n      HTML: true,\n      //if true, entities are escaped ( <, >, \\t, space and \\n )\n      indentChar: '   ',\n      //indentation unit\n      multiline: true //if true, items in a collection, are separated by a \\n, else just a space.\n\n    };\n    return jsDump;\n  }();\n})(this);","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/uri-js/tests/qunit.js"],"names":["window","QUnit","init","config","stats","all","bad","moduleStats","started","Date","blocking","autorun","assertions","filters","queue","tests","id","banner","result","innerHTML","className","parentNode","removeChild","module","name","testEnvironment","currentModule","synchronize","moduleDone","moduleTestEnvironment","moduleStart","asyncTest","testName","expected","callback","arguments","length","test","async","testEnvironmentArg","validTest","testStart","extend","setup","teardown","current_testEnvironment","pollution","saveGlobal","call","e","ok","message","stop","fail","start","checkPollution","reset","good","ol","document","createElement","style","display","i","assertion","li","appendChild","createTextNode","b","addEvent","next","nextSibling","target","event","srcElement","nodeName","toLowerCase","text","node","firstChild","nodeType","nodeValue","replace","location","href","match","encodeURIComponent","toolbar","disabled","testDone","setTimeout","done","doneTimer","expect","asserts","a","msg","log","push","equal","actual","notEqual","deepEqual","equiv","notDeepEqual","strictEqual","notStrictEqual","timeout","clearTimeout","process","jQuery","html","fixture","global","ajaxSettings","triggerEvent","elem","type","createEvent","initMouseEvent","ownerDocument","defaultView","dispatchEvent","fireEvent","is","obj","Object","prototype","toString","failures","total","equals","same","search","protocol","GETParams","slice","split","decodeURIComponent","splice","noglobals","isLocal","exports","require","readyState","oldconfig","userAgent","navigator","filter","getElementsByTagName","indexOf","checked","label","setAttribute","missing","main","join","insertBefore","run","not","charAt","jsDump","parse","shift","key","old","newGlobals","diff","deletedGlobals","j","exception","console","error","warn","opera","postError","prop","fn","addEventListener","attachEvent","getElementById","innerEquiv","callers","hoozit","o","isNaN","undefined","bindCallbacks","callbacks","args","apply","useStrictEquality","constructor","valueOf","source","ignoreCase","multiline","caller","len","eq","aProperties","bProperties","pop","sort","Array","callee","quote","str","literal","pre","arr","post","s","separator","base","indent","inner","array","ret","up","down","reName","parser","parsers","typeOf","HTML","extra","chr","indentChar","_depth_","setParser","unknown","exec","nodelist","object","map","open","close","tag","DOMAttrs","val","functionArgs","l","String","fromCharCode","functionCode","attribute","string","date","regexp","number"],"mappings":"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","sourcesContent":["/*\r\n * QUnit - A JavaScript Unit Testing Framework\r\n * \r\n * http://docs.jquery.com/QUnit\r\n *\r\n * Copyright (c) 2009 John Resig, Jörn Zaefferer\r\n * Dual licensed under the MIT (MIT-LICENSE.txt)\r\n * and GPL (GPL-LICENSE.txt) licenses.\r\n */\r\n\r\n(function(window) {\r\n\r\nvar QUnit = {\r\n\r\n\t// Initialize the configuration options\r\n\tinit: function() {\r\n\t\tconfig = {\r\n\t\t\tstats: { all: 0, bad: 0 },\r\n\t\t\tmoduleStats: { all: 0, bad: 0 },\r\n\t\t\tstarted: +new Date,\r\n\t\t\tblocking: false,\r\n\t\t\tautorun: false,\r\n\t\t\tassertions: [],\r\n\t\t\tfilters: [],\r\n\t\t\tqueue: []\r\n\t\t};\r\n\r\n\t\tvar tests = id(\"qunit-tests\"),\r\n\t\t\tbanner = id(\"qunit-banner\"),\r\n\t\t\tresult = id(\"qunit-testresult\");\r\n\r\n\t\tif ( tests ) {\r\n\t\t\ttests.innerHTML = \"\";\r\n\t\t}\r\n\r\n\t\tif ( banner ) {\r\n\t\t\tbanner.className = \"\";\r\n\t\t}\r\n\r\n\t\tif ( result ) {\r\n\t\t\tresult.parentNode.removeChild( result );\r\n\t\t}\r\n\t},\r\n\t\r\n\t// call on start of module test to prepend name to all tests\r\n\tmodule: function(name, testEnvironment) {\r\n\t\tconfig.currentModule = name;\r\n\r\n\t\tsynchronize(function() {\r\n\t\t\tif ( config.currentModule ) {\r\n\t\t\t\tQUnit.moduleDone( config.currentModule, config.moduleStats.bad, config.moduleStats.all );\r\n\t\t\t}\r\n\r\n\t\t\tconfig.currentModule = name;\r\n\t\t\tconfig.moduleTestEnvironment = testEnvironment;\r\n\t\t\tconfig.moduleStats = { all: 0, bad: 0 };\r\n\r\n\t\t\tQUnit.moduleStart( name, testEnvironment );\r\n\t\t});\r\n\t},\r\n\r\n\tasyncTest: function(testName, expected, callback) {\r\n\t\tif ( arguments.length === 2 ) {\r\n\t\t\tcallback = expected;\r\n\t\t\texpected = 0;\r\n\t\t}\r\n\r\n\t\tQUnit.test(testName, expected, callback, true);\r\n\t},\r\n\t\r\n\ttest: function(testName, expected, callback, async) {\r\n\t\tvar name = testName, testEnvironment, testEnvironmentArg;\r\n\r\n\t\tif ( arguments.length === 2 ) {\r\n\t\t\tcallback = expected;\r\n\t\t\texpected = null;\r\n\t\t}\r\n\t\t// is 2nd argument a testEnvironment?\r\n\t\tif ( expected && typeof expected === 'object') {\r\n\t\t\ttestEnvironmentArg =  expected;\r\n\t\t\texpected = null;\r\n\t\t}\r\n\r\n\t\tif ( config.currentModule ) {\r\n\t\t\tname = config.currentModule + \" module: \" + name;\r\n\t\t}\r\n\r\n\t\tif ( !validTest(name) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsynchronize(function() {\r\n\t\t\tQUnit.testStart( testName );\r\n\r\n\t\t\ttestEnvironment = extend({\r\n\t\t\t\tsetup: function() {},\r\n\t\t\t\tteardown: function() {}\r\n\t\t\t}, config.moduleTestEnvironment);\r\n\t\t\tif (testEnvironmentArg) {\r\n\t\t\t\textend(testEnvironment,testEnvironmentArg);\r\n\t\t\t}\r\n\r\n\t\t\t// allow utility functions to access the current test environment\r\n\t\t\tQUnit.current_testEnvironment = testEnvironment;\r\n\t\t\t\r\n\t\t\tconfig.assertions = [];\r\n\t\t\tconfig.expected = expected;\r\n\r\n\t\t\ttry {\r\n\t\t\t\tif ( !config.pollution ) {\r\n\t\t\t\t\tsaveGlobal();\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttestEnvironment.setup.call(testEnvironment);\r\n\t\t\t} catch(e) {\r\n\t\t\t\tQUnit.ok( false, \"Setup failed on \" + name + \": \" + e.message );\r\n\t\t\t}\r\n\r\n\t\t\tif ( async ) {\r\n\t\t\t\tQUnit.stop();\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\tcallback.call(testEnvironment);\r\n\t\t\t} catch(e) {\r\n\t\t\t\tfail(\"Test \" + name + \" died, exception and test follows\", e, callback);\r\n\t\t\t\tQUnit.ok( false, \"Died on test #\" + (config.assertions.length + 1) + \": \" + e.message );\r\n\t\t\t\t// else next test will carry the responsibility\r\n\t\t\t\tsaveGlobal();\r\n\r\n\t\t\t\t// Restart the tests if they're blocking\r\n\t\t\t\tif ( config.blocking ) {\r\n\t\t\t\t\tstart();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tsynchronize(function() {\r\n\t\t\ttry {\r\n\t\t\t\tcheckPollution();\r\n\t\t\t\ttestEnvironment.teardown.call(testEnvironment);\r\n\t\t\t} catch(e) {\r\n\t\t\t\tQUnit.ok( false, \"Teardown failed on \" + name + \": \" + e.message );\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\tQUnit.reset();\r\n\t\t\t} catch(e) {\r\n\t\t\t\tfail(\"reset() failed, following Test \" + name + \", exception and reset fn follows\", e, reset);\r\n\t\t\t}\r\n\r\n\t\t\tif ( config.expected && config.expected != config.assertions.length ) {\r\n\t\t\t\tQUnit.ok( false, \"Expected \" + config.expected + \" assertions, but \" + config.assertions.length + \" were run\" );\r\n\t\t\t}\r\n\r\n\t\t\tvar good = 0, bad = 0,\r\n\t\t\t\ttests = id(\"qunit-tests\");\r\n\r\n\t\t\tconfig.stats.all += config.assertions.length;\r\n\t\t\tconfig.moduleStats.all += config.assertions.length;\r\n\r\n\t\t\tif ( tests ) {\r\n\t\t\t\tvar ol  = document.createElement(\"ol\");\r\n\t\t\t\tol.style.display = \"none\";\r\n\r\n\t\t\t\tfor ( var i = 0; i < config.assertions.length; i++ ) {\r\n\t\t\t\t\tvar assertion = config.assertions[i];\r\n\r\n\t\t\t\t\tvar li = document.createElement(\"li\");\r\n\t\t\t\t\tli.className = assertion.result ? \"pass\" : \"fail\";\r\n\t\t\t\t\tli.appendChild(document.createTextNode(assertion.message || \"(no message)\"));\r\n\t\t\t\t\tol.appendChild( li );\r\n\r\n\t\t\t\t\tif ( assertion.result ) {\r\n\t\t\t\t\t\tgood++;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tbad++;\r\n\t\t\t\t\t\tconfig.stats.bad++;\r\n\t\t\t\t\t\tconfig.moduleStats.bad++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar b = document.createElement(\"strong\");\r\n\t\t\t\tb.innerHTML = name + \" <b style='color:black;'>(<b class='fail'>\" + bad + \"</b>, <b class='pass'>\" + good + \"</b>, \" + config.assertions.length + \")</b>\";\r\n\t\t\t\t\r\n\t\t\t\taddEvent(b, \"click\", function() {\r\n\t\t\t\t\tvar next = b.nextSibling, display = next.style.display;\r\n\t\t\t\t\tnext.style.display = display === \"none\" ? \"block\" : \"none\";\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\taddEvent(b, \"dblclick\", function(e) {\r\n\t\t\t\t\tvar target = e && e.target ? e.target : window.event.srcElement;\r\n\t\t\t\t\tif ( target.nodeName.toLowerCase() === \"strong\" ) {\r\n\t\t\t\t\t\tvar text = \"\", node = target.firstChild;\r\n\r\n\t\t\t\t\t\twhile ( node.nodeType === 3 ) {\r\n\t\t\t\t\t\t\ttext += node.nodeValue;\r\n\t\t\t\t\t\t\tnode = node.nextSibling;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ttext = text.replace(/(^\\s*|\\s*$)/g, \"\");\r\n\r\n\t\t\t\t\t\tif ( window.location ) {\r\n\t\t\t\t\t\t\twindow.location.href = window.location.href.match(/^(.+?)(\\?.*)?$/)[1] + \"?\" + encodeURIComponent(text);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar li = document.createElement(\"li\");\r\n\t\t\t\tli.className = bad ? \"fail\" : \"pass\";\r\n\t\t\t\tli.appendChild( b );\r\n\t\t\t\tli.appendChild( ol );\r\n\t\t\t\ttests.appendChild( li );\r\n\r\n\t\t\t\tif ( bad ) {\r\n\t\t\t\t\tvar toolbar = id(\"qunit-testrunner-toolbar\");\r\n\t\t\t\t\tif ( toolbar ) {\r\n\t\t\t\t\t\ttoolbar.style.display = \"block\";\r\n\t\t\t\t\t\tid(\"qunit-filter-pass\").disabled = null;\r\n\t\t\t\t\t\tid(\"qunit-filter-missing\").disabled = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\tfor ( var i = 0; i < config.assertions.length; i++ ) {\r\n\t\t\t\t\tif ( !config.assertions[i].result ) {\r\n\t\t\t\t\t\tbad++;\r\n\t\t\t\t\t\tconfig.stats.bad++;\r\n\t\t\t\t\t\tconfig.moduleStats.bad++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tQUnit.testDone( testName, bad, config.assertions.length );\r\n\r\n\t\t\tif ( !window.setTimeout && !config.queue.length ) {\r\n\t\t\t\tdone();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif ( window.setTimeout && !config.doneTimer ) {\r\n\t\t\tconfig.doneTimer = window.setTimeout(function(){\r\n\t\t\t\tif ( !config.queue.length ) {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsynchronize( done );\r\n\t\t\t\t}\r\n\t\t\t}, 13);\r\n\t\t}\r\n\t},\r\n\t\r\n\t/**\r\n\t * Specify the number of expected assertions to gurantee that failed test (no assertions are run at all) don't slip through.\r\n\t */\r\n\texpect: function(asserts) {\r\n\t\tconfig.expected = asserts;\r\n\t},\r\n\r\n\t/**\r\n\t * Asserts true.\r\n\t * @example ok( \"asdfasdf\".length > 5, \"There must be at least 5 chars\" );\r\n\t */\r\n\tok: function(a, msg) {\r\n\t\tQUnit.log(a, msg);\r\n\r\n\t\tconfig.assertions.push({\r\n\t\t\tresult: !!a,\r\n\t\t\tmessage: msg\r\n\t\t});\r\n\t},\r\n\r\n\t/**\r\n\t * Checks that the first two arguments are equal, with an optional message.\r\n\t * Prints out both actual and expected values.\r\n\t *\r\n\t * Prefered to ok( actual == expected, message )\r\n\t *\r\n\t * @example equal( format(\"Received {0} bytes.\", 2), \"Received 2 bytes.\" );\r\n\t *\r\n\t * @param Object actual\r\n\t * @param Object expected\r\n\t * @param String message (optional)\r\n\t */\r\n\tequal: function(actual, expected, message) {\r\n\t\tpush(expected == actual, actual, expected, message);\r\n\t},\r\n\r\n\tnotEqual: function(actual, expected, message) {\r\n\t\tpush(expected != actual, actual, expected, message);\r\n\t},\r\n\t\r\n\tdeepEqual: function(a, b, message) {\r\n\t\tpush(QUnit.equiv(a, b), a, b, message);\r\n\t},\r\n\r\n\tnotDeepEqual: function(a, b, message) {\r\n\t\tpush(!QUnit.equiv(a, b), a, b, message);\r\n\t},\r\n\r\n\tstrictEqual: function(actual, expected, message) {\r\n\t\tpush(expected === actual, actual, expected, message);\r\n\t},\r\n\r\n\tnotStrictEqual: function(actual, expected, message) {\r\n\t\tpush(expected !== actual, actual, expected, message);\r\n\t},\r\n\t\r\n\tstart: function() {\r\n\t\t// A slight delay, to avoid any current callbacks\r\n\t\tif ( window.setTimeout ) {\r\n\t\t\twindow.setTimeout(function() {\r\n\t\t\t\tif ( config.timeout ) {\r\n\t\t\t\t\tclearTimeout(config.timeout);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconfig.blocking = false;\r\n\t\t\t\tprocess();\r\n\t\t\t}, 13);\r\n\t\t} else {\r\n\t\t\tconfig.blocking = false;\r\n\t\t\tprocess();\r\n\t\t}\r\n\t},\r\n\t\r\n\tstop: function(timeout) {\r\n\t\tconfig.blocking = true;\r\n\r\n\t\tif ( timeout && window.setTimeout ) {\r\n\t\t\tconfig.timeout = window.setTimeout(function() {\r\n\t\t\t\tQUnit.ok( false, \"Test timed out\" );\r\n\t\t\t\tQUnit.start();\r\n\t\t\t}, timeout);\r\n\t\t}\r\n\t},\r\n\t\r\n\t/**\r\n\t * Resets the test setup. Useful for tests that modify the DOM.\r\n\t */\r\n\treset: function() {\r\n\t\tif ( window.jQuery ) {\r\n\t\t\tjQuery(\"#main\").html( config.fixture );\r\n\t\t\tjQuery.event.global = {};\r\n\t\t\tjQuery.ajaxSettings = extend({}, config.ajaxSettings);\r\n\t\t}\r\n\t},\r\n\t\r\n\t/**\r\n\t * Trigger an event on an element.\r\n\t *\r\n\t * @example triggerEvent( document.body, \"click\" );\r\n\t *\r\n\t * @param DOMElement elem\r\n\t * @param String type\r\n\t */\r\n\ttriggerEvent: function( elem, type, event ) {\r\n\t\tif ( document.createEvent ) {\r\n\t\t\tevent = document.createEvent(\"MouseEvents\");\r\n\t\t\tevent.initMouseEvent(type, true, true, elem.ownerDocument.defaultView,\r\n\t\t\t\t0, 0, 0, 0, 0, false, false, false, false, 0, null);\r\n\t\t\telem.dispatchEvent( event );\r\n\r\n\t\t} else if ( elem.fireEvent ) {\r\n\t\t\telem.fireEvent(\"on\"+type);\r\n\t\t}\r\n\t},\r\n\t\r\n\t// Safe object type checking\r\n\tis: function( type, obj ) {\r\n\t\treturn Object.prototype.toString.call( obj ) === \"[object \"+ type +\"]\";\r\n\t},\r\n\t\r\n\t// Logging callbacks\r\n\tdone: function(failures, total) {},\r\n\tlog: function(result, message) {},\r\n\ttestStart: function(name) {},\r\n\ttestDone: function(name, failures, total) {},\r\n\tmoduleStart: function(name, testEnvironment) {},\r\n\tmoduleDone: function(name, failures, total) {}\r\n};\r\n\r\n// Backwards compatibility, deprecated\r\nQUnit.equals = QUnit.equal;\r\nQUnit.same = QUnit.deepEqual;\r\n\r\n// Maintain internal state\r\nvar config = {\r\n\t// The queue of tests to run\r\n\tqueue: [],\r\n\r\n\t// block until document ready\r\n\tblocking: true\r\n};\r\n\r\n// Load paramaters\r\n(function() {\r\n\tvar location = window.location || { search: \"\", protocol: \"file:\" },\r\n\t\tGETParams = location.search.slice(1).split('&');\r\n\r\n\tfor ( var i = 0; i < GETParams.length; i++ ) {\r\n\t\tGETParams[i] = decodeURIComponent( GETParams[i] );\r\n\t\tif ( GETParams[i] === \"noglobals\" ) {\r\n\t\t\tGETParams.splice( i, 1 );\r\n\t\t\ti--;\r\n\t\t\tconfig.noglobals = true;\r\n\t\t} else if ( GETParams[i].search('=') > -1 ) {\r\n\t\t\tGETParams.splice( i, 1 );\r\n\t\t\ti--;\r\n\t\t}\r\n\t}\r\n\t\r\n\t// restrict modules/tests by get parameters\r\n\tconfig.filters = GETParams;\r\n\t\r\n\t// Figure out if we're running the tests from a server or not\r\n\tQUnit.isLocal = !!(location.protocol === 'file:');\r\n})();\r\n\r\n// Expose the API as global variables, unless an 'exports'\r\n// object exists, in that case we assume we're in CommonJS\r\nif ( typeof exports === \"undefined\" || typeof require === \"undefined\" ) {\r\n\textend(window, QUnit);\r\n\twindow.QUnit = QUnit;\r\n} else {\r\n\textend(exports, QUnit);\r\n\texports.QUnit = QUnit;\r\n}\r\n\r\nif ( typeof document === \"undefined\" || document.readyState === \"complete\" ) {\r\n\tconfig.autorun = true;\r\n}\r\n\r\naddEvent(window, \"load\", function() {\r\n\t// Initialize the config, saving the execution queue\r\n\tvar oldconfig = extend({}, config);\r\n\tQUnit.init();\r\n\textend(config, oldconfig);\r\n\r\n\tconfig.blocking = false;\r\n\r\n\tvar userAgent = id(\"qunit-userAgent\");\r\n\tif ( userAgent ) {\r\n\t\tuserAgent.innerHTML = navigator.userAgent;\r\n\t}\r\n\t\r\n\tvar toolbar = id(\"qunit-testrunner-toolbar\");\r\n\tif ( toolbar ) {\r\n\t\ttoolbar.style.display = \"none\";\r\n\t\t\r\n\t\tvar filter = document.createElement(\"input\");\r\n\t\tfilter.type = \"checkbox\";\r\n\t\tfilter.id = \"qunit-filter-pass\";\r\n\t\tfilter.disabled = true;\r\n\t\taddEvent( filter, \"click\", function() {\r\n\t\t\tvar li = document.getElementsByTagName(\"li\");\r\n\t\t\tfor ( var i = 0; i < li.length; i++ ) {\r\n\t\t\t\tif ( li[i].className.indexOf(\"pass\") > -1 ) {\r\n\t\t\t\t\tli[i].style.display = filter.checked ? \"none\" : \"\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\ttoolbar.appendChild( filter );\r\n\r\n\t\tvar label = document.createElement(\"label\");\r\n\t\tlabel.setAttribute(\"for\", \"qunit-filter-pass\");\r\n\t\tlabel.innerHTML = \"Hide passed tests\";\r\n\t\ttoolbar.appendChild( label );\r\n\r\n\t\tvar missing = document.createElement(\"input\");\r\n\t\tmissing.type = \"checkbox\";\r\n\t\tmissing.id = \"qunit-filter-missing\";\r\n\t\tmissing.disabled = true;\r\n\t\taddEvent( missing, \"click\", function() {\r\n\t\t\tvar li = document.getElementsByTagName(\"li\");\r\n\t\t\tfor ( var i = 0; i < li.length; i++ ) {\r\n\t\t\t\tif ( li[i].className.indexOf(\"fail\") > -1 && li[i].innerHTML.indexOf('missing test - untested code is broken code') > - 1 ) {\r\n\t\t\t\t\tli[i].parentNode.parentNode.style.display = missing.checked ? \"none\" : \"block\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\ttoolbar.appendChild( missing );\r\n\r\n\t\tlabel = document.createElement(\"label\");\r\n\t\tlabel.setAttribute(\"for\", \"qunit-filter-missing\");\r\n\t\tlabel.innerHTML = \"Hide missing tests (untested code is broken code)\";\r\n\t\ttoolbar.appendChild( label );\r\n\t}\r\n\r\n\tvar main = id('main');\r\n\tif ( main ) {\r\n\t\tconfig.fixture = main.innerHTML;\r\n\t}\r\n\r\n\tif ( window.jQuery ) {\r\n\t\tconfig.ajaxSettings = window.jQuery.ajaxSettings;\r\n\t}\r\n\r\n\tQUnit.start();\r\n});\r\n\r\nfunction done() {\r\n\tif ( config.doneTimer && window.clearTimeout ) {\r\n\t\twindow.clearTimeout( config.doneTimer );\r\n\t\tconfig.doneTimer = null;\r\n\t}\r\n\r\n\tif ( config.queue.length ) {\r\n\t\tconfig.doneTimer = window.setTimeout(function(){\r\n\t\t\tif ( !config.queue.length ) {\r\n\t\t\t\tdone();\r\n\t\t\t} else {\r\n\t\t\t\tsynchronize( done );\r\n\t\t\t}\r\n\t\t}, 13);\r\n\r\n\t\treturn;\r\n\t}\r\n\r\n\tconfig.autorun = true;\r\n\r\n\t// Log the last module results\r\n\tif ( config.currentModule ) {\r\n\t\tQUnit.moduleDone( config.currentModule, config.moduleStats.bad, config.moduleStats.all );\r\n\t}\r\n\r\n\tvar banner = id(\"qunit-banner\"),\r\n\t\ttests = id(\"qunit-tests\"),\r\n\t\thtml = ['Tests completed in ',\r\n\t\t+new Date - config.started, ' milliseconds.<br/>',\r\n\t\t'<span class=\"passed\">', config.stats.all - config.stats.bad, '</span> tests of <span class=\"total\">', config.stats.all, '</span> passed, <span class=\"failed\">', config.stats.bad,'</span> failed.'].join('');\r\n\r\n\tif ( banner ) {\r\n\t\tbanner.className = (config.stats.bad ? \"qunit-fail\" : \"qunit-pass\");\r\n\t}\r\n\r\n\tif ( tests ) {\t\r\n\t\tvar result = id(\"qunit-testresult\");\r\n\r\n\t\tif ( !result ) {\r\n\t\t\tresult = document.createElement(\"p\");\r\n\t\t\tresult.id = \"qunit-testresult\";\r\n\t\t\tresult.className = \"result\";\r\n\t\t\ttests.parentNode.insertBefore( result, tests.nextSibling );\r\n\t\t}\r\n\r\n\t\tresult.innerHTML = html;\r\n\t}\r\n\r\n\tQUnit.done( config.stats.bad, config.stats.all );\r\n}\r\n\r\nfunction validTest( name ) {\r\n\tvar i = config.filters.length,\r\n\t\trun = false;\r\n\r\n\tif ( !i ) {\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\twhile ( i-- ) {\r\n\t\tvar filter = config.filters[i],\r\n\t\t\tnot = filter.charAt(0) == '!';\r\n\r\n\t\tif ( not ) {\r\n\t\t\tfilter = filter.slice(1);\r\n\t\t}\r\n\r\n\t\tif ( name.indexOf(filter) !== -1 ) {\r\n\t\t\treturn !not;\r\n\t\t}\r\n\r\n\t\tif ( not ) {\r\n\t\t\trun = true;\r\n\t\t}\r\n\t}\r\n\r\n\treturn run;\r\n}\r\n\r\nfunction push(result, actual, expected, message) {\r\n\tmessage = message || (result ? \"okay\" : \"failed\");\r\n\tQUnit.ok( result, result ? message + \": \" + expected : message + \", expected: \" + QUnit.jsDump.parse(expected) + \" result: \" + QUnit.jsDump.parse(actual) );\r\n}\r\n\r\nfunction synchronize( callback ) {\r\n\tconfig.queue.push( callback );\r\n\r\n\tif ( config.autorun && !config.blocking ) {\r\n\t\tprocess();\r\n\t}\r\n}\r\n\r\nfunction process() {\r\n\twhile ( config.queue.length && !config.blocking ) {\r\n\t\tconfig.queue.shift()();\r\n\t}\r\n}\r\n\r\nfunction saveGlobal() {\r\n\tconfig.pollution = [];\r\n\t\r\n\tif ( config.noglobals ) {\r\n\t\tfor ( var key in window ) {\r\n\t\t\tconfig.pollution.push( key );\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction checkPollution( name ) {\r\n\tvar old = config.pollution;\r\n\tsaveGlobal();\r\n\t\r\n\tvar newGlobals = diff( old, config.pollution );\r\n\tif ( newGlobals.length > 0 ) {\r\n\t\tok( false, \"Introduced global variable(s): \" + newGlobals.join(\", \") );\r\n\t\tconfig.expected++;\r\n\t}\r\n\r\n\tvar deletedGlobals = diff( config.pollution, old );\r\n\tif ( deletedGlobals.length > 0 ) {\r\n\t\tok( false, \"Deleted global variable(s): \" + deletedGlobals.join(\", \") );\r\n\t\tconfig.expected++;\r\n\t}\r\n}\r\n\r\n// returns a new Array with the elements that are in a but not in b\r\nfunction diff( a, b ) {\r\n\tvar result = a.slice();\r\n\tfor ( var i = 0; i < result.length; i++ ) {\r\n\t\tfor ( var j = 0; j < b.length; j++ ) {\r\n\t\t\tif ( result[i] === b[j] ) {\r\n\t\t\t\tresult.splice(i, 1);\r\n\t\t\t\ti--;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nfunction fail(message, exception, callback) {\r\n\tif ( typeof console !== \"undefined\" && console.error && console.warn ) {\r\n\t\tconsole.error(message);\r\n\t\tconsole.error(exception);\r\n\t\tconsole.warn(callback.toString());\r\n\r\n\t} else if ( window.opera && opera.postError ) {\r\n\t\topera.postError(message, exception, callback.toString);\r\n\t}\r\n}\r\n\r\nfunction extend(a, b) {\r\n\tfor ( var prop in b ) {\r\n\t\ta[prop] = b[prop];\r\n\t}\r\n\r\n\treturn a;\r\n}\r\n\r\nfunction addEvent(elem, type, fn) {\r\n\tif ( elem.addEventListener ) {\r\n\t\telem.addEventListener( type, fn, false );\r\n\t} else if ( elem.attachEvent ) {\r\n\t\telem.attachEvent( \"on\" + type, fn );\r\n\t} else {\r\n\t\tfn();\r\n\t}\r\n}\r\n\r\nfunction id(name) {\r\n\treturn !!(typeof document !== \"undefined\" && document && document.getElementById) &&\r\n\t\tdocument.getElementById( name );\r\n}\r\n\r\n// Test for equality any JavaScript type.\r\n// Discussions and reference: http://philrathe.com/articles/equiv\r\n// Test suites: http://philrathe.com/tests/equiv\r\n// Author: Philippe Rathé <prathe@gmail.com>\r\nQUnit.equiv = function () {\r\n\r\n    var innerEquiv; // the real equiv function\r\n    var callers = []; // stack to decide between skip/abort functions\r\n\r\n\r\n    // Determine what is o.\r\n    function hoozit(o) {\r\n        if (QUnit.is(\"String\", o)) {\r\n            return \"string\";\r\n            \r\n        } else if (QUnit.is(\"Boolean\", o)) {\r\n            return \"boolean\";\r\n\r\n        } else if (QUnit.is(\"Number\", o)) {\r\n\r\n            if (isNaN(o)) {\r\n                return \"nan\";\r\n            } else {\r\n                return \"number\";\r\n            }\r\n\r\n        } else if (typeof o === \"undefined\") {\r\n            return \"undefined\";\r\n\r\n        // consider: typeof null === object\r\n        } else if (o === null) {\r\n            return \"null\";\r\n\r\n        // consider: typeof [] === object\r\n        } else if (QUnit.is( \"Array\", o)) {\r\n            return \"array\";\r\n        \r\n        // consider: typeof new Date() === object\r\n        } else if (QUnit.is( \"Date\", o)) {\r\n            return \"date\";\r\n\r\n        // consider: /./ instanceof Object;\r\n        //           /./ instanceof RegExp;\r\n        //          typeof /./ === \"function\"; // => false in IE and Opera,\r\n        //                                          true in FF and Safari\r\n        } else if (QUnit.is( \"RegExp\", o)) {\r\n            return \"regexp\";\r\n\r\n        } else if (typeof o === \"object\") {\r\n            return \"object\";\r\n\r\n        } else if (QUnit.is( \"Function\", o)) {\r\n            return \"function\";\r\n        } else {\r\n            return undefined;\r\n        }\r\n    }\r\n\r\n    // Call the o related callback with the given arguments.\r\n    function bindCallbacks(o, callbacks, args) {\r\n        var prop = hoozit(o);\r\n        if (prop) {\r\n            if (hoozit(callbacks[prop]) === \"function\") {\r\n                return callbacks[prop].apply(callbacks, args);\r\n            } else {\r\n                return callbacks[prop]; // or undefined\r\n            }\r\n        }\r\n    }\r\n    \r\n    var callbacks = function () {\r\n\r\n        // for string, boolean, number and null\r\n        function useStrictEquality(b, a) {\r\n            if (b instanceof a.constructor || a instanceof b.constructor) {\r\n                // to catch short annotaion VS 'new' annotation of a declaration\r\n                // e.g. var i = 1;\r\n                //      var j = new Number(1);\r\n                return a == b;\r\n            } else {\r\n                return a === b;\r\n            }\r\n        }\r\n\r\n        return {\r\n            \"string\": useStrictEquality,\r\n            \"boolean\": useStrictEquality,\r\n            \"number\": useStrictEquality,\r\n            \"null\": useStrictEquality,\r\n            \"undefined\": useStrictEquality,\r\n\r\n            \"nan\": function (b) {\r\n                return isNaN(b);\r\n            },\r\n\r\n            \"date\": function (b, a) {\r\n                return hoozit(b) === \"date\" && a.valueOf() === b.valueOf();\r\n            },\r\n\r\n            \"regexp\": function (b, a) {\r\n                return hoozit(b) === \"regexp\" &&\r\n                    a.source === b.source && // the regex itself\r\n                    a.global === b.global && // and its modifers (gmi) ...\r\n                    a.ignoreCase === b.ignoreCase &&\r\n                    a.multiline === b.multiline;\r\n            },\r\n\r\n            // - skip when the property is a method of an instance (OOP)\r\n            // - abort otherwise,\r\n            //   initial === would have catch identical references anyway\r\n            \"function\": function () {\r\n                var caller = callers[callers.length - 1];\r\n                return caller !== Object &&\r\n                        typeof caller !== \"undefined\";\r\n            },\r\n\r\n            \"array\": function (b, a) {\r\n                var i;\r\n                var len;\r\n\r\n                // b could be an object literal here\r\n                if ( ! (hoozit(b) === \"array\")) {\r\n                    return false;\r\n                }\r\n\r\n                len = a.length;\r\n                if (len !== b.length) { // safe and faster\r\n                    return false;\r\n                }\r\n                for (i = 0; i < len; i++) {\r\n                    if ( ! innerEquiv(a[i], b[i])) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            },\r\n\r\n            \"object\": function (b, a) {\r\n                var i;\r\n                var eq = true; // unless we can proove it\r\n                var aProperties = [], bProperties = []; // collection of strings\r\n\r\n                // comparing constructors is more strict than using instanceof\r\n                if ( a.constructor !== b.constructor) {\r\n                    return false;\r\n                }\r\n\r\n                // stack constructor before traversing properties\r\n                callers.push(a.constructor);\r\n\r\n                for (i in a) { // be strict: don't ensures hasOwnProperty and go deep\r\n\r\n                    aProperties.push(i); // collect a's properties\r\n\r\n                    if ( ! innerEquiv(a[i], b[i])) {\r\n                        eq = false;\r\n                    }\r\n                }\r\n\r\n                callers.pop(); // unstack, we are done\r\n\r\n                for (i in b) {\r\n                    bProperties.push(i); // collect b's properties\r\n                }\r\n\r\n                // Ensures identical properties name\r\n                return eq && innerEquiv(aProperties.sort(), bProperties.sort());\r\n            }\r\n        };\r\n    }();\r\n\r\n    innerEquiv = function () { // can take multiple arguments\r\n        var args = Array.prototype.slice.apply(arguments);\r\n        if (args.length < 2) {\r\n            return true; // end transition\r\n        }\r\n\r\n        return (function (a, b) {\r\n            if (a === b) {\r\n                return true; // catch the most you can\r\n            } else if (a === null || b === null || typeof a === \"undefined\" || typeof b === \"undefined\" || hoozit(a) !== hoozit(b)) {\r\n                return false; // don't lose time with error prone cases\r\n            } else {\r\n                return bindCallbacks(a, callbacks, [b, a]);\r\n            }\r\n\r\n        // apply transition with (1..n) arguments\r\n        })(args[0], args[1]) && arguments.callee.apply(this, args.splice(1, args.length -1));\r\n    };\r\n\r\n    return innerEquiv;\r\n\r\n}();\r\n\r\n/**\r\n * jsDump\r\n * Copyright (c) 2008 Ariel Flesler - aflesler(at)gmail(dot)com | http://flesler.blogspot.com\r\n * Licensed under BSD (http://www.opensource.org/licenses/bsd-license.php)\r\n * Date: 5/15/2008\r\n * @projectDescription Advanced and extensible data dumping for Javascript.\r\n * @version 1.0.0\r\n * @author Ariel Flesler\r\n * @link {http://flesler.blogspot.com/2008/05/jsdump-pretty-dump-of-any-javascript.html}\r\n */\r\nQUnit.jsDump = (function() {\r\n\tfunction quote( str ) {\r\n\t\treturn '\"' + str.toString().replace(/\"/g, '\\\\\"') + '\"';\r\n\t};\r\n\tfunction literal( o ) {\r\n\t\treturn o + '';\t\r\n\t};\r\n\tfunction join( pre, arr, post ) {\r\n\t\tvar s = jsDump.separator(),\r\n\t\t\tbase = jsDump.indent(),\r\n\t\t\tinner = jsDump.indent(1);\r\n\t\tif ( arr.join )\r\n\t\t\tarr = arr.join( ',' + s + inner );\r\n\t\tif ( !arr )\r\n\t\t\treturn pre + post;\r\n\t\treturn [ pre, inner + arr, base + post ].join(s);\r\n\t};\r\n\tfunction array( arr ) {\r\n\t\tvar i = arr.length,\tret = Array(i);\t\t\t\t\t\r\n\t\tthis.up();\r\n\t\twhile ( i-- )\r\n\t\t\tret[i] = this.parse( arr[i] );\t\t\t\t\r\n\t\tthis.down();\r\n\t\treturn join( '[', ret, ']' );\r\n\t};\r\n\t\r\n\tvar reName = /^function (\\w+)/;\r\n\t\r\n\tvar jsDump = {\r\n\t\tparse:function( obj, type ) { //type is used mostly internally, you can fix a (custom)type in advance\r\n\t\t\tvar\tparser = this.parsers[ type || this.typeOf(obj) ];\r\n\t\t\ttype = typeof parser;\t\t\t\r\n\t\t\t\r\n\t\t\treturn type == 'function' ? parser.call( this, obj ) :\r\n\t\t\t\t   type == 'string' ? parser :\r\n\t\t\t\t   this.parsers.error;\r\n\t\t},\r\n\t\ttypeOf:function( obj ) {\r\n\t\t\tvar type;\r\n\t\t\tif ( obj === null ) {\r\n\t\t\t\ttype = \"null\";\r\n\t\t\t} else if (typeof obj === \"undefined\") {\r\n\t\t\t\ttype = \"undefined\";\r\n\t\t\t} else if (QUnit.is(\"RegExp\", obj)) {\r\n\t\t\t\ttype = \"regexp\";\r\n\t\t\t} else if (QUnit.is(\"Date\", obj)) {\r\n\t\t\t\ttype = \"date\";\r\n\t\t\t} else if (QUnit.is(\"Function\", obj)) {\r\n\t\t\t\ttype = \"function\";\r\n\t\t\t} else if (QUnit.is(\"Array\", obj)) {\r\n\t\t\t\ttype = \"array\";\r\n\t\t\t} else if (QUnit.is(\"Window\", obj) || QUnit.is(\"global\", obj)) {\r\n\t\t\t\ttype = \"window\";\r\n\t\t\t} else if (QUnit.is(\"HTMLDocument\", obj)) {\r\n\t\t\t\ttype = \"document\";\r\n\t\t\t} else if (QUnit.is(\"HTMLCollection\", obj) || QUnit.is(\"NodeList\", obj)) {\r\n\t\t\t\ttype = \"nodelist\";\r\n\t\t\t} else if (/^\\[object HTML/.test(Object.prototype.toString.call( obj ))) {\r\n\t\t\t\ttype = \"node\";\r\n\t\t\t} else {\r\n\t\t\t\ttype = typeof obj;\r\n\t\t\t}\r\n\t\t\treturn type;\r\n\t\t},\r\n\t\tseparator:function() {\r\n\t\t\treturn this.multiline ?\tthis.HTML ? '<br />' : '\\n' : this.HTML ? '&nbsp;' : ' ';\r\n\t\t},\r\n\t\tindent:function( extra ) {// extra can be a number, shortcut for increasing-calling-decreasing\r\n\t\t\tif ( !this.multiline )\r\n\t\t\t\treturn '';\r\n\t\t\tvar chr = this.indentChar;\r\n\t\t\tif ( this.HTML )\r\n\t\t\t\tchr = chr.replace(/\\t/g,'   ').replace(/ /g,'&nbsp;');\r\n\t\t\treturn Array( this._depth_ + (extra||0) ).join(chr);\r\n\t\t},\r\n\t\tup:function( a ) {\r\n\t\t\tthis._depth_ += a || 1;\r\n\t\t},\r\n\t\tdown:function( a ) {\r\n\t\t\tthis._depth_ -= a || 1;\r\n\t\t},\r\n\t\tsetParser:function( name, parser ) {\r\n\t\t\tthis.parsers[name] = parser;\r\n\t\t},\r\n\t\t// The next 3 are exposed so you can use them\r\n\t\tquote:quote, \r\n\t\tliteral:literal,\r\n\t\tjoin:join,\r\n\t\t//\r\n\t\t_depth_: 1,\r\n\t\t// This is the list of parsers, to modify them, use jsDump.setParser\r\n\t\tparsers:{\r\n\t\t\twindow: '[Window]',\r\n\t\t\tdocument: '[Document]',\r\n\t\t\terror:'[ERROR]', //when no parser is found, shouldn't happen\r\n\t\t\tunknown: '[Unknown]',\r\n\t\t\t'null':'null',\r\n\t\t\tundefined:'undefined',\r\n\t\t\t'function':function( fn ) {\r\n\t\t\t\tvar ret = 'function',\r\n\t\t\t\t\tname = 'name' in fn ? fn.name : (reName.exec(fn)||[])[1];//functions never have name in IE\r\n\t\t\t\tif ( name )\r\n\t\t\t\t\tret += ' ' + name;\r\n\t\t\t\tret += '(';\r\n\t\t\t\t\r\n\t\t\t\tret = [ ret, this.parse( fn, 'functionArgs' ), '){'].join('');\r\n\t\t\t\treturn join( ret, this.parse(fn,'functionCode'), '}' );\r\n\t\t\t},\r\n\t\t\tarray: array,\r\n\t\t\tnodelist: array,\r\n\t\t\targuments: array,\r\n\t\t\tobject:function( map ) {\r\n\t\t\t\tvar ret = [ ];\r\n\t\t\t\tthis.up();\r\n\t\t\t\tfor ( var key in map )\r\n\t\t\t\t\tret.push( this.parse(key,'key') + ': ' + this.parse(map[key]) );\r\n\t\t\t\tthis.down();\r\n\t\t\t\treturn join( '{', ret, '}' );\r\n\t\t\t},\r\n\t\t\tnode:function( node ) {\r\n\t\t\t\tvar open = this.HTML ? '&lt;' : '<',\r\n\t\t\t\t\tclose = this.HTML ? '&gt;' : '>';\r\n\t\t\t\t\t\r\n\t\t\t\tvar tag = node.nodeName.toLowerCase(),\r\n\t\t\t\t\tret = open + tag;\r\n\t\t\t\t\t\r\n\t\t\t\tfor ( var a in this.DOMAttrs ) {\r\n\t\t\t\t\tvar val = node[this.DOMAttrs[a]];\r\n\t\t\t\t\tif ( val )\r\n\t\t\t\t\t\tret += ' ' + a + '=' + this.parse( val, 'attribute' );\r\n\t\t\t\t}\r\n\t\t\t\treturn ret + close + open + '/' + tag + close;\r\n\t\t\t},\r\n\t\t\tfunctionArgs:function( fn ) {//function calls it internally, it's the arguments part of the function\r\n\t\t\t\tvar l = fn.length;\r\n\t\t\t\tif ( !l ) return '';\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tvar args = Array(l);\r\n\t\t\t\twhile ( l-- )\r\n\t\t\t\t\targs[l] = String.fromCharCode(97+l);//97 is 'a'\r\n\t\t\t\treturn ' ' + args.join(', ') + ' ';\r\n\t\t\t},\r\n\t\t\tkey:quote, //object calls it internally, the key part of an item in a map\r\n\t\t\tfunctionCode:'[code]', //function calls it internally, it's the content of the function\r\n\t\t\tattribute:quote, //node calls it internally, it's an html attribute value\r\n\t\t\tstring:quote,\r\n\t\t\tdate:quote,\r\n\t\t\tregexp:literal, //regex\r\n\t\t\tnumber:literal,\r\n\t\t\t'boolean':literal\r\n\t\t},\r\n\t\tDOMAttrs:{//attributes to dump from nodes, name=>realName\r\n\t\t\tid:'id',\r\n\t\t\tname:'name',\r\n\t\t\t'class':'className'\r\n\t\t},\r\n\t\tHTML:true,//if true, entities are escaped ( <, >, \\t, space and \\n )\r\n\t\tindentChar:'   ',//indentation unit\r\n\t\tmultiline:true //if true, items in a collection, are separated by a \\n, else just a space.\r\n\t};\r\n\r\n\treturn jsDump;\r\n})();\r\n\r\n})(this);\r\n"]},"metadata":{},"sourceType":"script"}