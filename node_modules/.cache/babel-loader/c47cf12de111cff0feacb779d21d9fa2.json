{"ast":null,"code":"'use strict';\n\nvar forEach = require('foreach');\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar assign = require('object.assign');\n\nvar define = require('define-properties');\n\nvar entries = require('object.entries');\n\nvar inspect = require('object-inspect');\n\nvar hasSticky = typeof /a/.sticky === 'boolean';\nvar hasGroups = ('groups' in /a/.exec('a'));\n\nvar groups = function groups(matchObject) {\n  return hasGroups ? assign(matchObject, {\n    groups: matchObject.groups\n  }, matchObject) : matchObject;\n};\n\nvar arraySpread = function arraySpread(iterator) {\n  if (Array.isArray(iterator)) {\n    return iterator;\n  }\n\n  var result;\n  var values = [];\n\n  do {\n    result = iterator.next();\n    values.push(result);\n  } while (!result.done);\n\n  return values;\n};\n\nvar testResults = function (t, iterator, expectedResults, item) {\n  var prefix = arguments.length > 3 ? inspect(item) + ': ' : '';\n  var results = arraySpread(iterator);\n  var expecteds = arraySpread(expectedResults);\n  t.test(prefix + 'actual vs expected result lengths', function (st) {\n    st.equal(results.length, expecteds.length, 'actual and expected result counts are the same');\n    st.end();\n  });\n  t.test(prefix + 'actual vs expected results', {\n    skip: results.length !== expecteds.length\n  }, function (st) {\n    forEach(expecteds, function (expected, index) {\n      var result = results.shift();\n      st.equal(result.done, expected.done, 'result ' + (index + 1) + ' is ' + (expected.done ? '' : 'not ') + 'done');\n      st.test('result ' + (index + 1), {\n        skip: result.done !== expected.done\n      }, function (s2t) {\n        if (expected.done) {\n          s2t.equal(result.value, undefined, 'result ' + (index + 1) + ' value is undefined');\n        } else {\n          s2t.equal(Array.isArray(result.value), true, 'result ' + (index + 1) + ' value is an array');\n          s2t.deepEqual(entries(result.value || {}), entries(expected.value || {}), 'result ' + (index + 1) + ' has the same entries');\n          s2t.deepEqual(result.value, expected.value, 'result ' + (index + 1) + ' value is expected value');\n        }\n\n        s2t.end();\n      });\n    });\n  });\n};\n\nmodule.exports = function (matchAll, regexMatchAll, t) {\n  t.test('non-regexes', function (st) {\n    var notRegexes = [[null, [{\n      value: undefined,\n      done: true\n    }]], [undefined, [{\n      value: assign([''], groups({\n        index: 0,\n        input: 'abc'\n      })),\n      done: false\n    }, {\n      value: assign([''], groups({\n        index: 1,\n        input: 'abc'\n      })),\n      done: false\n    }, {\n      value: assign([''], groups({\n        index: 2,\n        input: 'abc'\n      })),\n      done: false\n    }, {\n      value: assign([''], groups({\n        index: 3,\n        input: 'abc'\n      })),\n      done: false\n    }, {\n      value: undefined,\n      done: true\n    }]], [NaN, [{\n      value: undefined,\n      done: true\n    }]], [42, [{\n      value: undefined,\n      done: true\n    }]], [new Date(), [{\n      value: undefined,\n      done: true\n    }]], [{}, [{\n      value: assign(['b'], groups({\n        index: 1,\n        input: 'abc'\n      })),\n      done: false\n    }, {\n      value: assign(['c'], groups({\n        index: 2,\n        input: 'abc'\n      })),\n      done: false\n    }, {\n      value: undefined,\n      done: true\n    }]], [[], [{\n      value: assign([''], groups({\n        index: 0,\n        input: 'abc'\n      })),\n      done: false\n    }, {\n      value: assign([''], groups({\n        index: 1,\n        input: 'abc'\n      })),\n      done: false\n    }, {\n      value: assign([''], groups({\n        index: 2,\n        input: 'abc'\n      })),\n      done: false\n    }, {\n      value: assign([''], groups({\n        index: 3,\n        input: 'abc'\n      })),\n      done: false\n    }, {\n      value: undefined,\n      done: true\n    }]]];\n    var str = 'abc';\n    forEach(notRegexes, function (notRegex) {\n      testResults(st, matchAll(str, notRegex[0]), notRegex[1], notRegex[0]);\n    });\n    st.end();\n  });\n  t.test('passing a string instead of a regex', function (st) {\n    var str = 'aabcaba';\n    testResults(st, matchAll(str, 'a'), matchAll(str, /a/g));\n    st.end();\n  });\n  t.test('ToString-able objects', function (st) {\n    var str = 'aabc';\n    var strObj = {\n      toString: function () {\n        return str;\n      }\n    };\n    var regex = /[ac]/g;\n    var expectedResults = [{\n      value: assign(['a'], groups({\n        index: 0,\n        input: str\n      })),\n      done: false\n    }, {\n      value: assign(['a'], groups({\n        index: 1,\n        input: str\n      })),\n      done: false\n    }, {\n      value: assign(['c'], groups({\n        index: 3,\n        input: str\n      })),\n      done: false\n    }, {\n      value: undefined,\n      done: true\n    }];\n    testResults(st, matchAll(strObj, regex), expectedResults);\n    st.end();\n  });\n  t.test('#flags', function (st) {\n    st.test('without a flags property', function (s2t) {\n      var str = 'aabc';\n      var regex = /[ac]/g;\n\n      if (define.supportsDescriptors) {\n        Object.defineProperty(regex, 'flags', {\n          value: undefined\n        });\n      }\n\n      s2t.equal(regex.flags, undefined, 'regex has an undefined \"flags\" property');\n      s2t['throws'](function () {\n        matchAll(str, regex);\n      }, 'undefined flags throws');\n      s2t.end();\n    });\n    st.test('with a static flags property', function (s2t) {\n      var str = 'AaBC';\n      var regex = /[ac]/;\n      define(regex, {\n        flags: 'ig'\n      }, {\n        flags: function () {\n          return true;\n        }\n      });\n\n      try {\n        define(regex, {\n          global: true\n        }, {\n          global: function () {\n            return true;\n          }\n        });\n        s2t.equal(regex.global, true);\n      } catch (e) {\n        s2t.comment('# SKIP in node < 6, `global` is not configurable on regexes');\n        return s2t.end();\n      }\n\n      s2t.equal(regex.flags, 'ig');\n      var expectedResults = [{\n        value: assign(['A'], groups({\n          index: 0,\n          input: str\n        })),\n        done: false\n      }, {\n        value: assign(['a'], groups({\n          index: 1,\n          input: str\n        })),\n        done: false\n      }, {\n        value: assign(['C'], groups({\n          index: 3,\n          input: str\n        })),\n        done: false\n      }, {\n        value: undefined,\n        done: true\n      }];\n      testResults(s2t, matchAll(str, regex), expectedResults);\n      return s2t.end();\n    });\n    st.test('respects flags', function (s2t) {\n      var str = 'A\\na\\nb\\nC';\n      var regex = /^[ac]/img;\n      var expectedResults = [{\n        value: assign(['A'], groups({\n          index: 0,\n          input: str\n        })),\n        done: false\n      }, {\n        value: assign(['a'], groups({\n          index: 2,\n          input: str\n        })),\n        done: false\n      }, {\n        value: assign(['C'], groups({\n          index: 6,\n          input: str\n        })),\n        done: false\n      }, {\n        value: undefined,\n        done: true\n      }];\n      testResults(s2t, matchAll(str, regex), expectedResults);\n      s2t.end();\n    });\n    st.test('throws with a non-global regex', function (s2t) {\n      var str = 'AaBbCc';\n      var regex = /[bc]/i;\n      s2t['throws'](function () {\n        matchAll(str, regex);\n      }, TypeError, 'a non-global regex throws');\n      s2t.end();\n    });\n    st.test('works with a global non-sticky regex', function (s2t) {\n      var str = 'AaBbCc';\n      var regex = /[bc]/gi;\n      var expectedResults = [{\n        value: assign(['B'], groups({\n          index: 2,\n          input: str\n        })),\n        done: false\n      }, {\n        value: assign(['b'], groups({\n          index: 3,\n          input: str\n        })),\n        done: false\n      }, {\n        value: assign(['C'], groups({\n          index: 4,\n          input: str\n        })),\n        done: false\n      }, {\n        value: assign(['c'], groups({\n          index: 5,\n          input: str\n        })),\n        done: false\n      }, {\n        value: undefined,\n        done: true\n      }];\n      testResults(s2t, matchAll(str, regex), expectedResults);\n      s2t.end();\n    });\n  });\n  t.test('returns an iterator', function (st) {\n    var str = 'aabc';\n    var iterator = matchAll(str, /[ac]/g);\n    st.ok(iterator, 'iterator is truthy');\n    st.equal(has.call(iterator, 'next'), false, 'iterator does not have own property \"next\"');\n\n    for (var key in iterator) {\n      st.fail('iterator has enumerable properties: ' + key);\n    }\n\n    var expectedResults = [{\n      value: assign(['a'], groups({\n        index: 0,\n        input: str\n      })),\n      done: false\n    }, {\n      value: assign(['a'], groups({\n        index: 1,\n        input: str\n      })),\n      done: false\n    }, {\n      value: assign(['c'], groups({\n        index: 3,\n        input: str\n      })),\n      done: false\n    }, {\n      value: undefined,\n      done: true\n    }];\n    testResults(st, iterator, expectedResults);\n    st.end();\n  });\n  t.test('zero-width matches', function (st) {\n    var str = 'abcde';\n    st.test('global', function (s2t) {\n      var expectedResults = [{\n        value: assign([''], groups({\n          index: 1,\n          input: str\n        })),\n        done: false\n      }, {\n        value: assign([''], groups({\n          index: 2,\n          input: str\n        })),\n        done: false\n      }, {\n        value: assign([''], groups({\n          index: 3,\n          input: str\n        })),\n        done: false\n      }, {\n        value: assign([''], groups({\n          index: 4,\n          input: str\n        })),\n        done: false\n      }, {\n        value: undefined,\n        done: true\n      }];\n      testResults(s2t, matchAll(str, /\\B/g), expectedResults);\n      s2t.end();\n    });\n    st.test('sticky', {\n      skip: !hasSticky\n    }, function (s2t) {\n      var expectedResults = [{\n        value: undefined,\n        done: true\n      }];\n      /* eslint no-invalid-regexp: [2, { \"allowConstructorFlags\": [\"y\"] }] */\n\n      var regex = new RegExp('\\\\B', 'y');\n      s2t['throws'](function () {\n        matchAll(str, regex);\n      }, TypeError, 'non-global sticky regex throws');\n      /* eslint no-invalid-regexp: [2, { \"allowConstructorFlags\": [\"y\"] }] */\n\n      testResults(s2t, matchAll(str, new RegExp('\\\\B', 'gy')), expectedResults);\n      s2t.end();\n    });\n    st.test('unflagged', function (s2t) {\n      s2t['throws'](function () {\n        matchAll(str, /\\B/);\n      }, TypeError, 'unflagged regex throws');\n      s2t.end();\n    });\n    st.end();\n  });\n};","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/string.prototype.matchall/test/tests.js"],"names":["forEach","require","has","Object","prototype","hasOwnProperty","assign","define","entries","inspect","hasSticky","sticky","hasGroups","exec","groups","matchObject","arraySpread","iterator","Array","isArray","result","values","next","push","done","testResults","t","expectedResults","item","prefix","arguments","length","results","expecteds","test","st","equal","end","skip","expected","index","shift","s2t","value","undefined","deepEqual","module","exports","matchAll","regexMatchAll","notRegexes","input","NaN","Date","str","notRegex","strObj","toString","regex","supportsDescriptors","defineProperty","flags","global","e","comment","TypeError","ok","call","key","fail","RegExp"],"mappings":"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","sourcesContent":["'use strict';\n\nvar forEach = require('foreach');\nvar has = Object.prototype.hasOwnProperty;\nvar assign = require('object.assign');\nvar define = require('define-properties');\nvar entries = require('object.entries');\nvar inspect = require('object-inspect');\n\nvar hasSticky = typeof (/a/).sticky === 'boolean';\nvar hasGroups = 'groups' in (/a/).exec('a');\n\nvar groups = function groups(matchObject) {\n\treturn hasGroups ? assign(matchObject, { groups: matchObject.groups }, matchObject) : matchObject;\n};\n\nvar arraySpread = function arraySpread(iterator) {\n\tif (Array.isArray(iterator)) { return iterator; }\n\tvar result;\n\tvar values = [];\n\tdo {\n\t\tresult = iterator.next();\n\t\tvalues.push(result);\n\t} while (!result.done);\n\treturn values;\n};\n\nvar testResults = function (t, iterator, expectedResults, item) {\n\tvar prefix = arguments.length > 3 ? inspect(item) + ': ' : '';\n\tvar results = arraySpread(iterator);\n\tvar expecteds = arraySpread(expectedResults);\n\tt.test(prefix + 'actual vs expected result lengths', function (st) {\n\t\tst.equal(results.length, expecteds.length, 'actual and expected result counts are the same');\n\t\tst.end();\n\t});\n\tt.test(prefix + 'actual vs expected results', { skip: results.length !== expecteds.length }, function (st) {\n\t\tforEach(expecteds, function (expected, index) {\n\t\t\tvar result = results.shift();\n\t\t\tst.equal(result.done, expected.done, 'result ' + (index + 1) + ' is ' + (expected.done ? '' : 'not ') + 'done');\n\t\t\tst.test('result ' + (index + 1), { skip: result.done !== expected.done }, function (s2t) {\n\t\t\t\tif (expected.done) {\n\t\t\t\t\ts2t.equal(result.value, undefined, 'result ' + (index + 1) + ' value is undefined');\n\t\t\t\t} else {\n\t\t\t\t\ts2t.equal(Array.isArray(result.value), true, 'result ' + (index + 1) + ' value is an array');\n\t\t\t\t\ts2t.deepEqual(entries(result.value || {}), entries(expected.value || {}), 'result ' + (index + 1) + ' has the same entries');\n\t\t\t\t\ts2t.deepEqual(result.value, expected.value, 'result ' + (index + 1) + ' value is expected value');\n\t\t\t\t}\n\t\t\t\ts2t.end();\n\t\t\t});\n\t\t});\n\t});\n};\n\nmodule.exports = function (matchAll, regexMatchAll, t) {\n\tt.test('non-regexes', function (st) {\n\t\tvar notRegexes = [\n\t\t\t[null, [{ value: undefined, done: true }]],\n\t\t\t[undefined, [\n\t\t\t\t{ value: assign([''], groups({ index: 0, input: 'abc' })), done: false },\n\t\t\t\t{ value: assign([''], groups({ index: 1, input: 'abc' })), done: false },\n\t\t\t\t{ value: assign([''], groups({ index: 2, input: 'abc' })), done: false },\n\t\t\t\t{ value: assign([''], groups({ index: 3, input: 'abc' })), done: false },\n\t\t\t\t{ value: undefined, done: true }\n\t\t\t]],\n\t\t\t[NaN, [{ value: undefined, done: true }]],\n\t\t\t[42, [{ value: undefined, done: true }]],\n\t\t\t[new Date(), [{ value: undefined, done: true }]],\n\t\t\t[{}, [\n\t\t\t\t{ value: assign(['b'], groups({ index: 1, input: 'abc' })), done: false },\n\t\t\t\t{ value: assign(['c'], groups({ index: 2, input: 'abc' })), done: false },\n\t\t\t\t{ value: undefined, done: true }\n\t\t\t]],\n\t\t\t[[], [\n\t\t\t\t{ value: assign([''], groups({ index: 0, input: 'abc' })), done: false },\n\t\t\t\t{ value: assign([''], groups({ index: 1, input: 'abc' })), done: false },\n\t\t\t\t{ value: assign([''], groups({ index: 2, input: 'abc' })), done: false },\n\t\t\t\t{ value: assign([''], groups({ index: 3, input: 'abc' })), done: false },\n\t\t\t\t{ value: undefined, done: true }\n\t\t\t]]\n\t\t];\n\t\tvar str = 'abc';\n\t\tforEach(notRegexes, function (notRegex) {\n\t\t\ttestResults(st, matchAll(str, notRegex[0]), notRegex[1], notRegex[0]);\n\t\t});\n\t\tst.end();\n\t});\n\n\tt.test('passing a string instead of a regex', function (st) {\n\t\tvar str = 'aabcaba';\n\t\ttestResults(st, matchAll(str, 'a'), matchAll(str, /a/g));\n\t\tst.end();\n\t});\n\n\tt.test('ToString-able objects', function (st) {\n\t\tvar str = 'aabc';\n\t\tvar strObj = { toString: function () { return str; } };\n\t\tvar regex = /[ac]/g;\n\t\tvar expectedResults = [\n\t\t\t{ value: assign(['a'], groups({ index: 0, input: str })), done: false },\n\t\t\t{ value: assign(['a'], groups({ index: 1, input: str })), done: false },\n\t\t\t{ value: assign(['c'], groups({ index: 3, input: str })), done: false },\n\t\t\t{ value: undefined, done: true }\n\t\t];\n\t\ttestResults(st, matchAll(strObj, regex), expectedResults);\n\t\tst.end();\n\t});\n\n\tt.test('#flags', function (st) {\n\t\tst.test('without a flags property', function (s2t) {\n\t\t\tvar str = 'aabc';\n\t\t\tvar regex = /[ac]/g;\n\t\t\tif (define.supportsDescriptors) {\n\t\t\t\tObject.defineProperty(regex, 'flags', { value: undefined });\n\t\t\t}\n\t\t\ts2t.equal(regex.flags, undefined, 'regex has an undefined \"flags\" property');\n\t\t\ts2t['throws'](\n\t\t\t\tfunction () { matchAll(str, regex); },\n\t\t\t\t'undefined flags throws'\n\t\t\t);\n\t\t\ts2t.end();\n\t\t});\n\n\t\tst.test('with a static flags property', function (s2t) {\n\t\t\tvar str = 'AaBC';\n\t\t\tvar regex = /[ac]/;\n\t\t\tdefine(regex, { flags: 'ig' }, { flags: function () { return true; } });\n\t\t\ttry {\n\t\t\t\tdefine(regex, { global: true }, { global: function () { return true; } });\n\t\t\t\ts2t.equal(regex.global, true);\n\t\t\t} catch (e) {\n\t\t\t\ts2t.comment('# SKIP in node < 6, `global` is not configurable on regexes');\n\t\t\t\treturn s2t.end();\n\t\t\t}\n\t\t\ts2t.equal(regex.flags, 'ig');\n\t\t\tvar expectedResults = [\n\t\t\t\t{ value: assign(['A'], groups({ index: 0, input: str })), done: false },\n\t\t\t\t{ value: assign(['a'], groups({ index: 1, input: str })), done: false },\n\t\t\t\t{ value: assign(['C'], groups({ index: 3, input: str })), done: false },\n\t\t\t\t{ value: undefined, done: true }\n\t\t\t];\n\t\t\ttestResults(s2t, matchAll(str, regex), expectedResults);\n\t\t\treturn s2t.end();\n\t\t});\n\n\t\tst.test('respects flags', function (s2t) {\n\t\t\tvar str = 'A\\na\\nb\\nC';\n\t\t\tvar regex = /^[ac]/img;\n\t\t\tvar expectedResults = [\n\t\t\t\t{ value: assign(['A'], groups({ index: 0, input: str })), done: false },\n\t\t\t\t{ value: assign(['a'], groups({ index: 2, input: str })), done: false },\n\t\t\t\t{ value: assign(['C'], groups({ index: 6, input: str })), done: false },\n\t\t\t\t{ value: undefined, done: true }\n\t\t\t];\n\t\t\ttestResults(s2t, matchAll(str, regex), expectedResults);\n\t\t\ts2t.end();\n\t\t});\n\n\t\tst.test('throws with a non-global regex', function (s2t) {\n\t\t\tvar str = 'AaBbCc';\n\t\t\tvar regex = /[bc]/i;\n\t\t\ts2t['throws'](\n\t\t\t\tfunction () { matchAll(str, regex); },\n\t\t\t\tTypeError,\n\t\t\t\t'a non-global regex throws'\n\t\t\t);\n\t\t\ts2t.end();\n\t\t});\n\n\t\tst.test('works with a global non-sticky regex', function (s2t) {\n\t\t\tvar str = 'AaBbCc';\n\t\t\tvar regex = /[bc]/gi;\n\t\t\tvar expectedResults = [\n\t\t\t\t{ value: assign(['B'], groups({ index: 2, input: str })), done: false },\n\t\t\t\t{ value: assign(['b'], groups({ index: 3, input: str })), done: false },\n\t\t\t\t{ value: assign(['C'], groups({ index: 4, input: str })), done: false },\n\t\t\t\t{ value: assign(['c'], groups({ index: 5, input: str })), done: false },\n\t\t\t\t{ value: undefined, done: true }\n\t\t\t];\n\t\t\ttestResults(s2t, matchAll(str, regex), expectedResults);\n\t\t\ts2t.end();\n\t\t});\n\t});\n\n\tt.test('returns an iterator', function (st) {\n\t\tvar str = 'aabc';\n\t\tvar iterator = matchAll(str, /[ac]/g);\n\t\tst.ok(iterator, 'iterator is truthy');\n\t\tst.equal(has.call(iterator, 'next'), false, 'iterator does not have own property \"next\"');\n\t\tfor (var key in iterator) {\n\t\t\tst.fail('iterator has enumerable properties: ' + key);\n\t\t}\n\t\tvar expectedResults = [\n\t\t\t{ value: assign(['a'], groups({ index: 0, input: str })), done: false },\n\t\t\t{ value: assign(['a'], groups({ index: 1, input: str })), done: false },\n\t\t\t{ value: assign(['c'], groups({ index: 3, input: str })), done: false },\n\t\t\t{ value: undefined, done: true }\n\t\t];\n\t\ttestResults(st, iterator, expectedResults);\n\t\tst.end();\n\t});\n\n\tt.test('zero-width matches', function (st) {\n\t\tvar str = 'abcde';\n\n\t\tst.test('global', function (s2t) {\n\t\t\tvar expectedResults = [\n\t\t\t\t{ value: assign([''], groups({ index: 1, input: str })), done: false },\n\t\t\t\t{ value: assign([''], groups({ index: 2, input: str })), done: false },\n\t\t\t\t{ value: assign([''], groups({ index: 3, input: str })), done: false },\n\t\t\t\t{ value: assign([''], groups({ index: 4, input: str })), done: false },\n\t\t\t\t{ value: undefined, done: true }\n\t\t\t];\n\t\t\ttestResults(s2t, matchAll(str, /\\B/g), expectedResults);\n\t\t\ts2t.end();\n\t\t});\n\n\t\tst.test('sticky', { skip: !hasSticky }, function (s2t) {\n\t\t\tvar expectedResults = [\n\t\t\t\t{ value: undefined, done: true }\n\t\t\t];\n\n\t\t\t/* eslint no-invalid-regexp: [2, { \"allowConstructorFlags\": [\"y\"] }] */\n\t\t\tvar regex = new RegExp('\\\\B', 'y');\n\t\t\ts2t['throws'](\n\t\t\t\tfunction () { matchAll(str, regex); },\n\t\t\t\tTypeError,\n\t\t\t\t'non-global sticky regex throws'\n\t\t\t);\n\n\t\t\t/* eslint no-invalid-regexp: [2, { \"allowConstructorFlags\": [\"y\"] }] */\n\t\t\ttestResults(s2t, matchAll(str, new RegExp('\\\\B', 'gy')), expectedResults);\n\n\t\t\ts2t.end();\n\t\t});\n\n\t\tst.test('unflagged', function (s2t) {\n\t\t\ts2t['throws'](\n\t\t\t\tfunction () { matchAll(str, /\\B/); },\n\t\t\t\tTypeError,\n\t\t\t\t'unflagged regex throws'\n\t\t\t);\n\t\t\ts2t.end();\n\t\t});\n\n\t\tst.end();\n\t});\n};\n"]},"metadata":{},"sourceType":"script"}