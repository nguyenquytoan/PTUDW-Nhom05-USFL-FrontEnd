{"ast":null,"code":"'use strict';\n\nvar EOL = require('os').EOL,\n    textElem = require('../../plugins/_collections.js').elemsGroups.textContent.concat('title');\n\nvar defaults = {\n  doctypeStart: '<!DOCTYPE',\n  doctypeEnd: '>',\n  procInstStart: '<?',\n  procInstEnd: '?>',\n  tagOpenStart: '<',\n  tagOpenEnd: '>',\n  tagCloseStart: '</',\n  tagCloseEnd: '>',\n  tagShortStart: '<',\n  tagShortEnd: '/>',\n  attrStart: '=\"',\n  attrEnd: '\"',\n  commentStart: '<!--',\n  commentEnd: '-->',\n  cdataStart: '<![CDATA[',\n  cdataEnd: ']]>',\n  textStart: '',\n  textEnd: '',\n  indent: 4,\n  regEntities: /[&'\"<>]/g,\n  regValEntities: /[&\"<>]/g,\n  encodeEntity: encodeEntity,\n  pretty: false,\n  useShortTags: true\n};\nvar entities = {\n  '&': '&amp;',\n  '\\'': '&apos;',\n  '\"': '&quot;',\n  '>': '&gt;',\n  '<': '&lt;'\n};\n/**\n * Convert SVG-as-JS object to SVG (XML) string.\n *\n * @param {Object} data input data\n * @param {Object} config config\n *\n * @return {Object} output data\n */\n\nmodule.exports = function (data, config) {\n  return new JS2SVG(config).convert(data);\n};\n\nfunction JS2SVG(config) {\n  if (config) {\n    this.config = Object.assign({}, defaults, config);\n  } else {\n    this.config = Object.assign({}, defaults);\n  }\n\n  var indent = this.config.indent;\n\n  if (typeof indent == 'number' && !isNaN(indent)) {\n    this.config.indent = indent < 0 ? '\\t' : ' '.repeat(indent);\n  } else if (typeof indent != 'string') {\n    this.config.indent = '    ';\n  }\n\n  if (this.config.pretty) {\n    this.config.doctypeEnd += EOL;\n    this.config.procInstEnd += EOL;\n    this.config.commentEnd += EOL;\n    this.config.cdataEnd += EOL;\n    this.config.tagShortEnd += EOL;\n    this.config.tagOpenEnd += EOL;\n    this.config.tagCloseEnd += EOL;\n    this.config.textEnd += EOL;\n  }\n\n  this.indentLevel = 0;\n  this.textContext = null;\n}\n\nfunction encodeEntity(char) {\n  return entities[char];\n}\n/**\n * Start conversion.\n *\n * @param {Object} data input data\n *\n * @return {String}\n */\n\n\nJS2SVG.prototype.convert = function (data) {\n  var svg = '';\n\n  if (data.content) {\n    this.indentLevel++;\n    data.content.forEach(function (item) {\n      if (item.elem) {\n        svg += this.createElem(item);\n      } else if (item.text) {\n        svg += this.createText(item.text);\n      } else if (item.doctype) {\n        svg += this.createDoctype(item.doctype);\n      } else if (item.processinginstruction) {\n        svg += this.createProcInst(item.processinginstruction);\n      } else if (item.comment) {\n        svg += this.createComment(item.comment);\n      } else if (item.cdata) {\n        svg += this.createCDATA(item.cdata);\n      }\n    }, this);\n  }\n\n  this.indentLevel--;\n  return {\n    data: svg,\n    info: {\n      width: this.width,\n      height: this.height\n    }\n  };\n};\n/**\n * Create indent string in accordance with the current node level.\n *\n * @return {String}\n */\n\n\nJS2SVG.prototype.createIndent = function () {\n  var indent = '';\n\n  if (this.config.pretty && !this.textContext) {\n    indent = this.config.indent.repeat(this.indentLevel - 1);\n  }\n\n  return indent;\n};\n/**\n * Create doctype tag.\n *\n * @param {String} doctype doctype body string\n *\n * @return {String}\n */\n\n\nJS2SVG.prototype.createDoctype = function (doctype) {\n  return this.config.doctypeStart + doctype + this.config.doctypeEnd;\n};\n/**\n * Create XML Processing Instruction tag.\n *\n * @param {Object} instruction instruction object\n *\n * @return {String}\n */\n\n\nJS2SVG.prototype.createProcInst = function (instruction) {\n  return this.config.procInstStart + instruction.name + ' ' + instruction.body + this.config.procInstEnd;\n};\n/**\n * Create comment tag.\n *\n * @param {String} comment comment body\n *\n * @return {String}\n */\n\n\nJS2SVG.prototype.createComment = function (comment) {\n  return this.config.commentStart + comment + this.config.commentEnd;\n};\n/**\n * Create CDATA section.\n *\n * @param {String} cdata CDATA body\n *\n * @return {String}\n */\n\n\nJS2SVG.prototype.createCDATA = function (cdata) {\n  return this.createIndent() + this.config.cdataStart + cdata + this.config.cdataEnd;\n};\n/**\n * Create element tag.\n *\n * @param {Object} data element object\n *\n * @return {String}\n */\n\n\nJS2SVG.prototype.createElem = function (data) {\n  // beautiful injection for obtaining SVG information :)\n  if (data.isElem('svg') && data.hasAttr('width') && data.hasAttr('height')) {\n    this.width = data.attr('width').value;\n    this.height = data.attr('height').value;\n  } // empty element and short tag\n\n\n  if (data.isEmpty()) {\n    if (this.config.useShortTags) {\n      return this.createIndent() + this.config.tagShortStart + data.elem + this.createAttrs(data) + this.config.tagShortEnd;\n    } else {\n      return this.createIndent() + this.config.tagShortStart + data.elem + this.createAttrs(data) + this.config.tagOpenEnd + this.config.tagCloseStart + data.elem + this.config.tagCloseEnd;\n    } // non-empty element\n\n  } else {\n    var tagOpenStart = this.config.tagOpenStart,\n        tagOpenEnd = this.config.tagOpenEnd,\n        tagCloseStart = this.config.tagCloseStart,\n        tagCloseEnd = this.config.tagCloseEnd,\n        openIndent = this.createIndent(),\n        textIndent = '',\n        processedData = '',\n        dataEnd = '';\n\n    if (this.textContext) {\n      tagOpenStart = defaults.tagOpenStart;\n      tagOpenEnd = defaults.tagOpenEnd;\n      tagCloseStart = defaults.tagCloseStart;\n      tagCloseEnd = defaults.tagCloseEnd;\n      openIndent = '';\n    } else if (data.isElem(textElem)) {\n      if (this.config.pretty) {\n        textIndent += openIndent + this.config.indent;\n      }\n\n      this.textContext = data;\n    }\n\n    processedData += this.convert(data).data;\n\n    if (this.textContext == data) {\n      this.textContext = null;\n      if (this.config.pretty) dataEnd = EOL;\n    }\n\n    return openIndent + tagOpenStart + data.elem + this.createAttrs(data) + tagOpenEnd + textIndent + processedData + dataEnd + this.createIndent() + tagCloseStart + data.elem + tagCloseEnd;\n  }\n};\n/**\n * Create element attributes.\n *\n * @param {Object} elem attributes object\n *\n * @return {String}\n */\n\n\nJS2SVG.prototype.createAttrs = function (elem) {\n  var attrs = '';\n  elem.eachAttr(function (attr) {\n    if (attr.value !== undefined) {\n      attrs += ' ' + attr.name + this.config.attrStart + String(attr.value).replace(this.config.regValEntities, this.config.encodeEntity) + this.config.attrEnd;\n    } else {\n      attrs += ' ' + attr.name;\n    }\n  }, this);\n  return attrs;\n};\n/**\n * Create text node.\n *\n * @param {String} text text\n *\n * @return {String}\n */\n\n\nJS2SVG.prototype.createText = function (text) {\n  return this.createIndent() + this.config.textStart + text.replace(this.config.regEntities, this.config.encodeEntity) + (this.textContext ? '' : this.config.textEnd);\n};","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/svgo/lib/svgo/js2svg.js"],"names":["EOL","require","textElem","elemsGroups","textContent","concat","defaults","doctypeStart","doctypeEnd","procInstStart","procInstEnd","tagOpenStart","tagOpenEnd","tagCloseStart","tagCloseEnd","tagShortStart","tagShortEnd","attrStart","attrEnd","commentStart","commentEnd","cdataStart","cdataEnd","textStart","textEnd","indent","regEntities","regValEntities","encodeEntity","pretty","useShortTags","entities","module","exports","data","config","JS2SVG","convert","Object","assign","isNaN","repeat","indentLevel","textContext","char","prototype","svg","content","forEach","item","elem","createElem","text","createText","doctype","createDoctype","processinginstruction","createProcInst","comment","createComment","cdata","createCDATA","info","width","height","createIndent","instruction","name","body","isElem","hasAttr","attr","value","isEmpty","createAttrs","openIndent","textIndent","processedData","dataEnd","attrs","eachAttr","undefined","String","replace"],"mappings":"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","sourcesContent":["'use strict';\n\nvar EOL = require('os').EOL,\n    textElem = require('../../plugins/_collections.js').elemsGroups.textContent.concat('title');\n\nvar defaults = {\n    doctypeStart: '<!DOCTYPE',\n    doctypeEnd: '>',\n    procInstStart: '<?',\n    procInstEnd: '?>',\n    tagOpenStart: '<',\n    tagOpenEnd: '>',\n    tagCloseStart: '</',\n    tagCloseEnd: '>',\n    tagShortStart: '<',\n    tagShortEnd: '/>',\n    attrStart: '=\"',\n    attrEnd: '\"',\n    commentStart: '<!--',\n    commentEnd: '-->',\n    cdataStart: '<![CDATA[',\n    cdataEnd: ']]>',\n    textStart: '',\n    textEnd: '',\n    indent: 4,\n    regEntities: /[&'\"<>]/g,\n    regValEntities: /[&\"<>]/g,\n    encodeEntity: encodeEntity,\n    pretty: false,\n    useShortTags: true\n};\n\nvar entities = {\n      '&': '&amp;',\n      '\\'': '&apos;',\n      '\"': '&quot;',\n      '>': '&gt;',\n      '<': '&lt;',\n    };\n\n/**\n * Convert SVG-as-JS object to SVG (XML) string.\n *\n * @param {Object} data input data\n * @param {Object} config config\n *\n * @return {Object} output data\n */\nmodule.exports = function(data, config) {\n\n    return new JS2SVG(config).convert(data);\n\n};\n\nfunction JS2SVG(config) {\n\n    if (config) {\n        this.config = Object.assign({}, defaults, config);\n    } else {\n        this.config = Object.assign({}, defaults);\n    }\n\n    var indent = this.config.indent;\n    if (typeof indent == 'number' && !isNaN(indent)) {\n        this.config.indent = (indent < 0) ? '\\t' : ' '.repeat(indent);\n    } else if (typeof indent != 'string') {\n        this.config.indent = '    ';\n    }\n\n    if (this.config.pretty) {\n        this.config.doctypeEnd += EOL;\n        this.config.procInstEnd += EOL;\n        this.config.commentEnd += EOL;\n        this.config.cdataEnd += EOL;\n        this.config.tagShortEnd += EOL;\n        this.config.tagOpenEnd += EOL;\n        this.config.tagCloseEnd += EOL;\n        this.config.textEnd += EOL;\n    }\n\n    this.indentLevel = 0;\n    this.textContext = null;\n\n}\n\nfunction encodeEntity(char) {\n    return entities[char];\n}\n\n/**\n * Start conversion.\n *\n * @param {Object} data input data\n *\n * @return {String}\n */\nJS2SVG.prototype.convert = function(data) {\n\n    var svg = '';\n\n    if (data.content) {\n\n        this.indentLevel++;\n\n        data.content.forEach(function(item) {\n\n            if (item.elem) {\n               svg += this.createElem(item);\n            } else if (item.text) {\n               svg += this.createText(item.text);\n            } else if (item.doctype) {\n                svg += this.createDoctype(item.doctype);\n            } else if (item.processinginstruction) {\n                svg += this.createProcInst(item.processinginstruction);\n            } else if (item.comment) {\n                svg += this.createComment(item.comment);\n            } else if (item.cdata) {\n                svg += this.createCDATA(item.cdata);\n            }\n\n        }, this);\n\n    }\n\n    this.indentLevel--;\n\n    return {\n        data: svg,\n        info: {\n            width: this.width,\n            height: this.height\n        }\n    };\n\n};\n\n/**\n * Create indent string in accordance with the current node level.\n *\n * @return {String}\n */\nJS2SVG.prototype.createIndent = function() {\n\n    var indent = '';\n\n    if (this.config.pretty && !this.textContext) {\n        indent = this.config.indent.repeat(this.indentLevel - 1);\n    }\n\n    return indent;\n\n};\n\n/**\n * Create doctype tag.\n *\n * @param {String} doctype doctype body string\n *\n * @return {String}\n */\nJS2SVG.prototype.createDoctype = function(doctype) {\n\n    return  this.config.doctypeStart +\n            doctype +\n            this.config.doctypeEnd;\n\n};\n\n/**\n * Create XML Processing Instruction tag.\n *\n * @param {Object} instruction instruction object\n *\n * @return {String}\n */\nJS2SVG.prototype.createProcInst = function(instruction) {\n\n    return  this.config.procInstStart +\n            instruction.name +\n            ' ' +\n            instruction.body +\n            this.config.procInstEnd;\n\n};\n\n/**\n * Create comment tag.\n *\n * @param {String} comment comment body\n *\n * @return {String}\n */\nJS2SVG.prototype.createComment = function(comment) {\n\n    return  this.config.commentStart +\n            comment +\n            this.config.commentEnd;\n\n};\n\n/**\n * Create CDATA section.\n *\n * @param {String} cdata CDATA body\n *\n * @return {String}\n */\nJS2SVG.prototype.createCDATA = function(cdata) {\n\n    return  this.createIndent() +\n            this.config.cdataStart +\n            cdata +\n            this.config.cdataEnd;\n\n};\n\n/**\n * Create element tag.\n *\n * @param {Object} data element object\n *\n * @return {String}\n */\nJS2SVG.prototype.createElem = function(data) {\n\n    // beautiful injection for obtaining SVG information :)\n    if (\n        data.isElem('svg') &&\n        data.hasAttr('width') &&\n        data.hasAttr('height')\n    ) {\n        this.width = data.attr('width').value;\n        this.height = data.attr('height').value;\n    }\n\n    // empty element and short tag\n    if (data.isEmpty()) {\n        if (this.config.useShortTags) {\n            return this.createIndent() +\n                   this.config.tagShortStart +\n                   data.elem +\n                   this.createAttrs(data) +\n                   this.config.tagShortEnd;\n        } else {\n            return this.createIndent() +\n                   this.config.tagShortStart +\n                   data.elem +\n                   this.createAttrs(data) +\n                   this.config.tagOpenEnd +\n                   this.config.tagCloseStart +\n                   data.elem +\n                   this.config.tagCloseEnd;\n        }\n    // non-empty element\n    } else {\n        var tagOpenStart = this.config.tagOpenStart,\n            tagOpenEnd = this.config.tagOpenEnd,\n            tagCloseStart = this.config.tagCloseStart,\n            tagCloseEnd = this.config.tagCloseEnd,\n            openIndent = this.createIndent(),\n            textIndent = '',\n            processedData = '',\n            dataEnd = '';\n\n        if (this.textContext) {\n            tagOpenStart = defaults.tagOpenStart;\n            tagOpenEnd = defaults.tagOpenEnd;\n            tagCloseStart = defaults.tagCloseStart;\n            tagCloseEnd = defaults.tagCloseEnd;\n            openIndent = '';\n        } else if (data.isElem(textElem)) {\n            if (this.config.pretty) {\n                textIndent += openIndent + this.config.indent;\n            }\n            this.textContext = data;\n        }\n\n        processedData += this.convert(data).data;\n\n        if (this.textContext == data) {\n            this.textContext = null;\n            if (this.config.pretty) dataEnd = EOL;\n        }\n\n        return  openIndent +\n                tagOpenStart +\n                data.elem +\n                this.createAttrs(data) +\n                tagOpenEnd +\n                textIndent +\n                processedData +\n                dataEnd +\n                this.createIndent() +\n                tagCloseStart +\n                data.elem +\n                tagCloseEnd;\n\n    }\n\n};\n\n/**\n * Create element attributes.\n *\n * @param {Object} elem attributes object\n *\n * @return {String}\n */\nJS2SVG.prototype.createAttrs = function(elem) {\n\n    var attrs = '';\n\n    elem.eachAttr(function(attr) {\n\n        if (attr.value !== undefined) {\n            attrs +=    ' ' +\n                        attr.name +\n                        this.config.attrStart +\n                        String(attr.value).replace(this.config.regValEntities, this.config.encodeEntity) +\n                        this.config.attrEnd;\n        }\n        else {\n            attrs +=    ' ' +\n                        attr.name;\n        }\n\n\n    }, this);\n\n    return attrs;\n\n};\n\n/**\n * Create text node.\n *\n * @param {String} text text\n *\n * @return {String}\n */\nJS2SVG.prototype.createText = function(text) {\n\n    return  this.createIndent() +\n            this.config.textStart +\n            text.replace(this.config.regEntities, this.config.encodeEntity) +\n            (this.textContext ? '' : this.config.textEnd);\n\n};\n"]},"metadata":{},"sourceType":"script"}