{"ast":null,"code":"var tape = require('tape');\n\nvar thunky = require('./');\n\ntape('run only once', function (t) {\n  t.plan(3);\n  var ran = 0;\n  var run = thunky(function (cb) {\n    ran++;\n    cb();\n  });\n  run(function () {\n    t.same(ran, 1, 'ran once');\n  });\n  run(function () {\n    t.same(ran, 1, 'ran once');\n  });\n  run(function () {\n    t.same(ran, 1, 'ran once');\n  });\n});\ntape('run only once async', function (t) {\n  t.plan(3);\n  var ran = 0;\n  var run = thunky(function (cb) {\n    process.nextTick(function () {\n      ran++;\n      cb();\n    });\n  });\n  run(function () {\n    t.same(ran, 1, 'ran once');\n  });\n  run(function () {\n    t.same(ran, 1, 'ran once');\n  });\n  run(function () {\n    t.same(ran, 1, 'ran once');\n  });\n});\ntape('re-run on error', function (t) {\n  t.plan(3);\n  var ran = 0;\n  var run = thunky(function (cb) {\n    ran++;\n    cb(new Error('stop'));\n  });\n  run(function () {\n    t.same(ran, 1, 'ran once');\n    run(function () {\n      t.same(ran, 2, 'ran once');\n      run(function () {\n        t.same(ran, 3, 'ran once');\n      });\n    });\n  });\n});\ntape('pass arguments', function (t) {\n  t.plan(6);\n  var ran = 0;\n  var run = thunky(function (fn) {\n    ran++;\n    fn({\n      hello: 'world'\n    });\n  });\n  run(function (val) {\n    t.same(ran, 1, 'ran once');\n    t.same(val, {\n      hello: 'world'\n    });\n    run(function (val) {\n      t.same(ran, 1, 'ran once');\n      t.same(val, {\n        hello: 'world'\n      });\n      run(function (val) {\n        t.same(ran, 1, 'ran once');\n        t.same(val, {\n          hello: 'world'\n        });\n      });\n    });\n  });\n});\ntape('callback is optional', function (t) {\n  t.plan(2);\n  var ran = 0;\n  var run = thunky(function (fn) {\n    ran++;\n    fn({\n      hello: 'world'\n    });\n  });\n  run();\n  run(function (val) {\n    t.same(ran, 1, 'ran once');\n    t.same(val, {\n      hello: 'world'\n    });\n  });\n});\ntape('always async', function (t) {\n  t.plan(2);\n  var run = thunky(function (cb) {\n    process.nextTick(cb);\n  });\n  var sync = true;\n  run(function () {\n    t.ok(!sync, 'not sync');\n    var innerSync = true;\n    run(function () {\n      t.ok(!innerSync, 'not sync');\n    });\n    innerSync = false;\n  });\n  sync = false;\n});","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/thunky/test.js"],"names":["tape","require","thunky","t","plan","ran","run","cb","same","process","nextTick","Error","fn","hello","val","sync","ok","innerSync"],"mappings":"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","sourcesContent":["var tape = require('tape')\nvar thunky = require('./')\n\ntape('run only once', function (t) {\n  t.plan(3)\n\n  var ran = 0\n  var run = thunky(function (cb) {\n    ran++\n    cb()\n  })\n\n  run(function () {\n    t.same(ran, 1, 'ran once')\n  })\n  run(function () {\n    t.same(ran, 1, 'ran once')\n  })\n  run(function () {\n    t.same(ran, 1, 'ran once')\n  })\n})\n\ntape('run only once async', function (t) {\n  t.plan(3)\n\n  var ran = 0\n  var run = thunky(function (cb) {\n    process.nextTick(function () {\n      ran++\n      cb()\n    })\n  })\n\n  run(function () {\n    t.same(ran, 1, 'ran once')\n  })\n  run(function () {\n    t.same(ran, 1, 'ran once')\n  })\n  run(function () {\n    t.same(ran, 1, 'ran once')\n  })\n})\n\ntape('re-run on error', function (t) {\n  t.plan(3)\n\n  var ran = 0\n  var run = thunky(function (cb) {\n    ran++\n    cb(new Error('stop'))\n  })\n\n  run(function () {\n    t.same(ran, 1, 'ran once')\n    run(function () {\n      t.same(ran, 2, 'ran once')\n      run(function () {\n        t.same(ran, 3, 'ran once')\n      })\n    })\n  })\n})\n\ntape('pass arguments', function (t) {\n  t.plan(6)\n\n  var ran = 0\n  var run = thunky(function (fn) {\n    ran++\n    fn({ hello: 'world' })\n  })\n\n  run(function (val) {\n    t.same(ran, 1, 'ran once')\n    t.same(val, { hello: 'world' })\n    run(function (val) {\n      t.same(ran, 1, 'ran once')\n      t.same(val, { hello: 'world' })\n      run(function (val) {\n        t.same(ran, 1, 'ran once')\n        t.same(val, { hello: 'world' })\n      })\n    })\n  })\n})\n\ntape('callback is optional', function (t) {\n  t.plan(2)\n\n  var ran = 0\n  var run = thunky(function (fn) {\n    ran++\n    fn({ hello: 'world' })\n  })\n\n  run()\n  run(function (val) {\n    t.same(ran, 1, 'ran once')\n    t.same(val, { hello: 'world' })\n  })\n})\n\ntape('always async', function (t) {\n  t.plan(2)\n\n  var run = thunky(function (cb) {\n    process.nextTick(cb)\n  })\n\n  var sync = true\n  run(function () {\n    t.ok(!sync, 'not sync')\n    var innerSync = true\n    run(function () {\n      t.ok(!innerSync, 'not sync')\n    })\n    innerSync = false\n  })\n  sync = false\n})\n"]},"metadata":{},"sourceType":"script"}