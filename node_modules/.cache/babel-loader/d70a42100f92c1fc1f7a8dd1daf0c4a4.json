{"ast":null,"code":"'use strict';\n\nconst fs = require('fs');\n\nconst CoaObject = require('./coaobject');\n/**\n * COA Parameter\n *\n * Base class for options and arguments\n *\n * --------|-----|-----|-----\n *         | Cmd | Opt | Arg\n * --------|-----|-----|-----\n *  arr    |     | ✓   | ✓\n *  req    |     | ✓   | ✓\n *  val    |     | ✓   | ✓\n *  def    |     | ✓   | ✓\n *  input  |     | ✓   | ✓\n *  output |     | ✓   | ✓\n *\n * @class CoaParam\n * @extends CoaObject\n */\n\n\nmodule.exports = class CoaParam extends CoaObject {\n  constructor(cmd) {\n    super(cmd);\n    this._arr = false;\n    this._req = false;\n    this._val = undefined;\n    this._def = undefined;\n  }\n  /**\n   * Makes a param accepts multiple values.\n   * Otherwise, the value will be used by the latter passed.\n   *\n   * @returns {COA.CoaParam} - this instance (for chainability)\n   */\n\n\n  arr() {\n    this._arr = true;\n    return this;\n  }\n  /**\n   * Makes a param required.\n   *\n   * @returns {COA.CoaParam} - this instance (for chainability)\n   */\n\n\n  req() {\n    this._req = true;\n    return this;\n  }\n  /**\n   * Set a validation (or value) function for param.\n   * Value from command line passes through before becoming available from API.\n   * Using for validation and convertion simple types to any values.\n   *\n   * @param {Function} val - validating function,\n   *         invoked in the context of option instance\n   *         and has one parameter with value from command line.\n   * @returns {COA.CoaParam} - this instance (for chainability)\n   */\n\n\n  val(val) {\n    this._val = val;\n    return this;\n  }\n  /**\n   * Set a default value for param.\n   * Default value passed through validation function as ordinary value.\n   *\n   * @param {*} def - default value of function generator\n   * @returns {COA.CoaParam} - this instance (for chainability)\n   */\n\n\n  def(def) {\n    this._def = def;\n    return this;\n  }\n  /**\n   * Make option value inputting stream.\n   * It's add useful validation and shortcut for STDIN.\n   *\n   * @returns {COA.CoaParam} - this instance (for chainability)\n   */\n\n\n  input() {\n    process.stdin.pause();\n    return this.def(process.stdin).val(function (v) {\n      if (typeof v !== 'string') return v;\n      if (v === '-') return process.stdin;\n      const s = fs.createReadStream(v, {\n        encoding: 'utf8'\n      });\n      s.pause();\n      return s;\n    });\n  }\n  /**\n   * Make option value outputing stream.\n   * It's add useful validation and shortcut for STDOUT.\n   *\n   * @returns {COA.CoaParam} - this instance (for chainability)\n   */\n\n\n  output() {\n    return this.def(process.stdout).val(function (v) {\n      if (typeof v !== 'string') return v;\n      if (v === '-') return process.stdout;\n      return fs.createWriteStream(v, {\n        encoding: 'utf8'\n      });\n    });\n  }\n\n};","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/coa/lib/coaparam.js"],"names":["fs","require","CoaObject","module","exports","CoaParam","constructor","cmd","_arr","_req","_val","undefined","_def","arr","req","val","def","input","process","stdin","pause","v","s","createReadStream","encoding","output","stdout","createWriteStream"],"mappings":"AAAA;;AAEA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AAEA,MAAMC,SAAS,GAAGD,OAAO,CAAC,aAAD,CAAzB;AAEA;;;;;;;;;;;;;;;;;;;;AAkBAE,MAAM,CAACC,OAAP,GAAiB,MAAMC,QAAN,SAAuBH,SAAvB,CAAiC;AAC9CI,EAAAA,WAAW,CAACC,GAAD,EAAM;AACb,UAAMA,GAAN;AAEA,SAAKC,IAAL,GAAY,KAAZ;AACA,SAAKC,IAAL,GAAY,KAAZ;AACA,SAAKC,IAAL,GAAYC,SAAZ;AACA,SAAKC,IAAL,GAAYD,SAAZ;AACH;AAED;;;;;;;;AAMAE,EAAAA,GAAG,GAAG;AACF,SAAKL,IAAL,GAAY,IAAZ;AACA,WAAO,IAAP;AACH;AAED;;;;;;;AAKAM,EAAAA,GAAG,GAAG;AACF,SAAKL,IAAL,GAAY,IAAZ;AACA,WAAO,IAAP;AACH;AAED;;;;;;;;;;;;AAUAM,EAAAA,GAAG,CAACA,GAAD,EAAM;AACL,SAAKL,IAAL,GAAYK,GAAZ;AACA,WAAO,IAAP;AACH;AAED;;;;;;;;;AAOAC,EAAAA,GAAG,CAACA,GAAD,EAAM;AACL,SAAKJ,IAAL,GAAYI,GAAZ;AACA,WAAO,IAAP;AACH;AAED;;;;;;;;AAMAC,EAAAA,KAAK,GAAG;AACJC,IAAAA,OAAO,CAACC,KAAR,CAAcC,KAAd;AACA,WAAO,KACFJ,GADE,CACEE,OAAO,CAACC,KADV,EAEFJ,GAFE,CAEE,UAASM,CAAT,EAAY;AACb,UAAG,OAAOA,CAAP,KAAa,QAAhB,EACI,OAAOA,CAAP;AAEJ,UAAGA,CAAC,KAAK,GAAT,EACI,OAAOH,OAAO,CAACC,KAAf;AAEJ,YAAMG,CAAC,GAAGtB,EAAE,CAACuB,gBAAH,CAAoBF,CAApB,EAAuB;AAAEG,QAAAA,QAAQ,EAAG;AAAb,OAAvB,CAAV;AACAF,MAAAA,CAAC,CAACF,KAAF;AACA,aAAOE,CAAP;AACH,KAZE,CAAP;AAaH;AAED;;;;;;;;AAMAG,EAAAA,MAAM,GAAG;AACL,WAAO,KACFT,GADE,CACEE,OAAO,CAACQ,MADV,EAEFX,GAFE,CAEE,UAASM,CAAT,EAAY;AACb,UAAG,OAAOA,CAAP,KAAa,QAAhB,EACI,OAAOA,CAAP;AAEJ,UAAGA,CAAC,KAAK,GAAT,EACI,OAAOH,OAAO,CAACQ,MAAf;AAEJ,aAAO1B,EAAE,CAAC2B,iBAAH,CAAqBN,CAArB,EAAwB;AAAEG,QAAAA,QAAQ,EAAG;AAAb,OAAxB,CAAP;AACH,KAVE,CAAP;AAWH;;AAnG6C,CAAlD","sourcesContent":["'use strict';\n\nconst fs = require('fs');\n\nconst CoaObject = require('./coaobject');\n\n/**\n * COA Parameter\n *\n * Base class for options and arguments\n *\n * --------|-----|-----|-----\n *         | Cmd | Opt | Arg\n * --------|-----|-----|-----\n *  arr    |     | ✓   | ✓\n *  req    |     | ✓   | ✓\n *  val    |     | ✓   | ✓\n *  def    |     | ✓   | ✓\n *  input  |     | ✓   | ✓\n *  output |     | ✓   | ✓\n *\n * @class CoaParam\n * @extends CoaObject\n */\nmodule.exports = class CoaParam extends CoaObject {\n    constructor(cmd) {\n        super(cmd);\n\n        this._arr = false;\n        this._req = false;\n        this._val = undefined;\n        this._def = undefined;\n    }\n\n    /**\n     * Makes a param accepts multiple values.\n     * Otherwise, the value will be used by the latter passed.\n     *\n     * @returns {COA.CoaParam} - this instance (for chainability)\n     */\n    arr() {\n        this._arr = true;\n        return this;\n    }\n\n    /**\n     * Makes a param required.\n     *\n     * @returns {COA.CoaParam} - this instance (for chainability)\n     */\n    req() {\n        this._req = true;\n        return this;\n    }\n\n    /**\n     * Set a validation (or value) function for param.\n     * Value from command line passes through before becoming available from API.\n     * Using for validation and convertion simple types to any values.\n     *\n     * @param {Function} val - validating function,\n     *         invoked in the context of option instance\n     *         and has one parameter with value from command line.\n     * @returns {COA.CoaParam} - this instance (for chainability)\n     */\n    val(val) {\n        this._val = val;\n        return this;\n    }\n\n    /**\n     * Set a default value for param.\n     * Default value passed through validation function as ordinary value.\n     *\n     * @param {*} def - default value of function generator\n     * @returns {COA.CoaParam} - this instance (for chainability)\n     */\n    def(def) {\n        this._def = def;\n        return this;\n    }\n\n    /**\n     * Make option value inputting stream.\n     * It's add useful validation and shortcut for STDIN.\n     *\n     * @returns {COA.CoaParam} - this instance (for chainability)\n     */\n    input() {\n        process.stdin.pause();\n        return this\n            .def(process.stdin)\n            .val(function(v) {\n                if(typeof v !== 'string')\n                    return v;\n\n                if(v === '-')\n                    return process.stdin;\n\n                const s = fs.createReadStream(v, { encoding : 'utf8' });\n                s.pause();\n                return s;\n            });\n    }\n\n    /**\n     * Make option value outputing stream.\n     * It's add useful validation and shortcut for STDOUT.\n     *\n     * @returns {COA.CoaParam} - this instance (for chainability)\n     */\n    output() {\n        return this\n            .def(process.stdout)\n            .val(function(v) {\n                if(typeof v !== 'string')\n                    return v;\n\n                if(v === '-')\n                    return process.stdout;\n\n                return fs.createWriteStream(v, { encoding : 'utf8' });\n            });\n    }\n};\n"]},"metadata":{},"sourceType":"script"}