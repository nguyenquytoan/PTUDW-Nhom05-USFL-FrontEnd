{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.default = void 0;\n\nfunction _v() {\n  const data = _interopRequireDefault(require('v8'));\n\n  _v = function _v() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _vm() {\n  const data = _interopRequireDefault(require('vm'));\n\n  _vm = function _vm() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _prettyFormat() {\n  const data = _interopRequireDefault(require('pretty-format'));\n\n  _prettyFormat = function _prettyFormat() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _jestGetType() {\n  const data = require('jest-get-type');\n\n  _jestGetType = function _jestGetType() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nclass _default {\n  constructor(value) {\n    _defineProperty(this, '_isReferenceBeingHeld', void 0);\n\n    if ((0, _jestGetType().isPrimitive)(value)) {\n      throw new TypeError(['Primitives cannot leak memory.', 'You passed a ' + typeof value + ': <' + (0, _prettyFormat().default)(value) + '>'].join(' '));\n    }\n\n    let weak;\n\n    try {\n      // eslint-disable-next-line import/no-extraneous-dependencies\n      weak = require('weak');\n    } catch (err) {\n      if (!err || err.code !== 'MODULE_NOT_FOUND') {\n        throw err;\n      }\n\n      throw new Error('The leaking detection mechanism requires the \"weak\" package to be installed and work. ' + 'Please install it as a dependency on your main project');\n    }\n\n    weak(value, () => this._isReferenceBeingHeld = false);\n    this._isReferenceBeingHeld = true; // Ensure value is not leaked by the closure created by the \"weak\" callback.\n\n    value = null;\n  }\n\n  isLeaking() {\n    this._runGarbageCollector();\n\n    return this._isReferenceBeingHeld;\n  }\n\n  _runGarbageCollector() {\n    const isGarbageCollectorHidden = !global.gc; // GC is usually hidden, so we have to expose it before running.\n\n    _v().default.setFlagsFromString('--expose-gc');\n\n    _vm().default.runInNewContext('gc')(); // The GC was not initially exposed, so let's hide it again.\n\n\n    if (isGarbageCollectorHidden) {\n      _v().default.setFlagsFromString('--no-expose-gc');\n    }\n  }\n\n}\n\nexports.default = _default;","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/jest-leak-detector/build/index.js"],"names":["Object","defineProperty","exports","value","default","_v","data","_interopRequireDefault","require","_vm","_prettyFormat","_jestGetType","obj","__esModule","_defineProperty","key","enumerable","configurable","writable","_default","constructor","isPrimitive","TypeError","join","weak","err","code","Error","_isReferenceBeingHeld","isLeaking","_runGarbageCollector","isGarbageCollectorHidden","global","gc","setFlagsFromString","runInNewContext"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.default = void 0;\n\nfunction _v() {\n  const data = _interopRequireDefault(require('v8'));\n\n  _v = function _v() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _vm() {\n  const data = _interopRequireDefault(require('vm'));\n\n  _vm = function _vm() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _prettyFormat() {\n  const data = _interopRequireDefault(require('pretty-format'));\n\n  _prettyFormat = function _prettyFormat() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _jestGetType() {\n  const data = require('jest-get-type');\n\n  _jestGetType = function _jestGetType() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {default: obj};\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nclass _default {\n  constructor(value) {\n    _defineProperty(this, '_isReferenceBeingHeld', void 0);\n\n    if ((0, _jestGetType().isPrimitive)(value)) {\n      throw new TypeError(\n        [\n          'Primitives cannot leak memory.',\n          'You passed a ' +\n            typeof value +\n            ': <' +\n            (0, _prettyFormat().default)(value) +\n            '>'\n        ].join(' ')\n      );\n    }\n\n    let weak;\n\n    try {\n      // eslint-disable-next-line import/no-extraneous-dependencies\n      weak = require('weak');\n    } catch (err) {\n      if (!err || err.code !== 'MODULE_NOT_FOUND') {\n        throw err;\n      }\n\n      throw new Error(\n        'The leaking detection mechanism requires the \"weak\" package to be installed and work. ' +\n          'Please install it as a dependency on your main project'\n      );\n    }\n\n    weak(value, () => (this._isReferenceBeingHeld = false));\n    this._isReferenceBeingHeld = true; // Ensure value is not leaked by the closure created by the \"weak\" callback.\n\n    value = null;\n  }\n\n  isLeaking() {\n    this._runGarbageCollector();\n\n    return this._isReferenceBeingHeld;\n  }\n\n  _runGarbageCollector() {\n    const isGarbageCollectorHidden = !global.gc; // GC is usually hidden, so we have to expose it before running.\n\n    _v().default.setFlagsFromString('--expose-gc');\n\n    _vm().default.runInNewContext('gc')(); // The GC was not initially exposed, so let's hide it again.\n\n    if (isGarbageCollectorHidden) {\n      _v().default.setFlagsFromString('--no-expose-gc');\n    }\n  }\n}\n\nexports.default = _default;\n"]},"metadata":{},"sourceType":"script"}