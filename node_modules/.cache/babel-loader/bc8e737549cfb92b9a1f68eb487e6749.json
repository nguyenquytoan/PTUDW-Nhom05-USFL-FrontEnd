{"ast":null,"code":"var generate = require('css-tree').generate;\n\nvar specificity = require('./specificity');\n\nvar nonFreezePseudoElements = {\n  'first-letter': true,\n  'first-line': true,\n  'after': true,\n  'before': true\n};\nvar nonFreezePseudoClasses = {\n  'link': true,\n  'visited': true,\n  'hover': true,\n  'active': true,\n  'first-letter': true,\n  'first-line': true,\n  'after': true,\n  'before': true\n};\n\nmodule.exports = function freeze(node, usageData) {\n  var pseudos = Object.create(null);\n  var hasPseudo = false;\n  node.prelude.children.each(function (simpleSelector) {\n    var tagName = '*';\n    var scope = 0;\n    simpleSelector.children.each(function (node) {\n      switch (node.type) {\n        case 'ClassSelector':\n          if (usageData && usageData.scopes) {\n            var classScope = usageData.scopes[node.name] || 0;\n\n            if (scope !== 0 && classScope !== scope) {\n              throw new Error('Selector can\\'t has classes from different scopes: ' + generate(simpleSelector));\n            }\n\n            scope = classScope;\n          }\n\n          break;\n\n        case 'PseudoClassSelector':\n          var name = node.name.toLowerCase();\n\n          if (!nonFreezePseudoClasses.hasOwnProperty(name)) {\n            pseudos[name] = true;\n            hasPseudo = true;\n          }\n\n          break;\n\n        case 'PseudoElementSelector':\n          var name = node.name.toLowerCase();\n\n          if (!nonFreezePseudoElements.hasOwnProperty(name)) {\n            pseudos[name] = true;\n            hasPseudo = true;\n          }\n\n          break;\n\n        case 'TypeSelector':\n          tagName = node.name.toLowerCase();\n          break;\n\n        case 'AttributeSelector':\n          if (node.flags) {\n            pseudos['[' + node.flags.toLowerCase() + ']'] = true;\n            hasPseudo = true;\n          }\n\n          break;\n\n        case 'WhiteSpace':\n        case 'Combinator':\n          tagName = '*';\n          break;\n      }\n    });\n    simpleSelector.compareMarker = specificity(simpleSelector).toString();\n    simpleSelector.id = null; // pre-init property to avoid multiple hidden class\n\n    simpleSelector.id = generate(simpleSelector);\n\n    if (scope) {\n      simpleSelector.compareMarker += ':' + scope;\n    }\n\n    if (tagName !== '*') {\n      simpleSelector.compareMarker += ',' + tagName;\n    }\n  }); // add property to all rule nodes to avoid multiple hidden class\n\n  node.pseudoSignature = hasPseudo && Object.keys(pseudos).sort().join(',');\n};","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/csso/lib/restructure/prepare/processSelector.js"],"names":["generate","require","specificity","nonFreezePseudoElements","nonFreezePseudoClasses","module","exports","freeze","node","usageData","pseudos","Object","create","hasPseudo","prelude","children","each","simpleSelector","tagName","scope","type","scopes","classScope","name","Error","toLowerCase","hasOwnProperty","flags","compareMarker","toString","id","pseudoSignature","keys","sort","join"],"mappings":"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","sourcesContent":["var generate = require('css-tree').generate;\nvar specificity = require('./specificity');\n\nvar nonFreezePseudoElements = {\n    'first-letter': true,\n    'first-line': true,\n    'after': true,\n    'before': true\n};\nvar nonFreezePseudoClasses = {\n    'link': true,\n    'visited': true,\n    'hover': true,\n    'active': true,\n    'first-letter': true,\n    'first-line': true,\n    'after': true,\n    'before': true\n};\n\nmodule.exports = function freeze(node, usageData) {\n    var pseudos = Object.create(null);\n    var hasPseudo = false;\n\n    node.prelude.children.each(function(simpleSelector) {\n        var tagName = '*';\n        var scope = 0;\n\n        simpleSelector.children.each(function(node) {\n            switch (node.type) {\n                case 'ClassSelector':\n                    if (usageData && usageData.scopes) {\n                        var classScope = usageData.scopes[node.name] || 0;\n\n                        if (scope !== 0 && classScope !== scope) {\n                            throw new Error('Selector can\\'t has classes from different scopes: ' + generate(simpleSelector));\n                        }\n\n                        scope = classScope;\n                    }\n                    break;\n\n                case 'PseudoClassSelector':\n                    var name = node.name.toLowerCase();\n\n                    if (!nonFreezePseudoClasses.hasOwnProperty(name)) {\n                        pseudos[name] = true;\n                        hasPseudo = true;\n                    }\n                    break;\n\n                case 'PseudoElementSelector':\n                    var name = node.name.toLowerCase();\n\n                    if (!nonFreezePseudoElements.hasOwnProperty(name)) {\n                        pseudos[name] = true;\n                        hasPseudo = true;\n                    }\n                    break;\n\n                case 'TypeSelector':\n                    tagName = node.name.toLowerCase();\n                    break;\n\n                case 'AttributeSelector':\n                    if (node.flags) {\n                        pseudos['[' + node.flags.toLowerCase() + ']'] = true;\n                        hasPseudo = true;\n                    }\n                    break;\n\n                case 'WhiteSpace':\n                case 'Combinator':\n                    tagName = '*';\n                    break;\n            }\n        });\n\n        simpleSelector.compareMarker = specificity(simpleSelector).toString();\n        simpleSelector.id = null; // pre-init property to avoid multiple hidden class\n        simpleSelector.id = generate(simpleSelector);\n\n        if (scope) {\n            simpleSelector.compareMarker += ':' + scope;\n        }\n\n        if (tagName !== '*') {\n            simpleSelector.compareMarker += ',' + tagName;\n        }\n    });\n\n    // add property to all rule nodes to avoid multiple hidden class\n    node.pseudoSignature = hasPseudo && Object.keys(pseudos).sort().join(',');\n};\n"]},"metadata":{},"sourceType":"script"}