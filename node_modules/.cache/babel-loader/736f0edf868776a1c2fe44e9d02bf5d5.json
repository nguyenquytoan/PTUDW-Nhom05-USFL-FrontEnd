{"ast":null,"code":"import { config } from './config';\nimport instrument from './instrument';\nimport { noop, subscribe, FULFILLED, REJECTED, PENDING, invokeCallback } from './-internal';\nexport default function then(onFulfillment, onRejection, label) {\n  let parent = this;\n  let state = parent._state;\n\n  if (state === FULFILLED && !onFulfillment || state === REJECTED && !onRejection) {\n    config.instrument && instrument('chained', parent, parent);\n    return parent;\n  }\n\n  parent._onError = null;\n  let child = new parent.constructor(noop, label);\n  let result = parent._result;\n  config.instrument && instrument('chained', parent, child);\n\n  if (state === PENDING) {\n    subscribe(parent, child, onFulfillment, onRejection);\n  } else {\n    let callback = state === FULFILLED ? onFulfillment : onRejection;\n    config.async(() => invokeCallback(state, child, callback, result));\n  }\n\n  return child;\n}","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/rsvp/lib/rsvp/then.js"],"names":["config","instrument","noop","subscribe","FULFILLED","REJECTED","PENDING","invokeCallback","then","onFulfillment","onRejection","label","parent","state","_state","_onError","child","constructor","result","_result","callback","async"],"mappings":"AAAA,SAASA,MAAT,QAAuB,UAAvB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,SACEC,IADF,EAEEC,SAFF,EAGEC,SAHF,EAIEC,QAJF,EAKEC,OALF,EAMEC,cANF,QAOO,aAPP;AASA,eAAe,SAASC,IAAT,CAAcC,aAAd,EAA6BC,WAA7B,EAA0CC,KAA1C,EAAiD;AAC9D,MAAIC,MAAM,GAAG,IAAb;AACA,MAAIC,KAAK,GAAGD,MAAM,CAACE,MAAnB;;AAEA,MAAID,KAAK,KAAKT,SAAV,IAAuB,CAACK,aAAxB,IAAyCI,KAAK,KAAKR,QAAV,IAAsB,CAACK,WAApE,EAAiF;AAC/EV,IAAAA,MAAM,CAACC,UAAP,IAAqBA,UAAU,CAAC,SAAD,EAAYW,MAAZ,EAAoBA,MAApB,CAA/B;AACA,WAAOA,MAAP;AACD;;AAEDA,EAAAA,MAAM,CAACG,QAAP,GAAkB,IAAlB;AAEA,MAAIC,KAAK,GAAG,IAAIJ,MAAM,CAACK,WAAX,CAAuBf,IAAvB,EAA6BS,KAA7B,CAAZ;AACA,MAAIO,MAAM,GAAGN,MAAM,CAACO,OAApB;AAEAnB,EAAAA,MAAM,CAACC,UAAP,IAAqBA,UAAU,CAAC,SAAD,EAAYW,MAAZ,EAAoBI,KAApB,CAA/B;;AAEA,MAAIH,KAAK,KAAKP,OAAd,EAAuB;AACrBH,IAAAA,SAAS,CAACS,MAAD,EAASI,KAAT,EAAgBP,aAAhB,EAA+BC,WAA/B,CAAT;AACD,GAFD,MAEO;AACL,QAAIU,QAAQ,GAAGP,KAAK,KAAKT,SAAV,GAAsBK,aAAtB,GAAsCC,WAArD;AACAV,IAAAA,MAAM,CAACqB,KAAP,CAAa,MAAMd,cAAc,CAACM,KAAD,EAAQG,KAAR,EAAeI,QAAf,EAAyBF,MAAzB,CAAjC;AACD;;AAED,SAAOF,KAAP;AACD","sourcesContent":["import { config } from './config';\nimport instrument from './instrument';\nimport {\n  noop,\n  subscribe,\n  FULFILLED,\n  REJECTED,\n  PENDING,\n  invokeCallback\n} from './-internal';\n\nexport default function then(onFulfillment, onRejection, label) {\n  let parent = this;\n  let state = parent._state;\n\n  if (state === FULFILLED && !onFulfillment || state === REJECTED && !onRejection) {\n    config.instrument && instrument('chained', parent, parent);\n    return parent;\n  }\n\n  parent._onError = null;\n\n  let child = new parent.constructor(noop, label);\n  let result = parent._result;\n\n  config.instrument && instrument('chained', parent, child);\n\n  if (state === PENDING) {\n    subscribe(parent, child, onFulfillment, onRejection);\n  } else {\n    let callback = state === FULFILLED ? onFulfillment : onRejection;\n    config.async(() => invokeCallback(state, child, callback, result));\n  }\n\n  return child;\n}\n"]},"metadata":{},"sourceType":"module"}