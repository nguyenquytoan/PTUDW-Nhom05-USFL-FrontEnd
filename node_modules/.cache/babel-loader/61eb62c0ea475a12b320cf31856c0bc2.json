{"ast":null,"code":"var Buffer = require('buffer').Buffer;\n\nvar fs = require('fs');\n\nvar test = require('tape');\n\nvar http = require('../..');\n\nvar reference = fs.readFileSync(__dirname + '/../server/static/basic.txt');\ntest('post text', function (t) {\n  var req = http.request({\n    path: '/echo',\n    method: 'POST'\n  }, function (res) {\n    var buffers = [];\n    res.on('end', function () {\n      t.ok(reference.equals(Buffer.concat(buffers)), 'echoed contents match');\n      t.end();\n    });\n    res.on('data', function (data) {\n      buffers.push(data);\n    });\n  });\n  req.write(reference);\n  req.end();\n});\ntest('post text with data in end()', function (t) {\n  var req = http.request({\n    path: '/echo',\n    method: 'POST'\n  }, function (res) {\n    var buffers = [];\n    res.on('end', function () {\n      t.ok(reference.equals(Buffer.concat(buffers)), 'echoed contents match');\n      t.end();\n    });\n    res.on('data', function (data) {\n      buffers.push(data);\n    });\n  });\n  req.end(reference);\n});","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/stream-http/test/browser/post-text.js"],"names":["Buffer","require","fs","test","http","reference","readFileSync","__dirname","t","req","request","path","method","res","buffers","on","ok","equals","concat","end","data","push","write"],"mappings":"AAAA,IAAIA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAP,CAAkBD,MAA/B;;AACA,IAAIE,EAAE,GAAGD,OAAO,CAAC,IAAD,CAAhB;;AACA,IAAIE,IAAI,GAAGF,OAAO,CAAC,MAAD,CAAlB;;AAEA,IAAIG,IAAI,GAAGH,OAAO,CAAC,OAAD,CAAlB;;AAEA,IAAII,SAAS,GAAGH,EAAE,CAACI,YAAH,CAAgBC,SAAS,GAAG,6BAA5B,CAAhB;AAEAJ,IAAI,CAAC,WAAD,EAAc,UAAUK,CAAV,EAAa;AAC9B,MAAIC,GAAG,GAAGL,IAAI,CAACM,OAAL,CAAa;AACtBC,IAAAA,IAAI,EAAE,OADgB;AAEtBC,IAAAA,MAAM,EAAE;AAFc,GAAb,EAGP,UAAUC,GAAV,EAAe;AACjB,QAAIC,OAAO,GAAG,EAAd;AAEAD,IAAAA,GAAG,CAACE,EAAJ,CAAO,KAAP,EAAc,YAAY;AACzBP,MAAAA,CAAC,CAACQ,EAAF,CAAKX,SAAS,CAACY,MAAV,CAAiBjB,MAAM,CAACkB,MAAP,CAAcJ,OAAd,CAAjB,CAAL,EAA+C,uBAA/C;AACAN,MAAAA,CAAC,CAACW,GAAF;AACA,KAHD;AAKAN,IAAAA,GAAG,CAACE,EAAJ,CAAO,MAAP,EAAe,UAAUK,IAAV,EAAgB;AAC9BN,MAAAA,OAAO,CAACO,IAAR,CAAaD,IAAb;AACA,KAFD;AAGA,GAdS,CAAV;AAgBAX,EAAAA,GAAG,CAACa,KAAJ,CAAUjB,SAAV;AACAI,EAAAA,GAAG,CAACU,GAAJ;AACA,CAnBG,CAAJ;AAqBAhB,IAAI,CAAC,8BAAD,EAAiC,UAAUK,CAAV,EAAa;AACjD,MAAIC,GAAG,GAAGL,IAAI,CAACM,OAAL,CAAa;AACtBC,IAAAA,IAAI,EAAE,OADgB;AAEtBC,IAAAA,MAAM,EAAE;AAFc,GAAb,EAGP,UAAUC,GAAV,EAAe;AACjB,QAAIC,OAAO,GAAG,EAAd;AAEAD,IAAAA,GAAG,CAACE,EAAJ,CAAO,KAAP,EAAc,YAAY;AACzBP,MAAAA,CAAC,CAACQ,EAAF,CAAKX,SAAS,CAACY,MAAV,CAAiBjB,MAAM,CAACkB,MAAP,CAAcJ,OAAd,CAAjB,CAAL,EAA+C,uBAA/C;AACAN,MAAAA,CAAC,CAACW,GAAF;AACA,KAHD;AAKAN,IAAAA,GAAG,CAACE,EAAJ,CAAO,MAAP,EAAe,UAAUK,IAAV,EAAgB;AAC9BN,MAAAA,OAAO,CAACO,IAAR,CAAaD,IAAb;AACA,KAFD;AAGA,GAdS,CAAV;AAgBAX,EAAAA,GAAG,CAACU,GAAJ,CAAQd,SAAR;AACA,CAlBG,CAAJ","sourcesContent":["var Buffer = require('buffer').Buffer\nvar fs = require('fs')\nvar test = require('tape')\n\nvar http = require('../..')\n\nvar reference = fs.readFileSync(__dirname + '/../server/static/basic.txt')\n\ntest('post text', function (t) {\n\tvar req = http.request({\n\t\tpath: '/echo',\n\t\tmethod: 'POST'\n\t}, function (res) {\n\t\tvar buffers = []\n\n\t\tres.on('end', function () {\n\t\t\tt.ok(reference.equals(Buffer.concat(buffers)), 'echoed contents match')\n\t\t\tt.end()\n\t\t})\n\n\t\tres.on('data', function (data) {\n\t\t\tbuffers.push(data)\n\t\t})\n\t})\n\n\treq.write(reference)\n\treq.end()\n})\n\ntest('post text with data in end()', function (t) {\n\tvar req = http.request({\n\t\tpath: '/echo',\n\t\tmethod: 'POST'\n\t}, function (res) {\n\t\tvar buffers = []\n\n\t\tres.on('end', function () {\n\t\t\tt.ok(reference.equals(Buffer.concat(buffers)), 'echoed contents match')\n\t\t\tt.end()\n\t\t})\n\n\t\tres.on('data', function (data) {\n\t\t\tbuffers.push(data)\n\t\t})\n\t})\n\n\treq.end(reference)\n})"]},"metadata":{},"sourceType":"script"}