{"ast":null,"code":"'use strict';\n\nconst fs = require('fs');\n\nconst stream = require('stream');\n\nconst zlib = require('zlib');\n\nconst duplexer = require('duplexer');\n\nconst pify = require('pify');\n\nconst getOptions = options => Object.assign({\n  level: 9\n}, options);\n\nmodule.exports = (input, options) => {\n  if (!input) {\n    return Promise.resolve(0);\n  }\n\n  return pify(zlib.gzip)(input, getOptions(options)).then(data => data.length).catch(_ => 0);\n};\n\nmodule.exports.sync = (input, options) => zlib.gzipSync(input, getOptions(options)).length;\n\nmodule.exports.stream = options => {\n  const input = new stream.PassThrough();\n  const output = new stream.PassThrough();\n  const wrapper = duplexer(input, output);\n  let gzipSize = 0;\n  const gzip = zlib.createGzip(getOptions(options)).on('data', buf => {\n    gzipSize += buf.length;\n  }).on('error', () => {\n    wrapper.gzipSize = 0;\n  }).on('end', () => {\n    wrapper.gzipSize = gzipSize;\n    wrapper.emit('gzip-size', gzipSize);\n    output.end();\n  });\n  input.pipe(gzip);\n  input.pipe(output, {\n    end: false\n  });\n  return wrapper;\n};\n\nmodule.exports.file = (path, options) => {\n  return new Promise((resolve, reject) => {\n    const stream = fs.createReadStream(path);\n    stream.on('error', reject);\n    const gzipStream = stream.pipe(module.exports.stream(options));\n    gzipStream.on('error', reject);\n    gzipStream.on('gzip-size', resolve);\n  });\n};\n\nmodule.exports.fileSync = (path, options) => module.exports.sync(fs.readFileSync(path), options);","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/gzip-size/index.js"],"names":["fs","require","stream","zlib","duplexer","pify","getOptions","options","Object","assign","level","module","exports","input","Promise","resolve","gzip","then","data","length","catch","_","sync","gzipSync","PassThrough","output","wrapper","gzipSize","createGzip","on","buf","emit","end","pipe","file","path","reject","createReadStream","gzipStream","fileSync","readFileSync"],"mappings":"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","sourcesContent":["'use strict';\nconst fs = require('fs');\nconst stream = require('stream');\nconst zlib = require('zlib');\nconst duplexer = require('duplexer');\nconst pify = require('pify');\n\nconst getOptions = options => Object.assign({level: 9}, options);\n\nmodule.exports = (input, options) => {\n\tif (!input) {\n\t\treturn Promise.resolve(0);\n\t}\n\n\treturn pify(zlib.gzip)(input, getOptions(options)).then(data => data.length).catch(_ => 0);\n};\n\nmodule.exports.sync = (input, options) => zlib.gzipSync(input, getOptions(options)).length;\n\nmodule.exports.stream = options => {\n\tconst input = new stream.PassThrough();\n\tconst output = new stream.PassThrough();\n\tconst wrapper = duplexer(input, output);\n\n\tlet gzipSize = 0;\n\tconst gzip = zlib.createGzip(getOptions(options))\n\t\t.on('data', buf => {\n\t\t\tgzipSize += buf.length;\n\t\t})\n\t\t.on('error', () => {\n\t\t\twrapper.gzipSize = 0;\n\t\t})\n\t\t.on('end', () => {\n\t\t\twrapper.gzipSize = gzipSize;\n\t\t\twrapper.emit('gzip-size', gzipSize);\n\t\t\toutput.end();\n\t\t});\n\n\tinput.pipe(gzip);\n\tinput.pipe(output, {end: false});\n\n\treturn wrapper;\n};\n\nmodule.exports.file = (path, options) => {\n\treturn new Promise((resolve, reject) => {\n\t\tconst stream = fs.createReadStream(path);\n\t\tstream.on('error', reject);\n\n\t\tconst gzipStream = stream.pipe(module.exports.stream(options));\n\t\tgzipStream.on('error', reject);\n\t\tgzipStream.on('gzip-size', resolve);\n\t});\n};\n\nmodule.exports.fileSync = (path, options) => module.exports.sync(fs.readFileSync(path), options);\n"]},"metadata":{},"sourceType":"script"}