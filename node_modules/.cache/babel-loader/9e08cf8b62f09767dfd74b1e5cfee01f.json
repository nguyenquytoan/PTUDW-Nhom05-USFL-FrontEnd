{"ast":null,"code":"/*! @author Toru Nagashima <https://github.com/mysticatea> */\nvar ast = /*#__PURE__*/Object.freeze({});\nlet largeIdStartRanges = undefined;\nlet largeIdContinueRanges = undefined;\n\nfunction isIdStart(cp) {\n  if (cp < 0x41) return false;\n  if (cp < 0x5b) return true;\n  if (cp < 0x61) return false;\n  if (cp < 0x7b) return true;\n  return isLargeIdStart(cp);\n}\n\nfunction isIdContinue(cp) {\n  if (cp < 0x30) return false;\n  if (cp < 0x3a) return true;\n  if (cp < 0x41) return false;\n  if (cp < 0x5b) return true;\n  if (cp === 0x5f) return true;\n  if (cp < 0x61) return false;\n  if (cp < 0x7b) return true;\n  return isLargeIdStart(cp) || isLargeIdContinue(cp);\n}\n\nfunction isLargeIdStart(cp) {\n  return isInRange(cp, largeIdStartRanges || (largeIdStartRanges = initLargeIdStartRanges()));\n}\n\nfunction isLargeIdContinue(cp) {\n  return isInRange(cp, largeIdContinueRanges || (largeIdContinueRanges = initLargeIdContinueRanges()));\n}\n\nfunction initLargeIdStartRanges() {\n  return restoreRanges(\"170 0 11 0 5 0 6 22 2 30 2 457 5 11 15 4 8 0 2 0 130 4 2 1 3 3 2 0 7 0 2 2 2 0 2 19 2 82 2 138 9 165 2 37 3 0 7 40 72 26 5 3 46 42 36 1 2 98 2 0 16 1 8 1 11 2 3 0 17 0 2 29 30 88 12 0 25 32 10 1 5 0 6 21 5 0 10 0 4 0 24 24 8 10 54 20 2 17 61 53 4 0 19 0 8 9 16 15 5 7 3 1 3 21 2 6 2 0 4 3 4 0 17 0 14 1 2 2 15 1 11 0 9 5 5 1 3 21 2 6 2 1 2 1 2 1 32 3 2 0 20 2 17 8 2 2 2 21 2 6 2 1 2 4 4 0 19 0 16 1 24 0 12 7 3 1 3 21 2 6 2 1 2 4 4 0 31 1 2 2 16 0 18 0 2 5 4 2 2 3 4 1 2 0 2 1 4 1 4 2 4 11 23 0 53 7 2 2 2 22 2 15 4 0 27 2 6 1 31 0 5 7 2 2 2 22 2 9 2 4 4 0 33 0 2 1 16 1 18 8 2 2 2 40 3 0 17 0 6 2 9 2 25 5 6 17 4 23 2 8 2 0 3 6 59 47 2 1 13 6 59 1 2 0 2 4 2 23 2 0 2 9 2 1 10 0 3 4 2 0 22 3 33 0 64 7 2 35 28 4 116 42 21 0 17 5 5 3 4 0 4 1 8 2 5 12 13 0 18 37 2 0 6 0 3 42 2 332 2 3 3 6 2 0 2 3 3 40 2 3 3 32 2 3 3 6 2 0 2 3 3 14 2 56 2 3 3 66 38 15 17 85 3 5 4 619 3 16 2 25 6 74 4 10 8 12 2 3 15 17 15 17 15 12 2 2 16 51 36 0 5 0 68 88 8 40 2 0 6 69 11 30 50 29 3 4 12 43 5 25 55 22 10 52 83 0 94 46 18 6 56 29 14 1 11 43 27 35 42 2 11 35 3 8 8 42 3 2 42 3 2 5 2 1 4 0 6 191 65 277 3 5 3 37 3 5 3 7 2 0 2 0 2 0 2 30 3 52 2 6 2 0 4 2 2 6 4 3 3 5 5 12 6 2 2 6 117 0 14 0 17 12 102 0 5 0 3 9 2 0 3 5 7 0 2 0 2 0 2 15 3 3 6 4 5 0 18 40 2680 46 2 46 2 132 7 3 4 1 13 37 2 0 6 0 3 55 8 0 17 22 10 6 2 6 2 6 2 6 2 6 2 6 2 6 2 6 551 2 26 8 8 4 3 4 5 85 5 4 2 89 2 3 6 42 2 93 18 31 49 15 513 6591 65 20988 4 1164 68 45 3 268 4 15 11 1 21 46 17 30 3 79 40 8 3 102 3 52 3 8 43 12 2 2 2 3 2 22 30 51 15 49 63 5 4 0 2 1 12 27 11 22 26 28 8 46 29 0 17 4 2 9 11 4 2 40 24 2 2 7 21 22 4 0 4 49 2 0 4 1 3 4 3 0 2 0 25 2 3 10 8 2 13 5 3 5 3 5 10 6 2 6 2 42 2 13 7 114 30 11171 13 22 5 48 8453 365 3 105 39 6 13 4 6 0 2 9 2 12 2 4 2 0 2 1 2 1 2 107 34 362 19 63 3 53 41 11 117 4 2 134 37 25 7 25 12 88 4 5 3 5 3 5 3 2 36 11 2 25 2 18 2 1 2 14 3 13 35 122 70 52 268 28 4 48 48 31 14 29 6 37 11 29 3 35 5 7 2 4 43 157 19 35 5 35 5 39 9 51 157 310 10 21 11 7 153 5 3 0 2 43 2 1 4 0 3 22 11 22 10 30 66 18 2 1 11 21 11 25 71 55 7 1 65 0 16 3 2 2 2 28 43 28 4 28 36 7 2 27 28 53 11 21 11 18 14 17 111 72 56 50 14 50 14 35 349 41 7 1 79 28 11 0 9 21 107 20 28 22 13 52 76 44 33 24 27 35 30 0 3 0 9 34 4 0 13 47 15 3 22 0 2 0 36 17 2 24 85 6 2 0 2 3 2 14 2 9 8 46 39 7 3 1 3 21 2 6 2 1 2 4 4 0 19 0 13 4 159 52 19 3 21 2 31 47 21 1 2 0 185 46 42 3 37 47 21 0 60 42 14 0 72 26 230 43 117 63 32 7 3 0 3 7 2 1 2 23 16 0 2 0 95 7 3 38 17 0 2 0 29 0 11 39 8 0 22 0 12 45 20 0 35 56 264 8 2 36 18 0 50 29 113 6 2 1 2 37 22 0 26 5 2 1 2 31 15 0 328 18 190 0 80 921 103 110 18 195 2749 1070 4050 582 8634 568 8 30 114 29 19 47 17 3 32 20 6 18 689 63 129 74 6 0 67 12 65 1 2 0 29 6135 9 1237 43 8 8952 286 50 2 18 3 9 395 2309 106 6 12 4 8 8 9 5991 84 2 70 2 1 3 0 3 1 3 3 2 11 2 0 2 6 2 64 2 3 3 7 2 6 2 27 2 3 2 4 2 0 4 6 2 339 3 24 2 24 2 30 2 24 2 30 2 24 2 30 2 24 2 30 2 24 2 7 2357 44 11 6 17 0 370 43 1301 196 60 67 8 0 1205 3 2 26 2 1 2 0 3 0 2 9 2 3 2 0 2 0 7 0 5 0 2 0 2 0 2 2 2 1 2 0 3 0 2 0 2 0 2 0 2 0 2 1 2 0 3 3 2 6 2 3 2 3 2 0 2 9 2 16 6 2 2 4 2 16 4421 42717 35 4148 12 221 3 5761 15 7472 3104 541 1507 4938\");\n}\n\nfunction initLargeIdContinueRanges() {\n  return restoreRanges(\"183 0 585 111 24 0 252 4 266 44 2 0 2 1 2 1 2 0 73 10 49 30 7 0 102 6 3 5 3 1 2 3 3 9 24 0 31 26 92 10 16 9 34 8 10 0 25 3 2 8 2 2 2 4 44 2 120 14 2 32 55 2 2 17 2 6 11 1 3 9 18 2 57 0 2 6 3 1 3 2 10 0 11 1 3 9 15 0 3 2 57 0 2 4 5 1 3 2 4 0 21 11 4 0 12 2 57 0 2 7 2 2 2 2 21 1 3 9 11 5 2 2 57 0 2 6 3 1 3 2 8 2 11 1 3 9 19 0 60 4 4 2 2 3 10 0 15 9 17 4 58 6 2 2 2 3 8 1 12 1 3 9 18 2 57 0 2 6 2 2 2 3 8 1 12 1 3 9 17 3 56 1 2 6 2 2 2 3 10 0 11 1 3 9 18 2 71 0 5 5 2 0 2 7 7 9 3 1 62 0 3 6 13 7 2 9 88 0 3 8 12 5 3 9 63 1 7 9 12 0 2 0 2 0 5 1 50 19 2 1 6 10 2 35 10 0 101 19 2 9 13 3 5 2 2 2 3 6 4 3 14 11 2 14 704 2 10 8 929 2 30 2 30 1 31 1 65 31 10 0 3 9 34 2 3 9 144 0 119 11 5 11 11 9 129 10 61 4 58 9 2 28 3 10 7 9 23 13 2 1 64 4 48 16 12 9 18 8 13 2 31 12 3 9 45 13 49 19 9 9 7 9 119 2 2 20 5 0 7 0 3 2 199 57 2 4 576 1 20 0 124 12 5 0 4 11 3071 2 142 0 97 31 555 5 106 1 30086 9 70 0 5 9 33 1 81 1 273 0 4 0 5 0 24 4 5 0 84 1 51 17 11 9 7 17 14 10 29 7 26 12 45 3 48 13 16 9 12 0 11 9 48 13 13 0 9 1 3 9 34 2 51 0 2 2 3 1 6 1 2 0 42 4 6 1 237 7 2 1 3 9 20261 0 738 15 17 15 4 1 25 2 193 9 38 0 702 0 227 0 150 4 294 9 1368 2 2 1 6 3 41 2 5 0 166 1 574 3 9 9 370 1 154 10 176 2 54 14 32 9 16 3 46 10 54 9 7 2 37 13 2 9 6 1 45 0 13 2 49 13 9 3 2 11 83 11 7 0 161 11 6 9 7 3 56 1 2 6 3 1 3 2 10 0 11 1 3 6 4 4 193 17 10 9 5 0 82 19 13 9 214 6 3 8 28 1 83 16 16 9 82 12 9 9 84 14 5 9 243 14 166 9 71 5 2 1 3 3 2 0 2 1 13 9 120 6 3 6 4 0 29 9 41 6 2 3 9 0 10 10 47 15 406 7 2 7 17 9 57 21 2 13 123 5 4 0 2 1 2 6 2 0 9 9 49 4 2 1 2 4 9 9 330 3 19306 9 135 4 60 6 26 9 1014 0 2 54 8 3 82 0 12 1 19628 1 5319 4 4 5 9 7 3 6 31 3 149 2 1418 49 513 54 5 49 9 0 15 0 23 4 2 14 1361 6 2 16 3 6 2 1 2 4 262 6 10 9 419 13 1495 6 110 6 6 9 4759 9 787719 239\");\n}\n\nfunction isInRange(cp, ranges) {\n  let l = 0,\n      r = ranges.length / 2 | 0,\n      i = 0,\n      min = 0,\n      max = 0;\n\n  while (l < r) {\n    i = (l + r) / 2 | 0;\n    min = ranges[2 * i];\n    max = ranges[2 * i + 1];\n\n    if (cp < min) {\n      r = i;\n    } else if (cp > max) {\n      l = i + 1;\n    } else {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction restoreRanges(data) {\n  let last = 0;\n  return data.split(\" \").map(s => last += parseInt(s, 10) | 0);\n}\n\nclass DataSet {\n  constructor(raw2018, raw2019, raw2020) {\n    this._raw2018 = raw2018;\n    this._raw2019 = raw2019;\n    this._raw2020 = raw2020;\n  }\n\n  get es2018() {\n    return this._set2018 || (this._set2018 = new Set(this._raw2018.split(\" \")));\n  }\n\n  get es2019() {\n    return this._set2019 || (this._set2019 = new Set(this._raw2019.split(\" \")));\n  }\n\n  get es2020() {\n    return this._set2020 || (this._set2020 = new Set(this._raw2020.split(\" \")));\n  }\n\n}\n\nconst gcNameSet = new Set([\"General_Category\", \"gc\"]);\nconst scNameSet = new Set([\"Script\", \"Script_Extensions\", \"sc\", \"scx\"]);\nconst gcValueSets = new DataSet(\"C Cased_Letter Cc Cf Close_Punctuation Cn Co Combining_Mark Connector_Punctuation Control Cs Currency_Symbol Dash_Punctuation Decimal_Number Enclosing_Mark Final_Punctuation Format Initial_Punctuation L LC Letter Letter_Number Line_Separator Ll Lm Lo Lowercase_Letter Lt Lu M Mark Math_Symbol Mc Me Mn Modifier_Letter Modifier_Symbol N Nd Nl No Nonspacing_Mark Number Open_Punctuation Other Other_Letter Other_Number Other_Punctuation Other_Symbol P Paragraph_Separator Pc Pd Pe Pf Pi Po Private_Use Ps Punctuation S Sc Separator Sk Sm So Space_Separator Spacing_Mark Surrogate Symbol Titlecase_Letter Unassigned Uppercase_Letter Z Zl Zp Zs cntrl digit punct\", \"\", \"\");\nconst scValueSets = new DataSet(\"Adlam Adlm Aghb Ahom Anatolian_Hieroglyphs Arab Arabic Armenian Armi Armn Avestan Avst Bali Balinese Bamu Bamum Bass Bassa_Vah Batak Batk Beng Bengali Bhaiksuki Bhks Bopo Bopomofo Brah Brahmi Brai Braille Bugi Buginese Buhd Buhid Cakm Canadian_Aboriginal Cans Cari Carian Caucasian_Albanian Chakma Cham Cher Cherokee Common Copt Coptic Cprt Cuneiform Cypriot Cyrillic Cyrl Deseret Deva Devanagari Dsrt Dupl Duployan Egyp Egyptian_Hieroglyphs Elba Elbasan Ethi Ethiopic Geor Georgian Glag Glagolitic Gonm Goth Gothic Gran Grantha Greek Grek Gujarati Gujr Gurmukhi Guru Han Hang Hangul Hani Hano Hanunoo Hatr Hatran Hebr Hebrew Hira Hiragana Hluw Hmng Hung Imperial_Aramaic Inherited Inscriptional_Pahlavi Inscriptional_Parthian Ital Java Javanese Kaithi Kali Kana Kannada Katakana Kayah_Li Khar Kharoshthi Khmer Khmr Khoj Khojki Khudawadi Knda Kthi Lana Lao Laoo Latin Latn Lepc Lepcha Limb Limbu Lina Linb Linear_A Linear_B Lisu Lyci Lycian Lydi Lydian Mahajani Mahj Malayalam Mand Mandaic Mani Manichaean Marc Marchen Masaram_Gondi Meetei_Mayek Mend Mende_Kikakui Merc Mero Meroitic_Cursive Meroitic_Hieroglyphs Miao Mlym Modi Mong Mongolian Mro Mroo Mtei Mult Multani Myanmar Mymr Nabataean Narb Nbat New_Tai_Lue Newa Nko Nkoo Nshu Nushu Ogam Ogham Ol_Chiki Olck Old_Hungarian Old_Italic Old_North_Arabian Old_Permic Old_Persian Old_South_Arabian Old_Turkic Oriya Orkh Orya Osage Osge Osma Osmanya Pahawh_Hmong Palm Palmyrene Pau_Cin_Hau Pauc Perm Phag Phags_Pa Phli Phlp Phnx Phoenician Plrd Prti Psalter_Pahlavi Qaac Qaai Rejang Rjng Runic Runr Samaritan Samr Sarb Saur Saurashtra Sgnw Sharada Shavian Shaw Shrd Sidd Siddham SignWriting Sind Sinh Sinhala Sora Sora_Sompeng Soyo Soyombo Sund Sundanese Sylo Syloti_Nagri Syrc Syriac Tagalog Tagb Tagbanwa Tai_Le Tai_Tham Tai_Viet Takr Takri Tale Talu Tamil Taml Tang Tangut Tavt Telu Telugu Tfng Tglg Thaa Thaana Thai Tibetan Tibt Tifinagh Tirh Tirhuta Ugar Ugaritic Vai Vaii Wara Warang_Citi Xpeo Xsux Yi Yiii Zanabazar_Square Zanb Zinh Zyyy\", \"Dogr Dogra Gong Gunjala_Gondi Hanifi_Rohingya Maka Makasar Medefaidrin Medf Old_Sogdian Rohg Sogd Sogdian Sogo\", \"Elym Elymaic Hmnp Nand Nandinagari Nyiakeng_Puachue_Hmong Wancho Wcho\");\nconst binPropertySets = new DataSet(\"AHex ASCII ASCII_Hex_Digit Alpha Alphabetic Any Assigned Bidi_C Bidi_Control Bidi_M Bidi_Mirrored CI CWCF CWCM CWKCF CWL CWT CWU Case_Ignorable Cased Changes_When_Casefolded Changes_When_Casemapped Changes_When_Lowercased Changes_When_NFKC_Casefolded Changes_When_Titlecased Changes_When_Uppercased DI Dash Default_Ignorable_Code_Point Dep Deprecated Dia Diacritic Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Ext Extender Gr_Base Gr_Ext Grapheme_Base Grapheme_Extend Hex Hex_Digit IDC IDS IDSB IDST IDS_Binary_Operator IDS_Trinary_Operator ID_Continue ID_Start Ideo Ideographic Join_C Join_Control LOE Logical_Order_Exception Lower Lowercase Math NChar Noncharacter_Code_Point Pat_Syn Pat_WS Pattern_Syntax Pattern_White_Space QMark Quotation_Mark RI Radical Regional_Indicator SD STerm Sentence_Terminal Soft_Dotted Term Terminal_Punctuation UIdeo Unified_Ideograph Upper Uppercase VS Variation_Selector White_Space XIDC XIDS XID_Continue XID_Start space\", \"Extended_Pictographic\", \"\");\n\nfunction isValidUnicodeProperty(version, name, value) {\n  if (gcNameSet.has(name)) {\n    return version >= 2018 && gcValueSets.es2018.has(value);\n  }\n\n  if (scNameSet.has(name)) {\n    return version >= 2018 && scValueSets.es2018.has(value) || version >= 2019 && scValueSets.es2019.has(value) || version >= 2020 && scValueSets.es2020.has(value);\n  }\n\n  return false;\n}\n\nfunction isValidLoneUnicodeProperty(version, value) {\n  return version >= 2018 && binPropertySets.es2018.has(value) || version >= 2019 && binPropertySets.es2019.has(value);\n}\n\nconst Backspace = 0x08;\nconst CharacterTabulation = 0x09;\nconst LineFeed = 0x0a;\nconst LineTabulation = 0x0b;\nconst FormFeed = 0x0c;\nconst CarriageReturn = 0x0d;\nconst ExclamationMark = 0x21;\nconst DollarSign = 0x24;\nconst LeftParenthesis = 0x28;\nconst RightParenthesis = 0x29;\nconst Asterisk = 0x2a;\nconst PlusSign = 0x2b;\nconst Comma = 0x2c;\nconst HyphenMinus = 0x2d;\nconst FullStop = 0x2e;\nconst Solidus = 0x2f;\nconst DigitZero = 0x30;\nconst DigitOne = 0x31;\nconst DigitSeven = 0x37;\nconst DigitNine = 0x39;\nconst Colon = 0x3a;\nconst LessThanSign = 0x3c;\nconst EqualsSign = 0x3d;\nconst GreaterThanSign = 0x3e;\nconst QuestionMark = 0x3f;\nconst LatinCapitalLetterA = 0x41;\nconst LatinCapitalLetterB = 0x42;\nconst LatinCapitalLetterD = 0x44;\nconst LatinCapitalLetterF = 0x46;\nconst LatinCapitalLetterP = 0x50;\nconst LatinCapitalLetterS = 0x53;\nconst LatinCapitalLetterW = 0x57;\nconst LatinCapitalLetterZ = 0x5a;\nconst LowLine = 0x5f;\nconst LatinSmallLetterA = 0x61;\nconst LatinSmallLetterB = 0x62;\nconst LatinSmallLetterC = 0x63;\nconst LatinSmallLetterD = 0x64;\nconst LatinSmallLetterF = 0x66;\nconst LatinSmallLetterG = 0x67;\nconst LatinSmallLetterI = 0x69;\nconst LatinSmallLetterK = 0x6b;\nconst LatinSmallLetterM = 0x6d;\nconst LatinSmallLetterN = 0x6e;\nconst LatinSmallLetterP = 0x70;\nconst LatinSmallLetterR = 0x72;\nconst LatinSmallLetterS = 0x73;\nconst LatinSmallLetterT = 0x74;\nconst LatinSmallLetterU = 0x75;\nconst LatinSmallLetterV = 0x76;\nconst LatinSmallLetterW = 0x77;\nconst LatinSmallLetterX = 0x78;\nconst LatinSmallLetterY = 0x79;\nconst LatinSmallLetterZ = 0x7a;\nconst LeftSquareBracket = 0x5b;\nconst ReverseSolidus = 0x5c;\nconst RightSquareBracket = 0x5d;\nconst CircumflexAccent = 0x5e;\nconst LeftCurlyBracket = 0x7b;\nconst VerticalLine = 0x7c;\nconst RightCurlyBracket = 0x7d;\nconst ZeroWidthNonJoiner = 0x200c;\nconst ZeroWidthJoiner = 0x200d;\nconst LineSeparator = 0x2028;\nconst ParagraphSeparator = 0x2029;\nconst MinCodePoint = 0x00;\nconst MaxCodePoint = 0x10ffff;\n\nfunction isLatinLetter(code) {\n  return code >= LatinCapitalLetterA && code <= LatinCapitalLetterZ || code >= LatinSmallLetterA && code <= LatinSmallLetterZ;\n}\n\nfunction isDecimalDigit(code) {\n  return code >= DigitZero && code <= DigitNine;\n}\n\nfunction isOctalDigit(code) {\n  return code >= DigitZero && code <= DigitSeven;\n}\n\nfunction isHexDigit(code) {\n  return code >= DigitZero && code <= DigitNine || code >= LatinCapitalLetterA && code <= LatinCapitalLetterF || code >= LatinSmallLetterA && code <= LatinSmallLetterF;\n}\n\nfunction isLineTerminator(code) {\n  return code === LineFeed || code === CarriageReturn || code === LineSeparator || code === ParagraphSeparator;\n}\n\nfunction isValidUnicode(code) {\n  return code >= MinCodePoint && code <= MaxCodePoint;\n}\n\nfunction digitToInt(code) {\n  if (code >= LatinSmallLetterA && code <= LatinSmallLetterF) {\n    return code - LatinSmallLetterA + 10;\n  }\n\n  if (code >= LatinCapitalLetterA && code <= LatinCapitalLetterF) {\n    return code - LatinCapitalLetterA + 10;\n  }\n\n  return code - DigitZero;\n}\n\nfunction isLeadSurrogate(code) {\n  return code >= 0xd800 && code <= 0xdbff;\n}\n\nfunction isTrailSurrogate(code) {\n  return code >= 0xdc00 && code <= 0xdfff;\n}\n\nfunction combineSurrogatePair(lead, trail) {\n  return (lead - 0xd800) * 0x400 + (trail - 0xdc00) + 0x10000;\n}\n\nconst legacyImpl = {\n  at(s, end, i) {\n    return i < end ? s.charCodeAt(i) : -1;\n  },\n\n  width(c) {\n    return 1;\n  }\n\n};\nconst unicodeImpl = {\n  at(s, end, i) {\n    return i < end ? s.codePointAt(i) : -1;\n  },\n\n  width(c) {\n    return c > 0xffff ? 2 : 1;\n  }\n\n};\n\nclass Reader {\n  constructor() {\n    this._impl = legacyImpl;\n    this._s = \"\";\n    this._i = 0;\n    this._end = 0;\n    this._cp1 = -1;\n    this._w1 = 1;\n    this._cp2 = -1;\n    this._w2 = 1;\n    this._cp3 = -1;\n    this._w3 = 1;\n    this._cp4 = -1;\n  }\n\n  get source() {\n    return this._s;\n  }\n\n  get index() {\n    return this._i;\n  }\n\n  get currentCodePoint() {\n    return this._cp1;\n  }\n\n  get nextCodePoint() {\n    return this._cp2;\n  }\n\n  get nextCodePoint2() {\n    return this._cp3;\n  }\n\n  get nextCodePoint3() {\n    return this._cp4;\n  }\n\n  reset(source, start, end, uFlag) {\n    this._impl = uFlag ? unicodeImpl : legacyImpl;\n    this._s = source;\n    this._end = end;\n    this.rewind(start);\n  }\n\n  rewind(index) {\n    const impl = this._impl;\n    this._i = index;\n    this._cp1 = impl.at(this._s, this._end, index);\n    this._w1 = impl.width(this._cp1);\n    this._cp2 = impl.at(this._s, this._end, index + this._w1);\n    this._w2 = impl.width(this._cp2);\n    this._cp3 = impl.at(this._s, this._end, index + this._w1 + this._w2);\n    this._w3 = impl.width(this._cp3);\n    this._cp4 = impl.at(this._s, this._end, index + this._w1 + this._w2 + this._w3);\n  }\n\n  advance() {\n    if (this._cp1 !== -1) {\n      const impl = this._impl;\n      this._i += this._w1;\n      this._cp1 = this._cp2;\n      this._w1 = this._w2;\n      this._cp2 = this._cp3;\n      this._w2 = impl.width(this._cp2);\n      this._cp3 = this._cp4;\n      this._w3 = impl.width(this._cp3);\n      this._cp4 = impl.at(this._s, this._end, this._i + this._w1 + this._w2 + this._w3);\n    }\n  }\n\n  eat(cp) {\n    if (this._cp1 === cp) {\n      this.advance();\n      return true;\n    }\n\n    return false;\n  }\n\n  eat2(cp1, cp2) {\n    if (this._cp1 === cp1 && this._cp2 === cp2) {\n      this.advance();\n      this.advance();\n      return true;\n    }\n\n    return false;\n  }\n\n  eat3(cp1, cp2, cp3) {\n    if (this._cp1 === cp1 && this._cp2 === cp2 && this._cp3 === cp3) {\n      this.advance();\n      this.advance();\n      this.advance();\n      return true;\n    }\n\n    return false;\n  }\n\n}\n\nclass RegExpSyntaxError extends SyntaxError {\n  constructor(source, uFlag, index, message) {\n    if (source) {\n      if (!source.startsWith(\"/\")) {\n        source = `/${source}/${uFlag ? \"u\" : \"\"}`;\n      }\n\n      source = `: ${source}`;\n    }\n\n    super(`Invalid regular expression${source}: ${message}`);\n    this.index = index;\n  }\n\n}\n\nfunction isSyntaxCharacter(cp) {\n  return cp === CircumflexAccent || cp === DollarSign || cp === ReverseSolidus || cp === FullStop || cp === Asterisk || cp === PlusSign || cp === QuestionMark || cp === LeftParenthesis || cp === RightParenthesis || cp === LeftSquareBracket || cp === RightSquareBracket || cp === LeftCurlyBracket || cp === RightCurlyBracket || cp === VerticalLine;\n}\n\nfunction isRegExpIdentifierStart(cp) {\n  return isIdStart(cp) || cp === DollarSign || cp === LowLine;\n}\n\nfunction isRegExpIdentifierPart(cp) {\n  return isIdContinue(cp) || cp === DollarSign || cp === LowLine || cp === ZeroWidthNonJoiner || cp === ZeroWidthJoiner;\n}\n\nfunction isUnicodePropertyNameCharacter(cp) {\n  return isLatinLetter(cp) || cp === LowLine;\n}\n\nfunction isUnicodePropertyValueCharacter(cp) {\n  return isUnicodePropertyNameCharacter(cp) || isDecimalDigit(cp);\n}\n\nclass RegExpValidator {\n  constructor(options) {\n    this._reader = new Reader();\n    this._uFlag = false;\n    this._nFlag = false;\n    this._lastIntValue = 0;\n    this._lastMinValue = 0;\n    this._lastMaxValue = 0;\n    this._lastStrValue = \"\";\n    this._lastKeyValue = \"\";\n    this._lastValValue = \"\";\n    this._lastAssertionIsQuantifiable = false;\n    this._numCapturingParens = 0;\n    this._groupNames = new Set();\n    this._backreferenceNames = new Set();\n    this._options = options || {};\n  }\n\n  validateLiteral(source, start = 0, end = source.length) {\n    this._uFlag = this._nFlag = false;\n    this.reset(source, start, end);\n    this.onLiteralEnter(start);\n\n    if (this.eat(Solidus) && this.eatRegExpBody() && this.eat(Solidus)) {\n      const flagStart = this.index;\n      const uFlag = source.includes(\"u\", flagStart);\n      this.validateFlags(source, flagStart, end);\n      this.validatePattern(source, start + 1, flagStart - 1, uFlag);\n    } else if (start >= end) {\n      this.raise(\"Empty\");\n    } else {\n      const c = String.fromCodePoint(this.currentCodePoint);\n      this.raise(`Unexpected character '${c}'`);\n    }\n\n    this.onLiteralLeave(start, end);\n  }\n\n  validateFlags(source, start = 0, end = source.length) {\n    const existingFlags = new Set();\n    let global = false;\n    let ignoreCase = false;\n    let multiline = false;\n    let sticky = false;\n    let unicode = false;\n    let dotAll = false;\n\n    for (let i = start; i < end; ++i) {\n      const flag = source.charCodeAt(i);\n\n      if (existingFlags.has(flag)) {\n        this.raise(`Duplicated flag '${source[i]}'`);\n      }\n\n      existingFlags.add(flag);\n\n      if (flag === LatinSmallLetterG) {\n        global = true;\n      } else if (flag === LatinSmallLetterI) {\n        ignoreCase = true;\n      } else if (flag === LatinSmallLetterM) {\n        multiline = true;\n      } else if (flag === LatinSmallLetterU && this.ecmaVersion >= 2015) {\n        unicode = true;\n      } else if (flag === LatinSmallLetterY && this.ecmaVersion >= 2015) {\n        sticky = true;\n      } else if (flag === LatinSmallLetterS && this.ecmaVersion >= 2018) {\n        dotAll = true;\n      } else {\n        this.raise(`Invalid flag '${source[i]}'`);\n      }\n    }\n\n    this.onFlags(start, end, global, ignoreCase, multiline, unicode, sticky, dotAll);\n  }\n\n  validatePattern(source, start = 0, end = source.length, uFlag = false) {\n    this._uFlag = uFlag && this.ecmaVersion >= 2015;\n    this._nFlag = uFlag && this.ecmaVersion >= 2018;\n    this.reset(source, start, end);\n    this.consumePattern();\n\n    if (!this._nFlag && this.ecmaVersion >= 2018 && this._groupNames.size > 0) {\n      this._nFlag = true;\n      this.rewind(start);\n      this.consumePattern();\n    }\n  }\n\n  get strict() {\n    return Boolean(this._options.strict || this._uFlag);\n  }\n\n  get ecmaVersion() {\n    return this._options.ecmaVersion || 2020;\n  }\n\n  onLiteralEnter(start) {\n    if (this._options.onLiteralEnter) {\n      this._options.onLiteralEnter(start);\n    }\n  }\n\n  onLiteralLeave(start, end) {\n    if (this._options.onLiteralLeave) {\n      this._options.onLiteralLeave(start, end);\n    }\n  }\n\n  onFlags(start, end, global, ignoreCase, multiline, unicode, sticky, dotAll) {\n    if (this._options.onFlags) {\n      this._options.onFlags(start, end, global, ignoreCase, multiline, unicode, sticky, dotAll);\n    }\n  }\n\n  onPatternEnter(start) {\n    if (this._options.onPatternEnter) {\n      this._options.onPatternEnter(start);\n    }\n  }\n\n  onPatternLeave(start, end) {\n    if (this._options.onPatternLeave) {\n      this._options.onPatternLeave(start, end);\n    }\n  }\n\n  onDisjunctionEnter(start) {\n    if (this._options.onDisjunctionEnter) {\n      this._options.onDisjunctionEnter(start);\n    }\n  }\n\n  onDisjunctionLeave(start, end) {\n    if (this._options.onDisjunctionLeave) {\n      this._options.onDisjunctionLeave(start, end);\n    }\n  }\n\n  onAlternativeEnter(start, index) {\n    if (this._options.onAlternativeEnter) {\n      this._options.onAlternativeEnter(start, index);\n    }\n  }\n\n  onAlternativeLeave(start, end, index) {\n    if (this._options.onAlternativeLeave) {\n      this._options.onAlternativeLeave(start, end, index);\n    }\n  }\n\n  onGroupEnter(start) {\n    if (this._options.onGroupEnter) {\n      this._options.onGroupEnter(start);\n    }\n  }\n\n  onGroupLeave(start, end) {\n    if (this._options.onGroupLeave) {\n      this._options.onGroupLeave(start, end);\n    }\n  }\n\n  onCapturingGroupEnter(start, name) {\n    if (this._options.onCapturingGroupEnter) {\n      this._options.onCapturingGroupEnter(start, name);\n    }\n  }\n\n  onCapturingGroupLeave(start, end, name) {\n    if (this._options.onCapturingGroupLeave) {\n      this._options.onCapturingGroupLeave(start, end, name);\n    }\n  }\n\n  onQuantifier(start, end, min, max, greedy) {\n    if (this._options.onQuantifier) {\n      this._options.onQuantifier(start, end, min, max, greedy);\n    }\n  }\n\n  onLookaroundAssertionEnter(start, kind, negate) {\n    if (this._options.onLookaroundAssertionEnter) {\n      this._options.onLookaroundAssertionEnter(start, kind, negate);\n    }\n  }\n\n  onLookaroundAssertionLeave(start, end, kind, negate) {\n    if (this._options.onLookaroundAssertionLeave) {\n      this._options.onLookaroundAssertionLeave(start, end, kind, negate);\n    }\n  }\n\n  onEdgeAssertion(start, end, kind) {\n    if (this._options.onEdgeAssertion) {\n      this._options.onEdgeAssertion(start, end, kind);\n    }\n  }\n\n  onWordBoundaryAssertion(start, end, kind, negate) {\n    if (this._options.onWordBoundaryAssertion) {\n      this._options.onWordBoundaryAssertion(start, end, kind, negate);\n    }\n  }\n\n  onAnyCharacterSet(start, end, kind) {\n    if (this._options.onAnyCharacterSet) {\n      this._options.onAnyCharacterSet(start, end, kind);\n    }\n  }\n\n  onEscapeCharacterSet(start, end, kind, negate) {\n    if (this._options.onEscapeCharacterSet) {\n      this._options.onEscapeCharacterSet(start, end, kind, negate);\n    }\n  }\n\n  onUnicodePropertyCharacterSet(start, end, kind, key, value, negate) {\n    if (this._options.onUnicodePropertyCharacterSet) {\n      this._options.onUnicodePropertyCharacterSet(start, end, kind, key, value, negate);\n    }\n  }\n\n  onCharacter(start, end, value) {\n    if (this._options.onCharacter) {\n      this._options.onCharacter(start, end, value);\n    }\n  }\n\n  onBackreference(start, end, ref) {\n    if (this._options.onBackreference) {\n      this._options.onBackreference(start, end, ref);\n    }\n  }\n\n  onCharacterClassEnter(start, negate) {\n    if (this._options.onCharacterClassEnter) {\n      this._options.onCharacterClassEnter(start, negate);\n    }\n  }\n\n  onCharacterClassLeave(start, end, negate) {\n    if (this._options.onCharacterClassLeave) {\n      this._options.onCharacterClassLeave(start, end, negate);\n    }\n  }\n\n  onCharacterClassRange(start, end, min, max) {\n    if (this._options.onCharacterClassRange) {\n      this._options.onCharacterClassRange(start, end, min, max);\n    }\n  }\n\n  get source() {\n    return this._reader.source;\n  }\n\n  get index() {\n    return this._reader.index;\n  }\n\n  get currentCodePoint() {\n    return this._reader.currentCodePoint;\n  }\n\n  get nextCodePoint() {\n    return this._reader.nextCodePoint;\n  }\n\n  get nextCodePoint2() {\n    return this._reader.nextCodePoint2;\n  }\n\n  get nextCodePoint3() {\n    return this._reader.nextCodePoint3;\n  }\n\n  reset(source, start, end) {\n    this._reader.reset(source, start, end, this._uFlag);\n  }\n\n  rewind(index) {\n    this._reader.rewind(index);\n  }\n\n  advance() {\n    this._reader.advance();\n  }\n\n  eat(cp) {\n    return this._reader.eat(cp);\n  }\n\n  eat2(cp1, cp2) {\n    return this._reader.eat2(cp1, cp2);\n  }\n\n  eat3(cp1, cp2, cp3) {\n    return this._reader.eat3(cp1, cp2, cp3);\n  }\n\n  raise(message) {\n    throw new RegExpSyntaxError(this.source, this._uFlag, this.index, message);\n  }\n\n  eatRegExpBody() {\n    const start = this.index;\n    let inClass = false;\n    let escaped = false;\n\n    for (;;) {\n      const cp = this.currentCodePoint;\n\n      if (cp === -1 || isLineTerminator(cp)) {\n        const kind = inClass ? \"character class\" : \"regular expression\";\n        this.raise(`Unterminated ${kind}`);\n      }\n\n      if (escaped) {\n        escaped = false;\n      } else if (cp === ReverseSolidus) {\n        escaped = true;\n      } else if (cp === LeftSquareBracket) {\n        inClass = true;\n      } else if (cp === RightSquareBracket) {\n        inClass = false;\n      } else if (cp === Solidus && !inClass || cp === Asterisk && this.index === start) {\n        break;\n      }\n\n      this.advance();\n    }\n\n    return this.index !== start;\n  }\n\n  consumePattern() {\n    const start = this.index;\n    this._numCapturingParens = this.countCapturingParens();\n\n    this._groupNames.clear();\n\n    this._backreferenceNames.clear();\n\n    this.onPatternEnter(start);\n    this.consumeDisjunction();\n    const cp = this.currentCodePoint;\n\n    if (this.currentCodePoint !== -1) {\n      if (cp === RightParenthesis) {\n        this.raise(\"Unmatched ')'\");\n      }\n\n      if (cp === ReverseSolidus) {\n        this.raise(\"\\\\ at end of pattern\");\n      }\n\n      if (cp === RightSquareBracket || cp === RightCurlyBracket) {\n        this.raise(\"Lone quantifier brackets\");\n      }\n\n      const c = String.fromCodePoint(cp);\n      this.raise(`Unexpected character '${c}'`);\n    }\n\n    for (const name of this._backreferenceNames) {\n      if (!this._groupNames.has(name)) {\n        this.raise(\"Invalid named capture referenced\");\n      }\n    }\n\n    this.onPatternLeave(start, this.index);\n  }\n\n  countCapturingParens() {\n    const start = this.index;\n    let inClass = false;\n    let escaped = false;\n    let count = 0;\n    let cp = 0;\n\n    while ((cp = this.currentCodePoint) !== -1) {\n      if (escaped) {\n        escaped = false;\n      } else if (cp === ReverseSolidus) {\n        escaped = true;\n      } else if (cp === LeftSquareBracket) {\n        inClass = true;\n      } else if (cp === RightSquareBracket) {\n        inClass = false;\n      } else if (cp === LeftParenthesis && !inClass && (this.nextCodePoint !== QuestionMark || this.nextCodePoint2 === LessThanSign && this.nextCodePoint3 !== EqualsSign && this.nextCodePoint3 !== ExclamationMark)) {\n        count += 1;\n      }\n\n      this.advance();\n    }\n\n    this.rewind(start);\n    return count;\n  }\n\n  consumeDisjunction() {\n    const start = this.index;\n    let i = 0;\n    this.onDisjunctionEnter(start);\n\n    do {\n      this.consumeAlternative(i++);\n    } while (this.eat(VerticalLine));\n\n    if (this.consumeQuantifier(true)) {\n      this.raise(\"Nothing to repeat\");\n    }\n\n    if (this.eat(LeftCurlyBracket)) {\n      this.raise(\"Lone quantifier brackets\");\n    }\n\n    this.onDisjunctionLeave(start, this.index);\n  }\n\n  consumeAlternative(i) {\n    const start = this.index;\n    this.onAlternativeEnter(start, i);\n\n    while (this.currentCodePoint !== -1 && this.consumeTerm()) {}\n\n    this.onAlternativeLeave(start, this.index, i);\n  }\n\n  consumeTerm() {\n    if (this._uFlag || this.strict) {\n      return this.consumeAssertion() || this.consumeAtom() && this.consumeOptionalQuantifier();\n    }\n\n    return this.consumeAssertion() && (!this._lastAssertionIsQuantifiable || this.consumeOptionalQuantifier()) || this.consumeExtendedAtom() && this.consumeOptionalQuantifier();\n  }\n\n  consumeOptionalQuantifier() {\n    this.consumeQuantifier();\n    return true;\n  }\n\n  consumeAssertion() {\n    const start = this.index;\n    this._lastAssertionIsQuantifiable = false;\n\n    if (this.eat(CircumflexAccent)) {\n      this.onEdgeAssertion(start, this.index, \"start\");\n      return true;\n    }\n\n    if (this.eat(DollarSign)) {\n      this.onEdgeAssertion(start, this.index, \"end\");\n      return true;\n    }\n\n    if (this.eat2(ReverseSolidus, LatinCapitalLetterB)) {\n      this.onWordBoundaryAssertion(start, this.index, \"word\", true);\n      return true;\n    }\n\n    if (this.eat2(ReverseSolidus, LatinSmallLetterB)) {\n      this.onWordBoundaryAssertion(start, this.index, \"word\", false);\n      return true;\n    }\n\n    if (this.eat2(LeftParenthesis, QuestionMark)) {\n      const lookbehind = this.ecmaVersion >= 2018 && this.eat(LessThanSign);\n      let negate = false;\n\n      if (this.eat(EqualsSign) || (negate = this.eat(ExclamationMark))) {\n        const kind = lookbehind ? \"lookbehind\" : \"lookahead\";\n        this.onLookaroundAssertionEnter(start, kind, negate);\n        this.consumeDisjunction();\n\n        if (!this.eat(RightParenthesis)) {\n          this.raise(\"Unterminated group\");\n        }\n\n        this._lastAssertionIsQuantifiable = !lookbehind && !this.strict;\n        this.onLookaroundAssertionLeave(start, this.index, kind, negate);\n        return true;\n      }\n\n      this.rewind(start);\n    }\n\n    return false;\n  }\n\n  consumeQuantifier(noConsume = false) {\n    const start = this.index;\n    let min = 0;\n    let max = 0;\n    let greedy = false;\n\n    if (this.eat(Asterisk)) {\n      min = 0;\n      max = Number.POSITIVE_INFINITY;\n    } else if (this.eat(PlusSign)) {\n      min = 1;\n      max = Number.POSITIVE_INFINITY;\n    } else if (this.eat(QuestionMark)) {\n      min = 0;\n      max = 1;\n    } else if (this.eatBracedQuantifier(noConsume)) {\n      min = this._lastMinValue;\n      max = this._lastMaxValue;\n    } else {\n      return false;\n    }\n\n    greedy = !this.eat(QuestionMark);\n\n    if (!noConsume) {\n      this.onQuantifier(start, this.index, min, max, greedy);\n    }\n\n    return true;\n  }\n\n  eatBracedQuantifier(noError) {\n    const start = this.index;\n\n    if (this.eat(LeftCurlyBracket)) {\n      this._lastMinValue = 0;\n      this._lastMaxValue = Number.POSITIVE_INFINITY;\n\n      if (this.eatDecimalDigits()) {\n        this._lastMinValue = this._lastMaxValue = this._lastIntValue;\n\n        if (this.eat(Comma)) {\n          this._lastMaxValue = this.eatDecimalDigits() ? this._lastIntValue : Number.POSITIVE_INFINITY;\n        }\n\n        if (this.eat(RightCurlyBracket)) {\n          if (!noError && this._lastMaxValue < this._lastMinValue) {\n            this.raise(\"numbers out of order in {} quantifier\");\n          }\n\n          return true;\n        }\n      }\n\n      if (!noError && (this._uFlag || this.strict)) {\n        this.raise(\"Incomplete quantifier\");\n      }\n\n      this.rewind(start);\n    }\n\n    return false;\n  }\n\n  consumeAtom() {\n    return this.consumePatternCharacter() || this.consumeDot() || this.consumeReverseSolidusAtomEscape() || this.consumeCharacterClass() || this.consumeUncapturingGroup() || this.consumeCapturingGroup();\n  }\n\n  consumeDot() {\n    if (this.eat(FullStop)) {\n      this.onAnyCharacterSet(this.index - 1, this.index, \"any\");\n      return true;\n    }\n\n    return false;\n  }\n\n  consumeReverseSolidusAtomEscape() {\n    const start = this.index;\n\n    if (this.eat(ReverseSolidus)) {\n      if (this.consumeAtomEscape()) {\n        return true;\n      }\n\n      this.rewind(start);\n    }\n\n    return false;\n  }\n\n  consumeUncapturingGroup() {\n    const start = this.index;\n\n    if (this.eat3(LeftParenthesis, QuestionMark, Colon)) {\n      this.onGroupEnter(start);\n      this.consumeDisjunction();\n\n      if (!this.eat(RightParenthesis)) {\n        this.raise(\"Unterminated group\");\n      }\n\n      this.onGroupLeave(start, this.index);\n      return true;\n    }\n\n    return false;\n  }\n\n  consumeCapturingGroup() {\n    const start = this.index;\n\n    if (this.eat(LeftParenthesis)) {\n      let name = null;\n\n      if (this.ecmaVersion >= 2018) {\n        if (this.consumeGroupSpecifier()) {\n          name = this._lastStrValue;\n        }\n      } else if (this.currentCodePoint === QuestionMark) {\n        this.raise(\"Invalid group\");\n      }\n\n      this.onCapturingGroupEnter(start, name);\n      this.consumeDisjunction();\n\n      if (!this.eat(RightParenthesis)) {\n        this.raise(\"Unterminated group\");\n      }\n\n      this.onCapturingGroupLeave(start, this.index, name);\n      return true;\n    }\n\n    return false;\n  }\n\n  consumeExtendedAtom() {\n    return this.consumeDot() || this.consumeReverseSolidusAtomEscape() || this.consumeReverseSolidusFollowedByC() || this.consumeCharacterClass() || this.consumeUncapturingGroup() || this.consumeCapturingGroup() || this.consumeInvalidBracedQuantifier() || this.consumeExtendedPatternCharacter();\n  }\n\n  consumeReverseSolidusFollowedByC() {\n    const start = this.index;\n\n    if (this.currentCodePoint === ReverseSolidus && this.nextCodePoint === LatinSmallLetterC) {\n      this._lastIntValue = this.currentCodePoint;\n      this.advance();\n      this.onCharacter(start, this.index, ReverseSolidus);\n      return true;\n    }\n\n    return false;\n  }\n\n  consumeInvalidBracedQuantifier() {\n    if (this.eatBracedQuantifier(true)) {\n      this.raise(\"Nothing to repeat\");\n    }\n\n    return false;\n  }\n\n  consumePatternCharacter() {\n    const start = this.index;\n    const cp = this.currentCodePoint;\n\n    if (cp !== -1 && !isSyntaxCharacter(cp)) {\n      this.advance();\n      this.onCharacter(start, this.index, cp);\n      return true;\n    }\n\n    return false;\n  }\n\n  consumeExtendedPatternCharacter() {\n    const start = this.index;\n    const cp = this.currentCodePoint;\n\n    if (cp !== -1 && cp !== CircumflexAccent && cp !== DollarSign && cp !== ReverseSolidus && cp !== FullStop && cp !== Asterisk && cp !== PlusSign && cp !== QuestionMark && cp !== LeftParenthesis && cp !== RightParenthesis && cp !== LeftSquareBracket && cp !== VerticalLine) {\n      this.advance();\n      this.onCharacter(start, this.index, cp);\n      return true;\n    }\n\n    return false;\n  }\n\n  consumeGroupSpecifier() {\n    if (this.eat(QuestionMark)) {\n      if (this.eatGroupName()) {\n        if (!this._groupNames.has(this._lastStrValue)) {\n          this._groupNames.add(this._lastStrValue);\n\n          return true;\n        }\n\n        this.raise(\"Duplicate capture group name\");\n      }\n\n      this.raise(\"Invalid group\");\n    }\n\n    return false;\n  }\n\n  consumeAtomEscape() {\n    if (this.consumeBackreference() || this.consumeCharacterClassEscape() || this.consumeCharacterEscape() || this._nFlag && this.consumeKGroupName()) {\n      return true;\n    }\n\n    if (this.strict || this._uFlag) {\n      this.raise(\"Invalid escape\");\n    }\n\n    return false;\n  }\n\n  consumeBackreference() {\n    const start = this.index;\n\n    if (this.eatDecimalEscape()) {\n      const n = this._lastIntValue;\n\n      if (n <= this._numCapturingParens) {\n        this.onBackreference(start - 1, this.index, n);\n        return true;\n      }\n\n      if (this.strict || this._uFlag) {\n        this.raise(\"Invalid escape\");\n      }\n\n      this.rewind(start);\n    }\n\n    return false;\n  }\n\n  consumeCharacterClassEscape() {\n    const start = this.index;\n\n    if (this.eat(LatinSmallLetterD)) {\n      this._lastIntValue = -1;\n      this.onEscapeCharacterSet(start - 1, this.index, \"digit\", false);\n      return true;\n    }\n\n    if (this.eat(LatinCapitalLetterD)) {\n      this._lastIntValue = -1;\n      this.onEscapeCharacterSet(start - 1, this.index, \"digit\", true);\n      return true;\n    }\n\n    if (this.eat(LatinSmallLetterS)) {\n      this._lastIntValue = -1;\n      this.onEscapeCharacterSet(start - 1, this.index, \"space\", false);\n      return true;\n    }\n\n    if (this.eat(LatinCapitalLetterS)) {\n      this._lastIntValue = -1;\n      this.onEscapeCharacterSet(start - 1, this.index, \"space\", true);\n      return true;\n    }\n\n    if (this.eat(LatinSmallLetterW)) {\n      this._lastIntValue = -1;\n      this.onEscapeCharacterSet(start - 1, this.index, \"word\", false);\n      return true;\n    }\n\n    if (this.eat(LatinCapitalLetterW)) {\n      this._lastIntValue = -1;\n      this.onEscapeCharacterSet(start - 1, this.index, \"word\", true);\n      return true;\n    }\n\n    let negate = false;\n\n    if (this._uFlag && this.ecmaVersion >= 2018 && (this.eat(LatinSmallLetterP) || (negate = this.eat(LatinCapitalLetterP)))) {\n      this._lastIntValue = -1;\n\n      if (this.eat(LeftCurlyBracket) && this.eatUnicodePropertyValueExpression() && this.eat(RightCurlyBracket)) {\n        this.onUnicodePropertyCharacterSet(start - 1, this.index, \"property\", this._lastKeyValue, this._lastValValue || null, negate);\n        return true;\n      }\n\n      this.raise(\"Invalid property name\");\n    }\n\n    return false;\n  }\n\n  consumeCharacterEscape() {\n    const start = this.index;\n\n    if (this.eatControlEscape() || this.eatCControlLetter() || this.eatZero() || this.eatHexEscapeSequence() || this.eatRegExpUnicodeEscapeSequence() || !this.strict && !this._uFlag && this.eatLegacyOctalEscapeSequence() || this.eatIdentityEscape()) {\n      this.onCharacter(start - 1, this.index, this._lastIntValue);\n      return true;\n    }\n\n    return false;\n  }\n\n  consumeKGroupName() {\n    const start = this.index;\n\n    if (this.eat(LatinSmallLetterK)) {\n      if (this.eatGroupName()) {\n        const groupName = this._lastStrValue;\n\n        this._backreferenceNames.add(groupName);\n\n        this.onBackreference(start - 1, this.index, groupName);\n        return true;\n      }\n\n      this.raise(\"Invalid named reference\");\n    }\n\n    return false;\n  }\n\n  consumeCharacterClass() {\n    const start = this.index;\n\n    if (this.eat(LeftSquareBracket)) {\n      const negate = this.eat(CircumflexAccent);\n      this.onCharacterClassEnter(start, negate);\n      this.consumeClassRanges();\n\n      if (!this.eat(RightSquareBracket)) {\n        this.raise(\"Unterminated character class\");\n      }\n\n      this.onCharacterClassLeave(start, this.index, negate);\n      return true;\n    }\n\n    return false;\n  }\n\n  consumeClassRanges() {\n    const strict = this.strict || this._uFlag;\n\n    for (;;) {\n      const rangeStart = this.index;\n\n      if (!this.consumeClassAtom()) {\n        break;\n      }\n\n      const min = this._lastIntValue;\n\n      if (!this.eat(HyphenMinus)) {\n        continue;\n      }\n\n      this.onCharacter(this.index - 1, this.index, HyphenMinus);\n\n      if (!this.consumeClassAtom()) {\n        break;\n      }\n\n      const max = this._lastIntValue;\n\n      if (min === -1 || max === -1) {\n        if (strict) {\n          this.raise(\"Invalid character class\");\n        }\n\n        continue;\n      }\n\n      if (min > max) {\n        this.raise(\"Range out of order in character class\");\n      }\n\n      this.onCharacterClassRange(rangeStart, this.index, min, max);\n    }\n  }\n\n  consumeClassAtom() {\n    const start = this.index;\n    const cp = this.currentCodePoint;\n\n    if (cp !== -1 && cp !== ReverseSolidus && cp !== RightSquareBracket) {\n      this.advance();\n      this._lastIntValue = cp;\n      this.onCharacter(start, this.index, this._lastIntValue);\n      return true;\n    }\n\n    if (this.eat(ReverseSolidus)) {\n      if (this.consumeClassEscape()) {\n        return true;\n      }\n\n      if (!this.strict && this.currentCodePoint === LatinSmallLetterC) {\n        this._lastIntValue = ReverseSolidus;\n        this.onCharacter(start, this.index, this._lastIntValue);\n        return true;\n      }\n\n      if (this.strict || this._uFlag) {\n        this.raise(\"Invalid escape\");\n      }\n\n      this.rewind(start);\n    }\n\n    return false;\n  }\n\n  consumeClassEscape() {\n    const start = this.index;\n\n    if (this.eat(LatinSmallLetterB)) {\n      this._lastIntValue = Backspace;\n      this.onCharacter(start - 1, this.index, this._lastIntValue);\n      return true;\n    }\n\n    if (this._uFlag && this.eat(HyphenMinus)) {\n      this._lastIntValue = HyphenMinus;\n      this.onCharacter(start - 1, this.index, this._lastIntValue);\n      return true;\n    }\n\n    let cp = 0;\n\n    if (!this.strict && !this._uFlag && this.currentCodePoint === LatinSmallLetterC && (isDecimalDigit(cp = this.nextCodePoint) || cp === LowLine)) {\n      this.advance();\n      this.advance();\n      this._lastIntValue = cp % 0x20;\n      this.onCharacter(start - 1, this.index, this._lastIntValue);\n      return true;\n    }\n\n    return this.consumeCharacterClassEscape() || this.consumeCharacterEscape();\n  }\n\n  eatGroupName() {\n    if (this.eat(LessThanSign)) {\n      if (this.eatRegExpIdentifierName() && this.eat(GreaterThanSign)) {\n        return true;\n      }\n\n      this.raise(\"Invalid capture group name\");\n    }\n\n    return false;\n  }\n\n  eatRegExpIdentifierName() {\n    if (this.eatRegExpIdentifierStart()) {\n      this._lastStrValue = String.fromCodePoint(this._lastIntValue);\n\n      while (this.eatRegExpIdentifierPart()) {\n        this._lastStrValue += String.fromCodePoint(this._lastIntValue);\n      }\n\n      return true;\n    }\n\n    return false;\n  }\n\n  eatRegExpIdentifierStart() {\n    const start = this.index;\n    const forceUFlag = !this._uFlag && this.ecmaVersion >= 2020;\n    let cp = this.currentCodePoint;\n    this.advance();\n\n    if (cp === ReverseSolidus && this.eatRegExpUnicodeEscapeSequence(forceUFlag)) {\n      cp = this._lastIntValue;\n    } else if (forceUFlag && isLeadSurrogate(cp) && isTrailSurrogate(this.currentCodePoint)) {\n      cp = combineSurrogatePair(cp, this.currentCodePoint);\n      this.advance();\n    }\n\n    if (isRegExpIdentifierStart(cp)) {\n      this._lastIntValue = cp;\n      return true;\n    }\n\n    if (this.index !== start) {\n      this.rewind(start);\n    }\n\n    return false;\n  }\n\n  eatRegExpIdentifierPart() {\n    const start = this.index;\n    const forceUFlag = !this._uFlag && this.ecmaVersion >= 2020;\n    let cp = this.currentCodePoint;\n    this.advance();\n\n    if (cp === ReverseSolidus && this.eatRegExpUnicodeEscapeSequence(forceUFlag)) {\n      cp = this._lastIntValue;\n    } else if (forceUFlag && isLeadSurrogate(cp) && isTrailSurrogate(this.currentCodePoint)) {\n      cp = combineSurrogatePair(cp, this.currentCodePoint);\n      this.advance();\n    }\n\n    if (isRegExpIdentifierPart(cp)) {\n      this._lastIntValue = cp;\n      return true;\n    }\n\n    if (this.index !== start) {\n      this.rewind(start);\n    }\n\n    return false;\n  }\n\n  eatCControlLetter() {\n    const start = this.index;\n\n    if (this.eat(LatinSmallLetterC)) {\n      if (this.eatControlLetter()) {\n        return true;\n      }\n\n      this.rewind(start);\n    }\n\n    return false;\n  }\n\n  eatZero() {\n    if (this.currentCodePoint === DigitZero && !isDecimalDigit(this.nextCodePoint)) {\n      this._lastIntValue = 0;\n      this.advance();\n      return true;\n    }\n\n    return false;\n  }\n\n  eatControlEscape() {\n    if (this.eat(LatinSmallLetterF)) {\n      this._lastIntValue = FormFeed;\n      return true;\n    }\n\n    if (this.eat(LatinSmallLetterN)) {\n      this._lastIntValue = LineFeed;\n      return true;\n    }\n\n    if (this.eat(LatinSmallLetterR)) {\n      this._lastIntValue = CarriageReturn;\n      return true;\n    }\n\n    if (this.eat(LatinSmallLetterT)) {\n      this._lastIntValue = CharacterTabulation;\n      return true;\n    }\n\n    if (this.eat(LatinSmallLetterV)) {\n      this._lastIntValue = LineTabulation;\n      return true;\n    }\n\n    return false;\n  }\n\n  eatControlLetter() {\n    const cp = this.currentCodePoint;\n\n    if (isLatinLetter(cp)) {\n      this.advance();\n      this._lastIntValue = cp % 0x20;\n      return true;\n    }\n\n    return false;\n  }\n\n  eatRegExpUnicodeEscapeSequence(forceUFlag = false) {\n    const start = this.index;\n    const uFlag = forceUFlag || this._uFlag;\n\n    if (this.eat(LatinSmallLetterU)) {\n      if (uFlag && this.eatRegExpUnicodeSurrogatePairEscape() || this.eatFixedHexDigits(4) || uFlag && this.eatRegExpUnicodeCodePointEscape()) {\n        return true;\n      }\n\n      if (this.strict || uFlag) {\n        this.raise(\"Invalid unicode escape\");\n      }\n\n      this.rewind(start);\n    }\n\n    return false;\n  }\n\n  eatRegExpUnicodeSurrogatePairEscape() {\n    const start = this.index;\n\n    if (this.eatFixedHexDigits(4)) {\n      const lead = this._lastIntValue;\n\n      if (isLeadSurrogate(lead) && this.eat(ReverseSolidus) && this.eat(LatinSmallLetterU) && this.eatFixedHexDigits(4)) {\n        const trail = this._lastIntValue;\n\n        if (isTrailSurrogate(trail)) {\n          this._lastIntValue = combineSurrogatePair(lead, trail);\n          return true;\n        }\n      }\n\n      this.rewind(start);\n    }\n\n    return false;\n  }\n\n  eatRegExpUnicodeCodePointEscape() {\n    const start = this.index;\n\n    if (this.eat(LeftCurlyBracket) && this.eatHexDigits() && this.eat(RightCurlyBracket) && isValidUnicode(this._lastIntValue)) {\n      return true;\n    }\n\n    this.rewind(start);\n    return false;\n  }\n\n  eatIdentityEscape() {\n    const cp = this.currentCodePoint;\n\n    if (this.isValidIdentityEscape(cp)) {\n      this._lastIntValue = cp;\n      this.advance();\n      return true;\n    }\n\n    return false;\n  }\n\n  isValidIdentityEscape(cp) {\n    if (cp === -1) {\n      return false;\n    }\n\n    if (this._uFlag) {\n      return isSyntaxCharacter(cp) || cp === Solidus;\n    }\n\n    if (this.strict) {\n      return !isIdContinue(cp);\n    }\n\n    if (this._nFlag) {\n      return !(cp === LatinSmallLetterC || cp === LatinSmallLetterK);\n    }\n\n    return cp !== LatinSmallLetterC;\n  }\n\n  eatDecimalEscape() {\n    this._lastIntValue = 0;\n    let cp = this.currentCodePoint;\n\n    if (cp >= DigitOne && cp <= DigitNine) {\n      do {\n        this._lastIntValue = 10 * this._lastIntValue + (cp - DigitZero);\n        this.advance();\n      } while ((cp = this.currentCodePoint) >= DigitZero && cp <= DigitNine);\n\n      return true;\n    }\n\n    return false;\n  }\n\n  eatUnicodePropertyValueExpression() {\n    const start = this.index;\n\n    if (this.eatUnicodePropertyName() && this.eat(EqualsSign)) {\n      this._lastKeyValue = this._lastStrValue;\n\n      if (this.eatUnicodePropertyValue()) {\n        this._lastValValue = this._lastStrValue;\n\n        if (isValidUnicodeProperty(this.ecmaVersion, this._lastKeyValue, this._lastValValue)) {\n          return true;\n        }\n\n        this.raise(\"Invalid property name\");\n      }\n    }\n\n    this.rewind(start);\n\n    if (this.eatLoneUnicodePropertyNameOrValue()) {\n      const nameOrValue = this._lastStrValue;\n\n      if (isValidUnicodeProperty(this.ecmaVersion, \"General_Category\", nameOrValue)) {\n        this._lastKeyValue = \"General_Category\";\n        this._lastValValue = nameOrValue;\n        return true;\n      }\n\n      if (isValidLoneUnicodeProperty(this.ecmaVersion, nameOrValue)) {\n        this._lastKeyValue = nameOrValue;\n        this._lastValValue = \"\";\n        return true;\n      }\n\n      this.raise(\"Invalid property name\");\n    }\n\n    return false;\n  }\n\n  eatUnicodePropertyName() {\n    this._lastStrValue = \"\";\n\n    while (isUnicodePropertyNameCharacter(this.currentCodePoint)) {\n      this._lastStrValue += String.fromCodePoint(this.currentCodePoint);\n      this.advance();\n    }\n\n    return this._lastStrValue !== \"\";\n  }\n\n  eatUnicodePropertyValue() {\n    this._lastStrValue = \"\";\n\n    while (isUnicodePropertyValueCharacter(this.currentCodePoint)) {\n      this._lastStrValue += String.fromCodePoint(this.currentCodePoint);\n      this.advance();\n    }\n\n    return this._lastStrValue !== \"\";\n  }\n\n  eatLoneUnicodePropertyNameOrValue() {\n    return this.eatUnicodePropertyValue();\n  }\n\n  eatHexEscapeSequence() {\n    const start = this.index;\n\n    if (this.eat(LatinSmallLetterX)) {\n      if (this.eatFixedHexDigits(2)) {\n        return true;\n      }\n\n      if (this._uFlag || this.strict) {\n        this.raise(\"Invalid escape\");\n      }\n\n      this.rewind(start);\n    }\n\n    return false;\n  }\n\n  eatDecimalDigits() {\n    const start = this.index;\n    this._lastIntValue = 0;\n\n    while (isDecimalDigit(this.currentCodePoint)) {\n      this._lastIntValue = 10 * this._lastIntValue + digitToInt(this.currentCodePoint);\n      this.advance();\n    }\n\n    return this.index !== start;\n  }\n\n  eatHexDigits() {\n    const start = this.index;\n    this._lastIntValue = 0;\n\n    while (isHexDigit(this.currentCodePoint)) {\n      this._lastIntValue = 16 * this._lastIntValue + digitToInt(this.currentCodePoint);\n      this.advance();\n    }\n\n    return this.index !== start;\n  }\n\n  eatLegacyOctalEscapeSequence() {\n    if (this.eatOctalDigit()) {\n      const n1 = this._lastIntValue;\n\n      if (this.eatOctalDigit()) {\n        const n2 = this._lastIntValue;\n\n        if (n1 <= 3 && this.eatOctalDigit()) {\n          this._lastIntValue = n1 * 64 + n2 * 8 + this._lastIntValue;\n        } else {\n          this._lastIntValue = n1 * 8 + n2;\n        }\n      } else {\n        this._lastIntValue = n1;\n      }\n\n      return true;\n    }\n\n    return false;\n  }\n\n  eatOctalDigit() {\n    const cp = this.currentCodePoint;\n\n    if (isOctalDigit(cp)) {\n      this.advance();\n      this._lastIntValue = cp - DigitZero;\n      return true;\n    }\n\n    this._lastIntValue = 0;\n    return false;\n  }\n\n  eatFixedHexDigits(length) {\n    const start = this.index;\n    this._lastIntValue = 0;\n\n    for (let i = 0; i < length; ++i) {\n      const cp = this.currentCodePoint;\n\n      if (!isHexDigit(cp)) {\n        this.rewind(start);\n        return false;\n      }\n\n      this._lastIntValue = 16 * this._lastIntValue + digitToInt(cp);\n      this.advance();\n    }\n\n    return true;\n  }\n\n}\n\nconst DummyPattern = {};\nconst DummyFlags = {};\nconst DummyCapturingGroup = {};\n\nclass RegExpParserState {\n  constructor(options) {\n    this._node = DummyPattern;\n    this._flags = DummyFlags;\n    this._backreferences = [];\n    this._capturingGroups = [];\n    this.source = \"\";\n    this.strict = Boolean(options && options.strict);\n    this.ecmaVersion = options && options.ecmaVersion || 2020;\n  }\n\n  get pattern() {\n    if (this._node.type !== \"Pattern\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    return this._node;\n  }\n\n  get flags() {\n    if (this._flags.type !== \"Flags\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    return this._flags;\n  }\n\n  onFlags(start, end, global, ignoreCase, multiline, unicode, sticky, dotAll) {\n    this._flags = {\n      type: \"Flags\",\n      parent: null,\n      start,\n      end,\n      raw: this.source.slice(start, end),\n      global,\n      ignoreCase,\n      multiline,\n      unicode,\n      sticky,\n      dotAll\n    };\n  }\n\n  onPatternEnter(start) {\n    this._node = {\n      type: \"Pattern\",\n      parent: null,\n      start,\n      end: start,\n      raw: \"\",\n      alternatives: []\n    };\n    this._backreferences.length = 0;\n    this._capturingGroups.length = 0;\n  }\n\n  onPatternLeave(start, end) {\n    this._node.end = end;\n    this._node.raw = this.source.slice(start, end);\n\n    for (const reference of this._backreferences) {\n      const ref = reference.ref;\n      const group = typeof ref === \"number\" ? this._capturingGroups[ref - 1] : this._capturingGroups.find(g => g.name === ref);\n      reference.resolved = group;\n      group.references.push(reference);\n    }\n  }\n\n  onAlternativeEnter(start) {\n    const parent = this._node;\n\n    if (parent.type !== \"Assertion\" && parent.type !== \"CapturingGroup\" && parent.type !== \"Group\" && parent.type !== \"Pattern\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    this._node = {\n      type: \"Alternative\",\n      parent,\n      start,\n      end: start,\n      raw: \"\",\n      elements: []\n    };\n    parent.alternatives.push(this._node);\n  }\n\n  onAlternativeLeave(start, end) {\n    const node = this._node;\n\n    if (node.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    node.end = end;\n    node.raw = this.source.slice(start, end);\n    this._node = node.parent;\n  }\n\n  onGroupEnter(start) {\n    const parent = this._node;\n\n    if (parent.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    this._node = {\n      type: \"Group\",\n      parent,\n      start,\n      end: start,\n      raw: \"\",\n      alternatives: []\n    };\n    parent.elements.push(this._node);\n  }\n\n  onGroupLeave(start, end) {\n    const node = this._node;\n\n    if (node.type !== \"Group\" || node.parent.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    node.end = end;\n    node.raw = this.source.slice(start, end);\n    this._node = node.parent;\n  }\n\n  onCapturingGroupEnter(start, name) {\n    const parent = this._node;\n\n    if (parent.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    this._node = {\n      type: \"CapturingGroup\",\n      parent,\n      start,\n      end: start,\n      raw: \"\",\n      name,\n      alternatives: [],\n      references: []\n    };\n    parent.elements.push(this._node);\n\n    this._capturingGroups.push(this._node);\n  }\n\n  onCapturingGroupLeave(start, end) {\n    const node = this._node;\n\n    if (node.type !== \"CapturingGroup\" || node.parent.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    node.end = end;\n    node.raw = this.source.slice(start, end);\n    this._node = node.parent;\n  }\n\n  onQuantifier(start, end, min, max, greedy) {\n    const parent = this._node;\n\n    if (parent.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    const element = parent.elements.pop();\n\n    if (element == null || element.type === \"Quantifier\" || element.type === \"Assertion\" && element.kind !== \"lookahead\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    const node = {\n      type: \"Quantifier\",\n      parent,\n      start: element.start,\n      end,\n      raw: this.source.slice(element.start, end),\n      min,\n      max,\n      greedy,\n      element\n    };\n    parent.elements.push(node);\n    element.parent = node;\n  }\n\n  onLookaroundAssertionEnter(start, kind, negate) {\n    const parent = this._node;\n\n    if (parent.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    const node = this._node = {\n      type: \"Assertion\",\n      parent,\n      start,\n      end: start,\n      raw: \"\",\n      kind,\n      negate,\n      alternatives: []\n    };\n    parent.elements.push(node);\n  }\n\n  onLookaroundAssertionLeave(start, end) {\n    const node = this._node;\n\n    if (node.type !== \"Assertion\" || node.parent.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    node.end = end;\n    node.raw = this.source.slice(start, end);\n    this._node = node.parent;\n  }\n\n  onEdgeAssertion(start, end, kind) {\n    const parent = this._node;\n\n    if (parent.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    parent.elements.push({\n      type: \"Assertion\",\n      parent,\n      start,\n      end,\n      raw: this.source.slice(start, end),\n      kind\n    });\n  }\n\n  onWordBoundaryAssertion(start, end, kind, negate) {\n    const parent = this._node;\n\n    if (parent.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    parent.elements.push({\n      type: \"Assertion\",\n      parent,\n      start,\n      end,\n      raw: this.source.slice(start, end),\n      kind,\n      negate\n    });\n  }\n\n  onAnyCharacterSet(start, end, kind) {\n    const parent = this._node;\n\n    if (parent.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    parent.elements.push({\n      type: \"CharacterSet\",\n      parent,\n      start,\n      end,\n      raw: this.source.slice(start, end),\n      kind\n    });\n  }\n\n  onEscapeCharacterSet(start, end, kind, negate) {\n    const parent = this._node;\n\n    if (parent.type !== \"Alternative\" && parent.type !== \"CharacterClass\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    parent.elements.push({\n      type: \"CharacterSet\",\n      parent,\n      start,\n      end,\n      raw: this.source.slice(start, end),\n      kind,\n      negate\n    });\n  }\n\n  onUnicodePropertyCharacterSet(start, end, kind, key, value, negate) {\n    const parent = this._node;\n\n    if (parent.type !== \"Alternative\" && parent.type !== \"CharacterClass\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    parent.elements.push({\n      type: \"CharacterSet\",\n      parent,\n      start,\n      end,\n      raw: this.source.slice(start, end),\n      kind,\n      key,\n      value,\n      negate\n    });\n  }\n\n  onCharacter(start, end, value) {\n    const parent = this._node;\n\n    if (parent.type !== \"Alternative\" && parent.type !== \"CharacterClass\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    parent.elements.push({\n      type: \"Character\",\n      parent,\n      start,\n      end,\n      raw: this.source.slice(start, end),\n      value\n    });\n  }\n\n  onBackreference(start, end, ref) {\n    const parent = this._node;\n\n    if (parent.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    const node = {\n      type: \"Backreference\",\n      parent,\n      start,\n      end,\n      raw: this.source.slice(start, end),\n      ref,\n      resolved: DummyCapturingGroup\n    };\n    parent.elements.push(node);\n\n    this._backreferences.push(node);\n  }\n\n  onCharacterClassEnter(start, negate) {\n    const parent = this._node;\n\n    if (parent.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    this._node = {\n      type: \"CharacterClass\",\n      parent,\n      start,\n      end: start,\n      raw: \"\",\n      negate,\n      elements: []\n    };\n    parent.elements.push(this._node);\n  }\n\n  onCharacterClassLeave(start, end) {\n    const node = this._node;\n\n    if (node.type !== \"CharacterClass\" || node.parent.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    node.end = end;\n    node.raw = this.source.slice(start, end);\n    this._node = node.parent;\n  }\n\n  onCharacterClassRange(start, end) {\n    const parent = this._node;\n\n    if (parent.type !== \"CharacterClass\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    const elements = parent.elements;\n    const max = elements.pop();\n    const hyphen = elements.pop();\n    const min = elements.pop();\n\n    if (!min || !max || !hyphen || min.type !== \"Character\" || max.type !== \"Character\" || hyphen.type !== \"Character\" || hyphen.value !== HyphenMinus) {\n      throw new Error(\"UnknownError\");\n    }\n\n    const node = {\n      type: \"CharacterClassRange\",\n      parent,\n      start,\n      end,\n      raw: this.source.slice(start, end),\n      min,\n      max\n    };\n    min.parent = node;\n    max.parent = node;\n    elements.push(node);\n  }\n\n}\n\nclass RegExpParser {\n  constructor(options) {\n    this._state = new RegExpParserState(options);\n    this._validator = new RegExpValidator(this._state);\n  }\n\n  parseLiteral(source, start = 0, end = source.length) {\n    this._state.source = source;\n\n    this._validator.validateLiteral(source, start, end);\n\n    const pattern = this._state.pattern;\n    const flags = this._state.flags;\n    const literal = {\n      type: \"RegExpLiteral\",\n      parent: null,\n      start,\n      end,\n      raw: source,\n      pattern,\n      flags\n    };\n    pattern.parent = literal;\n    flags.parent = literal;\n    return literal;\n  }\n\n  parseFlags(source, start = 0, end = source.length) {\n    this._state.source = source;\n\n    this._validator.validateFlags(source, start, end);\n\n    return this._state.flags;\n  }\n\n  parsePattern(source, start = 0, end = source.length, uFlag = false) {\n    this._state.source = source;\n\n    this._validator.validatePattern(source, start, end, uFlag);\n\n    return this._state.pattern;\n  }\n\n}\n\nclass RegExpVisitor {\n  constructor(handlers) {\n    this._handlers = handlers;\n  }\n\n  visit(node) {\n    switch (node.type) {\n      case \"Alternative\":\n        this.visitAlternative(node);\n        break;\n\n      case \"Assertion\":\n        this.visitAssertion(node);\n        break;\n\n      case \"Backreference\":\n        this.visitBackreference(node);\n        break;\n\n      case \"CapturingGroup\":\n        this.visitCapturingGroup(node);\n        break;\n\n      case \"Character\":\n        this.visitCharacter(node);\n        break;\n\n      case \"CharacterClass\":\n        this.visitCharacterClass(node);\n        break;\n\n      case \"CharacterClassRange\":\n        this.visitCharacterClassRange(node);\n        break;\n\n      case \"CharacterSet\":\n        this.visitCharacterSet(node);\n        break;\n\n      case \"Flags\":\n        this.visitFlags(node);\n        break;\n\n      case \"Group\":\n        this.visitGroup(node);\n        break;\n\n      case \"Pattern\":\n        this.visitPattern(node);\n        break;\n\n      case \"Quantifier\":\n        this.visitQuantifier(node);\n        break;\n\n      case \"RegExpLiteral\":\n        this.visitRegExpLiteral(node);\n        break;\n\n      default:\n        throw new Error(`Unknown type: ${node.type}`);\n    }\n  }\n\n  visitAlternative(node) {\n    if (this._handlers.onAlternativeEnter) {\n      this._handlers.onAlternativeEnter(node);\n    }\n\n    node.elements.forEach(this.visit, this);\n\n    if (this._handlers.onAlternativeLeave) {\n      this._handlers.onAlternativeLeave(node);\n    }\n  }\n\n  visitAssertion(node) {\n    if (this._handlers.onAssertionEnter) {\n      this._handlers.onAssertionEnter(node);\n    }\n\n    if (node.kind === \"lookahead\" || node.kind === \"lookbehind\") {\n      node.alternatives.forEach(this.visit, this);\n    }\n\n    if (this._handlers.onAssertionLeave) {\n      this._handlers.onAssertionLeave(node);\n    }\n  }\n\n  visitBackreference(node) {\n    if (this._handlers.onBackreferenceEnter) {\n      this._handlers.onBackreferenceEnter(node);\n    }\n\n    if (this._handlers.onBackreferenceLeave) {\n      this._handlers.onBackreferenceLeave(node);\n    }\n  }\n\n  visitCapturingGroup(node) {\n    if (this._handlers.onCapturingGroupEnter) {\n      this._handlers.onCapturingGroupEnter(node);\n    }\n\n    node.alternatives.forEach(this.visit, this);\n\n    if (this._handlers.onCapturingGroupLeave) {\n      this._handlers.onCapturingGroupLeave(node);\n    }\n  }\n\n  visitCharacter(node) {\n    if (this._handlers.onCharacterEnter) {\n      this._handlers.onCharacterEnter(node);\n    }\n\n    if (this._handlers.onCharacterLeave) {\n      this._handlers.onCharacterLeave(node);\n    }\n  }\n\n  visitCharacterClass(node) {\n    if (this._handlers.onCharacterClassEnter) {\n      this._handlers.onCharacterClassEnter(node);\n    }\n\n    node.elements.forEach(this.visit, this);\n\n    if (this._handlers.onCharacterClassLeave) {\n      this._handlers.onCharacterClassLeave(node);\n    }\n  }\n\n  visitCharacterClassRange(node) {\n    if (this._handlers.onCharacterClassRangeEnter) {\n      this._handlers.onCharacterClassRangeEnter(node);\n    }\n\n    this.visitCharacter(node.min);\n    this.visitCharacter(node.max);\n\n    if (this._handlers.onCharacterClassRangeLeave) {\n      this._handlers.onCharacterClassRangeLeave(node);\n    }\n  }\n\n  visitCharacterSet(node) {\n    if (this._handlers.onCharacterSetEnter) {\n      this._handlers.onCharacterSetEnter(node);\n    }\n\n    if (this._handlers.onCharacterSetLeave) {\n      this._handlers.onCharacterSetLeave(node);\n    }\n  }\n\n  visitFlags(node) {\n    if (this._handlers.onFlagsEnter) {\n      this._handlers.onFlagsEnter(node);\n    }\n\n    if (this._handlers.onFlagsLeave) {\n      this._handlers.onFlagsLeave(node);\n    }\n  }\n\n  visitGroup(node) {\n    if (this._handlers.onGroupEnter) {\n      this._handlers.onGroupEnter(node);\n    }\n\n    node.alternatives.forEach(this.visit, this);\n\n    if (this._handlers.onGroupLeave) {\n      this._handlers.onGroupLeave(node);\n    }\n  }\n\n  visitPattern(node) {\n    if (this._handlers.onPatternEnter) {\n      this._handlers.onPatternEnter(node);\n    }\n\n    node.alternatives.forEach(this.visit, this);\n\n    if (this._handlers.onPatternLeave) {\n      this._handlers.onPatternLeave(node);\n    }\n  }\n\n  visitQuantifier(node) {\n    if (this._handlers.onQuantifierEnter) {\n      this._handlers.onQuantifierEnter(node);\n    }\n\n    this.visit(node.element);\n\n    if (this._handlers.onQuantifierLeave) {\n      this._handlers.onQuantifierLeave(node);\n    }\n  }\n\n  visitRegExpLiteral(node) {\n    if (this._handlers.onRegExpLiteralEnter) {\n      this._handlers.onRegExpLiteralEnter(node);\n    }\n\n    this.visitPattern(node.pattern);\n    this.visitFlags(node.flags);\n\n    if (this._handlers.onRegExpLiteralLeave) {\n      this._handlers.onRegExpLiteralLeave(node);\n    }\n  }\n\n}\n\nfunction parseRegExpLiteral(source, options) {\n  return new RegExpParser(options).parseLiteral(String(source));\n}\n\nfunction validateRegExpLiteral(source, options) {\n  return new RegExpValidator(options).validateLiteral(source);\n}\n\nfunction visitRegExpAST(node, handlers) {\n  new RegExpVisitor(handlers).visit(node);\n}\n\nexport { ast as AST, RegExpParser, RegExpValidator, parseRegExpLiteral, validateRegExpLiteral, visitRegExpAST };","map":{"version":3,"sources":[".temp/unicode/src/unicode/ids.ts",".temp/unicode/src/unicode/properties.ts",".temp/unicode/src/unicode/index.ts",".temp/src/reader.ts",".temp/src/regexp-syntax-error.ts",".temp/src/validator.ts",".temp/src/parser.ts",".temp/src/visitor.ts",".temp/src/index.ts"],"names":[],"mappings":"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","sourcesContent":["/*! @author Toru Nagashima <https://github.com/mysticatea> */\n\n\nvar ast = /*#__PURE__*/Object.freeze({\n\n});\n\nlet largeIdStartRanges = undefined;\nlet largeIdContinueRanges = undefined;\nfunction isIdStart(cp) {\n    if (cp < 0x41)\n        return false;\n    if (cp < 0x5b)\n        return true;\n    if (cp < 0x61)\n        return false;\n    if (cp < 0x7b)\n        return true;\n    return isLargeIdStart(cp);\n}\nfunction isIdContinue(cp) {\n    if (cp < 0x30)\n        return false;\n    if (cp < 0x3a)\n        return true;\n    if (cp < 0x41)\n        return false;\n    if (cp < 0x5b)\n        return true;\n    if (cp === 0x5f)\n        return true;\n    if (cp < 0x61)\n        return false;\n    if (cp < 0x7b)\n        return true;\n    return isLargeIdStart(cp) || isLargeIdContinue(cp);\n}\nfunction isLargeIdStart(cp) {\n    return isInRange(cp, largeIdStartRanges || (largeIdStartRanges = initLargeIdStartRanges()));\n}\nfunction isLargeIdContinue(cp) {\n    return isInRange(cp, largeIdContinueRanges ||\n        (largeIdContinueRanges = initLargeIdContinueRanges()));\n}\nfunction initLargeIdStartRanges() {\n    return restoreRanges(\"170 0 11 0 5 0 6 22 2 30 2 457 5 11 15 4 8 0 2 0 130 4 2 1 3 3 2 0 7 0 2 2 2 0 2 19 2 82 2 138 9 165 2 37 3 0 7 40 72 26 5 3 46 42 36 1 2 98 2 0 16 1 8 1 11 2 3 0 17 0 2 29 30 88 12 0 25 32 10 1 5 0 6 21 5 0 10 0 4 0 24 24 8 10 54 20 2 17 61 53 4 0 19 0 8 9 16 15 5 7 3 1 3 21 2 6 2 0 4 3 4 0 17 0 14 1 2 2 15 1 11 0 9 5 5 1 3 21 2 6 2 1 2 1 2 1 32 3 2 0 20 2 17 8 2 2 2 21 2 6 2 1 2 4 4 0 19 0 16 1 24 0 12 7 3 1 3 21 2 6 2 1 2 4 4 0 31 1 2 2 16 0 18 0 2 5 4 2 2 3 4 1 2 0 2 1 4 1 4 2 4 11 23 0 53 7 2 2 2 22 2 15 4 0 27 2 6 1 31 0 5 7 2 2 2 22 2 9 2 4 4 0 33 0 2 1 16 1 18 8 2 2 2 40 3 0 17 0 6 2 9 2 25 5 6 17 4 23 2 8 2 0 3 6 59 47 2 1 13 6 59 1 2 0 2 4 2 23 2 0 2 9 2 1 10 0 3 4 2 0 22 3 33 0 64 7 2 35 28 4 116 42 21 0 17 5 5 3 4 0 4 1 8 2 5 12 13 0 18 37 2 0 6 0 3 42 2 332 2 3 3 6 2 0 2 3 3 40 2 3 3 32 2 3 3 6 2 0 2 3 3 14 2 56 2 3 3 66 38 15 17 85 3 5 4 619 3 16 2 25 6 74 4 10 8 12 2 3 15 17 15 17 15 12 2 2 16 51 36 0 5 0 68 88 8 40 2 0 6 69 11 30 50 29 3 4 12 43 5 25 55 22 10 52 83 0 94 46 18 6 56 29 14 1 11 43 27 35 42 2 11 35 3 8 8 42 3 2 42 3 2 5 2 1 4 0 6 191 65 277 3 5 3 37 3 5 3 7 2 0 2 0 2 0 2 30 3 52 2 6 2 0 4 2 2 6 4 3 3 5 5 12 6 2 2 6 117 0 14 0 17 12 102 0 5 0 3 9 2 0 3 5 7 0 2 0 2 0 2 15 3 3 6 4 5 0 18 40 2680 46 2 46 2 132 7 3 4 1 13 37 2 0 6 0 3 55 8 0 17 22 10 6 2 6 2 6 2 6 2 6 2 6 2 6 2 6 551 2 26 8 8 4 3 4 5 85 5 4 2 89 2 3 6 42 2 93 18 31 49 15 513 6591 65 20988 4 1164 68 45 3 268 4 15 11 1 21 46 17 30 3 79 40 8 3 102 3 52 3 8 43 12 2 2 2 3 2 22 30 51 15 49 63 5 4 0 2 1 12 27 11 22 26 28 8 46 29 0 17 4 2 9 11 4 2 40 24 2 2 7 21 22 4 0 4 49 2 0 4 1 3 4 3 0 2 0 25 2 3 10 8 2 13 5 3 5 3 5 10 6 2 6 2 42 2 13 7 114 30 11171 13 22 5 48 8453 365 3 105 39 6 13 4 6 0 2 9 2 12 2 4 2 0 2 1 2 1 2 107 34 362 19 63 3 53 41 11 117 4 2 134 37 25 7 25 12 88 4 5 3 5 3 5 3 2 36 11 2 25 2 18 2 1 2 14 3 13 35 122 70 52 268 28 4 48 48 31 14 29 6 37 11 29 3 35 5 7 2 4 43 157 19 35 5 35 5 39 9 51 157 310 10 21 11 7 153 5 3 0 2 43 2 1 4 0 3 22 11 22 10 30 66 18 2 1 11 21 11 25 71 55 7 1 65 0 16 3 2 2 2 28 43 28 4 28 36 7 2 27 28 53 11 21 11 18 14 17 111 72 56 50 14 50 14 35 349 41 7 1 79 28 11 0 9 21 107 20 28 22 13 52 76 44 33 24 27 35 30 0 3 0 9 34 4 0 13 47 15 3 22 0 2 0 36 17 2 24 85 6 2 0 2 3 2 14 2 9 8 46 39 7 3 1 3 21 2 6 2 1 2 4 4 0 19 0 13 4 159 52 19 3 21 2 31 47 21 1 2 0 185 46 42 3 37 47 21 0 60 42 14 0 72 26 230 43 117 63 32 7 3 0 3 7 2 1 2 23 16 0 2 0 95 7 3 38 17 0 2 0 29 0 11 39 8 0 22 0 12 45 20 0 35 56 264 8 2 36 18 0 50 29 113 6 2 1 2 37 22 0 26 5 2 1 2 31 15 0 328 18 190 0 80 921 103 110 18 195 2749 1070 4050 582 8634 568 8 30 114 29 19 47 17 3 32 20 6 18 689 63 129 74 6 0 67 12 65 1 2 0 29 6135 9 1237 43 8 8952 286 50 2 18 3 9 395 2309 106 6 12 4 8 8 9 5991 84 2 70 2 1 3 0 3 1 3 3 2 11 2 0 2 6 2 64 2 3 3 7 2 6 2 27 2 3 2 4 2 0 4 6 2 339 3 24 2 24 2 30 2 24 2 30 2 24 2 30 2 24 2 30 2 24 2 7 2357 44 11 6 17 0 370 43 1301 196 60 67 8 0 1205 3 2 26 2 1 2 0 3 0 2 9 2 3 2 0 2 0 7 0 5 0 2 0 2 0 2 2 2 1 2 0 3 0 2 0 2 0 2 0 2 0 2 1 2 0 3 3 2 6 2 3 2 3 2 0 2 9 2 16 6 2 2 4 2 16 4421 42717 35 4148 12 221 3 5761 15 7472 3104 541 1507 4938\");\n}\nfunction initLargeIdContinueRanges() {\n    return restoreRanges(\"183 0 585 111 24 0 252 4 266 44 2 0 2 1 2 1 2 0 73 10 49 30 7 0 102 6 3 5 3 1 2 3 3 9 24 0 31 26 92 10 16 9 34 8 10 0 25 3 2 8 2 2 2 4 44 2 120 14 2 32 55 2 2 17 2 6 11 1 3 9 18 2 57 0 2 6 3 1 3 2 10 0 11 1 3 9 15 0 3 2 57 0 2 4 5 1 3 2 4 0 21 11 4 0 12 2 57 0 2 7 2 2 2 2 21 1 3 9 11 5 2 2 57 0 2 6 3 1 3 2 8 2 11 1 3 9 19 0 60 4 4 2 2 3 10 0 15 9 17 4 58 6 2 2 2 3 8 1 12 1 3 9 18 2 57 0 2 6 2 2 2 3 8 1 12 1 3 9 17 3 56 1 2 6 2 2 2 3 10 0 11 1 3 9 18 2 71 0 5 5 2 0 2 7 7 9 3 1 62 0 3 6 13 7 2 9 88 0 3 8 12 5 3 9 63 1 7 9 12 0 2 0 2 0 5 1 50 19 2 1 6 10 2 35 10 0 101 19 2 9 13 3 5 2 2 2 3 6 4 3 14 11 2 14 704 2 10 8 929 2 30 2 30 1 31 1 65 31 10 0 3 9 34 2 3 9 144 0 119 11 5 11 11 9 129 10 61 4 58 9 2 28 3 10 7 9 23 13 2 1 64 4 48 16 12 9 18 8 13 2 31 12 3 9 45 13 49 19 9 9 7 9 119 2 2 20 5 0 7 0 3 2 199 57 2 4 576 1 20 0 124 12 5 0 4 11 3071 2 142 0 97 31 555 5 106 1 30086 9 70 0 5 9 33 1 81 1 273 0 4 0 5 0 24 4 5 0 84 1 51 17 11 9 7 17 14 10 29 7 26 12 45 3 48 13 16 9 12 0 11 9 48 13 13 0 9 1 3 9 34 2 51 0 2 2 3 1 6 1 2 0 42 4 6 1 237 7 2 1 3 9 20261 0 738 15 17 15 4 1 25 2 193 9 38 0 702 0 227 0 150 4 294 9 1368 2 2 1 6 3 41 2 5 0 166 1 574 3 9 9 370 1 154 10 176 2 54 14 32 9 16 3 46 10 54 9 7 2 37 13 2 9 6 1 45 0 13 2 49 13 9 3 2 11 83 11 7 0 161 11 6 9 7 3 56 1 2 6 3 1 3 2 10 0 11 1 3 6 4 4 193 17 10 9 5 0 82 19 13 9 214 6 3 8 28 1 83 16 16 9 82 12 9 9 84 14 5 9 243 14 166 9 71 5 2 1 3 3 2 0 2 1 13 9 120 6 3 6 4 0 29 9 41 6 2 3 9 0 10 10 47 15 406 7 2 7 17 9 57 21 2 13 123 5 4 0 2 1 2 6 2 0 9 9 49 4 2 1 2 4 9 9 330 3 19306 9 135 4 60 6 26 9 1014 0 2 54 8 3 82 0 12 1 19628 1 5319 4 4 5 9 7 3 6 31 3 149 2 1418 49 513 54 5 49 9 0 15 0 23 4 2 14 1361 6 2 16 3 6 2 1 2 4 262 6 10 9 419 13 1495 6 110 6 6 9 4759 9 787719 239\");\n}\nfunction isInRange(cp, ranges) {\n    let l = 0, r = (ranges.length / 2) | 0, i = 0, min = 0, max = 0;\n    while (l < r) {\n        i = ((l + r) / 2) | 0;\n        min = ranges[2 * i];\n        max = ranges[2 * i + 1];\n        if (cp < min) {\n            r = i;\n        }\n        else if (cp > max) {\n            l = i + 1;\n        }\n        else {\n            return true;\n        }\n    }\n    return false;\n}\nfunction restoreRanges(data) {\n    let last = 0;\n    return data.split(\" \").map(s => (last += parseInt(s, 10) | 0));\n}\n\nclass DataSet {\n    constructor(raw2018, raw2019, raw2020) {\n        this._raw2018 = raw2018;\n        this._raw2019 = raw2019;\n        this._raw2020 = raw2020;\n    }\n    get es2018() {\n        return (this._set2018 || (this._set2018 = new Set(this._raw2018.split(\" \"))));\n    }\n    get es2019() {\n        return (this._set2019 || (this._set2019 = new Set(this._raw2019.split(\" \"))));\n    }\n    get es2020() {\n        return (this._set2020 || (this._set2020 = new Set(this._raw2020.split(\" \"))));\n    }\n}\nconst gcNameSet = new Set([\"General_Category\", \"gc\"]);\nconst scNameSet = new Set([\"Script\", \"Script_Extensions\", \"sc\", \"scx\"]);\nconst gcValueSets = new DataSet(\"C Cased_Letter Cc Cf Close_Punctuation Cn Co Combining_Mark Connector_Punctuation Control Cs Currency_Symbol Dash_Punctuation Decimal_Number Enclosing_Mark Final_Punctuation Format Initial_Punctuation L LC Letter Letter_Number Line_Separator Ll Lm Lo Lowercase_Letter Lt Lu M Mark Math_Symbol Mc Me Mn Modifier_Letter Modifier_Symbol N Nd Nl No Nonspacing_Mark Number Open_Punctuation Other Other_Letter Other_Number Other_Punctuation Other_Symbol P Paragraph_Separator Pc Pd Pe Pf Pi Po Private_Use Ps Punctuation S Sc Separator Sk Sm So Space_Separator Spacing_Mark Surrogate Symbol Titlecase_Letter Unassigned Uppercase_Letter Z Zl Zp Zs cntrl digit punct\", \"\", \"\");\nconst scValueSets = new DataSet(\"Adlam Adlm Aghb Ahom Anatolian_Hieroglyphs Arab Arabic Armenian Armi Armn Avestan Avst Bali Balinese Bamu Bamum Bass Bassa_Vah Batak Batk Beng Bengali Bhaiksuki Bhks Bopo Bopomofo Brah Brahmi Brai Braille Bugi Buginese Buhd Buhid Cakm Canadian_Aboriginal Cans Cari Carian Caucasian_Albanian Chakma Cham Cher Cherokee Common Copt Coptic Cprt Cuneiform Cypriot Cyrillic Cyrl Deseret Deva Devanagari Dsrt Dupl Duployan Egyp Egyptian_Hieroglyphs Elba Elbasan Ethi Ethiopic Geor Georgian Glag Glagolitic Gonm Goth Gothic Gran Grantha Greek Grek Gujarati Gujr Gurmukhi Guru Han Hang Hangul Hani Hano Hanunoo Hatr Hatran Hebr Hebrew Hira Hiragana Hluw Hmng Hung Imperial_Aramaic Inherited Inscriptional_Pahlavi Inscriptional_Parthian Ital Java Javanese Kaithi Kali Kana Kannada Katakana Kayah_Li Khar Kharoshthi Khmer Khmr Khoj Khojki Khudawadi Knda Kthi Lana Lao Laoo Latin Latn Lepc Lepcha Limb Limbu Lina Linb Linear_A Linear_B Lisu Lyci Lycian Lydi Lydian Mahajani Mahj Malayalam Mand Mandaic Mani Manichaean Marc Marchen Masaram_Gondi Meetei_Mayek Mend Mende_Kikakui Merc Mero Meroitic_Cursive Meroitic_Hieroglyphs Miao Mlym Modi Mong Mongolian Mro Mroo Mtei Mult Multani Myanmar Mymr Nabataean Narb Nbat New_Tai_Lue Newa Nko Nkoo Nshu Nushu Ogam Ogham Ol_Chiki Olck Old_Hungarian Old_Italic Old_North_Arabian Old_Permic Old_Persian Old_South_Arabian Old_Turkic Oriya Orkh Orya Osage Osge Osma Osmanya Pahawh_Hmong Palm Palmyrene Pau_Cin_Hau Pauc Perm Phag Phags_Pa Phli Phlp Phnx Phoenician Plrd Prti Psalter_Pahlavi Qaac Qaai Rejang Rjng Runic Runr Samaritan Samr Sarb Saur Saurashtra Sgnw Sharada Shavian Shaw Shrd Sidd Siddham SignWriting Sind Sinh Sinhala Sora Sora_Sompeng Soyo Soyombo Sund Sundanese Sylo Syloti_Nagri Syrc Syriac Tagalog Tagb Tagbanwa Tai_Le Tai_Tham Tai_Viet Takr Takri Tale Talu Tamil Taml Tang Tangut Tavt Telu Telugu Tfng Tglg Thaa Thaana Thai Tibetan Tibt Tifinagh Tirh Tirhuta Ugar Ugaritic Vai Vaii Wara Warang_Citi Xpeo Xsux Yi Yiii Zanabazar_Square Zanb Zinh Zyyy\", \"Dogr Dogra Gong Gunjala_Gondi Hanifi_Rohingya Maka Makasar Medefaidrin Medf Old_Sogdian Rohg Sogd Sogdian Sogo\", \"Elym Elymaic Hmnp Nand Nandinagari Nyiakeng_Puachue_Hmong Wancho Wcho\");\nconst binPropertySets = new DataSet(\"AHex ASCII ASCII_Hex_Digit Alpha Alphabetic Any Assigned Bidi_C Bidi_Control Bidi_M Bidi_Mirrored CI CWCF CWCM CWKCF CWL CWT CWU Case_Ignorable Cased Changes_When_Casefolded Changes_When_Casemapped Changes_When_Lowercased Changes_When_NFKC_Casefolded Changes_When_Titlecased Changes_When_Uppercased DI Dash Default_Ignorable_Code_Point Dep Deprecated Dia Diacritic Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Ext Extender Gr_Base Gr_Ext Grapheme_Base Grapheme_Extend Hex Hex_Digit IDC IDS IDSB IDST IDS_Binary_Operator IDS_Trinary_Operator ID_Continue ID_Start Ideo Ideographic Join_C Join_Control LOE Logical_Order_Exception Lower Lowercase Math NChar Noncharacter_Code_Point Pat_Syn Pat_WS Pattern_Syntax Pattern_White_Space QMark Quotation_Mark RI Radical Regional_Indicator SD STerm Sentence_Terminal Soft_Dotted Term Terminal_Punctuation UIdeo Unified_Ideograph Upper Uppercase VS Variation_Selector White_Space XIDC XIDS XID_Continue XID_Start space\", \"Extended_Pictographic\", \"\");\nfunction isValidUnicodeProperty(version, name, value) {\n    if (gcNameSet.has(name)) {\n        return version >= 2018 && gcValueSets.es2018.has(value);\n    }\n    if (scNameSet.has(name)) {\n        return ((version >= 2018 && scValueSets.es2018.has(value)) ||\n            (version >= 2019 && scValueSets.es2019.has(value)) ||\n            (version >= 2020 && scValueSets.es2020.has(value)));\n    }\n    return false;\n}\nfunction isValidLoneUnicodeProperty(version, value) {\n    return ((version >= 2018 && binPropertySets.es2018.has(value)) ||\n        (version >= 2019 && binPropertySets.es2019.has(value)));\n}\n\nconst Backspace = 0x08;\nconst CharacterTabulation = 0x09;\nconst LineFeed = 0x0a;\nconst LineTabulation = 0x0b;\nconst FormFeed = 0x0c;\nconst CarriageReturn = 0x0d;\nconst ExclamationMark = 0x21;\nconst DollarSign = 0x24;\nconst LeftParenthesis = 0x28;\nconst RightParenthesis = 0x29;\nconst Asterisk = 0x2a;\nconst PlusSign = 0x2b;\nconst Comma = 0x2c;\nconst HyphenMinus = 0x2d;\nconst FullStop = 0x2e;\nconst Solidus = 0x2f;\nconst DigitZero = 0x30;\nconst DigitOne = 0x31;\nconst DigitSeven = 0x37;\nconst DigitNine = 0x39;\nconst Colon = 0x3a;\nconst LessThanSign = 0x3c;\nconst EqualsSign = 0x3d;\nconst GreaterThanSign = 0x3e;\nconst QuestionMark = 0x3f;\nconst LatinCapitalLetterA = 0x41;\nconst LatinCapitalLetterB = 0x42;\nconst LatinCapitalLetterD = 0x44;\nconst LatinCapitalLetterF = 0x46;\nconst LatinCapitalLetterP = 0x50;\nconst LatinCapitalLetterS = 0x53;\nconst LatinCapitalLetterW = 0x57;\nconst LatinCapitalLetterZ = 0x5a;\nconst LowLine = 0x5f;\nconst LatinSmallLetterA = 0x61;\nconst LatinSmallLetterB = 0x62;\nconst LatinSmallLetterC = 0x63;\nconst LatinSmallLetterD = 0x64;\nconst LatinSmallLetterF = 0x66;\nconst LatinSmallLetterG = 0x67;\nconst LatinSmallLetterI = 0x69;\nconst LatinSmallLetterK = 0x6b;\nconst LatinSmallLetterM = 0x6d;\nconst LatinSmallLetterN = 0x6e;\nconst LatinSmallLetterP = 0x70;\nconst LatinSmallLetterR = 0x72;\nconst LatinSmallLetterS = 0x73;\nconst LatinSmallLetterT = 0x74;\nconst LatinSmallLetterU = 0x75;\nconst LatinSmallLetterV = 0x76;\nconst LatinSmallLetterW = 0x77;\nconst LatinSmallLetterX = 0x78;\nconst LatinSmallLetterY = 0x79;\nconst LatinSmallLetterZ = 0x7a;\nconst LeftSquareBracket = 0x5b;\nconst ReverseSolidus = 0x5c;\nconst RightSquareBracket = 0x5d;\nconst CircumflexAccent = 0x5e;\nconst LeftCurlyBracket = 0x7b;\nconst VerticalLine = 0x7c;\nconst RightCurlyBracket = 0x7d;\nconst ZeroWidthNonJoiner = 0x200c;\nconst ZeroWidthJoiner = 0x200d;\nconst LineSeparator = 0x2028;\nconst ParagraphSeparator = 0x2029;\nconst MinCodePoint = 0x00;\nconst MaxCodePoint = 0x10ffff;\nfunction isLatinLetter(code) {\n    return ((code >= LatinCapitalLetterA && code <= LatinCapitalLetterZ) ||\n        (code >= LatinSmallLetterA && code <= LatinSmallLetterZ));\n}\nfunction isDecimalDigit(code) {\n    return code >= DigitZero && code <= DigitNine;\n}\nfunction isOctalDigit(code) {\n    return code >= DigitZero && code <= DigitSeven;\n}\nfunction isHexDigit(code) {\n    return ((code >= DigitZero && code <= DigitNine) ||\n        (code >= LatinCapitalLetterA && code <= LatinCapitalLetterF) ||\n        (code >= LatinSmallLetterA && code <= LatinSmallLetterF));\n}\nfunction isLineTerminator(code) {\n    return (code === LineFeed ||\n        code === CarriageReturn ||\n        code === LineSeparator ||\n        code === ParagraphSeparator);\n}\nfunction isValidUnicode(code) {\n    return code >= MinCodePoint && code <= MaxCodePoint;\n}\nfunction digitToInt(code) {\n    if (code >= LatinSmallLetterA && code <= LatinSmallLetterF) {\n        return code - LatinSmallLetterA + 10;\n    }\n    if (code >= LatinCapitalLetterA && code <= LatinCapitalLetterF) {\n        return code - LatinCapitalLetterA + 10;\n    }\n    return code - DigitZero;\n}\nfunction isLeadSurrogate(code) {\n    return code >= 0xd800 && code <= 0xdbff;\n}\nfunction isTrailSurrogate(code) {\n    return code >= 0xdc00 && code <= 0xdfff;\n}\nfunction combineSurrogatePair(lead, trail) {\n    return (lead - 0xd800) * 0x400 + (trail - 0xdc00) + 0x10000;\n}\n\nconst legacyImpl = {\n    at(s, end, i) {\n        return i < end ? s.charCodeAt(i) : -1;\n    },\n    width(c) {\n        return 1;\n    },\n};\nconst unicodeImpl = {\n    at(s, end, i) {\n        return i < end ? s.codePointAt(i) : -1;\n    },\n    width(c) {\n        return c > 0xffff ? 2 : 1;\n    },\n};\nclass Reader {\n    constructor() {\n        this._impl = legacyImpl;\n        this._s = \"\";\n        this._i = 0;\n        this._end = 0;\n        this._cp1 = -1;\n        this._w1 = 1;\n        this._cp2 = -1;\n        this._w2 = 1;\n        this._cp3 = -1;\n        this._w3 = 1;\n        this._cp4 = -1;\n    }\n    get source() {\n        return this._s;\n    }\n    get index() {\n        return this._i;\n    }\n    get currentCodePoint() {\n        return this._cp1;\n    }\n    get nextCodePoint() {\n        return this._cp2;\n    }\n    get nextCodePoint2() {\n        return this._cp3;\n    }\n    get nextCodePoint3() {\n        return this._cp4;\n    }\n    reset(source, start, end, uFlag) {\n        this._impl = uFlag ? unicodeImpl : legacyImpl;\n        this._s = source;\n        this._end = end;\n        this.rewind(start);\n    }\n    rewind(index) {\n        const impl = this._impl;\n        this._i = index;\n        this._cp1 = impl.at(this._s, this._end, index);\n        this._w1 = impl.width(this._cp1);\n        this._cp2 = impl.at(this._s, this._end, index + this._w1);\n        this._w2 = impl.width(this._cp2);\n        this._cp3 = impl.at(this._s, this._end, index + this._w1 + this._w2);\n        this._w3 = impl.width(this._cp3);\n        this._cp4 = impl.at(this._s, this._end, index + this._w1 + this._w2 + this._w3);\n    }\n    advance() {\n        if (this._cp1 !== -1) {\n            const impl = this._impl;\n            this._i += this._w1;\n            this._cp1 = this._cp2;\n            this._w1 = this._w2;\n            this._cp2 = this._cp3;\n            this._w2 = impl.width(this._cp2);\n            this._cp3 = this._cp4;\n            this._w3 = impl.width(this._cp3);\n            this._cp4 = impl.at(this._s, this._end, this._i + this._w1 + this._w2 + this._w3);\n        }\n    }\n    eat(cp) {\n        if (this._cp1 === cp) {\n            this.advance();\n            return true;\n        }\n        return false;\n    }\n    eat2(cp1, cp2) {\n        if (this._cp1 === cp1 && this._cp2 === cp2) {\n            this.advance();\n            this.advance();\n            return true;\n        }\n        return false;\n    }\n    eat3(cp1, cp2, cp3) {\n        if (this._cp1 === cp1 && this._cp2 === cp2 && this._cp3 === cp3) {\n            this.advance();\n            this.advance();\n            this.advance();\n            return true;\n        }\n        return false;\n    }\n}\n\nclass RegExpSyntaxError extends SyntaxError {\n    constructor(source, uFlag, index, message) {\n        if (source) {\n            if (!source.startsWith(\"/\")) {\n                source = `/${source}/${uFlag ? \"u\" : \"\"}`;\n            }\n            source = `: ${source}`;\n        }\n        super(`Invalid regular expression${source}: ${message}`);\n        this.index = index;\n    }\n}\n\nfunction isSyntaxCharacter(cp) {\n    return (cp === CircumflexAccent ||\n        cp === DollarSign ||\n        cp === ReverseSolidus ||\n        cp === FullStop ||\n        cp === Asterisk ||\n        cp === PlusSign ||\n        cp === QuestionMark ||\n        cp === LeftParenthesis ||\n        cp === RightParenthesis ||\n        cp === LeftSquareBracket ||\n        cp === RightSquareBracket ||\n        cp === LeftCurlyBracket ||\n        cp === RightCurlyBracket ||\n        cp === VerticalLine);\n}\nfunction isRegExpIdentifierStart(cp) {\n    return isIdStart(cp) || cp === DollarSign || cp === LowLine;\n}\nfunction isRegExpIdentifierPart(cp) {\n    return (isIdContinue(cp) ||\n        cp === DollarSign ||\n        cp === LowLine ||\n        cp === ZeroWidthNonJoiner ||\n        cp === ZeroWidthJoiner);\n}\nfunction isUnicodePropertyNameCharacter(cp) {\n    return isLatinLetter(cp) || cp === LowLine;\n}\nfunction isUnicodePropertyValueCharacter(cp) {\n    return isUnicodePropertyNameCharacter(cp) || isDecimalDigit(cp);\n}\nclass RegExpValidator {\n    constructor(options) {\n        this._reader = new Reader();\n        this._uFlag = false;\n        this._nFlag = false;\n        this._lastIntValue = 0;\n        this._lastMinValue = 0;\n        this._lastMaxValue = 0;\n        this._lastStrValue = \"\";\n        this._lastKeyValue = \"\";\n        this._lastValValue = \"\";\n        this._lastAssertionIsQuantifiable = false;\n        this._numCapturingParens = 0;\n        this._groupNames = new Set();\n        this._backreferenceNames = new Set();\n        this._options = options || {};\n    }\n    validateLiteral(source, start = 0, end = source.length) {\n        this._uFlag = this._nFlag = false;\n        this.reset(source, start, end);\n        this.onLiteralEnter(start);\n        if (this.eat(Solidus) && this.eatRegExpBody() && this.eat(Solidus)) {\n            const flagStart = this.index;\n            const uFlag = source.includes(\"u\", flagStart);\n            this.validateFlags(source, flagStart, end);\n            this.validatePattern(source, start + 1, flagStart - 1, uFlag);\n        }\n        else if (start >= end) {\n            this.raise(\"Empty\");\n        }\n        else {\n            const c = String.fromCodePoint(this.currentCodePoint);\n            this.raise(`Unexpected character '${c}'`);\n        }\n        this.onLiteralLeave(start, end);\n    }\n    validateFlags(source, start = 0, end = source.length) {\n        const existingFlags = new Set();\n        let global = false;\n        let ignoreCase = false;\n        let multiline = false;\n        let sticky = false;\n        let unicode = false;\n        let dotAll = false;\n        for (let i = start; i < end; ++i) {\n            const flag = source.charCodeAt(i);\n            if (existingFlags.has(flag)) {\n                this.raise(`Duplicated flag '${source[i]}'`);\n            }\n            existingFlags.add(flag);\n            if (flag === LatinSmallLetterG) {\n                global = true;\n            }\n            else if (flag === LatinSmallLetterI) {\n                ignoreCase = true;\n            }\n            else if (flag === LatinSmallLetterM) {\n                multiline = true;\n            }\n            else if (flag === LatinSmallLetterU && this.ecmaVersion >= 2015) {\n                unicode = true;\n            }\n            else if (flag === LatinSmallLetterY && this.ecmaVersion >= 2015) {\n                sticky = true;\n            }\n            else if (flag === LatinSmallLetterS && this.ecmaVersion >= 2018) {\n                dotAll = true;\n            }\n            else {\n                this.raise(`Invalid flag '${source[i]}'`);\n            }\n        }\n        this.onFlags(start, end, global, ignoreCase, multiline, unicode, sticky, dotAll);\n    }\n    validatePattern(source, start = 0, end = source.length, uFlag = false) {\n        this._uFlag = uFlag && this.ecmaVersion >= 2015;\n        this._nFlag = uFlag && this.ecmaVersion >= 2018;\n        this.reset(source, start, end);\n        this.consumePattern();\n        if (!this._nFlag &&\n            this.ecmaVersion >= 2018 &&\n            this._groupNames.size > 0) {\n            this._nFlag = true;\n            this.rewind(start);\n            this.consumePattern();\n        }\n    }\n    get strict() {\n        return Boolean(this._options.strict || this._uFlag);\n    }\n    get ecmaVersion() {\n        return this._options.ecmaVersion || 2020;\n    }\n    onLiteralEnter(start) {\n        if (this._options.onLiteralEnter) {\n            this._options.onLiteralEnter(start);\n        }\n    }\n    onLiteralLeave(start, end) {\n        if (this._options.onLiteralLeave) {\n            this._options.onLiteralLeave(start, end);\n        }\n    }\n    onFlags(start, end, global, ignoreCase, multiline, unicode, sticky, dotAll) {\n        if (this._options.onFlags) {\n            this._options.onFlags(start, end, global, ignoreCase, multiline, unicode, sticky, dotAll);\n        }\n    }\n    onPatternEnter(start) {\n        if (this._options.onPatternEnter) {\n            this._options.onPatternEnter(start);\n        }\n    }\n    onPatternLeave(start, end) {\n        if (this._options.onPatternLeave) {\n            this._options.onPatternLeave(start, end);\n        }\n    }\n    onDisjunctionEnter(start) {\n        if (this._options.onDisjunctionEnter) {\n            this._options.onDisjunctionEnter(start);\n        }\n    }\n    onDisjunctionLeave(start, end) {\n        if (this._options.onDisjunctionLeave) {\n            this._options.onDisjunctionLeave(start, end);\n        }\n    }\n    onAlternativeEnter(start, index) {\n        if (this._options.onAlternativeEnter) {\n            this._options.onAlternativeEnter(start, index);\n        }\n    }\n    onAlternativeLeave(start, end, index) {\n        if (this._options.onAlternativeLeave) {\n            this._options.onAlternativeLeave(start, end, index);\n        }\n    }\n    onGroupEnter(start) {\n        if (this._options.onGroupEnter) {\n            this._options.onGroupEnter(start);\n        }\n    }\n    onGroupLeave(start, end) {\n        if (this._options.onGroupLeave) {\n            this._options.onGroupLeave(start, end);\n        }\n    }\n    onCapturingGroupEnter(start, name) {\n        if (this._options.onCapturingGroupEnter) {\n            this._options.onCapturingGroupEnter(start, name);\n        }\n    }\n    onCapturingGroupLeave(start, end, name) {\n        if (this._options.onCapturingGroupLeave) {\n            this._options.onCapturingGroupLeave(start, end, name);\n        }\n    }\n    onQuantifier(start, end, min, max, greedy) {\n        if (this._options.onQuantifier) {\n            this._options.onQuantifier(start, end, min, max, greedy);\n        }\n    }\n    onLookaroundAssertionEnter(start, kind, negate) {\n        if (this._options.onLookaroundAssertionEnter) {\n            this._options.onLookaroundAssertionEnter(start, kind, negate);\n        }\n    }\n    onLookaroundAssertionLeave(start, end, kind, negate) {\n        if (this._options.onLookaroundAssertionLeave) {\n            this._options.onLookaroundAssertionLeave(start, end, kind, negate);\n        }\n    }\n    onEdgeAssertion(start, end, kind) {\n        if (this._options.onEdgeAssertion) {\n            this._options.onEdgeAssertion(start, end, kind);\n        }\n    }\n    onWordBoundaryAssertion(start, end, kind, negate) {\n        if (this._options.onWordBoundaryAssertion) {\n            this._options.onWordBoundaryAssertion(start, end, kind, negate);\n        }\n    }\n    onAnyCharacterSet(start, end, kind) {\n        if (this._options.onAnyCharacterSet) {\n            this._options.onAnyCharacterSet(start, end, kind);\n        }\n    }\n    onEscapeCharacterSet(start, end, kind, negate) {\n        if (this._options.onEscapeCharacterSet) {\n            this._options.onEscapeCharacterSet(start, end, kind, negate);\n        }\n    }\n    onUnicodePropertyCharacterSet(start, end, kind, key, value, negate) {\n        if (this._options.onUnicodePropertyCharacterSet) {\n            this._options.onUnicodePropertyCharacterSet(start, end, kind, key, value, negate);\n        }\n    }\n    onCharacter(start, end, value) {\n        if (this._options.onCharacter) {\n            this._options.onCharacter(start, end, value);\n        }\n    }\n    onBackreference(start, end, ref) {\n        if (this._options.onBackreference) {\n            this._options.onBackreference(start, end, ref);\n        }\n    }\n    onCharacterClassEnter(start, negate) {\n        if (this._options.onCharacterClassEnter) {\n            this._options.onCharacterClassEnter(start, negate);\n        }\n    }\n    onCharacterClassLeave(start, end, negate) {\n        if (this._options.onCharacterClassLeave) {\n            this._options.onCharacterClassLeave(start, end, negate);\n        }\n    }\n    onCharacterClassRange(start, end, min, max) {\n        if (this._options.onCharacterClassRange) {\n            this._options.onCharacterClassRange(start, end, min, max);\n        }\n    }\n    get source() {\n        return this._reader.source;\n    }\n    get index() {\n        return this._reader.index;\n    }\n    get currentCodePoint() {\n        return this._reader.currentCodePoint;\n    }\n    get nextCodePoint() {\n        return this._reader.nextCodePoint;\n    }\n    get nextCodePoint2() {\n        return this._reader.nextCodePoint2;\n    }\n    get nextCodePoint3() {\n        return this._reader.nextCodePoint3;\n    }\n    reset(source, start, end) {\n        this._reader.reset(source, start, end, this._uFlag);\n    }\n    rewind(index) {\n        this._reader.rewind(index);\n    }\n    advance() {\n        this._reader.advance();\n    }\n    eat(cp) {\n        return this._reader.eat(cp);\n    }\n    eat2(cp1, cp2) {\n        return this._reader.eat2(cp1, cp2);\n    }\n    eat3(cp1, cp2, cp3) {\n        return this._reader.eat3(cp1, cp2, cp3);\n    }\n    raise(message) {\n        throw new RegExpSyntaxError(this.source, this._uFlag, this.index, message);\n    }\n    eatRegExpBody() {\n        const start = this.index;\n        let inClass = false;\n        let escaped = false;\n        for (;;) {\n            const cp = this.currentCodePoint;\n            if (cp === -1 || isLineTerminator(cp)) {\n                const kind = inClass ? \"character class\" : \"regular expression\";\n                this.raise(`Unterminated ${kind}`);\n            }\n            if (escaped) {\n                escaped = false;\n            }\n            else if (cp === ReverseSolidus) {\n                escaped = true;\n            }\n            else if (cp === LeftSquareBracket) {\n                inClass = true;\n            }\n            else if (cp === RightSquareBracket) {\n                inClass = false;\n            }\n            else if ((cp === Solidus && !inClass) ||\n                (cp === Asterisk && this.index === start)) {\n                break;\n            }\n            this.advance();\n        }\n        return this.index !== start;\n    }\n    consumePattern() {\n        const start = this.index;\n        this._numCapturingParens = this.countCapturingParens();\n        this._groupNames.clear();\n        this._backreferenceNames.clear();\n        this.onPatternEnter(start);\n        this.consumeDisjunction();\n        const cp = this.currentCodePoint;\n        if (this.currentCodePoint !== -1) {\n            if (cp === RightParenthesis) {\n                this.raise(\"Unmatched ')'\");\n            }\n            if (cp === ReverseSolidus) {\n                this.raise(\"\\\\ at end of pattern\");\n            }\n            if (cp === RightSquareBracket || cp === RightCurlyBracket) {\n                this.raise(\"Lone quantifier brackets\");\n            }\n            const c = String.fromCodePoint(cp);\n            this.raise(`Unexpected character '${c}'`);\n        }\n        for (const name of this._backreferenceNames) {\n            if (!this._groupNames.has(name)) {\n                this.raise(\"Invalid named capture referenced\");\n            }\n        }\n        this.onPatternLeave(start, this.index);\n    }\n    countCapturingParens() {\n        const start = this.index;\n        let inClass = false;\n        let escaped = false;\n        let count = 0;\n        let cp = 0;\n        while ((cp = this.currentCodePoint) !== -1) {\n            if (escaped) {\n                escaped = false;\n            }\n            else if (cp === ReverseSolidus) {\n                escaped = true;\n            }\n            else if (cp === LeftSquareBracket) {\n                inClass = true;\n            }\n            else if (cp === RightSquareBracket) {\n                inClass = false;\n            }\n            else if (cp === LeftParenthesis &&\n                !inClass &&\n                (this.nextCodePoint !== QuestionMark ||\n                    (this.nextCodePoint2 === LessThanSign &&\n                        this.nextCodePoint3 !== EqualsSign &&\n                        this.nextCodePoint3 !== ExclamationMark))) {\n                count += 1;\n            }\n            this.advance();\n        }\n        this.rewind(start);\n        return count;\n    }\n    consumeDisjunction() {\n        const start = this.index;\n        let i = 0;\n        this.onDisjunctionEnter(start);\n        do {\n            this.consumeAlternative(i++);\n        } while (this.eat(VerticalLine));\n        if (this.consumeQuantifier(true)) {\n            this.raise(\"Nothing to repeat\");\n        }\n        if (this.eat(LeftCurlyBracket)) {\n            this.raise(\"Lone quantifier brackets\");\n        }\n        this.onDisjunctionLeave(start, this.index);\n    }\n    consumeAlternative(i) {\n        const start = this.index;\n        this.onAlternativeEnter(start, i);\n        while (this.currentCodePoint !== -1 && this.consumeTerm()) {\n        }\n        this.onAlternativeLeave(start, this.index, i);\n    }\n    consumeTerm() {\n        if (this._uFlag || this.strict) {\n            return (this.consumeAssertion() ||\n                (this.consumeAtom() && this.consumeOptionalQuantifier()));\n        }\n        return ((this.consumeAssertion() &&\n            (!this._lastAssertionIsQuantifiable ||\n                this.consumeOptionalQuantifier())) ||\n            (this.consumeExtendedAtom() && this.consumeOptionalQuantifier()));\n    }\n    consumeOptionalQuantifier() {\n        this.consumeQuantifier();\n        return true;\n    }\n    consumeAssertion() {\n        const start = this.index;\n        this._lastAssertionIsQuantifiable = false;\n        if (this.eat(CircumflexAccent)) {\n            this.onEdgeAssertion(start, this.index, \"start\");\n            return true;\n        }\n        if (this.eat(DollarSign)) {\n            this.onEdgeAssertion(start, this.index, \"end\");\n            return true;\n        }\n        if (this.eat2(ReverseSolidus, LatinCapitalLetterB)) {\n            this.onWordBoundaryAssertion(start, this.index, \"word\", true);\n            return true;\n        }\n        if (this.eat2(ReverseSolidus, LatinSmallLetterB)) {\n            this.onWordBoundaryAssertion(start, this.index, \"word\", false);\n            return true;\n        }\n        if (this.eat2(LeftParenthesis, QuestionMark)) {\n            const lookbehind = this.ecmaVersion >= 2018 && this.eat(LessThanSign);\n            let negate = false;\n            if (this.eat(EqualsSign) || (negate = this.eat(ExclamationMark))) {\n                const kind = lookbehind ? \"lookbehind\" : \"lookahead\";\n                this.onLookaroundAssertionEnter(start, kind, negate);\n                this.consumeDisjunction();\n                if (!this.eat(RightParenthesis)) {\n                    this.raise(\"Unterminated group\");\n                }\n                this._lastAssertionIsQuantifiable = !lookbehind && !this.strict;\n                this.onLookaroundAssertionLeave(start, this.index, kind, negate);\n                return true;\n            }\n            this.rewind(start);\n        }\n        return false;\n    }\n    consumeQuantifier(noConsume = false) {\n        const start = this.index;\n        let min = 0;\n        let max = 0;\n        let greedy = false;\n        if (this.eat(Asterisk)) {\n            min = 0;\n            max = Number.POSITIVE_INFINITY;\n        }\n        else if (this.eat(PlusSign)) {\n            min = 1;\n            max = Number.POSITIVE_INFINITY;\n        }\n        else if (this.eat(QuestionMark)) {\n            min = 0;\n            max = 1;\n        }\n        else if (this.eatBracedQuantifier(noConsume)) {\n            min = this._lastMinValue;\n            max = this._lastMaxValue;\n        }\n        else {\n            return false;\n        }\n        greedy = !this.eat(QuestionMark);\n        if (!noConsume) {\n            this.onQuantifier(start, this.index, min, max, greedy);\n        }\n        return true;\n    }\n    eatBracedQuantifier(noError) {\n        const start = this.index;\n        if (this.eat(LeftCurlyBracket)) {\n            this._lastMinValue = 0;\n            this._lastMaxValue = Number.POSITIVE_INFINITY;\n            if (this.eatDecimalDigits()) {\n                this._lastMinValue = this._lastMaxValue = this._lastIntValue;\n                if (this.eat(Comma)) {\n                    this._lastMaxValue = this.eatDecimalDigits()\n                        ? this._lastIntValue\n                        : Number.POSITIVE_INFINITY;\n                }\n                if (this.eat(RightCurlyBracket)) {\n                    if (!noError && this._lastMaxValue < this._lastMinValue) {\n                        this.raise(\"numbers out of order in {} quantifier\");\n                    }\n                    return true;\n                }\n            }\n            if (!noError && (this._uFlag || this.strict)) {\n                this.raise(\"Incomplete quantifier\");\n            }\n            this.rewind(start);\n        }\n        return false;\n    }\n    consumeAtom() {\n        return (this.consumePatternCharacter() ||\n            this.consumeDot() ||\n            this.consumeReverseSolidusAtomEscape() ||\n            this.consumeCharacterClass() ||\n            this.consumeUncapturingGroup() ||\n            this.consumeCapturingGroup());\n    }\n    consumeDot() {\n        if (this.eat(FullStop)) {\n            this.onAnyCharacterSet(this.index - 1, this.index, \"any\");\n            return true;\n        }\n        return false;\n    }\n    consumeReverseSolidusAtomEscape() {\n        const start = this.index;\n        if (this.eat(ReverseSolidus)) {\n            if (this.consumeAtomEscape()) {\n                return true;\n            }\n            this.rewind(start);\n        }\n        return false;\n    }\n    consumeUncapturingGroup() {\n        const start = this.index;\n        if (this.eat3(LeftParenthesis, QuestionMark, Colon)) {\n            this.onGroupEnter(start);\n            this.consumeDisjunction();\n            if (!this.eat(RightParenthesis)) {\n                this.raise(\"Unterminated group\");\n            }\n            this.onGroupLeave(start, this.index);\n            return true;\n        }\n        return false;\n    }\n    consumeCapturingGroup() {\n        const start = this.index;\n        if (this.eat(LeftParenthesis)) {\n            let name = null;\n            if (this.ecmaVersion >= 2018) {\n                if (this.consumeGroupSpecifier()) {\n                    name = this._lastStrValue;\n                }\n            }\n            else if (this.currentCodePoint === QuestionMark) {\n                this.raise(\"Invalid group\");\n            }\n            this.onCapturingGroupEnter(start, name);\n            this.consumeDisjunction();\n            if (!this.eat(RightParenthesis)) {\n                this.raise(\"Unterminated group\");\n            }\n            this.onCapturingGroupLeave(start, this.index, name);\n            return true;\n        }\n        return false;\n    }\n    consumeExtendedAtom() {\n        return (this.consumeDot() ||\n            this.consumeReverseSolidusAtomEscape() ||\n            this.consumeReverseSolidusFollowedByC() ||\n            this.consumeCharacterClass() ||\n            this.consumeUncapturingGroup() ||\n            this.consumeCapturingGroup() ||\n            this.consumeInvalidBracedQuantifier() ||\n            this.consumeExtendedPatternCharacter());\n    }\n    consumeReverseSolidusFollowedByC() {\n        const start = this.index;\n        if (this.currentCodePoint === ReverseSolidus &&\n            this.nextCodePoint === LatinSmallLetterC) {\n            this._lastIntValue = this.currentCodePoint;\n            this.advance();\n            this.onCharacter(start, this.index, ReverseSolidus);\n            return true;\n        }\n        return false;\n    }\n    consumeInvalidBracedQuantifier() {\n        if (this.eatBracedQuantifier(true)) {\n            this.raise(\"Nothing to repeat\");\n        }\n        return false;\n    }\n    consumePatternCharacter() {\n        const start = this.index;\n        const cp = this.currentCodePoint;\n        if (cp !== -1 && !isSyntaxCharacter(cp)) {\n            this.advance();\n            this.onCharacter(start, this.index, cp);\n            return true;\n        }\n        return false;\n    }\n    consumeExtendedPatternCharacter() {\n        const start = this.index;\n        const cp = this.currentCodePoint;\n        if (cp !== -1 &&\n            cp !== CircumflexAccent &&\n            cp !== DollarSign &&\n            cp !== ReverseSolidus &&\n            cp !== FullStop &&\n            cp !== Asterisk &&\n            cp !== PlusSign &&\n            cp !== QuestionMark &&\n            cp !== LeftParenthesis &&\n            cp !== RightParenthesis &&\n            cp !== LeftSquareBracket &&\n            cp !== VerticalLine) {\n            this.advance();\n            this.onCharacter(start, this.index, cp);\n            return true;\n        }\n        return false;\n    }\n    consumeGroupSpecifier() {\n        if (this.eat(QuestionMark)) {\n            if (this.eatGroupName()) {\n                if (!this._groupNames.has(this._lastStrValue)) {\n                    this._groupNames.add(this._lastStrValue);\n                    return true;\n                }\n                this.raise(\"Duplicate capture group name\");\n            }\n            this.raise(\"Invalid group\");\n        }\n        return false;\n    }\n    consumeAtomEscape() {\n        if (this.consumeBackreference() ||\n            this.consumeCharacterClassEscape() ||\n            this.consumeCharacterEscape() ||\n            (this._nFlag && this.consumeKGroupName())) {\n            return true;\n        }\n        if (this.strict || this._uFlag) {\n            this.raise(\"Invalid escape\");\n        }\n        return false;\n    }\n    consumeBackreference() {\n        const start = this.index;\n        if (this.eatDecimalEscape()) {\n            const n = this._lastIntValue;\n            if (n <= this._numCapturingParens) {\n                this.onBackreference(start - 1, this.index, n);\n                return true;\n            }\n            if (this.strict || this._uFlag) {\n                this.raise(\"Invalid escape\");\n            }\n            this.rewind(start);\n        }\n        return false;\n    }\n    consumeCharacterClassEscape() {\n        const start = this.index;\n        if (this.eat(LatinSmallLetterD)) {\n            this._lastIntValue = -1;\n            this.onEscapeCharacterSet(start - 1, this.index, \"digit\", false);\n            return true;\n        }\n        if (this.eat(LatinCapitalLetterD)) {\n            this._lastIntValue = -1;\n            this.onEscapeCharacterSet(start - 1, this.index, \"digit\", true);\n            return true;\n        }\n        if (this.eat(LatinSmallLetterS)) {\n            this._lastIntValue = -1;\n            this.onEscapeCharacterSet(start - 1, this.index, \"space\", false);\n            return true;\n        }\n        if (this.eat(LatinCapitalLetterS)) {\n            this._lastIntValue = -1;\n            this.onEscapeCharacterSet(start - 1, this.index, \"space\", true);\n            return true;\n        }\n        if (this.eat(LatinSmallLetterW)) {\n            this._lastIntValue = -1;\n            this.onEscapeCharacterSet(start - 1, this.index, \"word\", false);\n            return true;\n        }\n        if (this.eat(LatinCapitalLetterW)) {\n            this._lastIntValue = -1;\n            this.onEscapeCharacterSet(start - 1, this.index, \"word\", true);\n            return true;\n        }\n        let negate = false;\n        if (this._uFlag &&\n            this.ecmaVersion >= 2018 &&\n            (this.eat(LatinSmallLetterP) ||\n                (negate = this.eat(LatinCapitalLetterP)))) {\n            this._lastIntValue = -1;\n            if (this.eat(LeftCurlyBracket) &&\n                this.eatUnicodePropertyValueExpression() &&\n                this.eat(RightCurlyBracket)) {\n                this.onUnicodePropertyCharacterSet(start - 1, this.index, \"property\", this._lastKeyValue, this._lastValValue || null, negate);\n                return true;\n            }\n            this.raise(\"Invalid property name\");\n        }\n        return false;\n    }\n    consumeCharacterEscape() {\n        const start = this.index;\n        if (this.eatControlEscape() ||\n            this.eatCControlLetter() ||\n            this.eatZero() ||\n            this.eatHexEscapeSequence() ||\n            this.eatRegExpUnicodeEscapeSequence() ||\n            (!this.strict &&\n                !this._uFlag &&\n                this.eatLegacyOctalEscapeSequence()) ||\n            this.eatIdentityEscape()) {\n            this.onCharacter(start - 1, this.index, this._lastIntValue);\n            return true;\n        }\n        return false;\n    }\n    consumeKGroupName() {\n        const start = this.index;\n        if (this.eat(LatinSmallLetterK)) {\n            if (this.eatGroupName()) {\n                const groupName = this._lastStrValue;\n                this._backreferenceNames.add(groupName);\n                this.onBackreference(start - 1, this.index, groupName);\n                return true;\n            }\n            this.raise(\"Invalid named reference\");\n        }\n        return false;\n    }\n    consumeCharacterClass() {\n        const start = this.index;\n        if (this.eat(LeftSquareBracket)) {\n            const negate = this.eat(CircumflexAccent);\n            this.onCharacterClassEnter(start, negate);\n            this.consumeClassRanges();\n            if (!this.eat(RightSquareBracket)) {\n                this.raise(\"Unterminated character class\");\n            }\n            this.onCharacterClassLeave(start, this.index, negate);\n            return true;\n        }\n        return false;\n    }\n    consumeClassRanges() {\n        const strict = this.strict || this._uFlag;\n        for (;;) {\n            const rangeStart = this.index;\n            if (!this.consumeClassAtom()) {\n                break;\n            }\n            const min = this._lastIntValue;\n            if (!this.eat(HyphenMinus)) {\n                continue;\n            }\n            this.onCharacter(this.index - 1, this.index, HyphenMinus);\n            if (!this.consumeClassAtom()) {\n                break;\n            }\n            const max = this._lastIntValue;\n            if (min === -1 || max === -1) {\n                if (strict) {\n                    this.raise(\"Invalid character class\");\n                }\n                continue;\n            }\n            if (min > max) {\n                this.raise(\"Range out of order in character class\");\n            }\n            this.onCharacterClassRange(rangeStart, this.index, min, max);\n        }\n    }\n    consumeClassAtom() {\n        const start = this.index;\n        const cp = this.currentCodePoint;\n        if (cp !== -1 && cp !== ReverseSolidus && cp !== RightSquareBracket) {\n            this.advance();\n            this._lastIntValue = cp;\n            this.onCharacter(start, this.index, this._lastIntValue);\n            return true;\n        }\n        if (this.eat(ReverseSolidus)) {\n            if (this.consumeClassEscape()) {\n                return true;\n            }\n            if (!this.strict && this.currentCodePoint === LatinSmallLetterC) {\n                this._lastIntValue = ReverseSolidus;\n                this.onCharacter(start, this.index, this._lastIntValue);\n                return true;\n            }\n            if (this.strict || this._uFlag) {\n                this.raise(\"Invalid escape\");\n            }\n            this.rewind(start);\n        }\n        return false;\n    }\n    consumeClassEscape() {\n        const start = this.index;\n        if (this.eat(LatinSmallLetterB)) {\n            this._lastIntValue = Backspace;\n            this.onCharacter(start - 1, this.index, this._lastIntValue);\n            return true;\n        }\n        if (this._uFlag && this.eat(HyphenMinus)) {\n            this._lastIntValue = HyphenMinus;\n            this.onCharacter(start - 1, this.index, this._lastIntValue);\n            return true;\n        }\n        let cp = 0;\n        if (!this.strict &&\n            !this._uFlag &&\n            this.currentCodePoint === LatinSmallLetterC &&\n            (isDecimalDigit((cp = this.nextCodePoint)) || cp === LowLine)) {\n            this.advance();\n            this.advance();\n            this._lastIntValue = cp % 0x20;\n            this.onCharacter(start - 1, this.index, this._lastIntValue);\n            return true;\n        }\n        return (this.consumeCharacterClassEscape() || this.consumeCharacterEscape());\n    }\n    eatGroupName() {\n        if (this.eat(LessThanSign)) {\n            if (this.eatRegExpIdentifierName() && this.eat(GreaterThanSign)) {\n                return true;\n            }\n            this.raise(\"Invalid capture group name\");\n        }\n        return false;\n    }\n    eatRegExpIdentifierName() {\n        if (this.eatRegExpIdentifierStart()) {\n            this._lastStrValue = String.fromCodePoint(this._lastIntValue);\n            while (this.eatRegExpIdentifierPart()) {\n                this._lastStrValue += String.fromCodePoint(this._lastIntValue);\n            }\n            return true;\n        }\n        return false;\n    }\n    eatRegExpIdentifierStart() {\n        const start = this.index;\n        const forceUFlag = !this._uFlag && this.ecmaVersion >= 2020;\n        let cp = this.currentCodePoint;\n        this.advance();\n        if (cp === ReverseSolidus &&\n            this.eatRegExpUnicodeEscapeSequence(forceUFlag)) {\n            cp = this._lastIntValue;\n        }\n        else if (forceUFlag &&\n            isLeadSurrogate(cp) &&\n            isTrailSurrogate(this.currentCodePoint)) {\n            cp = combineSurrogatePair(cp, this.currentCodePoint);\n            this.advance();\n        }\n        if (isRegExpIdentifierStart(cp)) {\n            this._lastIntValue = cp;\n            return true;\n        }\n        if (this.index !== start) {\n            this.rewind(start);\n        }\n        return false;\n    }\n    eatRegExpIdentifierPart() {\n        const start = this.index;\n        const forceUFlag = !this._uFlag && this.ecmaVersion >= 2020;\n        let cp = this.currentCodePoint;\n        this.advance();\n        if (cp === ReverseSolidus &&\n            this.eatRegExpUnicodeEscapeSequence(forceUFlag)) {\n            cp = this._lastIntValue;\n        }\n        else if (forceUFlag &&\n            isLeadSurrogate(cp) &&\n            isTrailSurrogate(this.currentCodePoint)) {\n            cp = combineSurrogatePair(cp, this.currentCodePoint);\n            this.advance();\n        }\n        if (isRegExpIdentifierPart(cp)) {\n            this._lastIntValue = cp;\n            return true;\n        }\n        if (this.index !== start) {\n            this.rewind(start);\n        }\n        return false;\n    }\n    eatCControlLetter() {\n        const start = this.index;\n        if (this.eat(LatinSmallLetterC)) {\n            if (this.eatControlLetter()) {\n                return true;\n            }\n            this.rewind(start);\n        }\n        return false;\n    }\n    eatZero() {\n        if (this.currentCodePoint === DigitZero &&\n            !isDecimalDigit(this.nextCodePoint)) {\n            this._lastIntValue = 0;\n            this.advance();\n            return true;\n        }\n        return false;\n    }\n    eatControlEscape() {\n        if (this.eat(LatinSmallLetterF)) {\n            this._lastIntValue = FormFeed;\n            return true;\n        }\n        if (this.eat(LatinSmallLetterN)) {\n            this._lastIntValue = LineFeed;\n            return true;\n        }\n        if (this.eat(LatinSmallLetterR)) {\n            this._lastIntValue = CarriageReturn;\n            return true;\n        }\n        if (this.eat(LatinSmallLetterT)) {\n            this._lastIntValue = CharacterTabulation;\n            return true;\n        }\n        if (this.eat(LatinSmallLetterV)) {\n            this._lastIntValue = LineTabulation;\n            return true;\n        }\n        return false;\n    }\n    eatControlLetter() {\n        const cp = this.currentCodePoint;\n        if (isLatinLetter(cp)) {\n            this.advance();\n            this._lastIntValue = cp % 0x20;\n            return true;\n        }\n        return false;\n    }\n    eatRegExpUnicodeEscapeSequence(forceUFlag = false) {\n        const start = this.index;\n        const uFlag = forceUFlag || this._uFlag;\n        if (this.eat(LatinSmallLetterU)) {\n            if ((uFlag && this.eatRegExpUnicodeSurrogatePairEscape()) ||\n                this.eatFixedHexDigits(4) ||\n                (uFlag && this.eatRegExpUnicodeCodePointEscape())) {\n                return true;\n            }\n            if (this.strict || uFlag) {\n                this.raise(\"Invalid unicode escape\");\n            }\n            this.rewind(start);\n        }\n        return false;\n    }\n    eatRegExpUnicodeSurrogatePairEscape() {\n        const start = this.index;\n        if (this.eatFixedHexDigits(4)) {\n            const lead = this._lastIntValue;\n            if (isLeadSurrogate(lead) &&\n                this.eat(ReverseSolidus) &&\n                this.eat(LatinSmallLetterU) &&\n                this.eatFixedHexDigits(4)) {\n                const trail = this._lastIntValue;\n                if (isTrailSurrogate(trail)) {\n                    this._lastIntValue = combineSurrogatePair(lead, trail);\n                    return true;\n                }\n            }\n            this.rewind(start);\n        }\n        return false;\n    }\n    eatRegExpUnicodeCodePointEscape() {\n        const start = this.index;\n        if (this.eat(LeftCurlyBracket) &&\n            this.eatHexDigits() &&\n            this.eat(RightCurlyBracket) &&\n            isValidUnicode(this._lastIntValue)) {\n            return true;\n        }\n        this.rewind(start);\n        return false;\n    }\n    eatIdentityEscape() {\n        const cp = this.currentCodePoint;\n        if (this.isValidIdentityEscape(cp)) {\n            this._lastIntValue = cp;\n            this.advance();\n            return true;\n        }\n        return false;\n    }\n    isValidIdentityEscape(cp) {\n        if (cp === -1) {\n            return false;\n        }\n        if (this._uFlag) {\n            return isSyntaxCharacter(cp) || cp === Solidus;\n        }\n        if (this.strict) {\n            return !isIdContinue(cp);\n        }\n        if (this._nFlag) {\n            return !(cp === LatinSmallLetterC || cp === LatinSmallLetterK);\n        }\n        return cp !== LatinSmallLetterC;\n    }\n    eatDecimalEscape() {\n        this._lastIntValue = 0;\n        let cp = this.currentCodePoint;\n        if (cp >= DigitOne && cp <= DigitNine) {\n            do {\n                this._lastIntValue = 10 * this._lastIntValue + (cp - DigitZero);\n                this.advance();\n            } while ((cp = this.currentCodePoint) >= DigitZero &&\n                cp <= DigitNine);\n            return true;\n        }\n        return false;\n    }\n    eatUnicodePropertyValueExpression() {\n        const start = this.index;\n        if (this.eatUnicodePropertyName() && this.eat(EqualsSign)) {\n            this._lastKeyValue = this._lastStrValue;\n            if (this.eatUnicodePropertyValue()) {\n                this._lastValValue = this._lastStrValue;\n                if (isValidUnicodeProperty(this.ecmaVersion, this._lastKeyValue, this._lastValValue)) {\n                    return true;\n                }\n                this.raise(\"Invalid property name\");\n            }\n        }\n        this.rewind(start);\n        if (this.eatLoneUnicodePropertyNameOrValue()) {\n            const nameOrValue = this._lastStrValue;\n            if (isValidUnicodeProperty(this.ecmaVersion, \"General_Category\", nameOrValue)) {\n                this._lastKeyValue = \"General_Category\";\n                this._lastValValue = nameOrValue;\n                return true;\n            }\n            if (isValidLoneUnicodeProperty(this.ecmaVersion, nameOrValue)) {\n                this._lastKeyValue = nameOrValue;\n                this._lastValValue = \"\";\n                return true;\n            }\n            this.raise(\"Invalid property name\");\n        }\n        return false;\n    }\n    eatUnicodePropertyName() {\n        this._lastStrValue = \"\";\n        while (isUnicodePropertyNameCharacter(this.currentCodePoint)) {\n            this._lastStrValue += String.fromCodePoint(this.currentCodePoint);\n            this.advance();\n        }\n        return this._lastStrValue !== \"\";\n    }\n    eatUnicodePropertyValue() {\n        this._lastStrValue = \"\";\n        while (isUnicodePropertyValueCharacter(this.currentCodePoint)) {\n            this._lastStrValue += String.fromCodePoint(this.currentCodePoint);\n            this.advance();\n        }\n        return this._lastStrValue !== \"\";\n    }\n    eatLoneUnicodePropertyNameOrValue() {\n        return this.eatUnicodePropertyValue();\n    }\n    eatHexEscapeSequence() {\n        const start = this.index;\n        if (this.eat(LatinSmallLetterX)) {\n            if (this.eatFixedHexDigits(2)) {\n                return true;\n            }\n            if (this._uFlag || this.strict) {\n                this.raise(\"Invalid escape\");\n            }\n            this.rewind(start);\n        }\n        return false;\n    }\n    eatDecimalDigits() {\n        const start = this.index;\n        this._lastIntValue = 0;\n        while (isDecimalDigit(this.currentCodePoint)) {\n            this._lastIntValue =\n                10 * this._lastIntValue + digitToInt(this.currentCodePoint);\n            this.advance();\n        }\n        return this.index !== start;\n    }\n    eatHexDigits() {\n        const start = this.index;\n        this._lastIntValue = 0;\n        while (isHexDigit(this.currentCodePoint)) {\n            this._lastIntValue =\n                16 * this._lastIntValue + digitToInt(this.currentCodePoint);\n            this.advance();\n        }\n        return this.index !== start;\n    }\n    eatLegacyOctalEscapeSequence() {\n        if (this.eatOctalDigit()) {\n            const n1 = this._lastIntValue;\n            if (this.eatOctalDigit()) {\n                const n2 = this._lastIntValue;\n                if (n1 <= 3 && this.eatOctalDigit()) {\n                    this._lastIntValue = n1 * 64 + n2 * 8 + this._lastIntValue;\n                }\n                else {\n                    this._lastIntValue = n1 * 8 + n2;\n                }\n            }\n            else {\n                this._lastIntValue = n1;\n            }\n            return true;\n        }\n        return false;\n    }\n    eatOctalDigit() {\n        const cp = this.currentCodePoint;\n        if (isOctalDigit(cp)) {\n            this.advance();\n            this._lastIntValue = cp - DigitZero;\n            return true;\n        }\n        this._lastIntValue = 0;\n        return false;\n    }\n    eatFixedHexDigits(length) {\n        const start = this.index;\n        this._lastIntValue = 0;\n        for (let i = 0; i < length; ++i) {\n            const cp = this.currentCodePoint;\n            if (!isHexDigit(cp)) {\n                this.rewind(start);\n                return false;\n            }\n            this._lastIntValue = 16 * this._lastIntValue + digitToInt(cp);\n            this.advance();\n        }\n        return true;\n    }\n}\n\nconst DummyPattern = {};\nconst DummyFlags = {};\nconst DummyCapturingGroup = {};\nclass RegExpParserState {\n    constructor(options) {\n        this._node = DummyPattern;\n        this._flags = DummyFlags;\n        this._backreferences = [];\n        this._capturingGroups = [];\n        this.source = \"\";\n        this.strict = Boolean(options && options.strict);\n        this.ecmaVersion = (options && options.ecmaVersion) || 2020;\n    }\n    get pattern() {\n        if (this._node.type !== \"Pattern\") {\n            throw new Error(\"UnknownError\");\n        }\n        return this._node;\n    }\n    get flags() {\n        if (this._flags.type !== \"Flags\") {\n            throw new Error(\"UnknownError\");\n        }\n        return this._flags;\n    }\n    onFlags(start, end, global, ignoreCase, multiline, unicode, sticky, dotAll) {\n        this._flags = {\n            type: \"Flags\",\n            parent: null,\n            start,\n            end,\n            raw: this.source.slice(start, end),\n            global,\n            ignoreCase,\n            multiline,\n            unicode,\n            sticky,\n            dotAll,\n        };\n    }\n    onPatternEnter(start) {\n        this._node = {\n            type: \"Pattern\",\n            parent: null,\n            start,\n            end: start,\n            raw: \"\",\n            alternatives: [],\n        };\n        this._backreferences.length = 0;\n        this._capturingGroups.length = 0;\n    }\n    onPatternLeave(start, end) {\n        this._node.end = end;\n        this._node.raw = this.source.slice(start, end);\n        for (const reference of this._backreferences) {\n            const ref = reference.ref;\n            const group = typeof ref === \"number\"\n                ? this._capturingGroups[ref - 1]\n                : this._capturingGroups.find(g => g.name === ref);\n            reference.resolved = group;\n            group.references.push(reference);\n        }\n    }\n    onAlternativeEnter(start) {\n        const parent = this._node;\n        if (parent.type !== \"Assertion\" &&\n            parent.type !== \"CapturingGroup\" &&\n            parent.type !== \"Group\" &&\n            parent.type !== \"Pattern\") {\n            throw new Error(\"UnknownError\");\n        }\n        this._node = {\n            type: \"Alternative\",\n            parent,\n            start,\n            end: start,\n            raw: \"\",\n            elements: [],\n        };\n        parent.alternatives.push(this._node);\n    }\n    onAlternativeLeave(start, end) {\n        const node = this._node;\n        if (node.type !== \"Alternative\") {\n            throw new Error(\"UnknownError\");\n        }\n        node.end = end;\n        node.raw = this.source.slice(start, end);\n        this._node = node.parent;\n    }\n    onGroupEnter(start) {\n        const parent = this._node;\n        if (parent.type !== \"Alternative\") {\n            throw new Error(\"UnknownError\");\n        }\n        this._node = {\n            type: \"Group\",\n            parent,\n            start,\n            end: start,\n            raw: \"\",\n            alternatives: [],\n        };\n        parent.elements.push(this._node);\n    }\n    onGroupLeave(start, end) {\n        const node = this._node;\n        if (node.type !== \"Group\" || node.parent.type !== \"Alternative\") {\n            throw new Error(\"UnknownError\");\n        }\n        node.end = end;\n        node.raw = this.source.slice(start, end);\n        this._node = node.parent;\n    }\n    onCapturingGroupEnter(start, name) {\n        const parent = this._node;\n        if (parent.type !== \"Alternative\") {\n            throw new Error(\"UnknownError\");\n        }\n        this._node = {\n            type: \"CapturingGroup\",\n            parent,\n            start,\n            end: start,\n            raw: \"\",\n            name,\n            alternatives: [],\n            references: [],\n        };\n        parent.elements.push(this._node);\n        this._capturingGroups.push(this._node);\n    }\n    onCapturingGroupLeave(start, end) {\n        const node = this._node;\n        if (node.type !== \"CapturingGroup\" ||\n            node.parent.type !== \"Alternative\") {\n            throw new Error(\"UnknownError\");\n        }\n        node.end = end;\n        node.raw = this.source.slice(start, end);\n        this._node = node.parent;\n    }\n    onQuantifier(start, end, min, max, greedy) {\n        const parent = this._node;\n        if (parent.type !== \"Alternative\") {\n            throw new Error(\"UnknownError\");\n        }\n        const element = parent.elements.pop();\n        if (element == null ||\n            element.type === \"Quantifier\" ||\n            (element.type === \"Assertion\" && element.kind !== \"lookahead\")) {\n            throw new Error(\"UnknownError\");\n        }\n        const node = {\n            type: \"Quantifier\",\n            parent,\n            start: element.start,\n            end,\n            raw: this.source.slice(element.start, end),\n            min,\n            max,\n            greedy,\n            element,\n        };\n        parent.elements.push(node);\n        element.parent = node;\n    }\n    onLookaroundAssertionEnter(start, kind, negate) {\n        const parent = this._node;\n        if (parent.type !== \"Alternative\") {\n            throw new Error(\"UnknownError\");\n        }\n        const node = (this._node = {\n            type: \"Assertion\",\n            parent,\n            start,\n            end: start,\n            raw: \"\",\n            kind,\n            negate,\n            alternatives: [],\n        });\n        parent.elements.push(node);\n    }\n    onLookaroundAssertionLeave(start, end) {\n        const node = this._node;\n        if (node.type !== \"Assertion\" || node.parent.type !== \"Alternative\") {\n            throw new Error(\"UnknownError\");\n        }\n        node.end = end;\n        node.raw = this.source.slice(start, end);\n        this._node = node.parent;\n    }\n    onEdgeAssertion(start, end, kind) {\n        const parent = this._node;\n        if (parent.type !== \"Alternative\") {\n            throw new Error(\"UnknownError\");\n        }\n        parent.elements.push({\n            type: \"Assertion\",\n            parent,\n            start,\n            end,\n            raw: this.source.slice(start, end),\n            kind,\n        });\n    }\n    onWordBoundaryAssertion(start, end, kind, negate) {\n        const parent = this._node;\n        if (parent.type !== \"Alternative\") {\n            throw new Error(\"UnknownError\");\n        }\n        parent.elements.push({\n            type: \"Assertion\",\n            parent,\n            start,\n            end,\n            raw: this.source.slice(start, end),\n            kind,\n            negate,\n        });\n    }\n    onAnyCharacterSet(start, end, kind) {\n        const parent = this._node;\n        if (parent.type !== \"Alternative\") {\n            throw new Error(\"UnknownError\");\n        }\n        parent.elements.push({\n            type: \"CharacterSet\",\n            parent,\n            start,\n            end,\n            raw: this.source.slice(start, end),\n            kind,\n        });\n    }\n    onEscapeCharacterSet(start, end, kind, negate) {\n        const parent = this._node;\n        if (parent.type !== \"Alternative\" && parent.type !== \"CharacterClass\") {\n            throw new Error(\"UnknownError\");\n        }\n        parent.elements.push({\n            type: \"CharacterSet\",\n            parent,\n            start,\n            end,\n            raw: this.source.slice(start, end),\n            kind,\n            negate,\n        });\n    }\n    onUnicodePropertyCharacterSet(start, end, kind, key, value, negate) {\n        const parent = this._node;\n        if (parent.type !== \"Alternative\" && parent.type !== \"CharacterClass\") {\n            throw new Error(\"UnknownError\");\n        }\n        parent.elements.push({\n            type: \"CharacterSet\",\n            parent,\n            start,\n            end,\n            raw: this.source.slice(start, end),\n            kind,\n            key,\n            value,\n            negate,\n        });\n    }\n    onCharacter(start, end, value) {\n        const parent = this._node;\n        if (parent.type !== \"Alternative\" && parent.type !== \"CharacterClass\") {\n            throw new Error(\"UnknownError\");\n        }\n        parent.elements.push({\n            type: \"Character\",\n            parent,\n            start,\n            end,\n            raw: this.source.slice(start, end),\n            value,\n        });\n    }\n    onBackreference(start, end, ref) {\n        const parent = this._node;\n        if (parent.type !== \"Alternative\") {\n            throw new Error(\"UnknownError\");\n        }\n        const node = {\n            type: \"Backreference\",\n            parent,\n            start,\n            end,\n            raw: this.source.slice(start, end),\n            ref,\n            resolved: DummyCapturingGroup,\n        };\n        parent.elements.push(node);\n        this._backreferences.push(node);\n    }\n    onCharacterClassEnter(start, negate) {\n        const parent = this._node;\n        if (parent.type !== \"Alternative\") {\n            throw new Error(\"UnknownError\");\n        }\n        this._node = {\n            type: \"CharacterClass\",\n            parent,\n            start,\n            end: start,\n            raw: \"\",\n            negate,\n            elements: [],\n        };\n        parent.elements.push(this._node);\n    }\n    onCharacterClassLeave(start, end) {\n        const node = this._node;\n        if (node.type !== \"CharacterClass\" ||\n            node.parent.type !== \"Alternative\") {\n            throw new Error(\"UnknownError\");\n        }\n        node.end = end;\n        node.raw = this.source.slice(start, end);\n        this._node = node.parent;\n    }\n    onCharacterClassRange(start, end) {\n        const parent = this._node;\n        if (parent.type !== \"CharacterClass\") {\n            throw new Error(\"UnknownError\");\n        }\n        const elements = parent.elements;\n        const max = elements.pop();\n        const hyphen = elements.pop();\n        const min = elements.pop();\n        if (!min ||\n            !max ||\n            !hyphen ||\n            min.type !== \"Character\" ||\n            max.type !== \"Character\" ||\n            hyphen.type !== \"Character\" ||\n            hyphen.value !== HyphenMinus) {\n            throw new Error(\"UnknownError\");\n        }\n        const node = {\n            type: \"CharacterClassRange\",\n            parent,\n            start,\n            end,\n            raw: this.source.slice(start, end),\n            min,\n            max,\n        };\n        min.parent = node;\n        max.parent = node;\n        elements.push(node);\n    }\n}\nclass RegExpParser {\n    constructor(options) {\n        this._state = new RegExpParserState(options);\n        this._validator = new RegExpValidator(this._state);\n    }\n    parseLiteral(source, start = 0, end = source.length) {\n        this._state.source = source;\n        this._validator.validateLiteral(source, start, end);\n        const pattern = this._state.pattern;\n        const flags = this._state.flags;\n        const literal = {\n            type: \"RegExpLiteral\",\n            parent: null,\n            start,\n            end,\n            raw: source,\n            pattern,\n            flags,\n        };\n        pattern.parent = literal;\n        flags.parent = literal;\n        return literal;\n    }\n    parseFlags(source, start = 0, end = source.length) {\n        this._state.source = source;\n        this._validator.validateFlags(source, start, end);\n        return this._state.flags;\n    }\n    parsePattern(source, start = 0, end = source.length, uFlag = false) {\n        this._state.source = source;\n        this._validator.validatePattern(source, start, end, uFlag);\n        return this._state.pattern;\n    }\n}\n\nclass RegExpVisitor {\n    constructor(handlers) {\n        this._handlers = handlers;\n    }\n    visit(node) {\n        switch (node.type) {\n            case \"Alternative\":\n                this.visitAlternative(node);\n                break;\n            case \"Assertion\":\n                this.visitAssertion(node);\n                break;\n            case \"Backreference\":\n                this.visitBackreference(node);\n                break;\n            case \"CapturingGroup\":\n                this.visitCapturingGroup(node);\n                break;\n            case \"Character\":\n                this.visitCharacter(node);\n                break;\n            case \"CharacterClass\":\n                this.visitCharacterClass(node);\n                break;\n            case \"CharacterClassRange\":\n                this.visitCharacterClassRange(node);\n                break;\n            case \"CharacterSet\":\n                this.visitCharacterSet(node);\n                break;\n            case \"Flags\":\n                this.visitFlags(node);\n                break;\n            case \"Group\":\n                this.visitGroup(node);\n                break;\n            case \"Pattern\":\n                this.visitPattern(node);\n                break;\n            case \"Quantifier\":\n                this.visitQuantifier(node);\n                break;\n            case \"RegExpLiteral\":\n                this.visitRegExpLiteral(node);\n                break;\n            default:\n                throw new Error(`Unknown type: ${node.type}`);\n        }\n    }\n    visitAlternative(node) {\n        if (this._handlers.onAlternativeEnter) {\n            this._handlers.onAlternativeEnter(node);\n        }\n        node.elements.forEach(this.visit, this);\n        if (this._handlers.onAlternativeLeave) {\n            this._handlers.onAlternativeLeave(node);\n        }\n    }\n    visitAssertion(node) {\n        if (this._handlers.onAssertionEnter) {\n            this._handlers.onAssertionEnter(node);\n        }\n        if (node.kind === \"lookahead\" || node.kind === \"lookbehind\") {\n            node.alternatives.forEach(this.visit, this);\n        }\n        if (this._handlers.onAssertionLeave) {\n            this._handlers.onAssertionLeave(node);\n        }\n    }\n    visitBackreference(node) {\n        if (this._handlers.onBackreferenceEnter) {\n            this._handlers.onBackreferenceEnter(node);\n        }\n        if (this._handlers.onBackreferenceLeave) {\n            this._handlers.onBackreferenceLeave(node);\n        }\n    }\n    visitCapturingGroup(node) {\n        if (this._handlers.onCapturingGroupEnter) {\n            this._handlers.onCapturingGroupEnter(node);\n        }\n        node.alternatives.forEach(this.visit, this);\n        if (this._handlers.onCapturingGroupLeave) {\n            this._handlers.onCapturingGroupLeave(node);\n        }\n    }\n    visitCharacter(node) {\n        if (this._handlers.onCharacterEnter) {\n            this._handlers.onCharacterEnter(node);\n        }\n        if (this._handlers.onCharacterLeave) {\n            this._handlers.onCharacterLeave(node);\n        }\n    }\n    visitCharacterClass(node) {\n        if (this._handlers.onCharacterClassEnter) {\n            this._handlers.onCharacterClassEnter(node);\n        }\n        node.elements.forEach(this.visit, this);\n        if (this._handlers.onCharacterClassLeave) {\n            this._handlers.onCharacterClassLeave(node);\n        }\n    }\n    visitCharacterClassRange(node) {\n        if (this._handlers.onCharacterClassRangeEnter) {\n            this._handlers.onCharacterClassRangeEnter(node);\n        }\n        this.visitCharacter(node.min);\n        this.visitCharacter(node.max);\n        if (this._handlers.onCharacterClassRangeLeave) {\n            this._handlers.onCharacterClassRangeLeave(node);\n        }\n    }\n    visitCharacterSet(node) {\n        if (this._handlers.onCharacterSetEnter) {\n            this._handlers.onCharacterSetEnter(node);\n        }\n        if (this._handlers.onCharacterSetLeave) {\n            this._handlers.onCharacterSetLeave(node);\n        }\n    }\n    visitFlags(node) {\n        if (this._handlers.onFlagsEnter) {\n            this._handlers.onFlagsEnter(node);\n        }\n        if (this._handlers.onFlagsLeave) {\n            this._handlers.onFlagsLeave(node);\n        }\n    }\n    visitGroup(node) {\n        if (this._handlers.onGroupEnter) {\n            this._handlers.onGroupEnter(node);\n        }\n        node.alternatives.forEach(this.visit, this);\n        if (this._handlers.onGroupLeave) {\n            this._handlers.onGroupLeave(node);\n        }\n    }\n    visitPattern(node) {\n        if (this._handlers.onPatternEnter) {\n            this._handlers.onPatternEnter(node);\n        }\n        node.alternatives.forEach(this.visit, this);\n        if (this._handlers.onPatternLeave) {\n            this._handlers.onPatternLeave(node);\n        }\n    }\n    visitQuantifier(node) {\n        if (this._handlers.onQuantifierEnter) {\n            this._handlers.onQuantifierEnter(node);\n        }\n        this.visit(node.element);\n        if (this._handlers.onQuantifierLeave) {\n            this._handlers.onQuantifierLeave(node);\n        }\n    }\n    visitRegExpLiteral(node) {\n        if (this._handlers.onRegExpLiteralEnter) {\n            this._handlers.onRegExpLiteralEnter(node);\n        }\n        this.visitPattern(node.pattern);\n        this.visitFlags(node.flags);\n        if (this._handlers.onRegExpLiteralLeave) {\n            this._handlers.onRegExpLiteralLeave(node);\n        }\n    }\n}\n\nfunction parseRegExpLiteral(source, options) {\n    return new RegExpParser(options).parseLiteral(String(source));\n}\nfunction validateRegExpLiteral(source, options) {\n    return new RegExpValidator(options).validateLiteral(source);\n}\nfunction visitRegExpAST(node, handlers) {\n    new RegExpVisitor(handlers).visit(node);\n}\n\nexport { ast as AST, RegExpParser, RegExpValidator, parseRegExpLiteral, validateRegExpLiteral, visitRegExpAST };\n//# sourceMappingURL=index.mjs.map\n"]},"metadata":{},"sourceType":"module"}