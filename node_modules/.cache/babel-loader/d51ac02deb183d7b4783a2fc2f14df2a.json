{"ast":null,"code":"\"use strict\";\n\nvar _jestWatcher = require(\"jest-watcher\");\n\nvar _jestRegexUtil = require(\"jest-regex-util\");\n\nvar _prompt = _interopRequireDefault(require(\"./prompt\"));\n\nvar _utils = require(\"../lib/utils\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nclass TestNamePlugin {\n  constructor({\n    stdin,\n    stdout,\n    config = {}\n  }) {\n    this._stdin = stdin;\n    this._stdout = stdout;\n    this._prompt = new _jestWatcher.Prompt();\n    this._testResults = [];\n    this._usageInfo = {\n      key: config.key || 't',\n      prompt: config.prompt || 'filter by a test name regex pattern'\n    };\n  }\n\n  apply(jestHooks) {\n    jestHooks.onTestRunComplete(({\n      testResults\n    }) => {\n      this._testResults = testResults;\n    });\n  }\n\n  onKey(key) {\n    this._prompt.put(key);\n  }\n\n  run(globalConfig, updateConfigAndRun) {\n    const p = new _prompt.default(this._stdout, this._prompt);\n    p.updateCachedTestResults(this._testResults);\n    return new Promise((res, rej) => {\n      p.run(value => {\n        updateConfigAndRun({\n          mode: 'watch',\n          testNamePattern: (0, _jestRegexUtil.escapeStrForRegex)((0, _utils.removeTrimmingDots)(value))\n        });\n        res();\n      }, rej);\n    });\n  }\n\n  getUsageInfo() {\n    return this._usageInfo;\n  }\n\n}\n\nmodule.exports = TestNamePlugin;","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/jest-watch-typeahead/build/test_name_plugin/plugin.js"],"names":["_jestWatcher","require","_jestRegexUtil","_prompt","_interopRequireDefault","_utils","obj","__esModule","default","TestNamePlugin","constructor","stdin","stdout","config","_stdin","_stdout","Prompt","_testResults","_usageInfo","key","prompt","apply","jestHooks","onTestRunComplete","testResults","onKey","put","run","globalConfig","updateConfigAndRun","p","updateCachedTestResults","Promise","res","rej","value","mode","testNamePattern","escapeStrForRegex","removeTrimmingDots","getUsageInfo","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,YAAY,GAAGC,OAAO,CAAC,cAAD,CAA1B;;AAEA,IAAIC,cAAc,GAAGD,OAAO,CAAC,iBAAD,CAA5B;;AAEA,IAAIE,OAAO,GAAGC,sBAAsB,CAACH,OAAO,CAAC,UAAD,CAAR,CAApC;;AAEA,IAAII,MAAM,GAAGJ,OAAO,CAAC,cAAD,CAApB;;AAEA,SAASG,sBAAT,CAAgCE,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEE,IAAAA,OAAO,EAAEF;AAAX,GAArC;AAAwD;;AAE/F,MAAMG,cAAN,CAAqB;AACnBC,EAAAA,WAAW,CAAC;AACVC,IAAAA,KADU;AAEVC,IAAAA,MAFU;AAGVC,IAAAA,MAAM,GAAG;AAHC,GAAD,EAIR;AACD,SAAKC,MAAL,GAAcH,KAAd;AACA,SAAKI,OAAL,GAAeH,MAAf;AACA,SAAKT,OAAL,GAAe,IAAIH,YAAY,CAACgB,MAAjB,EAAf;AACA,SAAKC,YAAL,GAAoB,EAApB;AACA,SAAKC,UAAL,GAAkB;AAChBC,MAAAA,GAAG,EAAEN,MAAM,CAACM,GAAP,IAAc,GADH;AAEhBC,MAAAA,MAAM,EAAEP,MAAM,CAACO,MAAP,IAAiB;AAFT,KAAlB;AAID;;AAEDC,EAAAA,KAAK,CAACC,SAAD,EAAY;AACfA,IAAAA,SAAS,CAACC,iBAAV,CAA4B,CAAC;AAC3BC,MAAAA;AAD2B,KAAD,KAEtB;AACJ,WAAKP,YAAL,GAAoBO,WAApB;AACD,KAJD;AAKD;;AAEDC,EAAAA,KAAK,CAACN,GAAD,EAAM;AACT,SAAKhB,OAAL,CAAauB,GAAb,CAAiBP,GAAjB;AACD;;AAEDQ,EAAAA,GAAG,CAACC,YAAD,EAAeC,kBAAf,EAAmC;AACpC,UAAMC,CAAC,GAAG,IAAI3B,OAAO,CAACK,OAAZ,CAAoB,KAAKO,OAAzB,EAAkC,KAAKZ,OAAvC,CAAV;AACA2B,IAAAA,CAAC,CAACC,uBAAF,CAA0B,KAAKd,YAA/B;AACA,WAAO,IAAIe,OAAJ,CAAY,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC/BJ,MAAAA,CAAC,CAACH,GAAF,CAAMQ,KAAK,IAAI;AACbN,QAAAA,kBAAkB,CAAC;AACjBO,UAAAA,IAAI,EAAE,OADW;AAEjBC,UAAAA,eAAe,EAAE,CAAC,GAAGnC,cAAc,CAACoC,iBAAnB,EAAsC,CAAC,GAAGjC,MAAM,CAACkC,kBAAX,EAA+BJ,KAA/B,CAAtC;AAFA,SAAD,CAAlB;AAIAF,QAAAA,GAAG;AACJ,OAND,EAMGC,GANH;AAOD,KARM,CAAP;AASD;;AAEDM,EAAAA,YAAY,GAAG;AACb,WAAO,KAAKtB,UAAZ;AACD;;AA5CkB;;AAgDrBuB,MAAM,CAACC,OAAP,GAAiBjC,cAAjB","sourcesContent":["\"use strict\";\n\nvar _jestWatcher = require(\"jest-watcher\");\n\nvar _jestRegexUtil = require(\"jest-regex-util\");\n\nvar _prompt = _interopRequireDefault(require(\"./prompt\"));\n\nvar _utils = require(\"../lib/utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass TestNamePlugin {\n  constructor({\n    stdin,\n    stdout,\n    config = {}\n  }) {\n    this._stdin = stdin;\n    this._stdout = stdout;\n    this._prompt = new _jestWatcher.Prompt();\n    this._testResults = [];\n    this._usageInfo = {\n      key: config.key || 't',\n      prompt: config.prompt || 'filter by a test name regex pattern'\n    };\n  }\n\n  apply(jestHooks) {\n    jestHooks.onTestRunComplete(({\n      testResults\n    }) => {\n      this._testResults = testResults;\n    });\n  }\n\n  onKey(key) {\n    this._prompt.put(key);\n  }\n\n  run(globalConfig, updateConfigAndRun) {\n    const p = new _prompt.default(this._stdout, this._prompt);\n    p.updateCachedTestResults(this._testResults);\n    return new Promise((res, rej) => {\n      p.run(value => {\n        updateConfigAndRun({\n          mode: 'watch',\n          testNamePattern: (0, _jestRegexUtil.escapeStrForRegex)((0, _utils.removeTrimmingDots)(value))\n        });\n        res();\n      }, rej);\n    });\n  }\n\n  getUsageInfo() {\n    return this._usageInfo;\n  }\n\n}\n\nmodule.exports = TestNamePlugin;"]},"metadata":{},"sourceType":"script"}