{"ast":null,"code":"/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nconst browserslist = require('browserslist');\n\nconst chalk = require('chalk');\n\nconst os = require('os');\n\nconst inquirer = require('inquirer');\n\nconst pkgUp = require('pkg-up');\n\nconst fs = require('fs');\n\nconst defaultBrowsers = {\n  production: ['>0.2%', 'not dead', 'not op_mini all'],\n  development: ['last 1 chrome version', 'last 1 firefox version', 'last 1 safari version']\n};\n\nfunction shouldSetBrowsers(isInteractive) {\n  if (!isInteractive) {\n    return Promise.resolve(true);\n  }\n\n  const question = {\n    type: 'confirm',\n    name: 'shouldSetBrowsers',\n    message: chalk.yellow(\"We're unable to detect target browsers.\") + `\\n\\nWould you like to add the defaults to your ${chalk.bold('package.json')}?`,\n    default: true\n  };\n  return inquirer.prompt(question).then(answer => answer.shouldSetBrowsers);\n}\n\nfunction checkBrowsers(dir, isInteractive, retry = true) {\n  const current = browserslist.loadConfig({\n    path: dir\n  });\n\n  if (current != null) {\n    return Promise.resolve(current);\n  }\n\n  if (!retry) {\n    return Promise.reject(new Error(chalk.red('As of react-scripts >=2 you must specify targeted browsers.') + os.EOL + `Please add a ${chalk.underline('browserslist')} key to your ${chalk.bold('package.json')}.`));\n  }\n\n  return shouldSetBrowsers(isInteractive).then(shouldSetBrowsers => {\n    if (!shouldSetBrowsers) {\n      return checkBrowsers(dir, isInteractive, false);\n    }\n\n    return pkgUp({\n      cwd: dir\n    }).then(filePath => {\n      if (filePath == null) {\n        return Promise.reject();\n      }\n\n      const pkg = JSON.parse(fs.readFileSync(filePath));\n      pkg['browserslist'] = defaultBrowsers;\n      fs.writeFileSync(filePath, JSON.stringify(pkg, null, 2) + os.EOL);\n      browserslist.clearCaches();\n      console.log();\n      console.log(`${chalk.green('Set target browsers:')} ${chalk.cyan(defaultBrowsers.join(', '))}`);\n      console.log();\n    }) // Swallow any error\n    .catch(() => {}).then(() => checkBrowsers(dir, isInteractive, false));\n  });\n}\n\nmodule.exports = {\n  defaultBrowsers,\n  checkBrowsers\n};","map":{"version":3,"sources":["/Users/nguyenquytoan/Desktop/PTUDW-17TN-Nhom05-USFL/react-usfl/PTUDW-17TN-Nhom05/node_modules/react-dev-utils/browsersHelper.js"],"names":["browserslist","require","chalk","os","inquirer","pkgUp","fs","defaultBrowsers","production","development","shouldSetBrowsers","isInteractive","Promise","resolve","question","type","name","message","yellow","bold","default","prompt","then","answer","checkBrowsers","dir","retry","current","loadConfig","path","reject","Error","red","EOL","underline","cwd","filePath","pkg","JSON","parse","readFileSync","writeFileSync","stringify","clearCaches","console","log","green","cyan","join","catch","module","exports"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nconst browserslist = require('browserslist');\nconst chalk = require('chalk');\nconst os = require('os');\nconst inquirer = require('inquirer');\nconst pkgUp = require('pkg-up');\nconst fs = require('fs');\n\nconst defaultBrowsers = {\n  production: ['>0.2%', 'not dead', 'not op_mini all'],\n  development: [\n    'last 1 chrome version',\n    'last 1 firefox version',\n    'last 1 safari version',\n  ],\n};\n\nfunction shouldSetBrowsers(isInteractive) {\n  if (!isInteractive) {\n    return Promise.resolve(true);\n  }\n\n  const question = {\n    type: 'confirm',\n    name: 'shouldSetBrowsers',\n    message:\n      chalk.yellow(\"We're unable to detect target browsers.\") +\n      `\\n\\nWould you like to add the defaults to your ${chalk.bold(\n        'package.json'\n      )}?`,\n    default: true,\n  };\n\n  return inquirer.prompt(question).then(answer => answer.shouldSetBrowsers);\n}\n\nfunction checkBrowsers(dir, isInteractive, retry = true) {\n  const current = browserslist.loadConfig({ path: dir });\n  if (current != null) {\n    return Promise.resolve(current);\n  }\n\n  if (!retry) {\n    return Promise.reject(\n      new Error(\n        chalk.red(\n          'As of react-scripts >=2 you must specify targeted browsers.'\n        ) +\n          os.EOL +\n          `Please add a ${chalk.underline(\n            'browserslist'\n          )} key to your ${chalk.bold('package.json')}.`\n      )\n    );\n  }\n\n  return shouldSetBrowsers(isInteractive).then(shouldSetBrowsers => {\n    if (!shouldSetBrowsers) {\n      return checkBrowsers(dir, isInteractive, false);\n    }\n\n    return (\n      pkgUp({ cwd: dir })\n        .then(filePath => {\n          if (filePath == null) {\n            return Promise.reject();\n          }\n          const pkg = JSON.parse(fs.readFileSync(filePath));\n          pkg['browserslist'] = defaultBrowsers;\n          fs.writeFileSync(filePath, JSON.stringify(pkg, null, 2) + os.EOL);\n\n          browserslist.clearCaches();\n          console.log();\n          console.log(\n            `${chalk.green('Set target browsers:')} ${chalk.cyan(\n              defaultBrowsers.join(', ')\n            )}`\n          );\n          console.log();\n        })\n        // Swallow any error\n        .catch(() => {})\n        .then(() => checkBrowsers(dir, isInteractive, false))\n    );\n  });\n}\n\nmodule.exports = { defaultBrowsers, checkBrowsers };\n"]},"metadata":{},"sourceType":"script"}